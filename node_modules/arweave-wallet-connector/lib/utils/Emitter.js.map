{"version":3,"file":"Emitter.js","sourceRoot":"","sources":["../../src/utils/Emitter.ts"],"names":[],"mappings":"AAAA,OAAO,IAAI,MAAM,MAAM,CAAA;AAEvB,MAAM,CAAC,OAAO,OAAO,OAAO;IAG3B;QACC,IAAI,CAAC,YAAY,GAAG,IAAI,EAAU,CAAA;IACnC,CAAC;IAES,IAAI,CAA8B,MAAc,EAAE,MAAsB;QACjF,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAA;IACvC,CAAC;IAED,EAAE,CAA8B,MAAc,EAAE,OAAyC;QACxF,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC,CAAA;IACtC,CAAC;IAED,GAAG,CAA8B,MAAc,EAAE,OAAyC;QACzF,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,CAAC,CAAA;IACvC,CAAC;IAED,IAAI,CAA8B,MAAc,EAAE,OAAyC;QAC1F,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE;YAC5B,MAAM,OAAO,GAAmB,CAAC,CAAC,EAAE,EAAE;gBACrC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,CAAC,CAAA;gBACzB,OAAO,CAAC,CAAC,CAAC,CAAA;gBACV,IAAI,OAAO,EAAE;oBAAE,OAAO,CAAC,CAAC,CAAC,CAAA;iBAAE;YAC5B,CAAC,CAAA;YACD,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC,CAAA;QACzB,CAAC,CAAC,CAAA;IACH,CAAC;CACD","sourcesContent":["import mitt from 'mitt'\r\n\r\nexport default class Emitter<Events extends Record<string, unknown>> {\r\n\tprivate mittInstance\r\n\r\n\tconstructor() {\r\n\t\tthis.mittInstance = mitt<Events>()\r\n\t}\r\n\r\n\tprotected emit<Method extends keyof Events>(method: Method, params: Events[Method]) {\r\n\t\tthis.mittInstance.emit(method, params)\r\n\t}\r\n\r\n\ton<Method extends keyof Events>(method: Method, handler: (params: Events[Method]) => void) {\r\n\t\tthis.mittInstance.on(method, handler)\r\n\t}\r\n\r\n\toff<Method extends keyof Events>(method: Method, handler: (params: Events[Method]) => void) {\r\n\t\tthis.mittInstance.off(method, handler)\r\n\t}\r\n\r\n\tonce<Method extends keyof Events>(method: Method, handler: (params: Events[Method]) => void) {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tconst wrapper: typeof handler = (e) => { \r\n\t\t\t\tthis.off(method, wrapper) \r\n\t\t\t\tresolve(e)\r\n\t\t\t\tif (handler) { handler(e) }\r\n\t\t\t}\r\n\t\t\tthis.on(method, wrapper)\r\n\t\t})\r\n\t}\r\n}"]}