"use client";
(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".b1cb9caz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-family:Manrope,sans-serif;font-size:.9rem;font-weight:600;color:#fff;background-color:rgb(var(--b1cb9caz-0));border-radius:var(--b1cb9caz-1);padding:.3rem .8rem;text-align:center;border:none;outline:none;text-transform:uppercase;cursor:pointer;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;gap:.4rem;white-space:nowrap;-webkit-tap-highlight-color:transparent;-webkit-transition:all .18s ease-in-out;transition:all .18s ease-in-out}.b1cb9caz:hover:not(:active):not(:disabled){-webkit-transform:translate3d(0px,-1.4px,0px);-ms-transform:translate3d(0px,-1.4px,0px);transform:translate3d(0,-1.4px,0);box-shadow:var(--b1cb9caz-2)}.b1cb9caz:disabled{opacity:.7;cursor:not-allowed}.b1cb9caz svg{font-size:1em;width:1em;height:1em}.w14emrir.b1cb9caz{border-radius:var(--w14emrir-0);text-transform:none;padding:.3rem;background-color:var(--w14emrir-1)}.czh4f0e{line-height:2.6rem;padding:0 .9rem}.pwkn5es{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgb(var(--pwkn5es-0),.2);height:2.6rem;border-radius:var(--pwkn5es-1);padding:0 .3rem 0 .6rem;gap:.25rem}.bdt02oh{padding:0 .5rem}.e3hlv71{font-size:1.5rem!important}.a1jsmwxp{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:var(--a1jsmwxp-0);object-fit:cover;width:1.7rem;height:1.7rem;margin-right:.4rem}.as6ir6f{font-size:1rem!important;color:#fff}.av7js2i{position:relative;border-radius:var(--av7js2i-0);width:1.7rem;height:1.7rem;margin-right:.4rem;background:linear-gradient(to right,#4776e6,#8e54e9);background-size:cover}.av7js2i .as6ir6f{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.bbvkbel{position:fixed;top:0;left:0;right:0;bottom:0;width:100vw;height:100vh;z-index:90000;background-color:#0006}.w1767o4q{position:fixed;left:50%;top:50%;width:28vw;background-color:rgb(var(--w1767o4q-0));border-radius:var(--w1767o4q-1);z-index:100000;font-family:Manrope,sans-serif;overflow:hidden;-webkit-transition:background-color .23s ease-in-out;transition:background-color .23s ease-in-out}.w1767o4q *::selection{background-color:#000000bf;color:#fff}.w1767o4q *::-moz-selection{background-color:#000000bf;color:#fff}@media screen and (max-width:1080px){.w1767o4q{width:50vw}}@media screen and (max-width:720px){.w1767o4q{width:100vw;top:unset;bottom:0;border-bottom-left-radius:0;border-bottom-right-radius:0}}.kzdiz37{position:fixed;font-family:Manrope,sans-serif;font-size:.8rem;font-weight:500;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;text-align:center;margin:0;color:#ffffff80;left:50%;bottom:10px;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translate(-50%)}@media screen and (max-width:720px){.kzdiz37{bottom:unset;top:10px}}.b7jc8fb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:1.24rem;padding:.75rem 1rem;border-radius:var(--b7jc8fb-0);border-radius:15px;bottom:0;right:1.5rem;left:unset;top:unset;width:auto}@media screen and (max-width:720px){.b7jc8fb{left:1.5rem;gap:1rem}}.typmncv{font-size:1.05rem;font-weight:500;color:rgb(var(--typmncv-0));margin:0}.b14qolsb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:.6rem}@media screen and (max-width:720px){.b14qolsb{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.b14qolsb .b1cb9caz{width:100%}}.c1jq17m8.b1cb9caz{background-color:transparent;color:rgb(var(--c1jq17m8-0))}.c1jq17m8.b1cb9caz:hover{background-color:rgba(var(--c1jq17m8-1),.05);color:rgb(var(--c1jq17m8-1));box-shadow:none!important}.p1jty3xq{font-size:var(--p1jty3xq-0);color:rgb(var(--p1jty3xq-1));margin:0;font-weight:600;-webkit-transition:color .23s ease-in-out;transition:color .23s ease-in-out}.t1sgzzc0{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-family:Manrope,sans-serif;font-size:var(--t1sgzzc0-0);font-weight:600;color:rgb(var(--t1sgzzc0-1));cursor:var(--t1sgzzc0-2);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:.34rem;margin:0;-webkit-transition:color .23s ease-in-out;transition:color .23s ease-in-out}.tb205ol{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:.1rem}.wzg6vks{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:0 20px}.a1vzc1qt{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:.8rem}.l1rbotc6{width:60%;height:60%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;object-fit:contain}.acuhj7u{position:relative;width:3.8rem;height:3.8rem;border-radius:var(--acuhj7u-0);background-color:rgb(var(--acuhj7u-1));-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-tap-highlight-color:transparent;cursor:var(--acuhj7u-2);-webkit-transition:-webkit-transform .125s ease;-webkit-transition:transform .125s ease;transition:transform .125s ease}.acuhj7u .l1rbotc6{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.acuhj7u:active{-webkit-transform:scale(var(--acuhj7u-3));-ms-transform:scale(var(--acuhj7u-3));transform:scale(var(--acuhj7u-3))}.a143ijem{-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1}.wv1c1ab{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:10px 20px;border-top:1px solid rgb(var(--wv1c1ab-0));-webkit-transition:border-color .23s ease-in-out;transition:border-color .23s ease-in-out}.s9sva{color:currentColor;font-size:1em;width:1em;height:1em;-webkit-animation:rotate-s9sva .9s linear infinite;animation:rotate-s9sva .9s linear infinite}@-webkit-keyframes rotate-s9sva{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate-s9sva{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg)}}.h1mmuqym{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:20px}.c86k5gq{position:relative;width:1.4rem;height:1.4rem;border-radius:100%;background-color:rgb(var(--c86k5gq-0));cursor:pointer;-webkit-tap-highlight-color:transparent;-webkit-transition:opacity .23s ease-in-out,-webkit-transform .125s ease,background-color .23s ease-in-out;-webkit-transition:opacity .23s ease-in-out,transform .125s ease,background-color .23s ease-in-out;transition:opacity .23s ease-in-out,transform .125s ease,background-color .23s ease-in-out}.c86k5gq:hover{-webkit-transform:scale(1.14);-ms-transform:scale(1.14);transform:scale(1.14)}.c86k5gq:active{-webkit-transform:scale(.92);-ms-transform:scale(.92);transform:scale(.92)}.c86k5gq svg{font-size:1.1rem;width:1em;height:1em;position:absolute;top:50%;left:50%;color:rgb(var(--c86k5gq-1));-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.a1osnke6{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:1.1rem;padding-bottom:1.2rem;max-height:280px;overflow-y:auto}.c15u83h7{position:relative;height:280px}.w5r445t{position:absolute;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;top:45%;left:50%;width:70%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.w5r445t .acuhj7u{margin-bottom:.65rem}.w5r445t .t1sgzzc0{text-align:center;font-weight:700;margin-bottom:.1rem;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.w5r445t .p1jty3xq{text-align:center}.w5r445t .b1cb9caz{margin-top:1rem}.bukrfi8.p1jty3xq{background-color:#fb552b33;color:#fb542b;padding:.44rem;border-radius:var(--bukrfi8-0);margin-top:.6rem}.c13sms3{display:block;margin:0 auto;margin-top:1rem;color:rgb(var(--c13sms3-0));width:1.25rem;height:1.25rem}.b1r2gdr0{font-size:1em;width:1em;height:1em;cursor:pointer;color:#007aff;-webkit-transform:scale(1.75);-ms-transform:scale(1.75);transform:scale(1.75);-webkit-tap-highlight-color:transparent;-webkit-transition:-webkit-transform .125s ease;-webkit-transition:transform .125s ease;transition:transform .125s ease}.b1r2gdr0:hover{-webkit-transform:scale(1.9);-ms-transform:scale(1.9);transform:scale(1.9)}.b1r2gdr0:active{-webkit-transform:scale(1.5);-ms-transform:scale(1.5);transform:scale(1.5)}.p1hjgol5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 20px 20px}.p1hjgol5 .t1sgzzc0,.p1hjgol5 .p1jty3xq{text-align:center}.p1hjgol5 .t1sgzzc0 svg,.p1hjgol5 .p1jty3xq svg{font-size:.85em;width:1em;height:1em;cursor:pointer;-webkit-tap-highlight-color:transparent;-webkit-transition:all .125s ease-in-out;transition:all .125s ease-in-out}.p1hjgol5 .t1sgzzc0 svg:hover,.p1hjgol5 .p1jty3xq svg:hover{opacity:.85}.p1hjgol5 .t1sgzzc0 svg:active,.p1hjgol5 .p1jty3xq svg:active{-webkit-transform:scale(.9);-ms-transform:scale(.9);transform:scale(.9)}.p1hjgol5 .b1cb9caz{margin-top:1.5rem;width:100%;padding:.9rem 0;border-radius:var(--p1hjgol5-0);text-transform:none}.publs4f{position:relative;width:80px;height:80px;border-radius:var(--publs4f-0);margin-bottom:.475rem;background-color:rgb(var(--publs4f-1));background-size:cover;z-index:1;-webkit-var(--publs4f-2);-moz-var(--publs4f-2);-ms-var(--publs4f-2);var(--publs4f-2)}.alzinag{position:absolute;bottom:0;right:0;width:1.45rem;height:1.45rem;border-radius:100%;background-color:rgb(var(--alzinag-0));border:2px solid rgb(var(--alzinag-1))}.alzinag img{position:absolute;top:50%;left:50%;object-fit:contain;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:74%;height:74%;border-radius:100%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.p1qewrlg{position:absolute;font-size:45px;width:1em;height:1em;top:50%;left:50%;color:#fff;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
var mg = Object.defineProperty;
var bg = (e, t, r) => t in e ? mg(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r;
var ut = (e, t, r) => (bg(e, typeof t != "symbol" ? t + "" : t, r), r), Ro = (e, t, r) => {
  if (!t.has(e))
    throw TypeError("Cannot " + r);
};
var ur = (e, t, r) => (Ro(e, t, "read from private field"), r ? r.call(e) : t.get(e)), qi = (e, t, r) => {
  if (t.has(e))
    throw TypeError("Cannot add the same private member more than once");
  t instanceof WeakSet ? t.add(e) : t.set(e, r);
}, Oo = (e, t, r, n) => (Ro(e, t, "write to private field"), n ? n.call(e, r) : t.set(e, r), r);
var Et = (e, t, r) => (Ro(e, t, "access private method"), r);
import * as qe from "react";
import Ot, { createContext as Gn, useContext as Dt, useMemo as nr, useState as qt, useEffect as Ye, useLayoutEffect as wg, useRef as gr, useCallback as Vu, forwardRef as xg, createElement as _0, useId as Of, useInsertionEffect as Sg, cloneElement as Eg, Children as Ag, isValidElement as _g, useReducer as Tg } from "react";
const T0 = () => {
  for (var e = [], t = [], r = typeof Uint8Array < "u" ? Uint8Array : Array, n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", i = 0, s = n.length; i < s; ++i)
    e[i] = n[i], t[n.charCodeAt(i)] = i;
  t["-".charCodeAt(0)] = 62, t["_".charCodeAt(0)] = 63;
  function a(c) {
    var d = c.length;
    if (d % 4 > 0)
      throw new Error("Invalid string. Length must be a multiple of 4");
    var p = c.indexOf("=");
    p === -1 && (p = d);
    var v = p === d ? 0 : 4 - p % 4;
    return [p, v];
  }
  function o(c, d, p) {
    return (d + p) * 3 / 4 - p;
  }
  function u(c) {
    var d, p = a(c), v = p[0], m = p[1], b = new r(o(c, v, m)), A = 0, D = m > 0 ? v - 4 : v, k;
    for (k = 0; k < D; k += 4)
      d = t[c.charCodeAt(k)] << 18 | t[c.charCodeAt(k + 1)] << 12 | t[c.charCodeAt(k + 2)] << 6 | t[c.charCodeAt(k + 3)], b[A++] = d >> 16 & 255, b[A++] = d >> 8 & 255, b[A++] = d & 255;
    return m === 2 && (d = t[c.charCodeAt(k)] << 2 | t[c.charCodeAt(k + 1)] >> 4, b[A++] = d & 255), m === 1 && (d = t[c.charCodeAt(k)] << 10 | t[c.charCodeAt(k + 1)] << 4 | t[c.charCodeAt(k + 2)] >> 2, b[A++] = d >> 8 & 255, b[A++] = d & 255), b;
  }
  function f(c) {
    return e[c >> 18 & 63] + e[c >> 12 & 63] + e[c >> 6 & 63] + e[c & 63];
  }
  function l(c, d, p) {
    for (var v, m = [], b = d; b < p; b += 3)
      v = (c[b] << 16 & 16711680) + (c[b + 1] << 8 & 65280) + (c[b + 2] & 255), m.push(f(v));
    return m.join("");
  }
  function h(c) {
    for (var d, p = c.length, v = p % 3, m = [], b = 16383, A = 0, D = p - v; A < D; A += b)
      m.push(l(c, A, A + b > D ? D : A + b));
    return v === 1 ? (d = c[p - 1], m.push(e[d >> 2] + e[d << 4 & 63] + "==")) : v === 2 && (d = (c[p - 2] << 8) + c[p - 1], m.push(e[d >> 10] + e[d >> 4 & 63] + e[d << 2 & 63] + "=")), m.join("");
  }
  return { toByteArray: u, fromByteArray: h };
};
function Pg(e) {
  let t = F0(e);
  return new TextDecoder("utf-8", { fatal: !0 }).decode(t);
}
function Fg(e) {
  return new TextDecoder("utf-8", { fatal: !0 }).decode(e);
}
function P0(e) {
  return new TextEncoder().encode(e);
}
function Ig(e) {
  return C0(P0(e));
}
function F0(e) {
  return new Uint8Array(T0().toByteArray(O0(e)));
}
function I0(e) {
  return T0().fromByteArray(new Uint8Array(e));
}
function C0(e) {
  return R0(I0(e));
}
function R0(e) {
  return e.replace(/\+/g, "-").replace(/\//g, "_").replace(/\=/g, "");
}
function O0(e) {
  e = e.replace(/\-/g, "+").replace(/\_/g, "/");
  let t;
  return e.length % 4 == 0 ? t = 0 : t = 4 - e.length % 4, e.concat("=".repeat(t));
}
const Ks = {
  b64UrlToString: Pg,
  bufferToString: Fg,
  stringToBuffer: P0,
  stringToB64Url: Ig,
  b64UrlToBuffer: F0,
  bufferTob64: I0,
  bufferTob64Url: C0,
  b64UrlEncode: R0,
  b64UrlDecode: O0
};
class Cg {
  get(t, r) {
    if (!Object.getOwnPropertyNames(this).includes(t))
      throw new Error(`Field "${t}" is not a property of the Arweave Transaction class.`);
    return this[t] instanceof Uint8Array ? r && r.decode && r.string ? Ks.bufferToString(this[t]) : r && r.decode && !r.string ? this[t] : Ks.bufferTob64Url(this[t]) : r && r.decode == !0 ? r && r.string ? Ks.b64UrlToString(this[t]) : Ks.b64UrlToBuffer(this[t]) : this[t];
  }
}
class Rg extends Cg {
  constructor(t, r, n = !1) {
    super(), this.name = t, this.value = r;
  }
}
var be = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function Og(e) {
  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
}
function Dg(e) {
  if (e.__esModule)
    return e;
  var t = e.default;
  if (typeof t == "function") {
    var r = function n() {
      if (this instanceof n) {
        var i = [null];
        i.push.apply(i, arguments);
        var s = Function.bind.apply(t, i);
        return new s();
      }
      return t.apply(this, arguments);
    };
    r.prototype = t.prototype;
  } else
    r = {};
  return Object.defineProperty(r, "__esModule", { value: !0 }), Object.keys(e).forEach(function(n) {
    var i = Object.getOwnPropertyDescriptor(e, n);
    Object.defineProperty(r, n, i.get ? i : {
      enumerable: !0,
      get: function() {
        return e[n];
      }
    });
  }), r;
}
var Do = {}, Mo = {}, Bo, wl;
function D0() {
  return wl || (wl = 1, Bo = function() {
    if (typeof Symbol != "function" || typeof Object.getOwnPropertySymbols != "function")
      return !1;
    if (typeof Symbol.iterator == "symbol")
      return !0;
    var t = {}, r = Symbol("test"), n = Object(r);
    if (typeof r == "string" || Object.prototype.toString.call(r) !== "[object Symbol]" || Object.prototype.toString.call(n) !== "[object Symbol]")
      return !1;
    var i = 42;
    t[r] = i;
    for (r in t)
      return !1;
    if (typeof Object.keys == "function" && Object.keys(t).length !== 0 || typeof Object.getOwnPropertyNames == "function" && Object.getOwnPropertyNames(t).length !== 0)
      return !1;
    var s = Object.getOwnPropertySymbols(t);
    if (s.length !== 1 || s[0] !== r || !Object.prototype.propertyIsEnumerable.call(t, r))
      return !1;
    if (typeof Object.getOwnPropertyDescriptor == "function") {
      var a = Object.getOwnPropertyDescriptor(t, r);
      if (a.value !== i || a.enumerable !== !0)
        return !1;
    }
    return !0;
  }), Bo;
}
var No, xl;
function ka() {
  if (xl)
    return No;
  xl = 1;
  var e = D0();
  return No = function() {
    return e() && !!Symbol.toStringTag;
  }, No;
}
var ko, Sl;
function Mg() {
  if (Sl)
    return ko;
  Sl = 1;
  var e = typeof Symbol < "u" && Symbol, t = D0();
  return ko = function() {
    return typeof e != "function" || typeof Symbol != "function" || typeof e("foo") != "symbol" || typeof Symbol("bar") != "symbol" ? !1 : t();
  }, ko;
}
var jo, El;
function Bg() {
  if (El)
    return jo;
  El = 1;
  var e = "Function.prototype.bind called on incompatible ", t = Array.prototype.slice, r = Object.prototype.toString, n = "[object Function]";
  return jo = function(s) {
    var a = this;
    if (typeof a != "function" || r.call(a) !== n)
      throw new TypeError(e + a);
    for (var o = t.call(arguments, 1), u, f = function() {
      if (this instanceof u) {
        var p = a.apply(
          this,
          o.concat(t.call(arguments))
        );
        return Object(p) === p ? p : this;
      } else
        return a.apply(
          s,
          o.concat(t.call(arguments))
        );
    }, l = Math.max(0, a.length - o.length), h = [], c = 0; c < l; c++)
      h.push("$" + c);
    if (u = Function("binder", "return function (" + h.join(",") + "){ return binder.apply(this,arguments); }")(f), a.prototype) {
      var d = function() {
      };
      d.prototype = a.prototype, u.prototype = new d(), d.prototype = null;
    }
    return u;
  }, jo;
}
var Lo, Al;
function Df() {
  if (Al)
    return Lo;
  Al = 1;
  var e = Bg();
  return Lo = Function.prototype.bind || e, Lo;
}
var Vo, _l;
function Ng() {
  if (_l)
    return Vo;
  _l = 1;
  var e = Df();
  return Vo = e.call(Function.call, Object.prototype.hasOwnProperty), Vo;
}
var Ho, Tl;
function Mf() {
  if (Tl)
    return Ho;
  Tl = 1;
  var e, t = SyntaxError, r = Function, n = TypeError, i = function(M) {
    try {
      return r('"use strict"; return (' + M + ").constructor;")();
    } catch {
    }
  }, s = Object.getOwnPropertyDescriptor;
  if (s)
    try {
      s({}, "");
    } catch {
      s = null;
    }
  var a = function() {
    throw new n();
  }, o = s ? function() {
    try {
      return arguments.callee, a;
    } catch {
      try {
        return s(arguments, "callee").get;
      } catch {
        return a;
      }
    }
  }() : a, u = Mg()(), f = Object.getPrototypeOf || function(M) {
    return M.__proto__;
  }, l = {}, h = typeof Uint8Array > "u" ? e : f(Uint8Array), c = {
    "%AggregateError%": typeof AggregateError > "u" ? e : AggregateError,
    "%Array%": Array,
    "%ArrayBuffer%": typeof ArrayBuffer > "u" ? e : ArrayBuffer,
    "%ArrayIteratorPrototype%": u ? f([][Symbol.iterator]()) : e,
    "%AsyncFromSyncIteratorPrototype%": e,
    "%AsyncFunction%": l,
    "%AsyncGenerator%": l,
    "%AsyncGeneratorFunction%": l,
    "%AsyncIteratorPrototype%": l,
    "%Atomics%": typeof Atomics > "u" ? e : Atomics,
    "%BigInt%": typeof BigInt > "u" ? e : BigInt,
    "%Boolean%": Boolean,
    "%DataView%": typeof DataView > "u" ? e : DataView,
    "%Date%": Date,
    "%decodeURI%": decodeURI,
    "%decodeURIComponent%": decodeURIComponent,
    "%encodeURI%": encodeURI,
    "%encodeURIComponent%": encodeURIComponent,
    "%Error%": Error,
    "%eval%": eval,
    // eslint-disable-line no-eval
    "%EvalError%": EvalError,
    "%Float32Array%": typeof Float32Array > "u" ? e : Float32Array,
    "%Float64Array%": typeof Float64Array > "u" ? e : Float64Array,
    "%FinalizationRegistry%": typeof FinalizationRegistry > "u" ? e : FinalizationRegistry,
    "%Function%": r,
    "%GeneratorFunction%": l,
    "%Int8Array%": typeof Int8Array > "u" ? e : Int8Array,
    "%Int16Array%": typeof Int16Array > "u" ? e : Int16Array,
    "%Int32Array%": typeof Int32Array > "u" ? e : Int32Array,
    "%isFinite%": isFinite,
    "%isNaN%": isNaN,
    "%IteratorPrototype%": u ? f(f([][Symbol.iterator]())) : e,
    "%JSON%": typeof JSON == "object" ? JSON : e,
    "%Map%": typeof Map > "u" ? e : Map,
    "%MapIteratorPrototype%": typeof Map > "u" || !u ? e : f((/* @__PURE__ */ new Map())[Symbol.iterator]()),
    "%Math%": Math,
    "%Number%": Number,
    "%Object%": Object,
    "%parseFloat%": parseFloat,
    "%parseInt%": parseInt,
    "%Promise%": typeof Promise > "u" ? e : Promise,
    "%Proxy%": typeof Proxy > "u" ? e : Proxy,
    "%RangeError%": RangeError,
    "%ReferenceError%": ReferenceError,
    "%Reflect%": typeof Reflect > "u" ? e : Reflect,
    "%RegExp%": RegExp,
    "%Set%": typeof Set > "u" ? e : Set,
    "%SetIteratorPrototype%": typeof Set > "u" || !u ? e : f((/* @__PURE__ */ new Set())[Symbol.iterator]()),
    "%SharedArrayBuffer%": typeof SharedArrayBuffer > "u" ? e : SharedArrayBuffer,
    "%String%": String,
    "%StringIteratorPrototype%": u ? f(""[Symbol.iterator]()) : e,
    "%Symbol%": u ? Symbol : e,
    "%SyntaxError%": t,
    "%ThrowTypeError%": o,
    "%TypedArray%": h,
    "%TypeError%": n,
    "%Uint8Array%": typeof Uint8Array > "u" ? e : Uint8Array,
    "%Uint8ClampedArray%": typeof Uint8ClampedArray > "u" ? e : Uint8ClampedArray,
    "%Uint16Array%": typeof Uint16Array > "u" ? e : Uint16Array,
    "%Uint32Array%": typeof Uint32Array > "u" ? e : Uint32Array,
    "%URIError%": URIError,
    "%WeakMap%": typeof WeakMap > "u" ? e : WeakMap,
    "%WeakRef%": typeof WeakRef > "u" ? e : WeakRef,
    "%WeakSet%": typeof WeakSet > "u" ? e : WeakSet
  }, d = function M(C) {
    var y;
    if (C === "%AsyncFunction%")
      y = i("async function () {}");
    else if (C === "%GeneratorFunction%")
      y = i("function* () {}");
    else if (C === "%AsyncGeneratorFunction%")
      y = i("async function* () {}");
    else if (C === "%AsyncGenerator%") {
      var E = M("%AsyncGeneratorFunction%");
      E && (y = E.prototype);
    } else if (C === "%AsyncIteratorPrototype%") {
      var T = M("%AsyncGenerator%");
      T && (y = f(T.prototype));
    }
    return c[C] = y, y;
  }, p = {
    "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
    "%ArrayPrototype%": ["Array", "prototype"],
    "%ArrayProto_entries%": ["Array", "prototype", "entries"],
    "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
    "%ArrayProto_keys%": ["Array", "prototype", "keys"],
    "%ArrayProto_values%": ["Array", "prototype", "values"],
    "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
    "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
    "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"],
    "%BooleanPrototype%": ["Boolean", "prototype"],
    "%DataViewPrototype%": ["DataView", "prototype"],
    "%DatePrototype%": ["Date", "prototype"],
    "%ErrorPrototype%": ["Error", "prototype"],
    "%EvalErrorPrototype%": ["EvalError", "prototype"],
    "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
    "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
    "%FunctionPrototype%": ["Function", "prototype"],
    "%Generator%": ["GeneratorFunction", "prototype"],
    "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"],
    "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
    "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
    "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
    "%JSONParse%": ["JSON", "parse"],
    "%JSONStringify%": ["JSON", "stringify"],
    "%MapPrototype%": ["Map", "prototype"],
    "%NumberPrototype%": ["Number", "prototype"],
    "%ObjectPrototype%": ["Object", "prototype"],
    "%ObjProto_toString%": ["Object", "prototype", "toString"],
    "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
    "%PromisePrototype%": ["Promise", "prototype"],
    "%PromiseProto_then%": ["Promise", "prototype", "then"],
    "%Promise_all%": ["Promise", "all"],
    "%Promise_reject%": ["Promise", "reject"],
    "%Promise_resolve%": ["Promise", "resolve"],
    "%RangeErrorPrototype%": ["RangeError", "prototype"],
    "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
    "%RegExpPrototype%": ["RegExp", "prototype"],
    "%SetPrototype%": ["Set", "prototype"],
    "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
    "%StringPrototype%": ["String", "prototype"],
    "%SymbolPrototype%": ["Symbol", "prototype"],
    "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
    "%TypedArrayPrototype%": ["TypedArray", "prototype"],
    "%TypeErrorPrototype%": ["TypeError", "prototype"],
    "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
    "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
    "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
    "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
    "%URIErrorPrototype%": ["URIError", "prototype"],
    "%WeakMapPrototype%": ["WeakMap", "prototype"],
    "%WeakSetPrototype%": ["WeakSet", "prototype"]
  }, v = Df(), m = Ng(), b = v.call(Function.call, Array.prototype.concat), A = v.call(Function.apply, Array.prototype.splice), D = v.call(Function.call, String.prototype.replace), k = v.call(Function.call, String.prototype.slice), L = v.call(Function.call, RegExp.prototype.exec), _ = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g, F = /\\(\\)?/g, O = function(C) {
    var y = k(C, 0, 1), E = k(C, -1);
    if (y === "%" && E !== "%")
      throw new t("invalid intrinsic syntax, expected closing `%`");
    if (E === "%" && y !== "%")
      throw new t("invalid intrinsic syntax, expected opening `%`");
    var T = [];
    return D(C, _, function(R, N, H, Z) {
      T[T.length] = H ? D(Z, F, "$1") : N || R;
    }), T;
  }, P = function(C, y) {
    var E = C, T;
    if (m(p, E) && (T = p[E], E = "%" + T[0] + "%"), m(c, E)) {
      var R = c[E];
      if (R === l && (R = d(E)), typeof R > "u" && !y)
        throw new n("intrinsic " + C + " exists, but is not available. Please file an issue!");
      return {
        alias: T,
        name: E,
        value: R
      };
    }
    throw new t("intrinsic " + C + " does not exist!");
  };
  return Ho = function(C, y) {
    if (typeof C != "string" || C.length === 0)
      throw new n("intrinsic name must be a non-empty string");
    if (arguments.length > 1 && typeof y != "boolean")
      throw new n('"allowMissing" argument must be a boolean');
    if (L(/^%?[^%]*%?$/, C) === null)
      throw new t("`%` may not be present anywhere but at the beginning and end of the intrinsic name");
    var E = O(C), T = E.length > 0 ? E[0] : "", R = P("%" + T + "%", y), N = R.name, H = R.value, Z = !1, K = R.alias;
    K && (T = K[0], A(E, b([0, 1], K)));
    for (var x = 1, V = !0; x < E.length; x += 1) {
      var $ = E[x], G = k($, 0, 1), z = k($, -1);
      if ((G === '"' || G === "'" || G === "`" || z === '"' || z === "'" || z === "`") && G !== z)
        throw new t("property names with quotes must have matching quotes");
      if (($ === "constructor" || !V) && (Z = !0), T += "." + $, N = "%" + T + "%", m(c, N))
        H = c[N];
      else if (H != null) {
        if (!($ in H)) {
          if (!y)
            throw new n("base intrinsic for " + C + " exists, but the property is not available.");
          return;
        }
        if (s && x + 1 >= E.length) {
          var ae = s(H, $);
          V = !!ae, V && "get" in ae && !("originalValue" in ae.get) ? H = ae.get : H = H[$];
        } else
          V = m(H, $), H = H[$];
        V && !Z && (c[N] = H);
      }
    }
    return H;
  }, Ho;
}
var ha = {}, kg = {
  get exports() {
    return ha;
  },
  set exports(e) {
    ha = e;
  }
}, Pl;
function jg() {
  return Pl || (Pl = 1, function(e) {
    var t = Df(), r = Mf(), n = r("%Function.prototype.apply%"), i = r("%Function.prototype.call%"), s = r("%Reflect.apply%", !0) || t.call(i, n), a = r("%Object.getOwnPropertyDescriptor%", !0), o = r("%Object.defineProperty%", !0), u = r("%Math.max%");
    if (o)
      try {
        o({}, "a", { value: 1 });
      } catch {
        o = null;
      }
    e.exports = function(h) {
      var c = s(t, i, arguments);
      if (a && o) {
        var d = a(c, "length");
        d.configurable && o(
          c,
          "length",
          { value: 1 + u(0, h.length - (arguments.length - 1)) }
        );
      }
      return c;
    };
    var f = function() {
      return s(t, n, arguments);
    };
    o ? o(e.exports, "apply", { value: f }) : e.exports.apply = f;
  }(kg)), ha;
}
var Uo, Fl;
function Bf() {
  if (Fl)
    return Uo;
  Fl = 1;
  var e = Mf(), t = jg(), r = t(e("String.prototype.indexOf"));
  return Uo = function(i, s) {
    var a = e(i, !!s);
    return typeof a == "function" && r(i, ".prototype.") > -1 ? t(a) : a;
  }, Uo;
}
var qo, Il;
function Lg() {
  if (Il)
    return qo;
  Il = 1;
  var e = ka()(), t = Bf(), r = t("Object.prototype.toString"), n = function(o) {
    return e && o && typeof o == "object" && Symbol.toStringTag in o ? !1 : r(o) === "[object Arguments]";
  }, i = function(o) {
    return n(o) ? !0 : o !== null && typeof o == "object" && typeof o.length == "number" && o.length >= 0 && r(o) !== "[object Array]" && r(o.callee) === "[object Function]";
  }, s = function() {
    return n(arguments);
  }();
  return n.isLegacyArguments = i, qo = s ? n : i, qo;
}
var Ko, Cl;
function Vg() {
  if (Cl)
    return Ko;
  Cl = 1;
  var e = Object.prototype.toString, t = Function.prototype.toString, r = /^\s*(?:function)?\*/, n = ka()(), i = Object.getPrototypeOf, s = function() {
    if (!n)
      return !1;
    try {
      return Function("return function*() {}")();
    } catch {
    }
  }, a;
  return Ko = function(u) {
    if (typeof u != "function")
      return !1;
    if (r.test(t.call(u)))
      return !0;
    if (!n) {
      var f = e.call(u);
      return f === "[object GeneratorFunction]";
    }
    if (!i)
      return !1;
    if (typeof a > "u") {
      var l = s();
      a = l ? i(l) : !1;
    }
    return i(u) === a;
  }, Ko;
}
var $o, Rl;
function Hg() {
  if (Rl)
    return $o;
  Rl = 1;
  var e = Function.prototype.toString, t = typeof Reflect == "object" && Reflect !== null && Reflect.apply, r, n;
  if (typeof t == "function" && typeof Object.defineProperty == "function")
    try {
      r = Object.defineProperty({}, "length", {
        get: function() {
          throw n;
        }
      }), n = {}, t(function() {
        throw 42;
      }, null, r);
    } catch (A) {
      A !== n && (t = null);
    }
  else
    t = null;
  var i = /^\s*class\b/, s = function(D) {
    try {
      var k = e.call(D);
      return i.test(k);
    } catch {
      return !1;
    }
  }, a = function(D) {
    try {
      return s(D) ? !1 : (e.call(D), !0);
    } catch {
      return !1;
    }
  }, o = Object.prototype.toString, u = "[object Object]", f = "[object Function]", l = "[object GeneratorFunction]", h = "[object HTMLAllCollection]", c = "[object HTML document.all class]", d = "[object HTMLCollection]", p = typeof Symbol == "function" && !!Symbol.toStringTag, v = !(0 in [,]), m = function() {
    return !1;
  };
  if (typeof document == "object") {
    var b = document.all;
    o.call(b) === o.call(document.all) && (m = function(D) {
      if ((v || !D) && (typeof D > "u" || typeof D == "object"))
        try {
          var k = o.call(D);
          return (k === h || k === c || k === d || k === u) && D("") == null;
        } catch {
        }
      return !1;
    });
  }
  return $o = t ? function(D) {
    if (m(D))
      return !0;
    if (!D || typeof D != "function" && typeof D != "object")
      return !1;
    try {
      t(D, null, r);
    } catch (k) {
      if (k !== n)
        return !1;
    }
    return !s(D) && a(D);
  } : function(D) {
    if (m(D))
      return !0;
    if (!D || typeof D != "function" && typeof D != "object")
      return !1;
    if (p)
      return a(D);
    if (s(D))
      return !1;
    var k = o.call(D);
    return k !== f && k !== l && !/^\[object HTML/.test(k) ? !1 : a(D);
  }, $o;
}
var zo, Ol;
function M0() {
  if (Ol)
    return zo;
  Ol = 1;
  var e = Hg(), t = Object.prototype.toString, r = Object.prototype.hasOwnProperty, n = function(u, f, l) {
    for (var h = 0, c = u.length; h < c; h++)
      r.call(u, h) && (l == null ? f(u[h], h, u) : f.call(l, u[h], h, u));
  }, i = function(u, f, l) {
    for (var h = 0, c = u.length; h < c; h++)
      l == null ? f(u.charAt(h), h, u) : f.call(l, u.charAt(h), h, u);
  }, s = function(u, f, l) {
    for (var h in u)
      r.call(u, h) && (l == null ? f(u[h], h, u) : f.call(l, u[h], h, u));
  }, a = function(u, f, l) {
    if (!e(f))
      throw new TypeError("iterator must be a function");
    var h;
    arguments.length >= 3 && (h = l), t.call(u) === "[object Array]" ? n(u, f, h) : typeof u == "string" ? i(u, f, h) : s(u, f, h);
  };
  return zo = a, zo;
}
var Wo, Dl;
function B0() {
  if (Dl)
    return Wo;
  Dl = 1;
  var e = [
    "BigInt64Array",
    "BigUint64Array",
    "Float32Array",
    "Float64Array",
    "Int16Array",
    "Int32Array",
    "Int8Array",
    "Uint16Array",
    "Uint32Array",
    "Uint8Array",
    "Uint8ClampedArray"
  ], t = typeof globalThis > "u" ? be : globalThis;
  return Wo = function() {
    for (var n = [], i = 0; i < e.length; i++)
      typeof t[e[i]] == "function" && (n[n.length] = e[i]);
    return n;
  }, Wo;
}
var Go, Ml;
function N0() {
  if (Ml)
    return Go;
  Ml = 1;
  var e = Mf(), t = e("%Object.getOwnPropertyDescriptor%", !0);
  if (t)
    try {
      t([], "length");
    } catch {
      t = null;
    }
  return Go = t, Go;
}
var Jo, Bl;
function k0() {
  if (Bl)
    return Jo;
  Bl = 1;
  var e = M0(), t = B0(), r = Bf(), n = r("Object.prototype.toString"), i = ka()(), s = N0(), a = typeof globalThis > "u" ? be : globalThis, o = t(), u = r("Array.prototype.indexOf", !0) || function(p, v) {
    for (var m = 0; m < p.length; m += 1)
      if (p[m] === v)
        return m;
    return -1;
  }, f = r("String.prototype.slice"), l = {}, h = Object.getPrototypeOf;
  i && s && h && e(o, function(d) {
    var p = new a[d]();
    if (Symbol.toStringTag in p) {
      var v = h(p), m = s(v, Symbol.toStringTag);
      if (!m) {
        var b = h(v);
        m = s(b, Symbol.toStringTag);
      }
      l[d] = m.get;
    }
  });
  var c = function(p) {
    var v = !1;
    return e(l, function(m, b) {
      if (!v)
        try {
          v = m.call(p) === b;
        } catch {
        }
    }), v;
  };
  return Jo = function(p) {
    if (!p || typeof p != "object")
      return !1;
    if (!i || !(Symbol.toStringTag in p)) {
      var v = f(n(p), 8, -1);
      return u(o, v) > -1;
    }
    return s ? c(p) : !1;
  }, Jo;
}
var Yo, Nl;
function Ug() {
  if (Nl)
    return Yo;
  Nl = 1;
  var e = M0(), t = B0(), r = Bf(), n = N0(), i = r("Object.prototype.toString"), s = ka()(), a = typeof globalThis > "u" ? be : globalThis, o = t(), u = r("String.prototype.slice"), f = {}, l = Object.getPrototypeOf;
  s && n && l && e(o, function(d) {
    if (typeof a[d] == "function") {
      var p = new a[d]();
      if (Symbol.toStringTag in p) {
        var v = l(p), m = n(v, Symbol.toStringTag);
        if (!m) {
          var b = l(v);
          m = n(b, Symbol.toStringTag);
        }
        f[d] = m.get;
      }
    }
  });
  var h = function(p) {
    var v = !1;
    return e(f, function(m, b) {
      if (!v)
        try {
          var A = m.call(p);
          A === b && (v = A);
        } catch {
        }
    }), v;
  }, c = k0();
  return Yo = function(p) {
    return c(p) ? !s || !(Symbol.toStringTag in p) ? u(i(p), 8, -1) : h(p) : !1;
  }, Yo;
}
var kl;
function qg() {
  return kl || (kl = 1, function(e) {
    var t = Lg(), r = Vg(), n = Ug(), i = k0();
    function s(I) {
      return I.call.bind(I);
    }
    var a = typeof BigInt < "u", o = typeof Symbol < "u", u = s(Object.prototype.toString), f = s(Number.prototype.valueOf), l = s(String.prototype.valueOf), h = s(Boolean.prototype.valueOf);
    if (a)
      var c = s(BigInt.prototype.valueOf);
    if (o)
      var d = s(Symbol.prototype.valueOf);
    function p(I, q) {
      if (typeof I != "object")
        return !1;
      try {
        return q(I), !0;
      } catch {
        return !1;
      }
    }
    e.isArgumentsObject = t, e.isGeneratorFunction = r, e.isTypedArray = i;
    function v(I) {
      return typeof Promise < "u" && I instanceof Promise || I !== null && typeof I == "object" && typeof I.then == "function" && typeof I.catch == "function";
    }
    e.isPromise = v;
    function m(I) {
      return typeof ArrayBuffer < "u" && ArrayBuffer.isView ? ArrayBuffer.isView(I) : i(I) || G(I);
    }
    e.isArrayBufferView = m;
    function b(I) {
      return n(I) === "Uint8Array";
    }
    e.isUint8Array = b;
    function A(I) {
      return n(I) === "Uint8ClampedArray";
    }
    e.isUint8ClampedArray = A;
    function D(I) {
      return n(I) === "Uint16Array";
    }
    e.isUint16Array = D;
    function k(I) {
      return n(I) === "Uint32Array";
    }
    e.isUint32Array = k;
    function L(I) {
      return n(I) === "Int8Array";
    }
    e.isInt8Array = L;
    function _(I) {
      return n(I) === "Int16Array";
    }
    e.isInt16Array = _;
    function F(I) {
      return n(I) === "Int32Array";
    }
    e.isInt32Array = F;
    function O(I) {
      return n(I) === "Float32Array";
    }
    e.isFloat32Array = O;
    function P(I) {
      return n(I) === "Float64Array";
    }
    e.isFloat64Array = P;
    function M(I) {
      return n(I) === "BigInt64Array";
    }
    e.isBigInt64Array = M;
    function C(I) {
      return n(I) === "BigUint64Array";
    }
    e.isBigUint64Array = C;
    function y(I) {
      return u(I) === "[object Map]";
    }
    y.working = typeof Map < "u" && y(/* @__PURE__ */ new Map());
    function E(I) {
      return typeof Map > "u" ? !1 : y.working ? y(I) : I instanceof Map;
    }
    e.isMap = E;
    function T(I) {
      return u(I) === "[object Set]";
    }
    T.working = typeof Set < "u" && T(/* @__PURE__ */ new Set());
    function R(I) {
      return typeof Set > "u" ? !1 : T.working ? T(I) : I instanceof Set;
    }
    e.isSet = R;
    function N(I) {
      return u(I) === "[object WeakMap]";
    }
    N.working = typeof WeakMap < "u" && N(/* @__PURE__ */ new WeakMap());
    function H(I) {
      return typeof WeakMap > "u" ? !1 : N.working ? N(I) : I instanceof WeakMap;
    }
    e.isWeakMap = H;
    function Z(I) {
      return u(I) === "[object WeakSet]";
    }
    Z.working = typeof WeakSet < "u" && Z(/* @__PURE__ */ new WeakSet());
    function K(I) {
      return Z(I);
    }
    e.isWeakSet = K;
    function x(I) {
      return u(I) === "[object ArrayBuffer]";
    }
    x.working = typeof ArrayBuffer < "u" && x(new ArrayBuffer());
    function V(I) {
      return typeof ArrayBuffer > "u" ? !1 : x.working ? x(I) : I instanceof ArrayBuffer;
    }
    e.isArrayBuffer = V;
    function $(I) {
      return u(I) === "[object DataView]";
    }
    $.working = typeof ArrayBuffer < "u" && typeof DataView < "u" && $(new DataView(new ArrayBuffer(1), 0, 1));
    function G(I) {
      return typeof DataView > "u" ? !1 : $.working ? $(I) : I instanceof DataView;
    }
    e.isDataView = G;
    var z = typeof SharedArrayBuffer < "u" ? SharedArrayBuffer : void 0;
    function ae(I) {
      return u(I) === "[object SharedArrayBuffer]";
    }
    function le(I) {
      return typeof z > "u" ? !1 : (typeof ae.working > "u" && (ae.working = ae(new z())), ae.working ? ae(I) : I instanceof z);
    }
    e.isSharedArrayBuffer = le;
    function oe(I) {
      return u(I) === "[object AsyncFunction]";
    }
    e.isAsyncFunction = oe;
    function ue(I) {
      return u(I) === "[object Map Iterator]";
    }
    e.isMapIterator = ue;
    function fe(I) {
      return u(I) === "[object Set Iterator]";
    }
    e.isSetIterator = fe;
    function j(I) {
      return u(I) === "[object Generator]";
    }
    e.isGeneratorObject = j;
    function W(I) {
      return u(I) === "[object WebAssembly.Module]";
    }
    e.isWebAssemblyCompiledModule = W;
    function U(I) {
      return p(I, f);
    }
    e.isNumberObject = U;
    function Q(I) {
      return p(I, l);
    }
    e.isStringObject = Q;
    function ee(I) {
      return p(I, h);
    }
    e.isBooleanObject = ee;
    function te(I) {
      return a && p(I, c);
    }
    e.isBigIntObject = te;
    function B(I) {
      return o && p(I, d);
    }
    e.isSymbolObject = B;
    function w(I) {
      return U(I) || Q(I) || ee(I) || te(I) || B(I);
    }
    e.isBoxedPrimitive = w;
    function S(I) {
      return typeof Uint8Array < "u" && (V(I) || le(I));
    }
    e.isAnyArrayBuffer = S, ["isProxy", "isExternal", "isModuleNamespaceObject"].forEach(function(I) {
      Object.defineProperty(e, I, {
        enumerable: !1,
        value: function() {
          throw new Error(I + " is not supported in userland");
        }
      });
    });
  }(Mo)), Mo;
}
var Xo, jl;
function Kg() {
  return jl || (jl = 1, Xo = function(t) {
    return t && typeof t == "object" && typeof t.copy == "function" && typeof t.fill == "function" && typeof t.readUInt8 == "function";
  }), Xo;
}
var da = {}, Ll = {
  get exports() {
    return da;
  },
  set exports(e) {
    da = e;
  }
}, Vl;
function Sr() {
  return Vl || (Vl = 1, typeof Object.create == "function" ? Ll.exports = function(t, r) {
    r && (t.super_ = r, t.prototype = Object.create(r.prototype, {
      constructor: {
        value: t,
        enumerable: !1,
        writable: !0,
        configurable: !0
      }
    }));
  } : Ll.exports = function(t, r) {
    if (r) {
      t.super_ = r;
      var n = function() {
      };
      n.prototype = r.prototype, t.prototype = new n(), t.prototype.constructor = t;
    }
  }), da;
}
var Hl;
function Nf() {
  return Hl || (Hl = 1, function(e) {
    var t = Object.getOwnPropertyDescriptors || function(G) {
      for (var z = Object.keys(G), ae = {}, le = 0; le < z.length; le++)
        ae[z[le]] = Object.getOwnPropertyDescriptor(G, z[le]);
      return ae;
    }, r = /%[sdj%]/g;
    e.format = function($) {
      if (!L($)) {
        for (var G = [], z = 0; z < arguments.length; z++)
          G.push(a(arguments[z]));
        return G.join(" ");
      }
      for (var z = 1, ae = arguments, le = ae.length, oe = String($).replace(r, function(fe) {
        if (fe === "%%")
          return "%";
        if (z >= le)
          return fe;
        switch (fe) {
          case "%s":
            return String(ae[z++]);
          case "%d":
            return Number(ae[z++]);
          case "%j":
            try {
              return JSON.stringify(ae[z++]);
            } catch {
              return "[Circular]";
            }
          default:
            return fe;
        }
      }), ue = ae[z]; z < le; ue = ae[++z])
        A(ue) || !P(ue) ? oe += " " + ue : oe += " " + a(ue);
      return oe;
    }, e.deprecate = function($, G) {
      if (typeof process < "u" && process.noDeprecation === !0)
        return $;
      if (typeof process > "u")
        return function() {
          return e.deprecate($, G).apply(this, arguments);
        };
      var z = !1;
      function ae() {
        if (!z) {
          if (process.throwDeprecation)
            throw new Error(G);
          process.traceDeprecation ? console.trace(G) : console.error(G), z = !0;
        }
        return $.apply(this, arguments);
      }
      return ae;
    };
    var n = {}, i = /^$/;
    if (process.env.NODE_DEBUG) {
      var s = process.env.NODE_DEBUG;
      s = s.replace(/[|\\{}()[\]^$+?.]/g, "\\$&").replace(/\*/g, ".*").replace(/,/g, "$|^").toUpperCase(), i = new RegExp("^" + s + "$", "i");
    }
    e.debuglog = function($) {
      if ($ = $.toUpperCase(), !n[$])
        if (i.test($)) {
          var G = process.pid;
          n[$] = function() {
            var z = e.format.apply(e, arguments);
            console.error("%s %d: %s", $, G, z);
          };
        } else
          n[$] = function() {
          };
      return n[$];
    };
    function a($, G) {
      var z = {
        seen: [],
        stylize: u
      };
      return arguments.length >= 3 && (z.depth = arguments[2]), arguments.length >= 4 && (z.colors = arguments[3]), b(G) ? z.showHidden = G : G && e._extend(z, G), F(z.showHidden) && (z.showHidden = !1), F(z.depth) && (z.depth = 2), F(z.colors) && (z.colors = !1), F(z.customInspect) && (z.customInspect = !0), z.colors && (z.stylize = o), l(z, $, z.depth);
    }
    e.inspect = a, a.colors = {
      bold: [1, 22],
      italic: [3, 23],
      underline: [4, 24],
      inverse: [7, 27],
      white: [37, 39],
      grey: [90, 39],
      black: [30, 39],
      blue: [34, 39],
      cyan: [36, 39],
      green: [32, 39],
      magenta: [35, 39],
      red: [31, 39],
      yellow: [33, 39]
    }, a.styles = {
      special: "cyan",
      number: "yellow",
      boolean: "yellow",
      undefined: "grey",
      null: "bold",
      string: "green",
      date: "magenta",
      // "name": intentionally not styling
      regexp: "red"
    };
    function o($, G) {
      var z = a.styles[G];
      return z ? "\x1B[" + a.colors[z][0] + "m" + $ + "\x1B[" + a.colors[z][1] + "m" : $;
    }
    function u($, G) {
      return $;
    }
    function f($) {
      var G = {};
      return $.forEach(function(z, ae) {
        G[z] = !0;
      }), G;
    }
    function l($, G, z) {
      if ($.customInspect && G && y(G.inspect) && // Filter out the util module, it's inspect function is special
      G.inspect !== e.inspect && // Also filter out any prototype objects using the circular check.
      !(G.constructor && G.constructor.prototype === G)) {
        var ae = G.inspect(z, $);
        return L(ae) || (ae = l($, ae, z)), ae;
      }
      var le = h($, G);
      if (le)
        return le;
      var oe = Object.keys(G), ue = f(oe);
      if ($.showHidden && (oe = Object.getOwnPropertyNames(G)), C(G) && (oe.indexOf("message") >= 0 || oe.indexOf("description") >= 0))
        return c(G);
      if (oe.length === 0) {
        if (y(G)) {
          var fe = G.name ? ": " + G.name : "";
          return $.stylize("[Function" + fe + "]", "special");
        }
        if (O(G))
          return $.stylize(RegExp.prototype.toString.call(G), "regexp");
        if (M(G))
          return $.stylize(Date.prototype.toString.call(G), "date");
        if (C(G))
          return c(G);
      }
      var j = "", W = !1, U = ["{", "}"];
      if (m(G) && (W = !0, U = ["[", "]"]), y(G)) {
        var Q = G.name ? ": " + G.name : "";
        j = " [Function" + Q + "]";
      }
      if (O(G) && (j = " " + RegExp.prototype.toString.call(G)), M(G) && (j = " " + Date.prototype.toUTCString.call(G)), C(G) && (j = " " + c(G)), oe.length === 0 && (!W || G.length == 0))
        return U[0] + j + U[1];
      if (z < 0)
        return O(G) ? $.stylize(RegExp.prototype.toString.call(G), "regexp") : $.stylize("[Object]", "special");
      $.seen.push(G);
      var ee;
      return W ? ee = d($, G, z, ue, oe) : ee = oe.map(function(te) {
        return p($, G, z, ue, te, W);
      }), $.seen.pop(), v(ee, j, U);
    }
    function h($, G) {
      if (F(G))
        return $.stylize("undefined", "undefined");
      if (L(G)) {
        var z = "'" + JSON.stringify(G).replace(/^"|"$/g, "").replace(/'/g, "\\'").replace(/\\"/g, '"') + "'";
        return $.stylize(z, "string");
      }
      if (k(G))
        return $.stylize("" + G, "number");
      if (b(G))
        return $.stylize("" + G, "boolean");
      if (A(G))
        return $.stylize("null", "null");
    }
    function c($) {
      return "[" + Error.prototype.toString.call($) + "]";
    }
    function d($, G, z, ae, le) {
      for (var oe = [], ue = 0, fe = G.length; ue < fe; ++ue)
        Z(G, String(ue)) ? oe.push(p(
          $,
          G,
          z,
          ae,
          String(ue),
          !0
        )) : oe.push("");
      return le.forEach(function(j) {
        j.match(/^\d+$/) || oe.push(p(
          $,
          G,
          z,
          ae,
          j,
          !0
        ));
      }), oe;
    }
    function p($, G, z, ae, le, oe) {
      var ue, fe, j;
      if (j = Object.getOwnPropertyDescriptor(G, le) || { value: G[le] }, j.get ? j.set ? fe = $.stylize("[Getter/Setter]", "special") : fe = $.stylize("[Getter]", "special") : j.set && (fe = $.stylize("[Setter]", "special")), Z(ae, le) || (ue = "[" + le + "]"), fe || ($.seen.indexOf(j.value) < 0 ? (A(z) ? fe = l($, j.value, null) : fe = l($, j.value, z - 1), fe.indexOf(`
`) > -1 && (oe ? fe = fe.split(`
`).map(function(W) {
        return "  " + W;
      }).join(`
`).slice(2) : fe = `
` + fe.split(`
`).map(function(W) {
        return "   " + W;
      }).join(`
`))) : fe = $.stylize("[Circular]", "special")), F(ue)) {
        if (oe && le.match(/^\d+$/))
          return fe;
        ue = JSON.stringify("" + le), ue.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/) ? (ue = ue.slice(1, -1), ue = $.stylize(ue, "name")) : (ue = ue.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'"), ue = $.stylize(ue, "string"));
      }
      return ue + ": " + fe;
    }
    function v($, G, z) {
      var ae = $.reduce(function(le, oe) {
        return oe.indexOf(`
`) >= 0, le + oe.replace(/\u001b\[\d\d?m/g, "").length + 1;
      }, 0);
      return ae > 60 ? z[0] + (G === "" ? "" : G + `
 `) + " " + $.join(`,
  `) + " " + z[1] : z[0] + G + " " + $.join(", ") + " " + z[1];
    }
    e.types = qg();
    function m($) {
      return Array.isArray($);
    }
    e.isArray = m;
    function b($) {
      return typeof $ == "boolean";
    }
    e.isBoolean = b;
    function A($) {
      return $ === null;
    }
    e.isNull = A;
    function D($) {
      return $ == null;
    }
    e.isNullOrUndefined = D;
    function k($) {
      return typeof $ == "number";
    }
    e.isNumber = k;
    function L($) {
      return typeof $ == "string";
    }
    e.isString = L;
    function _($) {
      return typeof $ == "symbol";
    }
    e.isSymbol = _;
    function F($) {
      return $ === void 0;
    }
    e.isUndefined = F;
    function O($) {
      return P($) && T($) === "[object RegExp]";
    }
    e.isRegExp = O, e.types.isRegExp = O;
    function P($) {
      return typeof $ == "object" && $ !== null;
    }
    e.isObject = P;
    function M($) {
      return P($) && T($) === "[object Date]";
    }
    e.isDate = M, e.types.isDate = M;
    function C($) {
      return P($) && (T($) === "[object Error]" || $ instanceof Error);
    }
    e.isError = C, e.types.isNativeError = C;
    function y($) {
      return typeof $ == "function";
    }
    e.isFunction = y;
    function E($) {
      return $ === null || typeof $ == "boolean" || typeof $ == "number" || typeof $ == "string" || typeof $ == "symbol" || // ES6 symbol
      typeof $ > "u";
    }
    e.isPrimitive = E, e.isBuffer = Kg();
    function T($) {
      return Object.prototype.toString.call($);
    }
    function R($) {
      return $ < 10 ? "0" + $.toString(10) : $.toString(10);
    }
    var N = [
      "Jan",
      "Feb",
      "Mar",
      "Apr",
      "May",
      "Jun",
      "Jul",
      "Aug",
      "Sep",
      "Oct",
      "Nov",
      "Dec"
    ];
    function H() {
      var $ = new Date(), G = [
        R($.getHours()),
        R($.getMinutes()),
        R($.getSeconds())
      ].join(":");
      return [$.getDate(), N[$.getMonth()], G].join(" ");
    }
    e.log = function() {
      console.log("%s - %s", H(), e.format.apply(e, arguments));
    }, e.inherits = Sr(), e._extend = function($, G) {
      if (!G || !P(G))
        return $;
      for (var z = Object.keys(G), ae = z.length; ae--; )
        $[z[ae]] = G[z[ae]];
      return $;
    };
    function Z($, G) {
      return Object.prototype.hasOwnProperty.call($, G);
    }
    var K = typeof Symbol < "u" ? Symbol("util.promisify.custom") : void 0;
    e.promisify = function(G) {
      if (typeof G != "function")
        throw new TypeError('The "original" argument must be of type Function');
      if (K && G[K]) {
        var z = G[K];
        if (typeof z != "function")
          throw new TypeError('The "util.promisify.custom" argument must be of type Function');
        return Object.defineProperty(z, K, {
          value: z,
          enumerable: !1,
          writable: !1,
          configurable: !0
        }), z;
      }
      function z() {
        for (var ae, le, oe = new Promise(function(j, W) {
          ae = j, le = W;
        }), ue = [], fe = 0; fe < arguments.length; fe++)
          ue.push(arguments[fe]);
        ue.push(function(j, W) {
          j ? le(j) : ae(W);
        });
        try {
          G.apply(this, ue);
        } catch (j) {
          le(j);
        }
        return oe;
      }
      return Object.setPrototypeOf(z, Object.getPrototypeOf(G)), K && Object.defineProperty(z, K, {
        value: z,
        enumerable: !1,
        writable: !1,
        configurable: !0
      }), Object.defineProperties(
        z,
        t(G)
      );
    }, e.promisify.custom = K;
    function x($, G) {
      if (!$) {
        var z = new Error("Promise was rejected with a falsy value");
        z.reason = $, $ = z;
      }
      return G($);
    }
    function V($) {
      if (typeof $ != "function")
        throw new TypeError('The "original" argument must be of type Function');
      function G() {
        for (var z = [], ae = 0; ae < arguments.length; ae++)
          z.push(arguments[ae]);
        var le = z.pop();
        if (typeof le != "function")
          throw new TypeError("The last argument must be of type Function");
        var oe = this, ue = function() {
          return le.apply(oe, arguments);
        };
        $.apply(this, z).then(
          function(fe) {
            process.nextTick(ue.bind(null, null, fe));
          },
          function(fe) {
            process.nextTick(x.bind(null, fe, ue));
          }
        );
      }
      return Object.setPrototypeOf(G, Object.getPrototypeOf($)), Object.defineProperties(
        G,
        t($)
      ), G;
    }
    e.callbackify = V;
  }(Do)), Do;
}
var Ul = {};
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var ql;
function j0() {
  if (ql)
    return Ul;
  ql = 1;
  var e;
  return function(t) {
    (function(r) {
      var n = typeof be == "object" ? be : typeof self == "object" ? self : typeof this == "object" ? this : Function("return this;")(), i = s(t);
      typeof n.Reflect > "u" ? n.Reflect = t : i = s(n.Reflect, i), r(i);
      function s(a, o) {
        return function(u, f) {
          typeof a[u] != "function" && Object.defineProperty(a, u, { configurable: !0, writable: !0, value: f }), o && o(u, f);
        };
      }
    })(function(r) {
      var n = Object.prototype.hasOwnProperty, i = typeof Symbol == "function", s = i && typeof Symbol.toPrimitive < "u" ? Symbol.toPrimitive : "@@toPrimitive", a = i && typeof Symbol.iterator < "u" ? Symbol.iterator : "@@iterator", o = typeof Object.create == "function", u = { __proto__: [] } instanceof Array, f = !o && !u, l = {
        // create an object in dictionary mode (a.k.a. "slow" mode in v8)
        create: o ? function() {
          return ve(/* @__PURE__ */ Object.create(null));
        } : u ? function() {
          return ve({ __proto__: null });
        } : function() {
          return ve({});
        },
        has: f ? function(X, re) {
          return n.call(X, re);
        } : function(X, re) {
          return re in X;
        },
        get: f ? function(X, re) {
          return n.call(X, re) ? X[re] : void 0;
        } : function(X, re) {
          return X[re];
        }
      }, h = Object.getPrototypeOf(Function), c = typeof process == "object" && process.env && process.env.REFLECT_METADATA_USE_MAP_POLYFILL === "true", d = !c && typeof Map == "function" && typeof Map.prototype.entries == "function" ? Map : Y(), p = !c && typeof Set == "function" && typeof Set.prototype.entries == "function" ? Set : se(), v = !c && typeof WeakMap == "function" ? WeakMap : ge(), m = new v();
      function b(X, re, ie, ce) {
        if ($(ie)) {
          if (!W(X))
            throw new TypeError();
          if (!Q(re))
            throw new TypeError();
          return C(X, re);
        } else {
          if (!W(X))
            throw new TypeError();
          if (!ae(re))
            throw new TypeError();
          if (!ae(ce) && !$(ce) && !G(ce))
            throw new TypeError();
          return G(ce) && (ce = void 0), ie = j(ie), y(X, re, ie, ce);
        }
      }
      r("decorate", b);
      function A(X, re) {
        function ie(ce, we) {
          if (!ae(ce))
            throw new TypeError();
          if (!$(we) && !ee(we))
            throw new TypeError();
          Z(X, re, ce, we);
        }
        return ie;
      }
      r("metadata", A);
      function D(X, re, ie, ce) {
        if (!ae(ie))
          throw new TypeError();
        return $(ce) || (ce = j(ce)), Z(X, re, ie, ce);
      }
      r("defineMetadata", D);
      function k(X, re, ie) {
        if (!ae(re))
          throw new TypeError();
        return $(ie) || (ie = j(ie)), T(X, re, ie);
      }
      r("hasMetadata", k);
      function L(X, re, ie) {
        if (!ae(re))
          throw new TypeError();
        return $(ie) || (ie = j(ie)), R(X, re, ie);
      }
      r("hasOwnMetadata", L);
      function _(X, re, ie) {
        if (!ae(re))
          throw new TypeError();
        return $(ie) || (ie = j(ie)), N(X, re, ie);
      }
      r("getMetadata", _);
      function F(X, re, ie) {
        if (!ae(re))
          throw new TypeError();
        return $(ie) || (ie = j(ie)), H(X, re, ie);
      }
      r("getOwnMetadata", F);
      function O(X, re) {
        if (!ae(X))
          throw new TypeError();
        return $(re) || (re = j(re)), K(X, re);
      }
      r("getMetadataKeys", O);
      function P(X, re) {
        if (!ae(X))
          throw new TypeError();
        return $(re) || (re = j(re)), x(X, re);
      }
      r("getOwnMetadataKeys", P);
      function M(X, re, ie) {
        if (!ae(re))
          throw new TypeError();
        $(ie) || (ie = j(ie));
        var ce = E(
          re,
          ie,
          /*Create*/
          !1
        );
        if ($(ce) || !ce.delete(X))
          return !1;
        if (ce.size > 0)
          return !0;
        var we = m.get(re);
        return we.delete(ie), we.size > 0 || m.delete(re), !0;
      }
      r("deleteMetadata", M);
      function C(X, re) {
        for (var ie = X.length - 1; ie >= 0; --ie) {
          var ce = X[ie], we = ce(re);
          if (!$(we) && !G(we)) {
            if (!Q(we))
              throw new TypeError();
            re = we;
          }
        }
        return re;
      }
      function y(X, re, ie, ce) {
        for (var we = X.length - 1; we >= 0; --we) {
          var Ce = X[we], Se = Ce(re, ie, ce);
          if (!$(Se) && !G(Se)) {
            if (!ae(Se))
              throw new TypeError();
            ce = Se;
          }
        }
        return ce;
      }
      function E(X, re, ie) {
        var ce = m.get(X);
        if ($(ce)) {
          if (!ie)
            return;
          ce = new d(), m.set(X, ce);
        }
        var we = ce.get(re);
        if ($(we)) {
          if (!ie)
            return;
          we = new d(), ce.set(re, we);
        }
        return we;
      }
      function T(X, re, ie) {
        var ce = R(X, re, ie);
        if (ce)
          return !0;
        var we = q(re);
        return G(we) ? !1 : T(X, we, ie);
      }
      function R(X, re, ie) {
        var ce = E(
          re,
          ie,
          /*Create*/
          !1
        );
        return $(ce) ? !1 : ue(ce.has(X));
      }
      function N(X, re, ie) {
        var ce = R(X, re, ie);
        if (ce)
          return H(X, re, ie);
        var we = q(re);
        if (!G(we))
          return N(X, we, ie);
      }
      function H(X, re, ie) {
        var ce = E(
          re,
          ie,
          /*Create*/
          !1
        );
        if (!$(ce))
          return ce.get(X);
      }
      function Z(X, re, ie, ce) {
        var we = E(
          ie,
          ce,
          /*Create*/
          !0
        );
        we.set(X, re);
      }
      function K(X, re) {
        var ie = x(X, re), ce = q(X);
        if (ce === null)
          return ie;
        var we = K(ce, re);
        if (we.length <= 0)
          return ie;
        if (ie.length <= 0)
          return we;
        for (var Ce = new p(), Se = [], De = 0, me = ie; De < me.length; De++) {
          var _e = me[De], Ie = Ce.has(_e);
          Ie || (Ce.add(_e), Se.push(_e));
        }
        for (var Me = 0, Oe = we; Me < Oe.length; Me++) {
          var _e = Oe[Me], Ie = Ce.has(_e);
          Ie || (Ce.add(_e), Se.push(_e));
        }
        return Se;
      }
      function x(X, re) {
        var ie = [], ce = E(
          X,
          re,
          /*Create*/
          !1
        );
        if ($(ce))
          return ie;
        for (var we = ce.keys(), Ce = B(we), Se = 0; ; ) {
          var De = S(Ce);
          if (!De)
            return ie.length = Se, ie;
          var me = w(De);
          try {
            ie[Se] = me;
          } catch (_e) {
            try {
              I(Ce);
            } finally {
              throw _e;
            }
          }
          Se++;
        }
      }
      function V(X) {
        if (X === null)
          return 1;
        switch (typeof X) {
          case "undefined":
            return 0;
          case "boolean":
            return 2;
          case "string":
            return 3;
          case "symbol":
            return 4;
          case "number":
            return 5;
          case "object":
            return X === null ? 1 : 6;
          default:
            return 6;
        }
      }
      function $(X) {
        return X === void 0;
      }
      function G(X) {
        return X === null;
      }
      function z(X) {
        return typeof X == "symbol";
      }
      function ae(X) {
        return typeof X == "object" ? X !== null : typeof X == "function";
      }
      function le(X, re) {
        switch (V(X)) {
          case 0:
            return X;
          case 1:
            return X;
          case 2:
            return X;
          case 3:
            return X;
          case 4:
            return X;
          case 5:
            return X;
        }
        var ie = re === 3 ? "string" : re === 5 ? "number" : "default", ce = te(X, s);
        if (ce !== void 0) {
          var we = ce.call(X, ie);
          if (ae(we))
            throw new TypeError();
          return we;
        }
        return oe(X, ie === "default" ? "number" : ie);
      }
      function oe(X, re) {
        if (re === "string") {
          var ie = X.toString;
          if (U(ie)) {
            var ce = ie.call(X);
            if (!ae(ce))
              return ce;
          }
          var we = X.valueOf;
          if (U(we)) {
            var ce = we.call(X);
            if (!ae(ce))
              return ce;
          }
        } else {
          var we = X.valueOf;
          if (U(we)) {
            var ce = we.call(X);
            if (!ae(ce))
              return ce;
          }
          var Ce = X.toString;
          if (U(Ce)) {
            var ce = Ce.call(X);
            if (!ae(ce))
              return ce;
          }
        }
        throw new TypeError();
      }
      function ue(X) {
        return !!X;
      }
      function fe(X) {
        return "" + X;
      }
      function j(X) {
        var re = le(
          X,
          3
          /* String */
        );
        return z(re) ? re : fe(re);
      }
      function W(X) {
        return Array.isArray ? Array.isArray(X) : X instanceof Object ? X instanceof Array : Object.prototype.toString.call(X) === "[object Array]";
      }
      function U(X) {
        return typeof X == "function";
      }
      function Q(X) {
        return typeof X == "function";
      }
      function ee(X) {
        switch (V(X)) {
          case 3:
            return !0;
          case 4:
            return !0;
          default:
            return !1;
        }
      }
      function te(X, re) {
        var ie = X[re];
        if (ie != null) {
          if (!U(ie))
            throw new TypeError();
          return ie;
        }
      }
      function B(X) {
        var re = te(X, a);
        if (!U(re))
          throw new TypeError();
        var ie = re.call(X);
        if (!ae(ie))
          throw new TypeError();
        return ie;
      }
      function w(X) {
        return X.value;
      }
      function S(X) {
        var re = X.next();
        return re.done ? !1 : re;
      }
      function I(X) {
        var re = X.return;
        re && re.call(X);
      }
      function q(X) {
        var re = Object.getPrototypeOf(X);
        if (typeof X != "function" || X === h || re !== h)
          return re;
        var ie = X.prototype, ce = ie && Object.getPrototypeOf(ie);
        if (ce == null || ce === Object.prototype)
          return re;
        var we = ce.constructor;
        return typeof we != "function" || we === X ? re : we;
      }
      function Y() {
        var X = {}, re = [], ie = function() {
          function Se(De, me, _e) {
            this._index = 0, this._keys = De, this._values = me, this._selector = _e;
          }
          return Se.prototype["@@iterator"] = function() {
            return this;
          }, Se.prototype[a] = function() {
            return this;
          }, Se.prototype.next = function() {
            var De = this._index;
            if (De >= 0 && De < this._keys.length) {
              var me = this._selector(this._keys[De], this._values[De]);
              return De + 1 >= this._keys.length ? (this._index = -1, this._keys = re, this._values = re) : this._index++, { value: me, done: !1 };
            }
            return { value: void 0, done: !0 };
          }, Se.prototype.throw = function(De) {
            throw this._index >= 0 && (this._index = -1, this._keys = re, this._values = re), De;
          }, Se.prototype.return = function(De) {
            return this._index >= 0 && (this._index = -1, this._keys = re, this._values = re), { value: De, done: !0 };
          }, Se;
        }();
        return function() {
          function Se() {
            this._keys = [], this._values = [], this._cacheKey = X, this._cacheIndex = -2;
          }
          return Object.defineProperty(Se.prototype, "size", {
            get: function() {
              return this._keys.length;
            },
            enumerable: !0,
            configurable: !0
          }), Se.prototype.has = function(De) {
            return this._find(
              De,
              /*insert*/
              !1
            ) >= 0;
          }, Se.prototype.get = function(De) {
            var me = this._find(
              De,
              /*insert*/
              !1
            );
            return me >= 0 ? this._values[me] : void 0;
          }, Se.prototype.set = function(De, me) {
            var _e = this._find(
              De,
              /*insert*/
              !0
            );
            return this._values[_e] = me, this;
          }, Se.prototype.delete = function(De) {
            var me = this._find(
              De,
              /*insert*/
              !1
            );
            if (me >= 0) {
              for (var _e = this._keys.length, Ie = me + 1; Ie < _e; Ie++)
                this._keys[Ie - 1] = this._keys[Ie], this._values[Ie - 1] = this._values[Ie];
              return this._keys.length--, this._values.length--, De === this._cacheKey && (this._cacheKey = X, this._cacheIndex = -2), !0;
            }
            return !1;
          }, Se.prototype.clear = function() {
            this._keys.length = 0, this._values.length = 0, this._cacheKey = X, this._cacheIndex = -2;
          }, Se.prototype.keys = function() {
            return new ie(this._keys, this._values, ce);
          }, Se.prototype.values = function() {
            return new ie(this._keys, this._values, we);
          }, Se.prototype.entries = function() {
            return new ie(this._keys, this._values, Ce);
          }, Se.prototype["@@iterator"] = function() {
            return this.entries();
          }, Se.prototype[a] = function() {
            return this.entries();
          }, Se.prototype._find = function(De, me) {
            return this._cacheKey !== De && (this._cacheIndex = this._keys.indexOf(this._cacheKey = De)), this._cacheIndex < 0 && me && (this._cacheIndex = this._keys.length, this._keys.push(De), this._values.push(void 0)), this._cacheIndex;
          }, Se;
        }();
        function ce(Se, De) {
          return Se;
        }
        function we(Se, De) {
          return De;
        }
        function Ce(Se, De) {
          return [Se, De];
        }
      }
      function se() {
        return function() {
          function X() {
            this._map = new d();
          }
          return Object.defineProperty(X.prototype, "size", {
            get: function() {
              return this._map.size;
            },
            enumerable: !0,
            configurable: !0
          }), X.prototype.has = function(re) {
            return this._map.has(re);
          }, X.prototype.add = function(re) {
            return this._map.set(re, re), this;
          }, X.prototype.delete = function(re) {
            return this._map.delete(re);
          }, X.prototype.clear = function() {
            this._map.clear();
          }, X.prototype.keys = function() {
            return this._map.keys();
          }, X.prototype.values = function() {
            return this._map.values();
          }, X.prototype.entries = function() {
            return this._map.entries();
          }, X.prototype["@@iterator"] = function() {
            return this.keys();
          }, X.prototype[a] = function() {
            return this.keys();
          }, X;
        }();
      }
      function ge() {
        var X = 16, re = l.create(), ie = ce();
        return function() {
          function me() {
            this._key = ce();
          }
          return me.prototype.has = function(_e) {
            var Ie = we(
              _e,
              /*create*/
              !1
            );
            return Ie !== void 0 ? l.has(Ie, this._key) : !1;
          }, me.prototype.get = function(_e) {
            var Ie = we(
              _e,
              /*create*/
              !1
            );
            return Ie !== void 0 ? l.get(Ie, this._key) : void 0;
          }, me.prototype.set = function(_e, Ie) {
            var Me = we(
              _e,
              /*create*/
              !0
            );
            return Me[this._key] = Ie, this;
          }, me.prototype.delete = function(_e) {
            var Ie = we(
              _e,
              /*create*/
              !1
            );
            return Ie !== void 0 ? delete Ie[this._key] : !1;
          }, me.prototype.clear = function() {
            this._key = ce();
          }, me;
        }();
        function ce() {
          var me;
          do
            me = "@@WeakMap@@" + De();
          while (l.has(re, me));
          return re[me] = !0, me;
        }
        function we(me, _e) {
          if (!n.call(me, ie)) {
            if (!_e)
              return;
            Object.defineProperty(me, ie, { value: l.create() });
          }
          return me[ie];
        }
        function Ce(me, _e) {
          for (var Ie = 0; Ie < _e; ++Ie)
            me[Ie] = Math.random() * 255 | 0;
          return me;
        }
        function Se(me) {
          return typeof Uint8Array == "function" ? typeof crypto < "u" ? crypto.getRandomValues(new Uint8Array(me)) : typeof msCrypto < "u" ? msCrypto.getRandomValues(new Uint8Array(me)) : Ce(new Uint8Array(me), me) : Ce(new Array(me), me);
        }
        function De() {
          var me = Se(X);
          me[6] = me[6] & 79 | 64, me[8] = me[8] & 191 | 128;
          for (var _e = "", Ie = 0; Ie < X; ++Ie) {
            var Me = me[Ie];
            (Ie === 4 || Ie === 6 || Ie === 8) && (_e += "-"), Me < 16 && (_e += "0"), _e += Me.toString(16).toLowerCase();
          }
          return _e;
        }
      }
      function ve(X) {
        return X.__ = void 0, delete X.__, X;
      }
    });
  }(e || (e = {})), Ul;
}
let Ts;
function ja(e) {
  if (typeof e != "function")
    throw new Error("This module should not be used in runtime. Instead, use a transformer during compilation.");
}
const Hu = Symbol("assertions");
function $g(e, t) {
  let r = t;
  for (const n of e.slice(1))
    r = r[n.startsWith("[") ? parseInt(n.replace("[", "").replace("]", "")) : n];
  return r;
}
function zg(e, t, r) {
  if (e === void 0)
    return "validation error";
  const n = $g(t, r);
  try {
    return e + ", found: " + Nf().inspect(n);
  } catch {
  }
  try {
    return e + ", found: " + JSON.stringify(n);
  } catch {
  }
  return e;
}
class kf extends Error {
  constructor(t, r) {
    super(zg(t.message, t.path, r)), this.name = "TypeGuardError", this.path = t.path, this.reason = t.reason, this.input = r;
  }
}
function Wg(e, t = {}) {
  return j0(), function(r, n, i) {
    const s = Reflect.getOwnMetadata(Hu, r, n) || [];
    Reflect.getOwnMetadata("design:returntype", r, n) === Promise ? s[i] = { assertion: e, options: Object.assign({ async: !0 }, t) } : s[i] = { assertion: e, options: t }, Reflect.defineMetadata(Hu, s, r, n);
  };
}
function Gg(e = kf) {
  return j0(), function(t) {
    for (const r of Object.getOwnPropertyNames(t.prototype)) {
      const n = Reflect.getOwnMetadata(Hu, t.prototype, r);
      if (n) {
        const i = t.prototype[r];
        t.prototype[r] = function(...s) {
          for (let a = 0; a < n.length; a++) {
            if (!n[a])
              continue;
            const o = n[a].assertion(s[a]);
            if (o !== null) {
              const u = new e(o, s[a]);
              if (n[a].options.async)
                return Promise.reject(u);
              throw u;
            }
          }
          return i.apply(this, s);
        };
      }
    }
  };
}
function Uu(e, t = Ts) {
  return ja(t), t(e) === null;
}
function qu(e, t = Ts) {
  ja(t);
  const r = t(e);
  if (r === null)
    return e;
  throw new kf(r, e);
}
function Kl(e = Ts) {
  return ja(e), (t) => Uu(t, e);
}
function $l(e = Ts) {
  return ja(e), (t) => qu(t, e);
}
function Jg(e) {
  Ts = e;
}
var ci = {
  is: Uu,
  assertType: qu,
  createIs: Kl,
  createAssertType: $l,
  equals: Uu,
  createEquals: Kl,
  assertEquals: qu,
  createAssertEquals: $l,
  AssertType: Wg,
  ValidateClass: Gg,
  TypeGuardError: kf,
  setDefaultGetErrorObject: Jg
}, Ki = globalThis && globalThis.__awaiter || function(e, t, r, n) {
  function i(s) {
    return s instanceof r ? s : new r(function(a) {
      a(s);
    });
  }
  return new (r || (r = Promise))(function(s, a) {
    function o(l) {
      try {
        f(n.next(l));
      } catch (h) {
        a(h);
      }
    }
    function u(l) {
      try {
        f(n.throw(l));
      } catch (h) {
        a(h);
      }
    }
    function f(l) {
      l.done ? s(l.value) : i(l.value).then(o, u);
    }
    f((n = n.apply(e, t || [])).next());
  });
}, Yg = globalThis && globalThis.__rest || function(e, t) {
  var r = {};
  for (var n in e)
    Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);
  if (e != null && typeof Object.getOwnPropertySymbols == "function")
    for (var i = 0, n = Object.getOwnPropertySymbols(e); i < n.length; i++)
      t.indexOf(n[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[i]) && (r[n[i]] = e[n[i]]);
  return r;
};
function Xg(e) {
  return class extends e {
    constructor(...r) {
      super(...r), this.namespaces = {
        arweaveWallet: {
          walletName: "ArConnect",
          connect: () => this.address || this.connect(),
          disconnect: () => this.disconnect(),
          getActiveAddress: () => this.address,
          getActivePublicKey: () => this.getPublicKey(),
          getAllAddresses: () => {
            throw "not implemented";
          },
          getWalletNames: () => {
            throw "not implemented";
          },
          sign: (n, i) => this.signTransaction(n, i),
          dispatch: (n, i) => this.dispatch(n, i),
          encrypt: () => {
            throw "not implemented";
          },
          decrypt: (n, i) => this.decrypt(n, i),
          getPermissions: () => ["ACCESS_ADDRESS", "ACCESS_PUBLIC_KEY", "ACCESS_ALL_ADDRESSES", "SIGN_TRANSACTION", "ENCRYPT", "DECRYPT", "SIGNATURE", "ACCESS_ARWEAVE_CONFIG", "DISPATCH"],
          getArweaveConfig: () => this.getArweaveConfig()
        }
      };
    }
    postMessage(r, n, i) {
      return super.postMessage(r, n, Object.assign(Object.assign({}, i), { protocol: "arweave", version: "1.0.0" }));
    }
    getPublicKey() {
      return Ki(this, void 0, void 0, function* () {
        const r = yield this.postMessage("getPublicKey");
        if (!ci.is(r, (n) => {
          function i(s) {
            return typeof s != "string" ? {} : null;
          }
          return i(n);
        }))
          throw "TypeError";
        return r;
      });
    }
    getArweaveConfig() {
      return Ki(this, void 0, void 0, function* () {
        const r = yield this.postMessage("getArweaveConfig");
        if (!ci.is(r, (n) => {
          function i(b) {
            return b !== void 0 ? {} : null;
          }
          function s(b) {
            return typeof b != "string" ? {} : null;
          }
          function a(b) {
            var A = [i, s];
            for (const k of A) {
              var D = k(b);
              if (!D)
                return null;
            }
            return {};
          }
          function o(b) {
            return typeof b != "number" ? {} : null;
          }
          function u(b) {
            var A = [i, s, o];
            for (const k of A) {
              var D = k(b);
              if (!D)
                return null;
            }
            return {};
          }
          function f(b) {
            var A = [i, o];
            for (const k of A) {
              var D = k(b);
              if (!D)
                return null;
            }
            return {};
          }
          function l(b) {
            return b !== !1 ? {} : null;
          }
          function h(b) {
            return b !== !0 ? {} : null;
          }
          function c(b) {
            var A = [i, l, h];
            for (const k of A) {
              var D = k(b);
              if (!D)
                return null;
            }
            return {};
          }
          function d(b) {
            if (typeof b != "object" || b === null || Array.isArray(b))
              return {};
            if ("protocol" in b) {
              var A = a(b.protocol);
              if (A)
                return A;
            }
            if ("host" in b) {
              var A = a(b.host);
              if (A)
                return A;
            }
            if ("port" in b) {
              var A = u(b.port);
              if (A)
                return A;
            }
            if ("timeout" in b) {
              var A = f(b.timeout);
              if (A)
                return A;
            }
            if ("logging" in b) {
              var A = c(b.logging);
              if (A)
                return A;
            }
            return null;
          }
          function p() {
            return null;
          }
          function v(b) {
            if (typeof b != "object" || b === null || Array.isArray(b))
              return {};
            if ("logger" in b) {
              var A = p(b.logger);
              if (A)
                return A;
            }
            return null;
          }
          function m(b) {
            var A = [d, v];
            for (const k of A) {
              var D = k(b);
              if (D)
                return D;
            }
            return null;
          }
          return m(n);
        }))
          throw "TypeError";
        return delete r.logger, r;
      });
    }
    signTransaction(r, n) {
      var i;
      return Ki(this, void 0, void 0, function* () {
        const s = Yg(r, ["data", "chunks"]), a = yield this.postMessage("signTransaction", [s, n]);
        if (!ci.is(a, (o) => {
          function u(m) {
            return typeof m != "string" ? {} : null;
          }
          function f(m) {
            return m !== void 0 ? {} : null;
          }
          function l(m) {
            return m !== null ? {} : null;
          }
          function h(m) {
            var b = [f, l, u];
            for (const D of b) {
              var A = D(m);
              if (!A)
                return null;
            }
            return {};
          }
          function c(m) {
            if (typeof m != "object" || m === null || Array.isArray(m))
              return {};
            if ("name" in m) {
              var b = u(m.name);
              if (b)
                return b;
            } else
              return {};
            if ("value" in m) {
              var b = u(m.value);
              if (b)
                return b;
            } else
              return {};
            return null;
          }
          function d(m) {
            if (!Array.isArray(m))
              return {};
            for (let A = 0; A < m.length; A++) {
              var b = c(m[A]);
              if (b)
                return b;
            }
            return null;
          }
          function p(m) {
            var b = [f, l, d];
            for (const D of b) {
              var A = D(m);
              if (!A)
                return null;
            }
            return {};
          }
          function v(m) {
            if (typeof m != "object" || m === null || Array.isArray(m))
              return {};
            if ("id" in m) {
              var b = u(m.id);
              if (b)
                return b;
            } else
              return {};
            if ("owner" in m) {
              var b = h(m.owner);
              if (b)
                return b;
            }
            if ("tags" in m) {
              var b = p(m.tags);
              if (b)
                return b;
            }
            if ("signature" in m) {
              var b = u(m.signature);
              if (b)
                return b;
            } else
              return {};
            if ("reward" in m) {
              var b = h(m.reward);
              if (b)
                return b;
            }
            return null;
          }
          return v(o);
        }))
          throw "TypeError";
        return r.setSignature({
          id: a.id,
          owner: a.owner || r.owner,
          tags: (i = a.tags) === null || i === void 0 ? void 0 : i.map((o) => new Rg(o.name, o.value, !0)),
          signature: a.signature,
          reward: a.reward || void 0
        }), r;
      });
    }
    dispatch(r, n) {
      return Ki(this, void 0, void 0, function* () {
        const i = yield this.postMessage("dispatch", [r, n], { transfer: !0 });
        if (!ci.is(i, (s) => {
          function a(h) {
            return typeof h != "string" ? {} : null;
          }
          function o(h) {
            return h !== "BASE" ? {} : null;
          }
          function u(h) {
            return h !== "BUNDLED" ? {} : null;
          }
          function f(h) {
            var c = [o, u];
            for (const p of c) {
              var d = p(h);
              if (!d)
                return null;
            }
            return {};
          }
          function l(h) {
            if (typeof h != "object" || h === null || Array.isArray(h))
              return {};
            if ("id" in h) {
              var c = a(h.id);
              if (c)
                return c;
            }
            if ("type" in h) {
              var c = f(h.type);
              if (c)
                return c;
            }
            return null;
          }
          return l(s);
        }))
          throw "TypeError";
        return i;
      });
    }
    decrypt(r, n) {
      return Ki(this, void 0, void 0, function* () {
        const i = yield this.postMessage("decrypt", [r, n]);
        if (!ArrayBuffer.isView(i))
          throw "TypeError";
        const s = r.constructor;
        return new s(i.buffer);
      });
    }
  };
}
function Zg(e) {
  return { all: e = e || /* @__PURE__ */ new Map(), on: function(t, r) {
    var n = e.get(t);
    n ? n.push(r) : e.set(t, [r]);
  }, off: function(t, r) {
    var n = e.get(t);
    n && (r ? n.splice(n.indexOf(r) >>> 0, 1) : e.set(t, []));
  }, emit: function(t, r) {
    var n = e.get(t);
    n && n.slice().map(function(i) {
      i(r);
    }), (n = e.get("*")) && n.slice().map(function(i) {
      i(t, r);
    });
  } };
}
class L0 {
  constructor() {
    this.mittInstance = Zg();
  }
  emit(t, r) {
    this.mittInstance.emit(t, r);
  }
  on(t, r) {
    this.mittInstance.on(t, r);
  }
  off(t, r) {
    this.mittInstance.off(t, r);
  }
  once(t, r) {
    return new Promise((n) => {
      const i = (s) => {
        this.off(t, i), n(s), r && r(s);
      };
      this.on(t, i);
    });
  }
}
class Qg {
  constructor() {
    this._promiseController = [];
  }
  newMessagePromise(t, r) {
    t.id = this._promiseController.length;
    const n = new Promise((i, s) => this._promiseController.push({ resolve: i, reject: s }));
    return r != null && r.timeout && setTimeout(() => this._promiseController[t.id].reject("timeout"), r.timeout), n;
  }
  processResponse(t) {
    const { id: r, result: n, error: i } = t;
    if (r != null) {
      if (typeof r != "number" && typeof r != "string" || typeof r == "string" && isNaN(parseInt(r)))
        throw "error";
      if (!this._promiseController[+r])
        throw "received result to nonexistent request";
      return i != null ? this._promiseController[+r].reject(i) : this._promiseController[+r].resolve(n), !0;
    }
  }
}
const zl = "400", Wl = "600";
class ey extends L0 {
  constructor(t, r) {
    super(), this._iframe = {}, this._showIframe = !1, this._popup = {}, this._usePopup = !0, this._requirePopup = !1, this._keepPopup = !1, this._promiseController = new Qg(), this._pending = [], this.listener = (i) => {
      var s, a, o, u, f, l;
      if (i.source !== this._popup.window && i.source !== ((s = this._iframe) === null || s === void 0 ? void 0 : s.window) || i.origin !== ((a = this._url) === null || a === void 0 ? void 0 : a.origin) || typeof i.data != "object")
        return;
      const { method: h, params: c, id: d, result: p, error: v, session: m } = i.data;
      if (console.info(`WalletConnector:${i.source === this._popup.window ? "popup" : "iframe"}`, i.data), d != null && (this._pending = this._pending.filter((A) => A != d)), this._promiseController.processResponse(i.data) || typeof h != "string")
        return;
      if (h === "ready") {
        i.source === this._popup.window && ((u = (o = this._popup).resolve) === null || u === void 0 || u.call(o)), i.source === this._iframe.window && ((l = (f = this._iframe).resolve) === null || l === void 0 || l.call(f));
        return;
      }
      if (h === "change")
        return;
      if (h === "showIframe") {
        if (typeof c != "boolean")
          return;
        this.showIframe = c;
      }
      if (h === "usePopup") {
        if (typeof c != "boolean")
          return;
        this.setUsePopup(c);
      }
      if (h === "keepPopup") {
        if (typeof c != "boolean")
          return;
        this.setRequirePopup(c);
      }
      const b = { method: h, params: c, session: m };
      if (!ci.is(b, (A) => {
        function D(P) {
          return typeof P != "string" ? {} : null;
        }
        function k() {
          return null;
        }
        function L(P) {
          return P !== void 0 ? {} : null;
        }
        function _(P) {
          return typeof P != "number" ? {} : null;
        }
        function F(P) {
          var M = [L, D, _];
          for (const y of M) {
            var C = y(P);
            if (!C)
              return null;
          }
          return {};
        }
        function O(P) {
          if (typeof P != "object" || P === null || Array.isArray(P))
            return {};
          if ("method" in P) {
            var M = D(P.method);
            if (M)
              return M;
          } else
            return {};
          if ("params" in P) {
            var M = k(P.params);
            if (M)
              return M;
          } else
            return {};
          if ("session" in P) {
            var M = F(P.session);
            if (M)
              return M;
          }
          return null;
        }
        return O(A);
      }))
        return console.warn("dropped");
      this.emit("message", b);
    }, this._iframeParentNode = r == null ? void 0 : r.iframeParentNode, this._url = t;
    const n = {
      origin: window.location.origin,
      session: Math.random().toString().slice(2)
    };
    r != null && r.name && (n.name = r.name), r != null && r.logo && (n.logo = r.logo), this._url.hash = new URLSearchParams(n).toString(), window.addEventListener("message", this.listener);
  }
  get url() {
    var t;
    return (t = this._url) === null || t === void 0 ? void 0 : t.origin;
  }
  get showIframe() {
    return this._showIframe;
  }
  set showIframe(t) {
    t !== this._showIframe && (this._showIframe = t, this.deliverMessage({ method: "showIframe", params: t }), this.emit("builtin", { showIframe: t }), this._iframeNode && (this._iframeParentNode || (this._iframeNode.style.opacity = t ? "1" : "0", this._iframeNode.style.pointerEvents = t ? "" : "none", this._iframeNode.style.touchAction = t ? "" : "none", this._iframeNode.style.zIndex = t ? "1000000" : "-1000000", this._iframeNode.style.transform = t ? "" : "translate(0, 24px)", this._iframeNode.style.transition = t ? "opacity 0.36s cubic-bezier(0.22, 1, 0.36, 1), transform 0.36s cubic-bezier(0.22, 1, 0.36, 1)" : "opacity 0.1s ease, transform 0.1s ease, z-index 0s linear 0.1s")));
  }
  get usePopup() {
    return this._usePopup;
  }
  setUsePopup(t) {
    t !== this._usePopup && (this._usePopup = t, this.emit("builtin", { usePopup: t }));
  }
  get requirePopup() {
    return this._requirePopup;
  }
  setRequirePopup(t) {
    t !== this._requirePopup && (this._requirePopup = t, this.emit("builtin", { requirePopup: t }));
  }
  get keepPopup() {
    return this._keepPopup;
  }
  set keepPopup(t) {
    this._keepPopup = t, this.emit("builtin", { keepPopup: t }), t || this.closePopup(), t && this.openPopup(!0);
  }
  destructor(t) {
    this.closeIframe(), this.closePopup(!0), window.removeEventListener("message", this.listener);
  }
  postMessage(t, r) {
    const n = this._promiseController.newMessagePromise(t, r).finally(() => this.completeRequest());
    return this.deliverMessage(t), n;
  }
  openIframe() {
    if (this._iframeEl)
      return;
    this._iframeNode = document.createElement("div"), this._iframeEl = document.createElement("iframe"), this._iframeEl.src = this._url.toString(), this._iframeEl.allow = "usb; hid; bluetooth; serial; camera; payment; web-share", this._iframeEl.style.border = "none", this._iframeParentNode || (this._iframeEl.width = zl, this._iframeEl.height = Wl, this._iframeEl.style.borderRadius = "8px", this._iframeEl.style.maxWidth = "100%", this._iframeEl.style.maxHeight = "100%", this._iframeNode.style.position = "fixed", this._iframeNode.style.inset = "0", this._iframeNode.style.display = "flex", this._iframeNode.style.alignItems = "center", this._iframeNode.style.justifyContent = "center", this._iframeNode.style.background = "#00000088", this._iframeNode.style.opacity = "0", this._iframeNode.style.pointerEvents = "none", this._iframeNode.style.touchAction = "none", this._iframeNode.style.zIndex = "-1000000", this._iframeNode.style.transform = "translate(0, 24px)", this._iframeNode.style.transition = "opacity 0.1s ease, transform 0.1s ease, z-index 0s linear 0.1s"), this._iframeNode.appendChild(this._iframeEl);
    const t = new Promise((n, i) => this._iframe = { resolve: n, reject: i });
    this._iframe.promise = t;
    const r = () => {
      var n;
      this._iframeParentNode ? this._iframeParentNode.appendChild(this._iframeNode) : document.body.appendChild(this._iframeNode), this._iframe.window = (n = this._iframeEl) === null || n === void 0 ? void 0 : n.contentWindow;
    };
    document.readyState === "complete" || document.readyState === "interactive" ? r() : document.addEventListener("DOMContentLoaded", r);
  }
  closeIframe() {
    var t, r, n, i;
    (t = this._iframeEl) === null || t === void 0 || t.setAttribute("src", "about:blank"), (r = this._iframeNode) === null || r === void 0 || r.remove(), this._iframeNode = void 0, this._iframeEl = void 0, (i = (n = this._iframe).reject) === null || i === void 0 || i.call(n), this._iframe = {};
  }
  openPopup(t) {
    if (this._popup.window && !this._popup.window.closed) {
      this._popup.window.focus();
      return;
    }
    if (!this.usePopup && !t)
      return;
    window.name = "parent";
    const r = window.open(this._url.toString(), "_blank", `location,resizable,scrollbars,width=${zl},height=${Wl}`), n = new Promise((s, a) => this._popup = { window: r, resolve: s, reject: a });
    this._popup.promise = n;
    const i = setInterval(() => {
      this._popup.window && !this._popup.window.closed || (this.keepPopup && (this.keepPopup = !1), clearInterval(i));
    }, 200);
  }
  closePopup(t) {
    var r, n, i;
    !this._popup.window || !((r = this._popup.window) === null || r === void 0) && r.closed || (this.keepPopup || this.requirePopup) && !t || (this._popup.window.location.href = "about:blank", this._popup.window.close(), (i = (n = this._popup).reject) === null || i === void 0 || i.call(n), this._popup = {});
  }
  completeRequest() {
    setTimeout(() => {
      this._pending.length || (this.closePopup(), this.showIframe = !1);
    }, 100);
  }
  deliverMessage(t, r) {
    var n, i;
    if (!this._url)
      throw "Missing URL";
    console.info("WalletConnector:post", t);
    const s = Object.assign(Object.assign({}, t), { jsonrpc: "2.0" });
    s.id != null && this._pending.push(s.id), this.openIframe(), this._iframe.promise = (n = this._iframe.promise) === null || n === void 0 ? void 0 : n.then(() => {
      var a;
      return (a = this._iframe.window) === null || a === void 0 ? void 0 : a.postMessage(s, this._url.origin, r != null && r.transfer ? [s] : void 0);
    }).catch(() => {
    }), this.openPopup(), this._popup.promise = (i = this._popup.promise) === null || i === void 0 ? void 0 : i.then(() => {
      var a;
      return (a = this._popup.window) === null || a === void 0 ? void 0 : a.postMessage(s, this._url.origin, r != null && r.transfer ? [s] : void 0);
    }).catch(() => {
    });
  }
}
function ty(e) {
  return typeof e == "object" ? e : (e.includes("://") || (e = "https://" + e), new URL(e));
}
let Gl;
const Un = [], is = {}, Ku = {};
function ry(e) {
  e.namespaces && (Un.find((t) => t === e) || Un.push(e), pa());
}
function ny(e) {
  if (!Un.find((t) => t === e))
    return pa();
  Un.splice(Un.indexOf(e), 1);
  for (const t in e.namespaces)
    is[t] === e && (window[t] = Ku[t], delete Ku[t], delete is[t]);
  pa();
}
function pa() {
  for (const e of Un)
    for (const t in e.namespaces)
      is[t] && is[t] !== e || window[t] !== e.namespaces[t] && (Ku[t] = window[t], window[t] = e.namespaces[t], is[t] = e);
  window.clearInterval(Gl), Un.length && (Gl = setInterval(() => pa(), 1e4));
}
const iy = "Window context missing. If you are using a server side rendering framework, make sure that the connector is excluded. If you want to use the connector outside the browser, use the node version of the module instead";
var Zo = globalThis && globalThis.__awaiter || function(e, t, r, n) {
  function i(s) {
    return s instanceof r ? s : new r(function(a) {
      a(s);
    });
  }
  return new (r || (r = Promise))(function(s, a) {
    function o(l) {
      try {
        f(n.next(l));
      } catch (h) {
        a(h);
      }
    }
    function u(l) {
      try {
        f(n.throw(l));
      } catch (h) {
        a(h);
      }
    }
    function f(l) {
      l.done ? s(l.value) : i(l.value).then(o, u);
    }
    f((n = n.apply(e, t || [])).next());
  });
};
class tr extends L0 {
  constructor(t, r) {
    super(), this._session = 0, this._listener = (n) => {
      const { method: i, params: s, session: a } = n;
      if (!(a != null && this._session != a) && !(!a && this._session)) {
        if (i === "connect") {
          if (!ci.is(s, (o) => {
            function u(f) {
              return typeof f != "string" ? {} : null;
            }
            return u(o);
          }))
            return;
          this.setAddress(s);
        }
        i === "disconnect" && this.disconnectEvent(!1);
      }
    }, this._appInfo = t, this._emitterPassthrough = (n) => {
      const i = Object.entries(n)[0];
      this.emit(i[0], i[1]);
    }, this.on("connect", () => ry(this)), this.on("disconnect", () => ny(this)), r && this.setUrl(r);
  }
  get address() {
    return this._address;
  }
  setAddress(t) {
    t && t === this.address || (this._address = t, t != null ? this.emit("connect", t) : this.emit("disconnect", t), this.emit("change", t));
  }
  get connected() {
    return this._address != null;
  }
  get url() {
    var t;
    return (t = this._bridge) === null || t === void 0 ? void 0 : t.url;
  }
  get showIframe() {
    var t;
    return ((t = this._bridge) === null || t === void 0 ? void 0 : t.showIframe) || !1;
  }
  get usePopup() {
    var t;
    return ((t = this._bridge) === null || t === void 0 ? void 0 : t.usePopup) || !1;
  }
  get requirePopup() {
    var t;
    return ((t = this._bridge) === null || t === void 0 ? void 0 : t.requirePopup) || !1;
  }
  get keepPopup() {
    var t;
    return ((t = this._bridge) === null || t === void 0 ? void 0 : t.keepPopup) || !1;
  }
  set keepPopup(t) {
    this._bridge && (this._bridge.keepPopup = t);
  }
  setUrl(t) {
    var r;
    if (!window) {
      console.error(iy);
      return;
    }
    const n = this._bridge, i = ty(t);
    if (this._url = i, ((r = this._bridge) === null || r === void 0 ? void 0 : r.url) !== i.origin) {
      if (this.disconnect(), !tr._bridges[i.origin])
        this._bridge = new ey(i, this._appInfo), tr._bridges[i.origin] = { bridge: this._bridge, sessions: [] };
      else {
        this._bridge = tr._bridges[i.origin].bridge;
        const s = tr._bridges[i.origin].sessions;
        for (let a = 0; a <= s.length; a++)
          if (s.indexOf(a) < 0) {
            this._session = a;
            break;
          }
      }
      tr._bridges[i.origin].sessions.push(this._session), this._bridge.on("message", this._listener), this._bridge.on("builtin", this._emitterPassthrough), this._bridge.showIframe !== (n == null ? void 0 : n.showIframe) && this.emit("showIframe", this._bridge.showIframe), this._bridge.usePopup !== (n == null ? void 0 : n.usePopup) && this.emit("usePopup", this._bridge.usePopup), this._bridge.requirePopup !== (n == null ? void 0 : n.requirePopup) && this.emit("requirePopup", this._bridge.requirePopup), this._bridge.keepPopup !== (n == null ? void 0 : n.keepPopup) && this.emit("keepPopup", this._bridge.keepPopup);
    }
  }
  connect(t) {
    return Zo(this, void 0, void 0, function* () {
      this._bridge || this._url && this.setUrl(this._url);
      const r = new Promise((n, i) => {
        this.once("change", (s) => s ? n(s) : i());
      }).finally(() => {
        var n;
        return (n = this._bridge) === null || n === void 0 ? void 0 : n.completeRequest();
      });
      return this._bridge.deliverMessage({ method: "connect", params: t }), r;
    });
  }
  disconnect(t) {
    return Zo(this, void 0, void 0, function* () {
      return this.disconnectEvent(!0, t);
    });
  }
  disconnectEvent(t, r) {
    return Zo(this, void 0, void 0, function* () {
      if (!this._bridge)
        return;
      const n = this._bridge, i = this._session, s = n.url;
      if (this.setAddress(void 0), this._bridge = void 0, this._session = 0, t)
        try {
          yield n.postMessage({ method: "disconnect", params: [r], session: i });
        } catch {
          console.warn("disconnect request failed");
        }
      n.off("message", this._listener), n.off("builtin", this._emitterPassthrough), tr._bridges[s].sessions = tr._bridges[s].sessions.filter((a) => a != i), setTimeout(() => {
        tr._bridges[s].sessions.length || (tr._bridges[s].bridge.destructor(), delete tr._bridges[s]);
      }, 100);
    });
  }
  postMessage(t, r, n) {
    return new Promise((i, s) => {
      if (!this._bridge)
        return s("URL missing");
      this.once("disconnect", s), this._bridge.postMessage({ method: t, params: r, session: this._session, protocol: n == null ? void 0 : n.protocol, version: n == null ? void 0 : n.version }, n).then(i).catch(s);
    });
  }
}
tr._bridges = {};
const Jl = Xg(tr);
function V0(e, t) {
  for (const r of e)
    if (!t.includes(r))
      return !1;
  return !0;
}
function H0(e, t = 13) {
  return e.substring(0, t) + "..." + e.substring(e.length - t, e.length);
}
const U0 = (e) => `${e.r}, ${e.g}, ${e.b}`;
async function Yt(e, t = []) {
  return window != null && window.arweaveWallet ? await window.arweaveWallet[e](...t) : new Promise(
    (r, n) => window.addEventListener("arweaveWalletLoaded", async () => {
      try {
        r(await window.arweaveWallet[e](...t));
      } catch (i) {
        n(i);
      }
    })
  );
}
class jf {
  constructor() {
    ut(this, "id", "browserwallet");
    ut(this, "name", "Browser Wallet");
    ut(this, "description", "Any browser wallet with an injected API");
    ut(this, "theme", "121,212,131");
    ut(this, "logo", "KKiSlNKc5K59MXzUPz5qjtCLsl6_ckjAOg9MyAzaUs0");
  }
  async isAvailable() {
    return typeof window > "u" || !window ? (console.error(
      `[Arweave Wallet Kit] "${this.id}" strategy is unavailable. Window is undefined`
    ), !1) : window.arweaveWallet ? !0 : new Promise((t) => {
      const r = () => t(!0);
      window.addEventListener("arweaveWalletLoaded", r), setTimeout(() => {
        window.removeEventListener("arweaveWalletLoaded", r), window.arweaveWallet || console.error(
          `[Arweave Wallet Kit] "${this.id}" strategy is unavailable. window.arweaveWallet is undefined`
        ), t(!!window.arweaveWallet);
      }, 7e3);
    });
  }
  async sync() {
  }
  async connect(t, r, n) {
    return await Yt("connect", [t, r, n]);
  }
  async disconnect() {
    return await Yt("disconnect");
  }
  async getActiveAddress() {
    return await Yt("getActiveAddress");
  }
  async getAllAddresses() {
    return await Yt("getAllAddresses");
  }
  async getPermissions() {
    return await Yt("getPermissions");
  }
  async getWalletNames() {
    return await Yt("getWalletNames");
  }
  async sign(t, r) {
    const n = await Yt("sign", [
      t,
      r
    ]);
    return t.setSignature({
      id: n.id,
      owner: n.owner,
      reward: n.reward,
      tags: n.tags,
      signature: n.signature
    }), t;
  }
  async encrypt(t, r) {
    return await Yt("encrypt", [t, r]);
  }
  async decrypt(t, r) {
    return await Yt("decrypt", [t, r]);
  }
  async getArweaveConfig() {
    return await Yt("getArweaveConfig");
  }
  async signature(t, r) {
    return await Yt("signature", [t, r]);
  }
  async getActivePublicKey() {
    return await Yt("getActivePublicKey");
  }
  async addToken(t) {
    throw new Error("Not implemented");
  }
  async dispatch(t) {
    return await Yt("dispatch", [t]);
  }
  addAddressEvent(t) {
    const r = (n) => t(n.detail.address);
    return addEventListener("walletSwitch", r), r;
  }
  removeAddressEvent(t) {
    removeEventListener("walletSwitch", t);
  }
}
var xn;
class sy extends jf {
  constructor() {
    super();
    // @ts-expect-error
    ut(this, "id", "webwallet");
    ut(this, "name", "Arweave.app");
    ut(this, "description", "Web based wallet software");
    ut(this, "theme", "24, 24, 24");
    ut(this, "logo", "qVms-k8Ox-eKFJN5QFvrPQvT9ryqQXaFcYbr-fJbgLY");
    ut(this, "url", "https://arweave.app");
    qi(this, xn, new Jl());
  }
  async isAvailable() {
    return !0;
  }
  async resumeSession() {
    ur(this, xn).setUrl("arweave.app"), await ur(this, xn).connect();
  }
  async connect(r, n, i) {
    i && console.warn(
      "[Arweave Wallet Kit] Arweave.app does not support custom gateway connection yet."
    ), Oo(this, xn, new Jl(n)), await this.resumeSession();
  }
  addAddressEvent(r) {
    return ur(this, xn).on("connect", r), r;
  }
  removeAddressEvent(r) {
    ur(this, xn).off("connect", r);
  }
}
xn = new WeakMap();
class ay extends jf {
  constructor() {
    super();
    // @ts-expect-error
    ut(this, "id", "arconnect");
    ut(this, "name", "ArConnect");
    ut(this, "description", "Non-custodial Arweave wallet for your favorite browser");
    ut(this, "theme", "171, 154, 255");
    ut(this, "logo", "tQUcL4wlNj_NED2VjUGUhfCTJ6pDN9P0e3CbnHo3vUE");
    ut(this, "url", "https://arconnect.io");
  }
  async isAvailable() {
    return await super.isAvailable() ? window.arweaveWallet.walletName === "ArConnect" : !1;
  }
  async addToken(r) {
    return await Yt("addToken", [r]);
  }
}
function q0(e, t) {
  return function() {
    return e.apply(t, arguments);
  };
}
const { toString: oy } = Object.prototype, { getPrototypeOf: Lf } = Object, La = ((e) => (t) => {
  const r = oy.call(t);
  return e[r] || (e[r] = r.slice(8, -1).toLowerCase());
})(/* @__PURE__ */ Object.create(null)), Yr = (e) => (e = e.toLowerCase(), (t) => La(t) === e), Va = (e) => (t) => typeof t === e, { isArray: Di } = Array, ds = Va("undefined");
function uy(e) {
  return e !== null && !ds(e) && e.constructor !== null && !ds(e.constructor) && yr(e.constructor.isBuffer) && e.constructor.isBuffer(e);
}
const K0 = Yr("ArrayBuffer");
function fy(e) {
  let t;
  return typeof ArrayBuffer < "u" && ArrayBuffer.isView ? t = ArrayBuffer.isView(e) : t = e && e.buffer && K0(e.buffer), t;
}
const cy = Va("string"), yr = Va("function"), $0 = Va("number"), Ha = (e) => e !== null && typeof e == "object", ly = (e) => e === !0 || e === !1, na = (e) => {
  if (La(e) !== "object")
    return !1;
  const t = Lf(e);
  return (t === null || t === Object.prototype || Object.getPrototypeOf(t) === null) && !(Symbol.toStringTag in e) && !(Symbol.iterator in e);
}, hy = Yr("Date"), dy = Yr("File"), py = Yr("Blob"), vy = Yr("FileList"), gy = (e) => Ha(e) && yr(e.pipe), yy = (e) => {
  let t;
  return e && (typeof FormData == "function" && e instanceof FormData || yr(e.append) && ((t = La(e)) === "formdata" || t === "object" && yr(e.toString) && e.toString() === "[object FormData]"));
}, my = Yr("URLSearchParams"), by = (e) => e.trim ? e.trim() : e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
function Ps(e, t, { allOwnKeys: r = !1 } = {}) {
  if (e === null || typeof e > "u")
    return;
  let n, i;
  if (typeof e != "object" && (e = [e]), Di(e))
    for (n = 0, i = e.length; n < i; n++)
      t.call(null, e[n], n, e);
  else {
    const s = r ? Object.getOwnPropertyNames(e) : Object.keys(e), a = s.length;
    let o;
    for (n = 0; n < a; n++)
      o = s[n], t.call(null, e[o], o, e);
  }
}
function z0(e, t) {
  t = t.toLowerCase();
  const r = Object.keys(e);
  let n = r.length, i;
  for (; n-- > 0; )
    if (i = r[n], t === i.toLowerCase())
      return i;
  return null;
}
const W0 = (() => typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : typeof window < "u" ? window : global)(), G0 = (e) => !ds(e) && e !== W0;
function $u() {
  const { caseless: e } = G0(this) && this || {}, t = {}, r = (n, i) => {
    const s = e && z0(t, i) || i;
    na(t[s]) && na(n) ? t[s] = $u(t[s], n) : na(n) ? t[s] = $u({}, n) : Di(n) ? t[s] = n.slice() : t[s] = n;
  };
  for (let n = 0, i = arguments.length; n < i; n++)
    arguments[n] && Ps(arguments[n], r);
  return t;
}
const wy = (e, t, r, { allOwnKeys: n } = {}) => (Ps(t, (i, s) => {
  r && yr(i) ? e[s] = q0(i, r) : e[s] = i;
}, { allOwnKeys: n }), e), xy = (e) => (e.charCodeAt(0) === 65279 && (e = e.slice(1)), e), Sy = (e, t, r, n) => {
  e.prototype = Object.create(t.prototype, n), e.prototype.constructor = e, Object.defineProperty(e, "super", {
    value: t.prototype
  }), r && Object.assign(e.prototype, r);
}, Ey = (e, t, r, n) => {
  let i, s, a;
  const o = {};
  if (t = t || {}, e == null)
    return t;
  do {
    for (i = Object.getOwnPropertyNames(e), s = i.length; s-- > 0; )
      a = i[s], (!n || n(a, e, t)) && !o[a] && (t[a] = e[a], o[a] = !0);
    e = r !== !1 && Lf(e);
  } while (e && (!r || r(e, t)) && e !== Object.prototype);
  return t;
}, Ay = (e, t, r) => {
  e = String(e), (r === void 0 || r > e.length) && (r = e.length), r -= t.length;
  const n = e.indexOf(t, r);
  return n !== -1 && n === r;
}, _y = (e) => {
  if (!e)
    return null;
  if (Di(e))
    return e;
  let t = e.length;
  if (!$0(t))
    return null;
  const r = new Array(t);
  for (; t-- > 0; )
    r[t] = e[t];
  return r;
}, Ty = ((e) => (t) => e && t instanceof e)(typeof Uint8Array < "u" && Lf(Uint8Array)), Py = (e, t) => {
  const n = (e && e[Symbol.iterator]).call(e);
  let i;
  for (; (i = n.next()) && !i.done; ) {
    const s = i.value;
    t.call(e, s[0], s[1]);
  }
}, Fy = (e, t) => {
  let r;
  const n = [];
  for (; (r = e.exec(t)) !== null; )
    n.push(r);
  return n;
}, Iy = Yr("HTMLFormElement"), Cy = (e) => e.toLowerCase().replace(
  /[-_\s]([a-z\d])(\w*)/g,
  function(r, n, i) {
    return n.toUpperCase() + i;
  }
), Yl = (({ hasOwnProperty: e }) => (t, r) => e.call(t, r))(Object.prototype), Ry = Yr("RegExp"), J0 = (e, t) => {
  const r = Object.getOwnPropertyDescriptors(e), n = {};
  Ps(r, (i, s) => {
    t(i, s, e) !== !1 && (n[s] = i);
  }), Object.defineProperties(e, n);
}, Oy = (e) => {
  J0(e, (t, r) => {
    if (yr(e) && ["arguments", "caller", "callee"].indexOf(r) !== -1)
      return !1;
    const n = e[r];
    if (yr(n)) {
      if (t.enumerable = !1, "writable" in t) {
        t.writable = !1;
        return;
      }
      t.set || (t.set = () => {
        throw Error("Can not rewrite read-only method '" + r + "'");
      });
    }
  });
}, Dy = (e, t) => {
  const r = {}, n = (i) => {
    i.forEach((s) => {
      r[s] = !0;
    });
  };
  return Di(e) ? n(e) : n(String(e).split(t)), r;
}, My = () => {
}, By = (e, t) => (e = +e, Number.isFinite(e) ? e : t), Qo = "abcdefghijklmnopqrstuvwxyz", Xl = "0123456789", Y0 = {
  DIGIT: Xl,
  ALPHA: Qo,
  ALPHA_DIGIT: Qo + Qo.toUpperCase() + Xl
}, Ny = (e = 16, t = Y0.ALPHA_DIGIT) => {
  let r = "";
  const { length: n } = t;
  for (; e--; )
    r += t[Math.random() * n | 0];
  return r;
};
function ky(e) {
  return !!(e && yr(e.append) && e[Symbol.toStringTag] === "FormData" && e[Symbol.iterator]);
}
const jy = (e) => {
  const t = new Array(10), r = (n, i) => {
    if (Ha(n)) {
      if (t.indexOf(n) >= 0)
        return;
      if (!("toJSON" in n)) {
        t[i] = n;
        const s = Di(n) ? [] : {};
        return Ps(n, (a, o) => {
          const u = r(a, i + 1);
          !ds(u) && (s[o] = u);
        }), t[i] = void 0, s;
      }
    }
    return n;
  };
  return r(e, 0);
}, Ly = Yr("AsyncFunction"), Vy = (e) => e && (Ha(e) || yr(e)) && yr(e.then) && yr(e.catch), pe = {
  isArray: Di,
  isArrayBuffer: K0,
  isBuffer: uy,
  isFormData: yy,
  isArrayBufferView: fy,
  isString: cy,
  isNumber: $0,
  isBoolean: ly,
  isObject: Ha,
  isPlainObject: na,
  isUndefined: ds,
  isDate: hy,
  isFile: dy,
  isBlob: py,
  isRegExp: Ry,
  isFunction: yr,
  isStream: gy,
  isURLSearchParams: my,
  isTypedArray: Ty,
  isFileList: vy,
  forEach: Ps,
  merge: $u,
  extend: wy,
  trim: by,
  stripBOM: xy,
  inherits: Sy,
  toFlatObject: Ey,
  kindOf: La,
  kindOfTest: Yr,
  endsWith: Ay,
  toArray: _y,
  forEachEntry: Py,
  matchAll: Fy,
  isHTMLForm: Iy,
  hasOwnProperty: Yl,
  hasOwnProp: Yl,
  // an alias to avoid ESLint no-prototype-builtins detection
  reduceDescriptors: J0,
  freezeMethods: Oy,
  toObjectSet: Dy,
  toCamelCase: Cy,
  noop: My,
  toFiniteNumber: By,
  findKey: z0,
  global: W0,
  isContextDefined: G0,
  ALPHABET: Y0,
  generateString: Ny,
  isSpecCompliantForm: ky,
  toJSONObject: jy,
  isAsyncFn: Ly,
  isThenable: Vy
};
function Ue(e, t, r, n, i) {
  Error.call(this), Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = new Error().stack, this.message = e, this.name = "AxiosError", t && (this.code = t), r && (this.config = r), n && (this.request = n), i && (this.response = i);
}
pe.inherits(Ue, Error, {
  toJSON: function() {
    return {
      // Standard
      message: this.message,
      name: this.name,
      // Microsoft
      description: this.description,
      number: this.number,
      // Mozilla
      fileName: this.fileName,
      lineNumber: this.lineNumber,
      columnNumber: this.columnNumber,
      stack: this.stack,
      // Axios
      config: pe.toJSONObject(this.config),
      code: this.code,
      status: this.response && this.response.status ? this.response.status : null
    };
  }
});
const X0 = Ue.prototype, Z0 = {};
[
  "ERR_BAD_OPTION_VALUE",
  "ERR_BAD_OPTION",
  "ECONNABORTED",
  "ETIMEDOUT",
  "ERR_NETWORK",
  "ERR_FR_TOO_MANY_REDIRECTS",
  "ERR_DEPRECATED",
  "ERR_BAD_RESPONSE",
  "ERR_BAD_REQUEST",
  "ERR_CANCELED",
  "ERR_NOT_SUPPORT",
  "ERR_INVALID_URL"
  // eslint-disable-next-line func-names
].forEach((e) => {
  Z0[e] = { value: e };
});
Object.defineProperties(Ue, Z0);
Object.defineProperty(X0, "isAxiosError", { value: !0 });
Ue.from = (e, t, r, n, i, s) => {
  const a = Object.create(X0);
  return pe.toFlatObject(e, a, function(u) {
    return u !== Error.prototype;
  }, (o) => o !== "isAxiosError"), Ue.call(a, e.message, t, r, n, i), a.cause = e, a.name = e.name, s && Object.assign(a, s), a;
};
const Hy = null;
function zu(e) {
  return pe.isPlainObject(e) || pe.isArray(e);
}
function Q0(e) {
  return pe.endsWith(e, "[]") ? e.slice(0, -2) : e;
}
function Zl(e, t, r) {
  return e ? e.concat(t).map(function(i, s) {
    return i = Q0(i), !r && s ? "[" + i + "]" : i;
  }).join(r ? "." : "") : t;
}
function Uy(e) {
  return pe.isArray(e) && !e.some(zu);
}
const qy = pe.toFlatObject(pe, {}, null, function(t) {
  return /^is[A-Z]/.test(t);
});
function Ua(e, t, r) {
  if (!pe.isObject(e))
    throw new TypeError("target must be an object");
  t = t || new FormData(), r = pe.toFlatObject(r, {
    metaTokens: !0,
    dots: !1,
    indexes: !1
  }, !1, function(v, m) {
    return !pe.isUndefined(m[v]);
  });
  const n = r.metaTokens, i = r.visitor || l, s = r.dots, a = r.indexes, u = (r.Blob || typeof Blob < "u" && Blob) && pe.isSpecCompliantForm(t);
  if (!pe.isFunction(i))
    throw new TypeError("visitor must be a function");
  function f(p) {
    if (p === null)
      return "";
    if (pe.isDate(p))
      return p.toISOString();
    if (!u && pe.isBlob(p))
      throw new Ue("Blob is not supported. Use a Buffer instead.");
    return pe.isArrayBuffer(p) || pe.isTypedArray(p) ? u && typeof Blob == "function" ? new Blob([p]) : Buffer.from(p) : p;
  }
  function l(p, v, m) {
    let b = p;
    if (p && !m && typeof p == "object") {
      if (pe.endsWith(v, "{}"))
        v = n ? v : v.slice(0, -2), p = JSON.stringify(p);
      else if (pe.isArray(p) && Uy(p) || (pe.isFileList(p) || pe.endsWith(v, "[]")) && (b = pe.toArray(p)))
        return v = Q0(v), b.forEach(function(D, k) {
          !(pe.isUndefined(D) || D === null) && t.append(
            // eslint-disable-next-line no-nested-ternary
            a === !0 ? Zl([v], k, s) : a === null ? v : v + "[]",
            f(D)
          );
        }), !1;
    }
    return zu(p) ? !0 : (t.append(Zl(m, v, s), f(p)), !1);
  }
  const h = [], c = Object.assign(qy, {
    defaultVisitor: l,
    convertValue: f,
    isVisitable: zu
  });
  function d(p, v) {
    if (!pe.isUndefined(p)) {
      if (h.indexOf(p) !== -1)
        throw Error("Circular reference detected in " + v.join("."));
      h.push(p), pe.forEach(p, function(b, A) {
        (!(pe.isUndefined(b) || b === null) && i.call(
          t,
          b,
          pe.isString(A) ? A.trim() : A,
          v,
          c
        )) === !0 && d(b, v ? v.concat(A) : [A]);
      }), h.pop();
    }
  }
  if (!pe.isObject(e))
    throw new TypeError("data must be an object");
  return d(e), t;
}
function Ql(e) {
  const t = {
    "!": "%21",
    "'": "%27",
    "(": "%28",
    ")": "%29",
    "~": "%7E",
    "%20": "+",
    "%00": "\0"
  };
  return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g, function(n) {
    return t[n];
  });
}
function Vf(e, t) {
  this._pairs = [], e && Ua(e, this, t);
}
const ep = Vf.prototype;
ep.append = function(t, r) {
  this._pairs.push([t, r]);
};
ep.toString = function(t) {
  const r = t ? function(n) {
    return t.call(this, n, Ql);
  } : Ql;
  return this._pairs.map(function(i) {
    return r(i[0]) + "=" + r(i[1]);
  }, "").join("&");
};
function Ky(e) {
  return encodeURIComponent(e).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]");
}
function tp(e, t, r) {
  if (!t)
    return e;
  const n = r && r.encode || Ky, i = r && r.serialize;
  let s;
  if (i ? s = i(t, r) : s = pe.isURLSearchParams(t) ? t.toString() : new Vf(t, r).toString(n), s) {
    const a = e.indexOf("#");
    a !== -1 && (e = e.slice(0, a)), e += (e.indexOf("?") === -1 ? "?" : "&") + s;
  }
  return e;
}
class $y {
  constructor() {
    this.handlers = [];
  }
  /**
   * Add a new interceptor to the stack
   *
   * @param {Function} fulfilled The function to handle `then` for a `Promise`
   * @param {Function} rejected The function to handle `reject` for a `Promise`
   *
   * @return {Number} An ID used to remove interceptor later
   */
  use(t, r, n) {
    return this.handlers.push({
      fulfilled: t,
      rejected: r,
      synchronous: n ? n.synchronous : !1,
      runWhen: n ? n.runWhen : null
    }), this.handlers.length - 1;
  }
  /**
   * Remove an interceptor from the stack
   *
   * @param {Number} id The ID that was returned by `use`
   *
   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise
   */
  eject(t) {
    this.handlers[t] && (this.handlers[t] = null);
  }
  /**
   * Clear all interceptors from the stack
   *
   * @returns {void}
   */
  clear() {
    this.handlers && (this.handlers = []);
  }
  /**
   * Iterate over all the registered interceptors
   *
   * This method is particularly useful for skipping over any
   * interceptors that may have become `null` calling `eject`.
   *
   * @param {Function} fn The function to call for each interceptor
   *
   * @returns {void}
   */
  forEach(t) {
    pe.forEach(this.handlers, function(n) {
      n !== null && t(n);
    });
  }
}
const eh = $y, rp = {
  silentJSONParsing: !0,
  forcedJSONParsing: !0,
  clarifyTimeoutError: !1
}, zy = typeof URLSearchParams < "u" ? URLSearchParams : Vf, Wy = typeof FormData < "u" ? FormData : null, Gy = typeof Blob < "u" ? Blob : null, Jy = (() => {
  let e;
  return typeof navigator < "u" && ((e = navigator.product) === "ReactNative" || e === "NativeScript" || e === "NS") ? !1 : typeof window < "u" && typeof document < "u";
})(), Yy = (() => typeof WorkerGlobalScope < "u" && // eslint-disable-next-line no-undef
self instanceof WorkerGlobalScope && typeof self.importScripts == "function")(), Vr = {
  isBrowser: !0,
  classes: {
    URLSearchParams: zy,
    FormData: Wy,
    Blob: Gy
  },
  isStandardBrowserEnv: Jy,
  isStandardBrowserWebWorkerEnv: Yy,
  protocols: ["http", "https", "file", "blob", "url", "data"]
};
function Xy(e, t) {
  return Ua(e, new Vr.classes.URLSearchParams(), Object.assign({
    visitor: function(r, n, i, s) {
      return Vr.isNode && pe.isBuffer(r) ? (this.append(n, r.toString("base64")), !1) : s.defaultVisitor.apply(this, arguments);
    }
  }, t));
}
function Zy(e) {
  return pe.matchAll(/\w+|\[(\w*)]/g, e).map((t) => t[0] === "[]" ? "" : t[1] || t[0]);
}
function Qy(e) {
  const t = {}, r = Object.keys(e);
  let n;
  const i = r.length;
  let s;
  for (n = 0; n < i; n++)
    s = r[n], t[s] = e[s];
  return t;
}
function np(e) {
  function t(r, n, i, s) {
    let a = r[s++];
    const o = Number.isFinite(+a), u = s >= r.length;
    return a = !a && pe.isArray(i) ? i.length : a, u ? (pe.hasOwnProp(i, a) ? i[a] = [i[a], n] : i[a] = n, !o) : ((!i[a] || !pe.isObject(i[a])) && (i[a] = []), t(r, n, i[a], s) && pe.isArray(i[a]) && (i[a] = Qy(i[a])), !o);
  }
  if (pe.isFormData(e) && pe.isFunction(e.entries)) {
    const r = {};
    return pe.forEachEntry(e, (n, i) => {
      t(Zy(n), i, r, 0);
    }), r;
  }
  return null;
}
const em = {
  "Content-Type": void 0
};
function tm(e, t, r) {
  if (pe.isString(e))
    try {
      return (t || JSON.parse)(e), pe.trim(e);
    } catch (n) {
      if (n.name !== "SyntaxError")
        throw n;
    }
  return (r || JSON.stringify)(e);
}
const qa = {
  transitional: rp,
  adapter: ["xhr", "http"],
  transformRequest: [function(t, r) {
    const n = r.getContentType() || "", i = n.indexOf("application/json") > -1, s = pe.isObject(t);
    if (s && pe.isHTMLForm(t) && (t = new FormData(t)), pe.isFormData(t))
      return i && i ? JSON.stringify(np(t)) : t;
    if (pe.isArrayBuffer(t) || pe.isBuffer(t) || pe.isStream(t) || pe.isFile(t) || pe.isBlob(t))
      return t;
    if (pe.isArrayBufferView(t))
      return t.buffer;
    if (pe.isURLSearchParams(t))
      return r.setContentType("application/x-www-form-urlencoded;charset=utf-8", !1), t.toString();
    let o;
    if (s) {
      if (n.indexOf("application/x-www-form-urlencoded") > -1)
        return Xy(t, this.formSerializer).toString();
      if ((o = pe.isFileList(t)) || n.indexOf("multipart/form-data") > -1) {
        const u = this.env && this.env.FormData;
        return Ua(
          o ? { "files[]": t } : t,
          u && new u(),
          this.formSerializer
        );
      }
    }
    return s || i ? (r.setContentType("application/json", !1), tm(t)) : t;
  }],
  transformResponse: [function(t) {
    const r = this.transitional || qa.transitional, n = r && r.forcedJSONParsing, i = this.responseType === "json";
    if (t && pe.isString(t) && (n && !this.responseType || i)) {
      const a = !(r && r.silentJSONParsing) && i;
      try {
        return JSON.parse(t);
      } catch (o) {
        if (a)
          throw o.name === "SyntaxError" ? Ue.from(o, Ue.ERR_BAD_RESPONSE, this, null, this.response) : o;
      }
    }
    return t;
  }],
  /**
   * A timeout in milliseconds to abort a request. If set to 0 (default) a
   * timeout is not created.
   */
  timeout: 0,
  xsrfCookieName: "XSRF-TOKEN",
  xsrfHeaderName: "X-XSRF-TOKEN",
  maxContentLength: -1,
  maxBodyLength: -1,
  env: {
    FormData: Vr.classes.FormData,
    Blob: Vr.classes.Blob
  },
  validateStatus: function(t) {
    return t >= 200 && t < 300;
  },
  headers: {
    common: {
      Accept: "application/json, text/plain, */*"
    }
  }
};
pe.forEach(["delete", "get", "head"], function(t) {
  qa.headers[t] = {};
});
pe.forEach(["post", "put", "patch"], function(t) {
  qa.headers[t] = pe.merge(em);
});
const Hf = qa, rm = pe.toObjectSet([
  "age",
  "authorization",
  "content-length",
  "content-type",
  "etag",
  "expires",
  "from",
  "host",
  "if-modified-since",
  "if-unmodified-since",
  "last-modified",
  "location",
  "max-forwards",
  "proxy-authorization",
  "referer",
  "retry-after",
  "user-agent"
]), nm = (e) => {
  const t = {};
  let r, n, i;
  return e && e.split(`
`).forEach(function(a) {
    i = a.indexOf(":"), r = a.substring(0, i).trim().toLowerCase(), n = a.substring(i + 1).trim(), !(!r || t[r] && rm[r]) && (r === "set-cookie" ? t[r] ? t[r].push(n) : t[r] = [n] : t[r] = t[r] ? t[r] + ", " + n : n);
  }), t;
}, th = Symbol("internals");
function $i(e) {
  return e && String(e).trim().toLowerCase();
}
function ia(e) {
  return e === !1 || e == null ? e : pe.isArray(e) ? e.map(ia) : String(e);
}
function im(e) {
  const t = /* @__PURE__ */ Object.create(null), r = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;
  let n;
  for (; n = r.exec(e); )
    t[n[1]] = n[2];
  return t;
}
const sm = (e) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());
function eu(e, t, r, n, i) {
  if (pe.isFunction(n))
    return n.call(this, t, r);
  if (i && (t = r), !!pe.isString(t)) {
    if (pe.isString(n))
      return t.indexOf(n) !== -1;
    if (pe.isRegExp(n))
      return n.test(t);
  }
}
function am(e) {
  return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g, (t, r, n) => r.toUpperCase() + n);
}
function om(e, t) {
  const r = pe.toCamelCase(" " + t);
  ["get", "set", "has"].forEach((n) => {
    Object.defineProperty(e, n + r, {
      value: function(i, s, a) {
        return this[n].call(this, t, i, s, a);
      },
      configurable: !0
    });
  });
}
class Ka {
  constructor(t) {
    t && this.set(t);
  }
  set(t, r, n) {
    const i = this;
    function s(o, u, f) {
      const l = $i(u);
      if (!l)
        throw new Error("header name must be a non-empty string");
      const h = pe.findKey(i, l);
      (!h || i[h] === void 0 || f === !0 || f === void 0 && i[h] !== !1) && (i[h || u] = ia(o));
    }
    const a = (o, u) => pe.forEach(o, (f, l) => s(f, l, u));
    return pe.isPlainObject(t) || t instanceof this.constructor ? a(t, r) : pe.isString(t) && (t = t.trim()) && !sm(t) ? a(nm(t), r) : t != null && s(r, t, n), this;
  }
  get(t, r) {
    if (t = $i(t), t) {
      const n = pe.findKey(this, t);
      if (n) {
        const i = this[n];
        if (!r)
          return i;
        if (r === !0)
          return im(i);
        if (pe.isFunction(r))
          return r.call(this, i, n);
        if (pe.isRegExp(r))
          return r.exec(i);
        throw new TypeError("parser must be boolean|regexp|function");
      }
    }
  }
  has(t, r) {
    if (t = $i(t), t) {
      const n = pe.findKey(this, t);
      return !!(n && this[n] !== void 0 && (!r || eu(this, this[n], n, r)));
    }
    return !1;
  }
  delete(t, r) {
    const n = this;
    let i = !1;
    function s(a) {
      if (a = $i(a), a) {
        const o = pe.findKey(n, a);
        o && (!r || eu(n, n[o], o, r)) && (delete n[o], i = !0);
      }
    }
    return pe.isArray(t) ? t.forEach(s) : s(t), i;
  }
  clear(t) {
    const r = Object.keys(this);
    let n = r.length, i = !1;
    for (; n--; ) {
      const s = r[n];
      (!t || eu(this, this[s], s, t, !0)) && (delete this[s], i = !0);
    }
    return i;
  }
  normalize(t) {
    const r = this, n = {};
    return pe.forEach(this, (i, s) => {
      const a = pe.findKey(n, s);
      if (a) {
        r[a] = ia(i), delete r[s];
        return;
      }
      const o = t ? am(s) : String(s).trim();
      o !== s && delete r[s], r[o] = ia(i), n[o] = !0;
    }), this;
  }
  concat(...t) {
    return this.constructor.concat(this, ...t);
  }
  toJSON(t) {
    const r = /* @__PURE__ */ Object.create(null);
    return pe.forEach(this, (n, i) => {
      n != null && n !== !1 && (r[i] = t && pe.isArray(n) ? n.join(", ") : n);
    }), r;
  }
  [Symbol.iterator]() {
    return Object.entries(this.toJSON())[Symbol.iterator]();
  }
  toString() {
    return Object.entries(this.toJSON()).map(([t, r]) => t + ": " + r).join(`
`);
  }
  get [Symbol.toStringTag]() {
    return "AxiosHeaders";
  }
  static from(t) {
    return t instanceof this ? t : new this(t);
  }
  static concat(t, ...r) {
    const n = new this(t);
    return r.forEach((i) => n.set(i)), n;
  }
  static accessor(t) {
    const n = (this[th] = this[th] = {
      accessors: {}
    }).accessors, i = this.prototype;
    function s(a) {
      const o = $i(a);
      n[o] || (om(i, a), n[o] = !0);
    }
    return pe.isArray(t) ? t.forEach(s) : s(t), this;
  }
}
Ka.accessor(["Content-Type", "Content-Length", "Accept", "Accept-Encoding", "User-Agent", "Authorization"]);
pe.freezeMethods(Ka.prototype);
pe.freezeMethods(Ka);
const un = Ka;
function tu(e, t) {
  const r = this || Hf, n = t || r, i = un.from(n.headers);
  let s = n.data;
  return pe.forEach(e, function(o) {
    s = o.call(r, s, i.normalize(), t ? t.status : void 0);
  }), i.normalize(), s;
}
function ip(e) {
  return !!(e && e.__CANCEL__);
}
function Fs(e, t, r) {
  Ue.call(this, e ?? "canceled", Ue.ERR_CANCELED, t, r), this.name = "CanceledError";
}
pe.inherits(Fs, Ue, {
  __CANCEL__: !0
});
function um(e, t, r) {
  const n = r.config.validateStatus;
  !r.status || !n || n(r.status) ? e(r) : t(new Ue(
    "Request failed with status code " + r.status,
    [Ue.ERR_BAD_REQUEST, Ue.ERR_BAD_RESPONSE][Math.floor(r.status / 100) - 4],
    r.config,
    r.request,
    r
  ));
}
const fm = Vr.isStandardBrowserEnv ? function() {
  return {
    write: function(r, n, i, s, a, o) {
      const u = [];
      u.push(r + "=" + encodeURIComponent(n)), pe.isNumber(i) && u.push("expires=" + new Date(i).toGMTString()), pe.isString(s) && u.push("path=" + s), pe.isString(a) && u.push("domain=" + a), o === !0 && u.push("secure"), document.cookie = u.join("; ");
    },
    read: function(r) {
      const n = document.cookie.match(new RegExp("(^|;\\s*)(" + r + ")=([^;]*)"));
      return n ? decodeURIComponent(n[3]) : null;
    },
    remove: function(r) {
      this.write(r, "", Date.now() - 864e5);
    }
  };
}() : function() {
  return {
    write: function() {
    },
    read: function() {
      return null;
    },
    remove: function() {
    }
  };
}();
function cm(e) {
  return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(e);
}
function lm(e, t) {
  return t ? e.replace(/\/+$/, "") + "/" + t.replace(/^\/+/, "") : e;
}
function sp(e, t) {
  return e && !cm(t) ? lm(e, t) : t;
}
const hm = Vr.isStandardBrowserEnv ? function() {
  const t = /(msie|trident)/i.test(navigator.userAgent), r = document.createElement("a");
  let n;
  function i(s) {
    let a = s;
    return t && (r.setAttribute("href", a), a = r.href), r.setAttribute("href", a), {
      href: r.href,
      protocol: r.protocol ? r.protocol.replace(/:$/, "") : "",
      host: r.host,
      search: r.search ? r.search.replace(/^\?/, "") : "",
      hash: r.hash ? r.hash.replace(/^#/, "") : "",
      hostname: r.hostname,
      port: r.port,
      pathname: r.pathname.charAt(0) === "/" ? r.pathname : "/" + r.pathname
    };
  }
  return n = i(window.location.href), function(a) {
    const o = pe.isString(a) ? i(a) : a;
    return o.protocol === n.protocol && o.host === n.host;
  };
}() : function() {
  return function() {
    return !0;
  };
}();
function dm(e) {
  const t = /^([-+\w]{1,25})(:?\/\/|:)/.exec(e);
  return t && t[1] || "";
}
function pm(e, t) {
  e = e || 10;
  const r = new Array(e), n = new Array(e);
  let i = 0, s = 0, a;
  return t = t !== void 0 ? t : 1e3, function(u) {
    const f = Date.now(), l = n[s];
    a || (a = f), r[i] = u, n[i] = f;
    let h = s, c = 0;
    for (; h !== i; )
      c += r[h++], h = h % e;
    if (i = (i + 1) % e, i === s && (s = (s + 1) % e), f - a < t)
      return;
    const d = l && f - l;
    return d ? Math.round(c * 1e3 / d) : void 0;
  };
}
function rh(e, t) {
  let r = 0;
  const n = pm(50, 250);
  return (i) => {
    const s = i.loaded, a = i.lengthComputable ? i.total : void 0, o = s - r, u = n(o), f = s <= a;
    r = s;
    const l = {
      loaded: s,
      total: a,
      progress: a ? s / a : void 0,
      bytes: o,
      rate: u || void 0,
      estimated: u && a && f ? (a - s) / u : void 0,
      event: i
    };
    l[t ? "download" : "upload"] = !0, e(l);
  };
}
const vm = typeof XMLHttpRequest < "u", gm = vm && function(e) {
  return new Promise(function(r, n) {
    let i = e.data;
    const s = un.from(e.headers).normalize(), a = e.responseType;
    let o;
    function u() {
      e.cancelToken && e.cancelToken.unsubscribe(o), e.signal && e.signal.removeEventListener("abort", o);
    }
    pe.isFormData(i) && (Vr.isStandardBrowserEnv || Vr.isStandardBrowserWebWorkerEnv ? s.setContentType(!1) : s.setContentType("multipart/form-data;", !1));
    let f = new XMLHttpRequest();
    if (e.auth) {
      const d = e.auth.username || "", p = e.auth.password ? unescape(encodeURIComponent(e.auth.password)) : "";
      s.set("Authorization", "Basic " + btoa(d + ":" + p));
    }
    const l = sp(e.baseURL, e.url);
    f.open(e.method.toUpperCase(), tp(l, e.params, e.paramsSerializer), !0), f.timeout = e.timeout;
    function h() {
      if (!f)
        return;
      const d = un.from(
        "getAllResponseHeaders" in f && f.getAllResponseHeaders()
      ), v = {
        data: !a || a === "text" || a === "json" ? f.responseText : f.response,
        status: f.status,
        statusText: f.statusText,
        headers: d,
        config: e,
        request: f
      };
      um(function(b) {
        r(b), u();
      }, function(b) {
        n(b), u();
      }, v), f = null;
    }
    if ("onloadend" in f ? f.onloadend = h : f.onreadystatechange = function() {
      !f || f.readyState !== 4 || f.status === 0 && !(f.responseURL && f.responseURL.indexOf("file:") === 0) || setTimeout(h);
    }, f.onabort = function() {
      f && (n(new Ue("Request aborted", Ue.ECONNABORTED, e, f)), f = null);
    }, f.onerror = function() {
      n(new Ue("Network Error", Ue.ERR_NETWORK, e, f)), f = null;
    }, f.ontimeout = function() {
      let p = e.timeout ? "timeout of " + e.timeout + "ms exceeded" : "timeout exceeded";
      const v = e.transitional || rp;
      e.timeoutErrorMessage && (p = e.timeoutErrorMessage), n(new Ue(
        p,
        v.clarifyTimeoutError ? Ue.ETIMEDOUT : Ue.ECONNABORTED,
        e,
        f
      )), f = null;
    }, Vr.isStandardBrowserEnv) {
      const d = (e.withCredentials || hm(l)) && e.xsrfCookieName && fm.read(e.xsrfCookieName);
      d && s.set(e.xsrfHeaderName, d);
    }
    i === void 0 && s.setContentType(null), "setRequestHeader" in f && pe.forEach(s.toJSON(), function(p, v) {
      f.setRequestHeader(v, p);
    }), pe.isUndefined(e.withCredentials) || (f.withCredentials = !!e.withCredentials), a && a !== "json" && (f.responseType = e.responseType), typeof e.onDownloadProgress == "function" && f.addEventListener("progress", rh(e.onDownloadProgress, !0)), typeof e.onUploadProgress == "function" && f.upload && f.upload.addEventListener("progress", rh(e.onUploadProgress)), (e.cancelToken || e.signal) && (o = (d) => {
      f && (n(!d || d.type ? new Fs(null, e, f) : d), f.abort(), f = null);
    }, e.cancelToken && e.cancelToken.subscribe(o), e.signal && (e.signal.aborted ? o() : e.signal.addEventListener("abort", o)));
    const c = dm(l);
    if (c && Vr.protocols.indexOf(c) === -1) {
      n(new Ue("Unsupported protocol " + c + ":", Ue.ERR_BAD_REQUEST, e));
      return;
    }
    f.send(i || null);
  });
}, sa = {
  http: Hy,
  xhr: gm
};
pe.forEach(sa, (e, t) => {
  if (e) {
    try {
      Object.defineProperty(e, "name", { value: t });
    } catch {
    }
    Object.defineProperty(e, "adapterName", { value: t });
  }
});
const ym = {
  getAdapter: (e) => {
    e = pe.isArray(e) ? e : [e];
    const { length: t } = e;
    let r, n;
    for (let i = 0; i < t && (r = e[i], !(n = pe.isString(r) ? sa[r.toLowerCase()] : r)); i++)
      ;
    if (!n)
      throw n === !1 ? new Ue(
        `Adapter ${r} is not supported by the environment`,
        "ERR_NOT_SUPPORT"
      ) : new Error(
        pe.hasOwnProp(sa, r) ? `Adapter '${r}' is not available in the build` : `Unknown adapter '${r}'`
      );
    if (!pe.isFunction(n))
      throw new TypeError("adapter is not a function");
    return n;
  },
  adapters: sa
};
function ru(e) {
  if (e.cancelToken && e.cancelToken.throwIfRequested(), e.signal && e.signal.aborted)
    throw new Fs(null, e);
}
function nh(e) {
  return ru(e), e.headers = un.from(e.headers), e.data = tu.call(
    e,
    e.transformRequest
  ), ["post", "put", "patch"].indexOf(e.method) !== -1 && e.headers.setContentType("application/x-www-form-urlencoded", !1), ym.getAdapter(e.adapter || Hf.adapter)(e).then(function(n) {
    return ru(e), n.data = tu.call(
      e,
      e.transformResponse,
      n
    ), n.headers = un.from(n.headers), n;
  }, function(n) {
    return ip(n) || (ru(e), n && n.response && (n.response.data = tu.call(
      e,
      e.transformResponse,
      n.response
    ), n.response.headers = un.from(n.response.headers))), Promise.reject(n);
  });
}
const ih = (e) => e instanceof un ? e.toJSON() : e;
function Si(e, t) {
  t = t || {};
  const r = {};
  function n(f, l, h) {
    return pe.isPlainObject(f) && pe.isPlainObject(l) ? pe.merge.call({ caseless: h }, f, l) : pe.isPlainObject(l) ? pe.merge({}, l) : pe.isArray(l) ? l.slice() : l;
  }
  function i(f, l, h) {
    if (pe.isUndefined(l)) {
      if (!pe.isUndefined(f))
        return n(void 0, f, h);
    } else
      return n(f, l, h);
  }
  function s(f, l) {
    if (!pe.isUndefined(l))
      return n(void 0, l);
  }
  function a(f, l) {
    if (pe.isUndefined(l)) {
      if (!pe.isUndefined(f))
        return n(void 0, f);
    } else
      return n(void 0, l);
  }
  function o(f, l, h) {
    if (h in t)
      return n(f, l);
    if (h in e)
      return n(void 0, f);
  }
  const u = {
    url: s,
    method: s,
    data: s,
    baseURL: a,
    transformRequest: a,
    transformResponse: a,
    paramsSerializer: a,
    timeout: a,
    timeoutMessage: a,
    withCredentials: a,
    adapter: a,
    responseType: a,
    xsrfCookieName: a,
    xsrfHeaderName: a,
    onUploadProgress: a,
    onDownloadProgress: a,
    decompress: a,
    maxContentLength: a,
    maxBodyLength: a,
    beforeRedirect: a,
    transport: a,
    httpAgent: a,
    httpsAgent: a,
    cancelToken: a,
    socketPath: a,
    responseEncoding: a,
    validateStatus: o,
    headers: (f, l) => i(ih(f), ih(l), !0)
  };
  return pe.forEach(Object.keys(Object.assign({}, e, t)), function(l) {
    const h = u[l] || i, c = h(e[l], t[l], l);
    pe.isUndefined(c) && h !== o || (r[l] = c);
  }), r;
}
const ap = "1.4.0", Uf = {};
["object", "boolean", "number", "function", "string", "symbol"].forEach((e, t) => {
  Uf[e] = function(n) {
    return typeof n === e || "a" + (t < 1 ? "n " : " ") + e;
  };
});
const sh = {};
Uf.transitional = function(t, r, n) {
  function i(s, a) {
    return "[Axios v" + ap + "] Transitional option '" + s + "'" + a + (n ? ". " + n : "");
  }
  return (s, a, o) => {
    if (t === !1)
      throw new Ue(
        i(a, " has been removed" + (r ? " in " + r : "")),
        Ue.ERR_DEPRECATED
      );
    return r && !sh[a] && (sh[a] = !0, console.warn(
      i(
        a,
        " has been deprecated since v" + r + " and will be removed in the near future"
      )
    )), t ? t(s, a, o) : !0;
  };
};
function mm(e, t, r) {
  if (typeof e != "object")
    throw new Ue("options must be an object", Ue.ERR_BAD_OPTION_VALUE);
  const n = Object.keys(e);
  let i = n.length;
  for (; i-- > 0; ) {
    const s = n[i], a = t[s];
    if (a) {
      const o = e[s], u = o === void 0 || a(o, s, e);
      if (u !== !0)
        throw new Ue("option " + s + " must be " + u, Ue.ERR_BAD_OPTION_VALUE);
      continue;
    }
    if (r !== !0)
      throw new Ue("Unknown option " + s, Ue.ERR_BAD_OPTION);
  }
}
const Wu = {
  assertOptions: mm,
  validators: Uf
}, pn = Wu.validators;
class va {
  constructor(t) {
    this.defaults = t, this.interceptors = {
      request: new eh(),
      response: new eh()
    };
  }
  /**
   * Dispatch a request
   *
   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)
   * @param {?Object} config
   *
   * @returns {Promise} The Promise to be fulfilled
   */
  request(t, r) {
    typeof t == "string" ? (r = r || {}, r.url = t) : r = t || {}, r = Si(this.defaults, r);
    const { transitional: n, paramsSerializer: i, headers: s } = r;
    n !== void 0 && Wu.assertOptions(n, {
      silentJSONParsing: pn.transitional(pn.boolean),
      forcedJSONParsing: pn.transitional(pn.boolean),
      clarifyTimeoutError: pn.transitional(pn.boolean)
    }, !1), i != null && (pe.isFunction(i) ? r.paramsSerializer = {
      serialize: i
    } : Wu.assertOptions(i, {
      encode: pn.function,
      serialize: pn.function
    }, !0)), r.method = (r.method || this.defaults.method || "get").toLowerCase();
    let a;
    a = s && pe.merge(
      s.common,
      s[r.method]
    ), a && pe.forEach(
      ["delete", "get", "head", "post", "put", "patch", "common"],
      (p) => {
        delete s[p];
      }
    ), r.headers = un.concat(a, s);
    const o = [];
    let u = !0;
    this.interceptors.request.forEach(function(v) {
      typeof v.runWhen == "function" && v.runWhen(r) === !1 || (u = u && v.synchronous, o.unshift(v.fulfilled, v.rejected));
    });
    const f = [];
    this.interceptors.response.forEach(function(v) {
      f.push(v.fulfilled, v.rejected);
    });
    let l, h = 0, c;
    if (!u) {
      const p = [nh.bind(this), void 0];
      for (p.unshift.apply(p, o), p.push.apply(p, f), c = p.length, l = Promise.resolve(r); h < c; )
        l = l.then(p[h++], p[h++]);
      return l;
    }
    c = o.length;
    let d = r;
    for (h = 0; h < c; ) {
      const p = o[h++], v = o[h++];
      try {
        d = p(d);
      } catch (m) {
        v.call(this, m);
        break;
      }
    }
    try {
      l = nh.call(this, d);
    } catch (p) {
      return Promise.reject(p);
    }
    for (h = 0, c = f.length; h < c; )
      l = l.then(f[h++], f[h++]);
    return l;
  }
  getUri(t) {
    t = Si(this.defaults, t);
    const r = sp(t.baseURL, t.url);
    return tp(r, t.params, t.paramsSerializer);
  }
}
pe.forEach(["delete", "get", "head", "options"], function(t) {
  va.prototype[t] = function(r, n) {
    return this.request(Si(n || {}, {
      method: t,
      url: r,
      data: (n || {}).data
    }));
  };
});
pe.forEach(["post", "put", "patch"], function(t) {
  function r(n) {
    return function(s, a, o) {
      return this.request(Si(o || {}, {
        method: t,
        headers: n ? {
          "Content-Type": "multipart/form-data"
        } : {},
        url: s,
        data: a
      }));
    };
  }
  va.prototype[t] = r(), va.prototype[t + "Form"] = r(!0);
});
const aa = va;
class qf {
  constructor(t) {
    if (typeof t != "function")
      throw new TypeError("executor must be a function.");
    let r;
    this.promise = new Promise(function(s) {
      r = s;
    });
    const n = this;
    this.promise.then((i) => {
      if (!n._listeners)
        return;
      let s = n._listeners.length;
      for (; s-- > 0; )
        n._listeners[s](i);
      n._listeners = null;
    }), this.promise.then = (i) => {
      let s;
      const a = new Promise((o) => {
        n.subscribe(o), s = o;
      }).then(i);
      return a.cancel = function() {
        n.unsubscribe(s);
      }, a;
    }, t(function(s, a, o) {
      n.reason || (n.reason = new Fs(s, a, o), r(n.reason));
    });
  }
  /**
   * Throws a `CanceledError` if cancellation has been requested.
   */
  throwIfRequested() {
    if (this.reason)
      throw this.reason;
  }
  /**
   * Subscribe to the cancel signal
   */
  subscribe(t) {
    if (this.reason) {
      t(this.reason);
      return;
    }
    this._listeners ? this._listeners.push(t) : this._listeners = [t];
  }
  /**
   * Unsubscribe from the cancel signal
   */
  unsubscribe(t) {
    if (!this._listeners)
      return;
    const r = this._listeners.indexOf(t);
    r !== -1 && this._listeners.splice(r, 1);
  }
  /**
   * Returns an object that contains a new `CancelToken` and a function that, when called,
   * cancels the `CancelToken`.
   */
  static source() {
    let t;
    return {
      token: new qf(function(i) {
        t = i;
      }),
      cancel: t
    };
  }
}
const bm = qf;
function wm(e) {
  return function(r) {
    return e.apply(null, r);
  };
}
function xm(e) {
  return pe.isObject(e) && e.isAxiosError === !0;
}
const Gu = {
  Continue: 100,
  SwitchingProtocols: 101,
  Processing: 102,
  EarlyHints: 103,
  Ok: 200,
  Created: 201,
  Accepted: 202,
  NonAuthoritativeInformation: 203,
  NoContent: 204,
  ResetContent: 205,
  PartialContent: 206,
  MultiStatus: 207,
  AlreadyReported: 208,
  ImUsed: 226,
  MultipleChoices: 300,
  MovedPermanently: 301,
  Found: 302,
  SeeOther: 303,
  NotModified: 304,
  UseProxy: 305,
  Unused: 306,
  TemporaryRedirect: 307,
  PermanentRedirect: 308,
  BadRequest: 400,
  Unauthorized: 401,
  PaymentRequired: 402,
  Forbidden: 403,
  NotFound: 404,
  MethodNotAllowed: 405,
  NotAcceptable: 406,
  ProxyAuthenticationRequired: 407,
  RequestTimeout: 408,
  Conflict: 409,
  Gone: 410,
  LengthRequired: 411,
  PreconditionFailed: 412,
  PayloadTooLarge: 413,
  UriTooLong: 414,
  UnsupportedMediaType: 415,
  RangeNotSatisfiable: 416,
  ExpectationFailed: 417,
  ImATeapot: 418,
  MisdirectedRequest: 421,
  UnprocessableEntity: 422,
  Locked: 423,
  FailedDependency: 424,
  TooEarly: 425,
  UpgradeRequired: 426,
  PreconditionRequired: 428,
  TooManyRequests: 429,
  RequestHeaderFieldsTooLarge: 431,
  UnavailableForLegalReasons: 451,
  InternalServerError: 500,
  NotImplemented: 501,
  BadGateway: 502,
  ServiceUnavailable: 503,
  GatewayTimeout: 504,
  HttpVersionNotSupported: 505,
  VariantAlsoNegotiates: 506,
  InsufficientStorage: 507,
  LoopDetected: 508,
  NotExtended: 510,
  NetworkAuthenticationRequired: 511
};
Object.entries(Gu).forEach(([e, t]) => {
  Gu[t] = e;
});
const Sm = Gu;
function op(e) {
  const t = new aa(e), r = q0(aa.prototype.request, t);
  return pe.extend(r, aa.prototype, t, { allOwnKeys: !0 }), pe.extend(r, t, null, { allOwnKeys: !0 }), r.create = function(i) {
    return op(Si(e, i));
  }, r;
}
const Pt = op(Hf);
Pt.Axios = aa;
Pt.CanceledError = Fs;
Pt.CancelToken = bm;
Pt.isCancel = ip;
Pt.VERSION = ap;
Pt.toFormData = Ua;
Pt.AxiosError = Ue;
Pt.Cancel = Pt.CanceledError;
Pt.all = function(t) {
  return Promise.all(t);
};
Pt.spread = wm;
Pt.isAxiosError = xm;
Pt.mergeConfig = Si;
Pt.AxiosHeaders = un;
Pt.formToJSON = (e) => np(pe.isHTMLForm(e) ? new FormData(e) : e);
Pt.HttpStatusCode = Sm;
Pt.default = Pt;
const fr = Pt;
function jr(e, t) {
  var r = {};
  for (var n in e)
    Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);
  if (e != null && typeof Object.getOwnPropertySymbols == "function") {
    var i = 0;
    for (n = Object.getOwnPropertySymbols(e); i < n.length; i++)
      t.indexOf(n[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[i]) && (r[n[i]] = e[n[i]]);
  }
  return r;
}
var li = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function Kf(e) {
  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
}
function $f(e, t) {
  return e(t = { exports: {} }, t.exports), t.exports;
}
var kn = $f(function(e, t) {
  Object.defineProperty(t, "__esModule", { value: !0 });
  var r = function() {
    function n() {
      var i = this;
      this.locked = /* @__PURE__ */ new Map(), this.addToLocked = function(s, a) {
        var o = i.locked.get(s);
        o === void 0 ? a === void 0 ? i.locked.set(s, []) : i.locked.set(s, [a]) : a !== void 0 && (o.unshift(a), i.locked.set(s, o));
      }, this.isLocked = function(s) {
        return i.locked.has(s);
      }, this.lock = function(s) {
        return new Promise(function(a, o) {
          i.isLocked(s) ? i.addToLocked(s, a) : (i.addToLocked(s), a());
        });
      }, this.unlock = function(s) {
        var a = i.locked.get(s);
        if (a !== void 0 && a.length !== 0) {
          var o = a.pop();
          i.locked.set(s, a), o !== void 0 && setTimeout(o, 0);
        } else
          i.locked.delete(s);
      };
    }
    return n.getInstance = function() {
      return n.instance === void 0 && (n.instance = new n()), n.instance;
    }, n;
  }();
  t.default = function() {
    return r.getInstance();
  };
});
Kf(kn);
var Em = Kf($f(function(e, t) {
  var r = li && li.__awaiter || function(u, f, l, h) {
    return new (l || (l = Promise))(function(c, d) {
      function p(b) {
        try {
          m(h.next(b));
        } catch (A) {
          d(A);
        }
      }
      function v(b) {
        try {
          m(h.throw(b));
        } catch (A) {
          d(A);
        }
      }
      function m(b) {
        b.done ? c(b.value) : new l(function(A) {
          A(b.value);
        }).then(p, v);
      }
      m((h = h.apply(u, f || [])).next());
    });
  }, n = li && li.__generator || function(u, f) {
    var l, h, c, d, p = { label: 0, sent: function() {
      if (1 & c[0])
        throw c[1];
      return c[1];
    }, trys: [], ops: [] };
    return d = { next: v(0), throw: v(1), return: v(2) }, typeof Symbol == "function" && (d[Symbol.iterator] = function() {
      return this;
    }), d;
    function v(m) {
      return function(b) {
        return function(A) {
          if (l)
            throw new TypeError("Generator is already executing.");
          for (; p; )
            try {
              if (l = 1, h && (c = 2 & A[0] ? h.return : A[0] ? h.throw || ((c = h.return) && c.call(h), 0) : h.next) && !(c = c.call(h, A[1])).done)
                return c;
              switch (h = 0, c && (A = [2 & A[0], c.value]), A[0]) {
                case 0:
                case 1:
                  c = A;
                  break;
                case 4:
                  return p.label++, { value: A[1], done: !1 };
                case 5:
                  p.label++, h = A[1], A = [0];
                  continue;
                case 7:
                  A = p.ops.pop(), p.trys.pop();
                  continue;
                default:
                  if (c = p.trys, !((c = c.length > 0 && c[c.length - 1]) || A[0] !== 6 && A[0] !== 2)) {
                    p = 0;
                    continue;
                  }
                  if (A[0] === 3 && (!c || A[1] > c[0] && A[1] < c[3])) {
                    p.label = A[1];
                    break;
                  }
                  if (A[0] === 6 && p.label < c[1]) {
                    p.label = c[1], c = A;
                    break;
                  }
                  if (c && p.label < c[2]) {
                    p.label = c[2], p.ops.push(A);
                    break;
                  }
                  c[2] && p.ops.pop(), p.trys.pop();
                  continue;
              }
              A = f.call(u, p);
            } catch (D) {
              A = [6, D], h = 0;
            } finally {
              l = c = 0;
            }
          if (5 & A[0])
            throw A[1];
          return { value: A[0] ? A[1] : void 0, done: !0 };
        }([m, b]);
      };
    }
  };
  Object.defineProperty(t, "__esModule", { value: !0 });
  var i = "browser-tabs-lock-key";
  function s(u) {
    return new Promise(function(f) {
      return setTimeout(f, u);
    });
  }
  function a(u) {
    for (var f = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz", l = "", h = 0; h < u; h++)
      l += f[Math.floor(Math.random() * f.length)];
    return l;
  }
  var o = function() {
    function u() {
      this.acquiredIatSet = /* @__PURE__ */ new Set(), this.id = Date.now().toString() + a(15), this.acquireLock = this.acquireLock.bind(this), this.releaseLock = this.releaseLock.bind(this), this.releaseLock__private__ = this.releaseLock__private__.bind(this), this.waitForSomethingToChange = this.waitForSomethingToChange.bind(this), this.refreshLockWhileAcquired = this.refreshLockWhileAcquired.bind(this), u.waiters === void 0 && (u.waiters = []);
    }
    return u.prototype.acquireLock = function(f, l) {
      return l === void 0 && (l = 5e3), r(this, void 0, void 0, function() {
        var h, c, d, p, v, m;
        return n(this, function(b) {
          switch (b.label) {
            case 0:
              h = Date.now() + a(4), c = Date.now() + l, d = i + "-" + f, p = window.localStorage, b.label = 1;
            case 1:
              return Date.now() < c ? [4, s(30)] : [3, 8];
            case 2:
              return b.sent(), p.getItem(d) !== null ? [3, 5] : (v = this.id + "-" + f + "-" + h, [4, s(Math.floor(25 * Math.random()))]);
            case 3:
              return b.sent(), p.setItem(d, JSON.stringify({ id: this.id, iat: h, timeoutKey: v, timeAcquired: Date.now(), timeRefreshed: Date.now() })), [4, s(30)];
            case 4:
              return b.sent(), (m = p.getItem(d)) !== null && (m = JSON.parse(m)).id === this.id && m.iat === h ? (this.acquiredIatSet.add(h), this.refreshLockWhileAcquired(d, h), [2, !0]) : [3, 7];
            case 5:
              return u.lockCorrector(), [4, this.waitForSomethingToChange(c)];
            case 6:
              b.sent(), b.label = 7;
            case 7:
              return h = Date.now() + a(4), [3, 1];
            case 8:
              return [2, !1];
          }
        });
      });
    }, u.prototype.refreshLockWhileAcquired = function(f, l) {
      return r(this, void 0, void 0, function() {
        var h = this;
        return n(this, function(c) {
          return setTimeout(function() {
            return r(h, void 0, void 0, function() {
              var d, p;
              return n(this, function(v) {
                switch (v.label) {
                  case 0:
                    return [4, kn.default().lock(l)];
                  case 1:
                    return v.sent(), this.acquiredIatSet.has(l) ? (d = window.localStorage, (p = d.getItem(f)) === null ? (kn.default().unlock(l), [2]) : ((p = JSON.parse(p)).timeRefreshed = Date.now(), d.setItem(f, JSON.stringify(p)), kn.default().unlock(l), this.refreshLockWhileAcquired(f, l), [2])) : (kn.default().unlock(l), [2]);
                }
              });
            });
          }, 1e3), [2];
        });
      });
    }, u.prototype.waitForSomethingToChange = function(f) {
      return r(this, void 0, void 0, function() {
        return n(this, function(l) {
          switch (l.label) {
            case 0:
              return [4, new Promise(function(h) {
                var c = !1, d = Date.now(), p = !1;
                function v() {
                  if (p || (window.removeEventListener("storage", v), u.removeFromWaiting(v), clearTimeout(m), p = !0), !c) {
                    c = !0;
                    var b = 50 - (Date.now() - d);
                    b > 0 ? setTimeout(h, b) : h();
                  }
                }
                window.addEventListener("storage", v), u.addToWaiting(v);
                var m = setTimeout(v, Math.max(0, f - Date.now()));
              })];
            case 1:
              return l.sent(), [2];
          }
        });
      });
    }, u.addToWaiting = function(f) {
      this.removeFromWaiting(f), u.waiters !== void 0 && u.waiters.push(f);
    }, u.removeFromWaiting = function(f) {
      u.waiters !== void 0 && (u.waiters = u.waiters.filter(function(l) {
        return l !== f;
      }));
    }, u.notifyWaiters = function() {
      u.waiters !== void 0 && u.waiters.slice().forEach(function(f) {
        return f();
      });
    }, u.prototype.releaseLock = function(f) {
      return r(this, void 0, void 0, function() {
        return n(this, function(l) {
          switch (l.label) {
            case 0:
              return [4, this.releaseLock__private__(f)];
            case 1:
              return [2, l.sent()];
          }
        });
      });
    }, u.prototype.releaseLock__private__ = function(f) {
      return r(this, void 0, void 0, function() {
        var l, h, c;
        return n(this, function(d) {
          switch (d.label) {
            case 0:
              return l = window.localStorage, h = i + "-" + f, (c = l.getItem(h)) === null ? [2] : (c = JSON.parse(c)).id !== this.id ? [3, 2] : [4, kn.default().lock(c.iat)];
            case 1:
              d.sent(), this.acquiredIatSet.delete(c.iat), l.removeItem(h), kn.default().unlock(c.iat), u.notifyWaiters(), d.label = 2;
            case 2:
              return [2];
          }
        });
      });
    }, u.lockCorrector = function() {
      for (var f = Date.now() - 5e3, l = window.localStorage, h = Object.keys(l), c = !1, d = 0; d < h.length; d++) {
        var p = h[d];
        if (p.includes(i)) {
          var v = l.getItem(p);
          v !== null && ((v = JSON.parse(v)).timeRefreshed === void 0 && v.timeAcquired < f || v.timeRefreshed !== void 0 && v.timeRefreshed < f) && (l.removeItem(p), c = !0);
        }
      }
      c && u.notifyWaiters();
    }, u.waiters = void 0, u;
  }();
  t.default = o;
}));
const Am = { timeoutInSeconds: 60 }, up = { name: "auth0-spa-js", version: "2.0.7" }, fp = () => Date.now();
class Ht extends Error {
  constructor(t, r) {
    super(r), this.error = t, this.error_description = r, Object.setPrototypeOf(this, Ht.prototype);
  }
  static fromPayload({ error: t, error_description: r }) {
    return new Ht(t, r);
  }
}
class zf extends Ht {
  constructor(t, r, n, i = null) {
    super(t, r), this.state = n, this.appState = i, Object.setPrototypeOf(this, zf.prototype);
  }
}
class ps extends Ht {
  constructor() {
    super("timeout", "Timeout"), Object.setPrototypeOf(this, ps.prototype);
  }
}
class Wf extends ps {
  constructor(t) {
    super(), this.popup = t, Object.setPrototypeOf(this, Wf.prototype);
  }
}
class Gf extends Ht {
  constructor(t) {
    super("cancelled", "Popup closed"), this.popup = t, Object.setPrototypeOf(this, Gf.prototype);
  }
}
class Jf extends Ht {
  constructor(t, r, n) {
    super(t, r), this.mfa_token = n, Object.setPrototypeOf(this, Jf.prototype);
  }
}
let Yf = class extends Ht {
  constructor(t, r) {
    super("missing_refresh_token", `Missing Refresh Token (audience: '${ah(t, ["default"])}', scope: '${ah(r)}')`), this.audience = t, this.scope = r, Object.setPrototypeOf(this, Yf.prototype);
  }
};
function ah(e, t = []) {
  return e && !t.includes(e) ? e : "";
}
const oa = () => window.crypto, nu = () => {
  const e = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";
  let t = "";
  return Array.from(oa().getRandomValues(new Uint8Array(43))).forEach((r) => t += e[r % e.length]), t;
}, oh = (e) => btoa(e), Ju = (e) => {
  var { clientId: t } = e, r = jr(e, ["clientId"]);
  return new URLSearchParams(((n) => Object.keys(n).filter((i) => n[i] !== void 0).reduce((i, s) => Object.assign(Object.assign({}, i), { [s]: n[s] }), {}))(Object.assign({ client_id: t }, r))).toString();
}, uh = (e) => ((t) => decodeURIComponent(atob(t).split("").map((r) => "%" + ("00" + r.charCodeAt(0).toString(16)).slice(-2)).join("")))(e.replace(/_/g, "/").replace(/-/g, "+")), _m = async (e, t) => {
  const r = await fetch(e, t);
  return { ok: r.ok, json: await r.json() };
}, Tm = async (e, t, r) => {
  const n = new AbortController();
  let i;
  return t.signal = n.signal, Promise.race([_m(e, t), new Promise((s, a) => {
    i = setTimeout(() => {
      n.abort(), a(new Error("Timeout when executing 'fetch'"));
    }, r);
  })]).finally(() => {
    clearTimeout(i);
  });
}, Pm = async (e, t, r, n, i, s, a) => {
  return o = { auth: { audience: t, scope: r }, timeout: i, fetchUrl: e, fetchOptions: n, useFormData: a }, u = s, new Promise(function(f, l) {
    const h = new MessageChannel();
    h.port1.onmessage = function(c) {
      c.data.error ? l(new Error(c.data.error)) : f(c.data), h.port1.close();
    }, u.postMessage(o, [h.port2]);
  });
  var o, u;
}, Fm = async (e, t, r, n, i, s, a = 1e4) => i ? Pm(e, t, r, n, a, i, s) : Tm(e, n, a);
async function Im(e, t) {
  var { baseUrl: r, timeout: n, audience: i, scope: s, auth0Client: a, useFormData: o } = e, u = jr(e, ["baseUrl", "timeout", "audience", "scope", "auth0Client", "useFormData"]);
  const f = o ? Ju(u) : JSON.stringify(u);
  return await async function(l, h, c, d, p, v, m) {
    let b, A = null;
    for (let O = 0; O < 3; O++)
      try {
        b = await Fm(l, c, d, p, v, m, h), A = null;
        break;
      } catch (P) {
        A = P;
      }
    if (A)
      throw A;
    const D = b.json, { error: k, error_description: L } = D, _ = jr(D, ["error", "error_description"]), { ok: F } = b;
    if (!F) {
      const O = L || `HTTP error. Unable to fetch ${l}`;
      throw k === "mfa_required" ? new Jf(k, O, _.mfa_token) : k === "missing_refresh_token" ? new Yf(c, d) : new Ht(k || "request_error", O);
    }
    return _;
  }(`${r}/oauth/token`, n, i || "default", s, { method: "POST", body: f, headers: { "Content-Type": o ? "application/x-www-form-urlencoded" : "application/json", "Auth0-Client": btoa(JSON.stringify(a || up)) } }, t, o);
}
const $s = (...e) => {
  return (t = e.filter(Boolean).join(" ").trim().split(/\s+/), Array.from(new Set(t))).join(" ");
  var t;
};
class Hr {
  constructor(t, r = "@@auth0spajs@@", n) {
    this.prefix = r, this.suffix = n, this.clientId = t.clientId, this.scope = t.scope, this.audience = t.audience;
  }
  toKey() {
    return [this.prefix, this.clientId, this.audience, this.scope, this.suffix].filter(Boolean).join("::");
  }
  static fromKey(t) {
    const [r, n, i, s] = t.split("::");
    return new Hr({ clientId: n, scope: s, audience: i }, r);
  }
  static fromCacheEntry(t) {
    const { scope: r, audience: n, client_id: i } = t;
    return new Hr({ scope: r, audience: n, clientId: i });
  }
}
let Cm = class {
  set(t, r) {
    localStorage.setItem(t, JSON.stringify(r));
  }
  get(t) {
    const r = window.localStorage.getItem(t);
    if (r)
      try {
        return JSON.parse(r);
      } catch {
        return;
      }
  }
  remove(t) {
    localStorage.removeItem(t);
  }
  allKeys() {
    return Object.keys(window.localStorage).filter((t) => t.startsWith("@@auth0spajs@@"));
  }
};
class cp {
  constructor() {
    this.enclosedCache = function() {
      let t = {};
      return { set(r, n) {
        t[r] = n;
      }, get(r) {
        const n = t[r];
        if (n)
          return n;
      }, remove(r) {
        delete t[r];
      }, allKeys: () => Object.keys(t) };
    }();
  }
}
class Rm {
  constructor(t, r, n) {
    this.cache = t, this.keyManifest = r, this.nowProvider = n || fp;
  }
  async setIdToken(t, r, n) {
    var i;
    const s = this.getIdTokenCacheKey(t);
    await this.cache.set(s, { id_token: r, decodedToken: n }), await ((i = this.keyManifest) === null || i === void 0 ? void 0 : i.add(s));
  }
  async getIdToken(t) {
    const r = await this.cache.get(this.getIdTokenCacheKey(t.clientId));
    if (!r && t.scope && t.audience) {
      const n = await this.get(t);
      return !n || !n.id_token || !n.decodedToken ? void 0 : { id_token: n.id_token, decodedToken: n.decodedToken };
    }
    if (r)
      return { id_token: r.id_token, decodedToken: r.decodedToken };
  }
  async get(t, r = 0) {
    var n;
    let i = await this.cache.get(t.toKey());
    if (!i) {
      const o = await this.getCacheKeys();
      if (!o)
        return;
      const u = this.matchExistingCacheKey(t, o);
      u && (i = await this.cache.get(u));
    }
    if (!i)
      return;
    const s = await this.nowProvider(), a = Math.floor(s / 1e3);
    return i.expiresAt - r < a ? i.body.refresh_token ? (i.body = { refresh_token: i.body.refresh_token }, await this.cache.set(t.toKey(), i), i.body) : (await this.cache.remove(t.toKey()), void await ((n = this.keyManifest) === null || n === void 0 ? void 0 : n.remove(t.toKey()))) : i.body;
  }
  async set(t) {
    var r;
    const n = new Hr({ clientId: t.client_id, scope: t.scope, audience: t.audience }), i = await this.wrapCacheEntry(t);
    await this.cache.set(n.toKey(), i), await ((r = this.keyManifest) === null || r === void 0 ? void 0 : r.add(n.toKey()));
  }
  async clear(t) {
    var r;
    const n = await this.getCacheKeys();
    n && (await n.filter((i) => !t || i.includes(t)).reduce(async (i, s) => {
      await i, await this.cache.remove(s);
    }, Promise.resolve()), await ((r = this.keyManifest) === null || r === void 0 ? void 0 : r.clear()));
  }
  async wrapCacheEntry(t) {
    const r = await this.nowProvider();
    return { body: t, expiresAt: Math.floor(r / 1e3) + t.expires_in };
  }
  async getCacheKeys() {
    var t;
    return this.keyManifest ? (t = await this.keyManifest.get()) === null || t === void 0 ? void 0 : t.keys : this.cache.allKeys ? this.cache.allKeys() : void 0;
  }
  getIdTokenCacheKey(t) {
    return new Hr({ clientId: t }, "@@auth0spajs@@", "@@user@@").toKey();
  }
  matchExistingCacheKey(t, r) {
    return r.filter((n) => {
      var i;
      const s = Hr.fromKey(n), a = new Set(s.scope && s.scope.split(" ")), o = ((i = t.scope) === null || i === void 0 ? void 0 : i.split(" ")) || [], u = s.scope && o.reduce((f, l) => f && a.has(l), !0);
      return s.prefix === "@@auth0spajs@@" && s.clientId === t.clientId && s.audience === t.audience && u;
    })[0];
  }
}
class Om {
  constructor(t, r, n) {
    this.storage = t, this.clientId = r, this.cookieDomain = n, this.storageKey = `a0.spajs.txs.${this.clientId}`, this.transaction = this.storage.get(this.storageKey);
  }
  create(t) {
    this.transaction = t, this.storage.save(this.storageKey, t, { daysUntilExpire: 1, cookieDomain: this.cookieDomain });
  }
  get() {
    return this.transaction;
  }
  remove() {
    delete this.transaction, this.storage.remove(this.storageKey, { cookieDomain: this.cookieDomain });
  }
}
const zi = (e) => typeof e == "number", Dm = ["iss", "aud", "exp", "nbf", "iat", "jti", "azp", "nonce", "auth_time", "at_hash", "c_hash", "acr", "amr", "sub_jwk", "cnf", "sip_from_tag", "sip_date", "sip_callid", "sip_cseq_num", "sip_via_branch", "orig", "dest", "mky", "events", "toe", "txn", "rph", "sid", "vot", "vtm"], Mm = (e) => {
  if (!e.id_token)
    throw new Error("ID token is required but missing");
  const t = ((s) => {
    const a = s.split("."), [o, u, f] = a;
    if (a.length !== 3 || !o || !u || !f)
      throw new Error("ID token could not be decoded");
    const l = JSON.parse(uh(u)), h = { __raw: s }, c = {};
    return Object.keys(l).forEach((d) => {
      h[d] = l[d], Dm.includes(d) || (c[d] = l[d]);
    }), { encoded: { header: o, payload: u, signature: f }, header: JSON.parse(uh(o)), claims: h, user: c };
  })(e.id_token);
  if (!t.claims.iss)
    throw new Error("Issuer (iss) claim must be a string present in the ID token");
  if (t.claims.iss !== e.iss)
    throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${e.iss}", found "${t.claims.iss}"`);
  if (!t.user.sub)
    throw new Error("Subject (sub) claim must be a string present in the ID token");
  if (t.header.alg !== "RS256")
    throw new Error(`Signature algorithm of "${t.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);
  if (!t.claims.aud || typeof t.claims.aud != "string" && !Array.isArray(t.claims.aud))
    throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");
  if (Array.isArray(t.claims.aud)) {
    if (!t.claims.aud.includes(e.aud))
      throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but was not one of "${t.claims.aud.join(", ")}"`);
    if (t.claims.aud.length > 1) {
      if (!t.claims.azp)
        throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");
      if (t.claims.azp !== e.aud)
        throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${e.aud}", found "${t.claims.azp}"`);
    }
  } else if (t.claims.aud !== e.aud)
    throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but found "${t.claims.aud}"`);
  if (e.nonce) {
    if (!t.claims.nonce)
      throw new Error("Nonce (nonce) claim must be a string present in the ID token");
    if (t.claims.nonce !== e.nonce)
      throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${e.nonce}", found "${t.claims.nonce}"`);
  }
  if (e.max_age && !zi(t.claims.auth_time))
    throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");
  if (t.claims.exp == null || !zi(t.claims.exp))
    throw new Error("Expiration Time (exp) claim must be a number present in the ID token");
  if (!zi(t.claims.iat))
    throw new Error("Issued At (iat) claim must be a number present in the ID token");
  const r = e.leeway || 60, n = new Date(e.now || Date.now()), i = new Date(0);
  if (i.setUTCSeconds(t.claims.exp + r), n > i)
    throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${n}) is after expiration time (${i})`);
  if (t.claims.nbf != null && zi(t.claims.nbf)) {
    const s = new Date(0);
    if (s.setUTCSeconds(t.claims.nbf - r), n < s)
      throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${n}) is before ${s}`);
  }
  if (t.claims.auth_time != null && zi(t.claims.auth_time)) {
    const s = new Date(0);
    if (s.setUTCSeconds(parseInt(t.claims.auth_time) + e.max_age + r), n > s)
      throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${n}) is after last auth at ${s}`);
  }
  if (e.organizationId) {
    if (!t.claims.org_id)
      throw new Error("Organization ID (org_id) claim must be a string present in the ID token");
    if (e.organizationId !== t.claims.org_id)
      throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${e.organizationId}", found "${t.claims.org_id}"`);
  }
  return t;
};
var Ln = $f(function(e, t) {
  var r = li && li.__assign || function() {
    return r = Object.assign || function(u) {
      for (var f, l = 1, h = arguments.length; l < h; l++)
        for (var c in f = arguments[l])
          Object.prototype.hasOwnProperty.call(f, c) && (u[c] = f[c]);
      return u;
    }, r.apply(this, arguments);
  };
  function n(u, f) {
    if (!f)
      return "";
    var l = "; " + u;
    return f === !0 ? l : l + "=" + f;
  }
  function i(u, f, l) {
    return encodeURIComponent(u).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent).replace(/\(/g, "%28").replace(/\)/g, "%29") + "=" + encodeURIComponent(f).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent) + function(h) {
      if (typeof h.expires == "number") {
        var c = new Date();
        c.setMilliseconds(c.getMilliseconds() + 864e5 * h.expires), h.expires = c;
      }
      return n("Expires", h.expires ? h.expires.toUTCString() : "") + n("Domain", h.domain) + n("Path", h.path) + n("Secure", h.secure) + n("SameSite", h.sameSite);
    }(l);
  }
  function s(u) {
    for (var f = {}, l = u ? u.split("; ") : [], h = /(%[\dA-F]{2})+/gi, c = 0; c < l.length; c++) {
      var d = l[c].split("="), p = d.slice(1).join("=");
      p.charAt(0) === '"' && (p = p.slice(1, -1));
      try {
        f[d[0].replace(h, decodeURIComponent)] = p.replace(h, decodeURIComponent);
      } catch {
      }
    }
    return f;
  }
  function a() {
    return s(document.cookie);
  }
  function o(u, f, l) {
    document.cookie = i(u, f, r({ path: "/" }, l));
  }
  t.__esModule = !0, t.encode = i, t.parse = s, t.getAll = a, t.get = function(u) {
    return a()[u];
  }, t.set = o, t.remove = function(u, f) {
    o(u, "", r(r({}, f), { expires: -1 }));
  };
});
Kf(Ln), Ln.encode, Ln.parse, Ln.getAll;
var Bm = Ln.get, lp = Ln.set, hp = Ln.remove;
const oi = { get(e) {
  const t = Bm(e);
  if (t !== void 0)
    return JSON.parse(t);
}, save(e, t, r) {
  let n = {};
  window.location.protocol === "https:" && (n = { secure: !0, sameSite: "none" }), r != null && r.daysUntilExpire && (n.expires = r.daysUntilExpire), r != null && r.cookieDomain && (n.domain = r.cookieDomain), lp(e, JSON.stringify(t), n);
}, remove(e, t) {
  let r = {};
  t != null && t.cookieDomain && (r.domain = t.cookieDomain), hp(e, r);
} }, Nm = { get(e) {
  return oi.get(e) || oi.get(`_legacy_${e}`);
}, save(e, t, r) {
  let n = {};
  window.location.protocol === "https:" && (n = { secure: !0 }), r != null && r.daysUntilExpire && (n.expires = r.daysUntilExpire), r != null && r.cookieDomain && (n.domain = r.cookieDomain), lp(`_legacy_${e}`, JSON.stringify(t), n), oi.save(e, t, r);
}, remove(e, t) {
  let r = {};
  t != null && t.cookieDomain && (r.domain = t.cookieDomain), hp(e, r), oi.remove(e, t), oi.remove(`_legacy_${e}`, t);
} }, km = { get(e) {
  if (typeof sessionStorage > "u")
    return;
  const t = sessionStorage.getItem(e);
  return t != null ? JSON.parse(t) : void 0;
}, save(e, t) {
  sessionStorage.setItem(e, JSON.stringify(t));
}, remove(e) {
  sessionStorage.removeItem(e);
} };
function jm(e, t, r) {
  var n = t === void 0 ? null : t, i = function(u, f) {
    var l = atob(u);
    if (f) {
      for (var h = new Uint8Array(l.length), c = 0, d = l.length; c < d; ++c)
        h[c] = l.charCodeAt(c);
      return String.fromCharCode.apply(null, new Uint16Array(h.buffer));
    }
    return l;
  }(e, r !== void 0 && r), s = i.indexOf(`
`, 10) + 1, a = i.substring(s) + (n ? "//# sourceMappingURL=" + n : ""), o = new Blob([a], { type: "application/javascript" });
  return URL.createObjectURL(o);
}
var fh, ch, lh, iu, Lm = (fh = "Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9Y29uc3Qgcz1lPT57dmFye2NsaWVudElkOnR9PWUscj1mdW5jdGlvbihlLHQpe3ZhciByPXt9O2Zvcih2YXIgcyBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHMpJiZ0LmluZGV4T2Yocyk8MCYmKHJbc109ZVtzXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPHMubGVuZ3RoO28rKyl0LmluZGV4T2Yoc1tvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsc1tvXSkmJihyW3Nbb11dPWVbc1tvXV0pfXJldHVybiByfShlLFsiY2xpZW50SWQiXSk7cmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoKGU9Pk9iamVjdC5rZXlzKGUpLmZpbHRlcigodD0+dm9pZCAwIT09ZVt0XSkpLnJlZHVjZSgoKHQscik9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7W3JdOmVbcl19KSkse30pKShPYmplY3QuYXNzaWduKHtjbGllbnRfaWQ6dH0scikpKS50b1N0cmluZygpfTtsZXQgbz17fTtjb25zdCBuPShlLHQpPT5gJHtlfXwke3R9YDthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoYXN5bmMoe2RhdGE6e3RpbWVvdXQ6ZSxhdXRoOnIsZmV0Y2hVcmw6aSxmZXRjaE9wdGlvbnM6Yyx1c2VGb3JtRGF0YTphfSxwb3J0czpbZl19KT0+e2xldCBwO2NvbnN0e2F1ZGllbmNlOmwsc2NvcGU6dX09cnx8e307dHJ5e2NvbnN0IHI9YT8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShjLmJvZHkpOkpTT04ucGFyc2UoYy5ib2R5KTtpZighci5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1yLmdyYW50X3R5cGUpe2NvbnN0IGU9KChlLHQpPT5vW24oZSx0KV0pKGwsdSk7aWYoIWUpdGhyb3cgbmV3IHQobCx1KTtjLmJvZHk9YT9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjplfSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjplfSkpfWxldCBkLGc7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixjLnNpZ25hbD1kLnNpZ25hbCk7dHJ5e2c9YXdhaXQgUHJvbWlzZS5yYWNlKFsoaD1lLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsaCkpKSksZmV0Y2goaSxPYmplY3QuYXNzaWduKHt9LGMpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIGYucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFnKXJldHVybiBkJiZkLmFib3J0KCksdm9pZCBmLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO3A9YXdhaXQgZy5qc29uKCkscC5yZWZyZXNoX3Rva2VuPygoKGUsdCxyKT0+e29bbih0LHIpXT1lfSkocC5yZWZyZXNoX3Rva2VuLGwsdSksZGVsZXRlIHAucmVmcmVzaF90b2tlbik6KChlLHQpPT57ZGVsZXRlIG9bbihlLHQpXX0pKGwsdSksZi5wb3N0TWVzc2FnZSh7b2s6Zy5vayxqc29uOnB9KX1jYXRjaChlKXtmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcjplLmVycm9yLGVycm9yX2Rlc2NyaXB0aW9uOmUubWVzc2FnZX19KX12YXIgaH0pKX0oKTsKCg==", ch = null, lh = !1, function(e) {
  return iu = iu || jm(fh, ch, lh), new Worker(iu, e);
});
const su = {};
class Vm {
  constructor(t, r) {
    this.cache = t, this.clientId = r, this.manifestKey = this.createManifestKeyFrom(this.clientId);
  }
  async add(t) {
    var r;
    const n = new Set(((r = await this.cache.get(this.manifestKey)) === null || r === void 0 ? void 0 : r.keys) || []);
    n.add(t), await this.cache.set(this.manifestKey, { keys: [...n] });
  }
  async remove(t) {
    const r = await this.cache.get(this.manifestKey);
    if (r) {
      const n = new Set(r.keys);
      return n.delete(t), n.size > 0 ? await this.cache.set(this.manifestKey, { keys: [...n] }) : await this.cache.remove(this.manifestKey);
    }
  }
  get() {
    return this.cache.get(this.manifestKey);
  }
  clear() {
    return this.cache.remove(this.manifestKey);
  }
  createManifestKeyFrom(t) {
    return `@@auth0spajs@@::${t}`;
  }
}
const Hm = { memory: () => new cp().enclosedCache, localstorage: () => new Cm() }, hh = (e) => Hm[e], dh = (e) => {
  const { openUrl: t, onRedirect: r } = e, n = jr(e, ["openUrl", "onRedirect"]);
  return Object.assign(Object.assign({}, n), { openUrl: t === !1 || t ? t : r });
}, au = new Em();
class Um {
  constructor(t) {
    let r, n;
    if (this.userCache = new cp().enclosedCache, this.defaultOptions = { authorizationParams: { scope: "openid profile email" }, useRefreshTokensFallback: !1, useFormData: !0 }, this._releaseLockOnPageHide = async () => {
      await au.releaseLock("auth0.lock.getTokenSilently"), window.removeEventListener("pagehide", this._releaseLockOnPageHide);
    }, this.options = Object.assign(Object.assign(Object.assign({}, this.defaultOptions), t), { authorizationParams: Object.assign(Object.assign({}, this.defaultOptions.authorizationParams), t.authorizationParams) }), typeof window < "u" && (() => {
      if (!oa())
        throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");
      if (oa().subtle === void 0)
        throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `);
    })(), t.cache && t.cacheLocation && console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."), t.cache)
      n = t.cache;
    else {
      if (r = t.cacheLocation || "memory", !hh(r))
        throw new Error(`Invalid cache location "${r}"`);
      n = hh(r)();
    }
    this.httpTimeoutMs = t.httpTimeoutInSeconds ? 1e3 * t.httpTimeoutInSeconds : 1e4, this.cookieStorage = t.legacySameSiteCookie === !1 ? oi : Nm, this.orgHintCookieName = `auth0.${this.options.clientId}.organization_hint`, this.isAuthenticatedCookieName = ((a) => `auth0.${a}.is.authenticated`)(this.options.clientId), this.sessionCheckExpiryDays = t.sessionCheckExpiryDays || 1;
    const i = t.useCookiesForTransactions ? this.cookieStorage : km;
    var s;
    this.scope = $s("openid", this.options.authorizationParams.scope, this.options.useRefreshTokens ? "offline_access" : ""), this.transactionManager = new Om(i, this.options.clientId, this.options.cookieDomain), this.nowProvider = this.options.nowProvider || fp, this.cacheManager = new Rm(n, n.allKeys ? void 0 : new Vm(n, this.options.clientId), this.nowProvider), this.domainUrl = (s = this.options.domain, /^https?:\/\//.test(s) ? s : `https://${s}`), this.tokenIssuer = ((a, o) => a ? a.startsWith("https://") ? a : `https://${a}/` : `${o}/`)(this.options.issuer, this.domainUrl), typeof window < "u" && window.Worker && this.options.useRefreshTokens && r === "memory" && (this.worker = new Lm());
  }
  _url(t) {
    const r = encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client || up)));
    return `${this.domainUrl}${t}&auth0Client=${r}`;
  }
  _authorizeUrl(t) {
    return this._url(`/authorize?${Ju(t)}`);
  }
  async _verifyIdToken(t, r, n) {
    const i = await this.nowProvider();
    return Mm({ iss: this.tokenIssuer, aud: this.options.clientId, id_token: t, nonce: r, organizationId: n, leeway: this.options.leeway, max_age: (s = this.options.authorizationParams.max_age, typeof s != "string" ? s : parseInt(s, 10) || void 0), now: i });
    var s;
  }
  _processOrgIdHint(t) {
    t ? this.cookieStorage.save(this.orgHintCookieName, t, { daysUntilExpire: this.sessionCheckExpiryDays, cookieDomain: this.options.cookieDomain }) : this.cookieStorage.remove(this.orgHintCookieName, { cookieDomain: this.options.cookieDomain });
  }
  async _prepareAuthorizeUrl(t, r, n) {
    const i = oh(nu()), s = oh(nu()), a = nu(), o = ((l) => {
      const h = new Uint8Array(l);
      return ((c) => {
        const d = { "+": "-", "/": "_", "=": "" };
        return c.replace(/[+/=]/g, (p) => d[p]);
      })(window.btoa(String.fromCharCode(...Array.from(h))));
    })(await (async (l) => await oa().subtle.digest({ name: "SHA-256" }, new TextEncoder().encode(l)))(a)), u = ((l, h, c, d, p, v, m, b) => Object.assign(Object.assign(Object.assign({ client_id: l.clientId }, l.authorizationParams), c), { scope: $s(h, c.scope), response_type: "code", response_mode: b || "query", state: d, nonce: p, redirect_uri: m || l.authorizationParams.redirect_uri, code_challenge: v, code_challenge_method: "S256" }))(this.options, this.scope, t, i, s, o, t.redirect_uri || this.options.authorizationParams.redirect_uri || n, r == null ? void 0 : r.response_mode), f = this._authorizeUrl(u);
    return { nonce: s, code_verifier: a, scope: u.scope, audience: u.audience || "default", redirect_uri: u.redirect_uri, state: i, url: f };
  }
  async loginWithPopup(t, r) {
    var n;
    if (t = t || {}, !(r = r || {}).popup && (r.popup = ((o) => {
      const u = window.screenX + (window.innerWidth - 400) / 2, f = window.screenY + (window.innerHeight - 600) / 2;
      return window.open(o, "auth0:authorize:popup", `left=${u},top=${f},width=400,height=600,resizable,scrollbars=yes,status=1`);
    })(""), !r.popup))
      throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");
    const i = await this._prepareAuthorizeUrl(t.authorizationParams || {}, { response_mode: "web_message" }, window.location.origin);
    r.popup.location.href = i.url;
    const s = await ((o) => new Promise((u, f) => {
      let l;
      const h = setInterval(() => {
        o.popup && o.popup.closed && (clearInterval(h), clearTimeout(c), window.removeEventListener("message", l, !1), f(new Gf(o.popup)));
      }, 1e3), c = setTimeout(() => {
        clearInterval(h), f(new Wf(o.popup)), window.removeEventListener("message", l, !1);
      }, 1e3 * (o.timeoutInSeconds || 60));
      l = function(d) {
        if (d.data && d.data.type === "authorization_response") {
          if (clearTimeout(c), clearInterval(h), window.removeEventListener("message", l, !1), o.popup.close(), d.data.response.error)
            return f(Ht.fromPayload(d.data.response));
          u(d.data.response);
        }
      }, window.addEventListener("message", l);
    }))(Object.assign(Object.assign({}, r), { timeoutInSeconds: r.timeoutInSeconds || this.options.authorizeTimeoutInSeconds || 60 }));
    if (i.state !== s.state)
      throw new Ht("state_mismatch", "Invalid state");
    const a = ((n = t.authorizationParams) === null || n === void 0 ? void 0 : n.organization) || this.options.authorizationParams.organization;
    await this._requestToken({ audience: i.audience, scope: i.scope, code_verifier: i.code_verifier, grant_type: "authorization_code", code: s.code, redirect_uri: i.redirect_uri }, { nonceIn: i.nonce, organizationId: a });
  }
  async getUser() {
    var t;
    const r = await this._getIdTokenFromCache();
    return (t = r == null ? void 0 : r.decodedToken) === null || t === void 0 ? void 0 : t.user;
  }
  async getIdTokenClaims() {
    var t;
    const r = await this._getIdTokenFromCache();
    return (t = r == null ? void 0 : r.decodedToken) === null || t === void 0 ? void 0 : t.claims;
  }
  async loginWithRedirect(t = {}) {
    var r;
    const n = dh(t), { openUrl: i, fragment: s, appState: a } = n, o = jr(n, ["openUrl", "fragment", "appState"]), u = ((r = o.authorizationParams) === null || r === void 0 ? void 0 : r.organization) || this.options.authorizationParams.organization, f = await this._prepareAuthorizeUrl(o.authorizationParams || {}), { url: l } = f, h = jr(f, ["url"]);
    this.transactionManager.create(Object.assign(Object.assign(Object.assign({}, h), { appState: a }), u && { organizationId: u }));
    const c = s ? `${l}#${s}` : l;
    i ? await i(c) : window.location.assign(c);
  }
  async handleRedirectCallback(t = window.location.href) {
    const r = t.split("?").slice(1);
    if (r.length === 0)
      throw new Error("There are no query params available for parsing.");
    const { state: n, code: i, error: s, error_description: a } = ((h) => {
      h.indexOf("#") > -1 && (h = h.substring(0, h.indexOf("#")));
      const c = new URLSearchParams(h);
      return { state: c.get("state"), code: c.get("code") || void 0, error: c.get("error") || void 0, error_description: c.get("error_description") || void 0 };
    })(r.join("")), o = this.transactionManager.get();
    if (!o)
      throw new Ht("missing_transaction", "Invalid state");
    if (this.transactionManager.remove(), s)
      throw new zf(s, a || s, n, o.appState);
    if (!o.code_verifier || o.state && o.state !== n)
      throw new Ht("state_mismatch", "Invalid state");
    const u = o.organizationId, f = o.nonce, l = o.redirect_uri;
    return await this._requestToken(Object.assign({ audience: o.audience, scope: o.scope, code_verifier: o.code_verifier, grant_type: "authorization_code", code: i }, l ? { redirect_uri: l } : {}), { nonceIn: f, organizationId: u }), { appState: o.appState };
  }
  async checkSession(t) {
    if (!this.cookieStorage.get(this.isAuthenticatedCookieName)) {
      if (!this.cookieStorage.get("auth0.is.authenticated"))
        return;
      this.cookieStorage.save(this.isAuthenticatedCookieName, !0, { daysUntilExpire: this.sessionCheckExpiryDays, cookieDomain: this.options.cookieDomain }), this.cookieStorage.remove("auth0.is.authenticated");
    }
    try {
      await this.getTokenSilently(t);
    } catch {
    }
  }
  async getTokenSilently(t = {}) {
    var r;
    const n = Object.assign(Object.assign({ cacheMode: "on" }, t), { authorizationParams: Object.assign(Object.assign(Object.assign({}, this.options.authorizationParams), t.authorizationParams), { scope: $s(this.scope, (r = t.authorizationParams) === null || r === void 0 ? void 0 : r.scope) }) }), i = await ((s, a) => {
      let o = su[a];
      return o || (o = s().finally(() => {
        delete su[a], o = null;
      }), su[a] = o), o;
    })(() => this._getTokenSilently(n), `${this.options.clientId}::${n.authorizationParams.audience}::${n.authorizationParams.scope}`);
    return t.detailedResponse ? i : i == null ? void 0 : i.access_token;
  }
  async _getTokenSilently(t) {
    const { cacheMode: r } = t, n = jr(t, ["cacheMode"]);
    if (r !== "off") {
      const i = await this._getEntryFromCache({ scope: n.authorizationParams.scope, audience: n.authorizationParams.audience || "default", clientId: this.options.clientId });
      if (i)
        return i;
    }
    if (r !== "cache-only") {
      if (!await (async (i, s = 3) => {
        for (let a = 0; a < s; a++)
          if (await i())
            return !0;
        return !1;
      })(() => au.acquireLock("auth0.lock.getTokenSilently", 5e3), 10))
        throw new ps();
      try {
        if (window.addEventListener("pagehide", this._releaseLockOnPageHide), r !== "off") {
          const f = await this._getEntryFromCache({ scope: n.authorizationParams.scope, audience: n.authorizationParams.audience || "default", clientId: this.options.clientId });
          if (f)
            return f;
        }
        const i = this.options.useRefreshTokens ? await this._getTokenUsingRefreshToken(n) : await this._getTokenFromIFrame(n), { id_token: s, access_token: a, oauthTokenScope: o, expires_in: u } = i;
        return Object.assign(Object.assign({ id_token: s, access_token: a }, o ? { scope: o } : null), { expires_in: u });
      } finally {
        await au.releaseLock("auth0.lock.getTokenSilently"), window.removeEventListener("pagehide", this._releaseLockOnPageHide);
      }
    }
  }
  async getTokenWithPopup(t = {}, r = {}) {
    var n;
    const i = Object.assign(Object.assign({}, t), { authorizationParams: Object.assign(Object.assign(Object.assign({}, this.options.authorizationParams), t.authorizationParams), { scope: $s(this.scope, (n = t.authorizationParams) === null || n === void 0 ? void 0 : n.scope) }) });
    return r = Object.assign(Object.assign({}, Am), r), await this.loginWithPopup(i, r), (await this.cacheManager.get(new Hr({ scope: i.authorizationParams.scope, audience: i.authorizationParams.audience || "default", clientId: this.options.clientId }))).access_token;
  }
  async isAuthenticated() {
    return !!await this.getUser();
  }
  _buildLogoutUrl(t) {
    t.clientId !== null ? t.clientId = t.clientId || this.options.clientId : delete t.clientId;
    const r = t.logoutParams || {}, { federated: n } = r, i = jr(r, ["federated"]), s = n ? "&federated" : "";
    return this._url(`/v2/logout?${Ju(Object.assign({ clientId: t.clientId }, i))}`) + s;
  }
  async logout(t = {}) {
    const r = dh(t), { openUrl: n } = r, i = jr(r, ["openUrl"]);
    t.clientId === null ? await this.cacheManager.clear() : await this.cacheManager.clear(t.clientId || this.options.clientId), this.cookieStorage.remove(this.orgHintCookieName, { cookieDomain: this.options.cookieDomain }), this.cookieStorage.remove(this.isAuthenticatedCookieName, { cookieDomain: this.options.cookieDomain }), this.userCache.remove("@@user@@");
    const s = this._buildLogoutUrl(i);
    n ? await n(s) : n !== !1 && window.location.assign(s);
  }
  async _getTokenFromIFrame(t) {
    const r = Object.assign(Object.assign({}, t.authorizationParams), { prompt: "none" }), n = this.cookieStorage.get(this.orgHintCookieName);
    n && !r.organization && (r.organization = n);
    const { url: i, state: s, nonce: a, code_verifier: o, redirect_uri: u, scope: f, audience: l } = await this._prepareAuthorizeUrl(r, { response_mode: "web_message" }, window.location.origin);
    try {
      if (window.crossOriginIsolated)
        throw new Ht("login_required", "The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");
      const h = t.timeoutInSeconds || this.options.authorizeTimeoutInSeconds, c = await ((p, v, m = 60) => new Promise((b, A) => {
        const D = window.document.createElement("iframe");
        D.setAttribute("width", "0"), D.setAttribute("height", "0"), D.style.display = "none";
        const k = () => {
          window.document.body.contains(D) && (window.document.body.removeChild(D), window.removeEventListener("message", L, !1));
        };
        let L;
        const _ = setTimeout(() => {
          A(new ps()), k();
        }, 1e3 * m);
        L = function(F) {
          if (F.origin != v || !F.data || F.data.type !== "authorization_response")
            return;
          const O = F.source;
          O && O.close(), F.data.response.error ? A(Ht.fromPayload(F.data.response)) : b(F.data.response), clearTimeout(_), window.removeEventListener("message", L, !1), setTimeout(k, 2e3);
        }, window.addEventListener("message", L, !1), window.document.body.appendChild(D), D.setAttribute("src", p);
      }))(i, this.domainUrl, h);
      if (s !== c.state)
        throw new Ht("state_mismatch", "Invalid state");
      const d = await this._requestToken(Object.assign(Object.assign({}, t.authorizationParams), { code_verifier: o, code: c.code, grant_type: "authorization_code", redirect_uri: u, timeout: t.authorizationParams.timeout || this.httpTimeoutMs }), { nonceIn: a });
      return Object.assign(Object.assign({}, d), { scope: f, oauthTokenScope: d.scope, audience: l });
    } catch (h) {
      throw h.error === "login_required" && this.logout({ openUrl: !1 }), h;
    }
  }
  async _getTokenUsingRefreshToken(t) {
    const r = await this.cacheManager.get(new Hr({ scope: t.authorizationParams.scope, audience: t.authorizationParams.audience || "default", clientId: this.options.clientId }));
    if (!(r && r.refresh_token || this.worker)) {
      if (this.options.useRefreshTokensFallback)
        return await this._getTokenFromIFrame(t);
      throw new Yf(t.authorizationParams.audience || "default", t.authorizationParams.scope);
    }
    const n = t.authorizationParams.redirect_uri || this.options.authorizationParams.redirect_uri || window.location.origin, i = typeof t.timeoutInSeconds == "number" ? 1e3 * t.timeoutInSeconds : null;
    try {
      const s = await this._requestToken(Object.assign(Object.assign(Object.assign({}, t.authorizationParams), { grant_type: "refresh_token", refresh_token: r && r.refresh_token, redirect_uri: n }), i && { timeout: i }));
      return Object.assign(Object.assign({}, s), { scope: t.authorizationParams.scope, oauthTokenScope: s.scope, audience: t.authorizationParams.audience || "default" });
    } catch (s) {
      if ((s.message.indexOf("Missing Refresh Token") > -1 || s.message && s.message.indexOf("invalid refresh token") > -1) && this.options.useRefreshTokensFallback)
        return await this._getTokenFromIFrame(t);
      throw s;
    }
  }
  async _saveEntryInCache(t) {
    const { id_token: r, decodedToken: n } = t, i = jr(t, ["id_token", "decodedToken"]);
    this.userCache.set("@@user@@", { id_token: r, decodedToken: n }), await this.cacheManager.setIdToken(this.options.clientId, t.id_token, t.decodedToken), await this.cacheManager.set(i);
  }
  async _getIdTokenFromCache() {
    const t = this.options.authorizationParams.audience || "default", r = await this.cacheManager.getIdToken(new Hr({ clientId: this.options.clientId, audience: t, scope: this.scope })), n = this.userCache.get("@@user@@");
    return r && r.id_token === (n == null ? void 0 : n.id_token) ? n : (this.userCache.set("@@user@@", r), r);
  }
  async _getEntryFromCache({ scope: t, audience: r, clientId: n }) {
    const i = await this.cacheManager.get(new Hr({ scope: t, audience: r, clientId: n }), 60);
    if (i && i.access_token) {
      const { access_token: s, oauthTokenScope: a, expires_in: o } = i, u = await this._getIdTokenFromCache();
      return u && Object.assign(Object.assign({ id_token: u.id_token, access_token: s }, a ? { scope: a } : null), { expires_in: o });
    }
  }
  async _requestToken(t, r) {
    const { nonceIn: n, organizationId: i } = r || {}, s = await Im(Object.assign({ baseUrl: this.domainUrl, client_id: this.options.clientId, auth0Client: this.options.auth0Client, useFormData: this.options.useFormData, timeout: this.httpTimeoutMs }, t), this.worker), a = await this._verifyIdToken(s.id_token, n, i);
    return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({}, s), { decodedToken: a, scope: t.scope, audience: t.audience || "default" }), s.scope ? { oauthTokenScope: s.scope } : null), { client_id: this.options.clientId })), this.cookieStorage.save(this.isAuthenticatedCookieName, !0, { daysUntilExpire: this.sessionCheckExpiryDays, cookieDomain: this.options.cookieDomain }), this._processOrgIdHint(a.claims.org_id), Object.assign(Object.assign({}, s), { decodedToken: a });
  }
}
async function qm(e) {
  const t = new Um(e);
  return await t.checkSession(), t;
}
function Yu(e) {
  this.message = e;
}
Yu.prototype = new Error(), Yu.prototype.name = "InvalidCharacterError";
var ph = typeof window < "u" && window.atob && window.atob.bind(window) || function(e) {
  var t = String(e).replace(/=+$/, "");
  if (t.length % 4 == 1)
    throw new Yu("'atob' failed: The string to be decoded is not correctly encoded.");
  for (var r, n, i = 0, s = 0, a = ""; n = t.charAt(s++); ~n && (r = i % 4 ? 64 * r + n : n, i++ % 4) ? a += String.fromCharCode(255 & r >> (-2 * i & 6)) : 0)
    n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);
  return a;
};
function Km(e) {
  var t = e.replace(/-/g, "+").replace(/_/g, "/");
  switch (t.length % 4) {
    case 0:
      break;
    case 2:
      t += "==";
      break;
    case 3:
      t += "=";
      break;
    default:
      throw "Illegal base64url string!";
  }
  try {
    return function(r) {
      return decodeURIComponent(ph(r).replace(/(.)/g, function(n, i) {
        var s = i.charCodeAt(0).toString(16).toUpperCase();
        return s.length < 2 && (s = "0" + s), "%" + s;
      }));
    }(t);
  } catch {
    return ph(t);
  }
}
function ga(e) {
  this.message = e;
}
function vn(e, t) {
  if (typeof e != "string")
    throw new ga("Invalid token specified");
  var r = (t = t || {}).header === !0 ? 0 : 1;
  try {
    return JSON.parse(Km(e.split(".")[r]));
  } catch (n) {
    throw new ga("Invalid token specified: " + n.message);
  }
}
ga.prototype = new Error(), ga.prototype.name = "InvalidTokenError";
const $m = (e) => {
  const t = new DataView(e);
  let r = "";
  for (let n = 0; n < t.byteLength; n += 4)
    r += t.getUint32(n).toString(16).padStart(8, "0");
  return r;
}, zm = (e) => async (t, { outputFormat: r = "hex" } = {}) => {
  typeof t == "string" && (t = new globalThis.TextEncoder().encode(t));
  const n = await globalThis.crypto.subtle.digest(e, t);
  return r === "hex" ? $m(n) : n;
}, zs = zm("SHA-256");
var hn = {}, ir = {}, Wm = {
  get exports() {
    return ir;
  },
  set exports(e) {
    ir = e;
  }
};
const Gm = {}, Jm = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Gm
}, Symbol.toStringTag, { value: "Module" })), Xf = /* @__PURE__ */ Dg(Jm);
(function(e) {
  (function(t, r) {
    function n(C, y) {
      if (!C)
        throw new Error(y || "Assertion failed");
    }
    function i(C, y) {
      C.super_ = y;
      var E = function() {
      };
      E.prototype = y.prototype, C.prototype = new E(), C.prototype.constructor = C;
    }
    function s(C, y, E) {
      if (s.isBN(C))
        return C;
      this.negative = 0, this.words = null, this.length = 0, this.red = null, C !== null && ((y === "le" || y === "be") && (E = y, y = 10), this._init(C || 0, y || 10, E || "be"));
    }
    typeof t == "object" ? t.exports = s : r.BN = s, s.BN = s, s.wordSize = 26;
    var a;
    try {
      typeof window < "u" && typeof window.Buffer < "u" ? a = window.Buffer : a = Xf.Buffer;
    } catch {
    }
    s.isBN = function(y) {
      return y instanceof s ? !0 : y !== null && typeof y == "object" && y.constructor.wordSize === s.wordSize && Array.isArray(y.words);
    }, s.max = function(y, E) {
      return y.cmp(E) > 0 ? y : E;
    }, s.min = function(y, E) {
      return y.cmp(E) < 0 ? y : E;
    }, s.prototype._init = function(y, E, T) {
      if (typeof y == "number")
        return this._initNumber(y, E, T);
      if (typeof y == "object")
        return this._initArray(y, E, T);
      E === "hex" && (E = 16), n(E === (E | 0) && E >= 2 && E <= 36), y = y.toString().replace(/\s+/g, "");
      var R = 0;
      y[0] === "-" && (R++, this.negative = 1), R < y.length && (E === 16 ? this._parseHex(y, R, T) : (this._parseBase(y, E, R), T === "le" && this._initArray(this.toArray(), E, T)));
    }, s.prototype._initNumber = function(y, E, T) {
      y < 0 && (this.negative = 1, y = -y), y < 67108864 ? (this.words = [y & 67108863], this.length = 1) : y < 4503599627370496 ? (this.words = [
        y & 67108863,
        y / 67108864 & 67108863
      ], this.length = 2) : (n(y < 9007199254740992), this.words = [
        y & 67108863,
        y / 67108864 & 67108863,
        1
      ], this.length = 3), T === "le" && this._initArray(this.toArray(), E, T);
    }, s.prototype._initArray = function(y, E, T) {
      if (n(typeof y.length == "number"), y.length <= 0)
        return this.words = [0], this.length = 1, this;
      this.length = Math.ceil(y.length / 3), this.words = new Array(this.length);
      for (var R = 0; R < this.length; R++)
        this.words[R] = 0;
      var N, H, Z = 0;
      if (T === "be")
        for (R = y.length - 1, N = 0; R >= 0; R -= 3)
          H = y[R] | y[R - 1] << 8 | y[R - 2] << 16, this.words[N] |= H << Z & 67108863, this.words[N + 1] = H >>> 26 - Z & 67108863, Z += 24, Z >= 26 && (Z -= 26, N++);
      else if (T === "le")
        for (R = 0, N = 0; R < y.length; R += 3)
          H = y[R] | y[R + 1] << 8 | y[R + 2] << 16, this.words[N] |= H << Z & 67108863, this.words[N + 1] = H >>> 26 - Z & 67108863, Z += 24, Z >= 26 && (Z -= 26, N++);
      return this.strip();
    };
    function o(C, y) {
      var E = C.charCodeAt(y);
      return E >= 65 && E <= 70 ? E - 55 : E >= 97 && E <= 102 ? E - 87 : E - 48 & 15;
    }
    function u(C, y, E) {
      var T = o(C, E);
      return E - 1 >= y && (T |= o(C, E - 1) << 4), T;
    }
    s.prototype._parseHex = function(y, E, T) {
      this.length = Math.ceil((y.length - E) / 6), this.words = new Array(this.length);
      for (var R = 0; R < this.length; R++)
        this.words[R] = 0;
      var N = 0, H = 0, Z;
      if (T === "be")
        for (R = y.length - 1; R >= E; R -= 2)
          Z = u(y, E, R) << N, this.words[H] |= Z & 67108863, N >= 18 ? (N -= 18, H += 1, this.words[H] |= Z >>> 26) : N += 8;
      else {
        var K = y.length - E;
        for (R = K % 2 === 0 ? E + 1 : E; R < y.length; R += 2)
          Z = u(y, E, R) << N, this.words[H] |= Z & 67108863, N >= 18 ? (N -= 18, H += 1, this.words[H] |= Z >>> 26) : N += 8;
      }
      this.strip();
    };
    function f(C, y, E, T) {
      for (var R = 0, N = Math.min(C.length, E), H = y; H < N; H++) {
        var Z = C.charCodeAt(H) - 48;
        R *= T, Z >= 49 ? R += Z - 49 + 10 : Z >= 17 ? R += Z - 17 + 10 : R += Z;
      }
      return R;
    }
    s.prototype._parseBase = function(y, E, T) {
      this.words = [0], this.length = 1;
      for (var R = 0, N = 1; N <= 67108863; N *= E)
        R++;
      R--, N = N / E | 0;
      for (var H = y.length - T, Z = H % R, K = Math.min(H, H - Z) + T, x = 0, V = T; V < K; V += R)
        x = f(y, V, V + R, E), this.imuln(N), this.words[0] + x < 67108864 ? this.words[0] += x : this._iaddn(x);
      if (Z !== 0) {
        var $ = 1;
        for (x = f(y, V, y.length, E), V = 0; V < Z; V++)
          $ *= E;
        this.imuln($), this.words[0] + x < 67108864 ? this.words[0] += x : this._iaddn(x);
      }
      this.strip();
    }, s.prototype.copy = function(y) {
      y.words = new Array(this.length);
      for (var E = 0; E < this.length; E++)
        y.words[E] = this.words[E];
      y.length = this.length, y.negative = this.negative, y.red = this.red;
    }, s.prototype.clone = function() {
      var y = new s(null);
      return this.copy(y), y;
    }, s.prototype._expand = function(y) {
      for (; this.length < y; )
        this.words[this.length++] = 0;
      return this;
    }, s.prototype.strip = function() {
      for (; this.length > 1 && this.words[this.length - 1] === 0; )
        this.length--;
      return this._normSign();
    }, s.prototype._normSign = function() {
      return this.length === 1 && this.words[0] === 0 && (this.negative = 0), this;
    }, s.prototype.inspect = function() {
      return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
    };
    var l = [
      "",
      "0",
      "00",
      "000",
      "0000",
      "00000",
      "000000",
      "0000000",
      "00000000",
      "000000000",
      "0000000000",
      "00000000000",
      "000000000000",
      "0000000000000",
      "00000000000000",
      "000000000000000",
      "0000000000000000",
      "00000000000000000",
      "000000000000000000",
      "0000000000000000000",
      "00000000000000000000",
      "000000000000000000000",
      "0000000000000000000000",
      "00000000000000000000000",
      "000000000000000000000000",
      "0000000000000000000000000"
    ], h = [
      0,
      0,
      25,
      16,
      12,
      11,
      10,
      9,
      8,
      8,
      7,
      7,
      7,
      7,
      6,
      6,
      6,
      6,
      6,
      6,
      6,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5
    ], c = [
      0,
      0,
      33554432,
      43046721,
      16777216,
      48828125,
      60466176,
      40353607,
      16777216,
      43046721,
      1e7,
      19487171,
      35831808,
      62748517,
      7529536,
      11390625,
      16777216,
      24137569,
      34012224,
      47045881,
      64e6,
      4084101,
      5153632,
      6436343,
      7962624,
      9765625,
      11881376,
      14348907,
      17210368,
      20511149,
      243e5,
      28629151,
      33554432,
      39135393,
      45435424,
      52521875,
      60466176
    ];
    s.prototype.toString = function(y, E) {
      y = y || 10, E = E | 0 || 1;
      var T;
      if (y === 16 || y === "hex") {
        T = "";
        for (var R = 0, N = 0, H = 0; H < this.length; H++) {
          var Z = this.words[H], K = ((Z << R | N) & 16777215).toString(16);
          N = Z >>> 24 - R & 16777215, N !== 0 || H !== this.length - 1 ? T = l[6 - K.length] + K + T : T = K + T, R += 2, R >= 26 && (R -= 26, H--);
        }
        for (N !== 0 && (T = N.toString(16) + T); T.length % E !== 0; )
          T = "0" + T;
        return this.negative !== 0 && (T = "-" + T), T;
      }
      if (y === (y | 0) && y >= 2 && y <= 36) {
        var x = h[y], V = c[y];
        T = "";
        var $ = this.clone();
        for ($.negative = 0; !$.isZero(); ) {
          var G = $.modn(V).toString(y);
          $ = $.idivn(V), $.isZero() ? T = G + T : T = l[x - G.length] + G + T;
        }
        for (this.isZero() && (T = "0" + T); T.length % E !== 0; )
          T = "0" + T;
        return this.negative !== 0 && (T = "-" + T), T;
      }
      n(!1, "Base should be between 2 and 36");
    }, s.prototype.toNumber = function() {
      var y = this.words[0];
      return this.length === 2 ? y += this.words[1] * 67108864 : this.length === 3 && this.words[2] === 1 ? y += 4503599627370496 + this.words[1] * 67108864 : this.length > 2 && n(!1, "Number can only safely store up to 53 bits"), this.negative !== 0 ? -y : y;
    }, s.prototype.toJSON = function() {
      return this.toString(16);
    }, s.prototype.toBuffer = function(y, E) {
      return n(typeof a < "u"), this.toArrayLike(a, y, E);
    }, s.prototype.toArray = function(y, E) {
      return this.toArrayLike(Array, y, E);
    }, s.prototype.toArrayLike = function(y, E, T) {
      var R = this.byteLength(), N = T || Math.max(1, R);
      n(R <= N, "byte array longer than desired length"), n(N > 0, "Requested array length <= 0"), this.strip();
      var H = E === "le", Z = new y(N), K, x, V = this.clone();
      if (H) {
        for (x = 0; !V.isZero(); x++)
          K = V.andln(255), V.iushrn(8), Z[x] = K;
        for (; x < N; x++)
          Z[x] = 0;
      } else {
        for (x = 0; x < N - R; x++)
          Z[x] = 0;
        for (x = 0; !V.isZero(); x++)
          K = V.andln(255), V.iushrn(8), Z[N - x - 1] = K;
      }
      return Z;
    }, Math.clz32 ? s.prototype._countBits = function(y) {
      return 32 - Math.clz32(y);
    } : s.prototype._countBits = function(y) {
      var E = y, T = 0;
      return E >= 4096 && (T += 13, E >>>= 13), E >= 64 && (T += 7, E >>>= 7), E >= 8 && (T += 4, E >>>= 4), E >= 2 && (T += 2, E >>>= 2), T + E;
    }, s.prototype._zeroBits = function(y) {
      if (y === 0)
        return 26;
      var E = y, T = 0;
      return E & 8191 || (T += 13, E >>>= 13), E & 127 || (T += 7, E >>>= 7), E & 15 || (T += 4, E >>>= 4), E & 3 || (T += 2, E >>>= 2), E & 1 || T++, T;
    }, s.prototype.bitLength = function() {
      var y = this.words[this.length - 1], E = this._countBits(y);
      return (this.length - 1) * 26 + E;
    };
    function d(C) {
      for (var y = new Array(C.bitLength()), E = 0; E < y.length; E++) {
        var T = E / 26 | 0, R = E % 26;
        y[E] = (C.words[T] & 1 << R) >>> R;
      }
      return y;
    }
    s.prototype.zeroBits = function() {
      if (this.isZero())
        return 0;
      for (var y = 0, E = 0; E < this.length; E++) {
        var T = this._zeroBits(this.words[E]);
        if (y += T, T !== 26)
          break;
      }
      return y;
    }, s.prototype.byteLength = function() {
      return Math.ceil(this.bitLength() / 8);
    }, s.prototype.toTwos = function(y) {
      return this.negative !== 0 ? this.abs().inotn(y).iaddn(1) : this.clone();
    }, s.prototype.fromTwos = function(y) {
      return this.testn(y - 1) ? this.notn(y).iaddn(1).ineg() : this.clone();
    }, s.prototype.isNeg = function() {
      return this.negative !== 0;
    }, s.prototype.neg = function() {
      return this.clone().ineg();
    }, s.prototype.ineg = function() {
      return this.isZero() || (this.negative ^= 1), this;
    }, s.prototype.iuor = function(y) {
      for (; this.length < y.length; )
        this.words[this.length++] = 0;
      for (var E = 0; E < y.length; E++)
        this.words[E] = this.words[E] | y.words[E];
      return this.strip();
    }, s.prototype.ior = function(y) {
      return n((this.negative | y.negative) === 0), this.iuor(y);
    }, s.prototype.or = function(y) {
      return this.length > y.length ? this.clone().ior(y) : y.clone().ior(this);
    }, s.prototype.uor = function(y) {
      return this.length > y.length ? this.clone().iuor(y) : y.clone().iuor(this);
    }, s.prototype.iuand = function(y) {
      var E;
      this.length > y.length ? E = y : E = this;
      for (var T = 0; T < E.length; T++)
        this.words[T] = this.words[T] & y.words[T];
      return this.length = E.length, this.strip();
    }, s.prototype.iand = function(y) {
      return n((this.negative | y.negative) === 0), this.iuand(y);
    }, s.prototype.and = function(y) {
      return this.length > y.length ? this.clone().iand(y) : y.clone().iand(this);
    }, s.prototype.uand = function(y) {
      return this.length > y.length ? this.clone().iuand(y) : y.clone().iuand(this);
    }, s.prototype.iuxor = function(y) {
      var E, T;
      this.length > y.length ? (E = this, T = y) : (E = y, T = this);
      for (var R = 0; R < T.length; R++)
        this.words[R] = E.words[R] ^ T.words[R];
      if (this !== E)
        for (; R < E.length; R++)
          this.words[R] = E.words[R];
      return this.length = E.length, this.strip();
    }, s.prototype.ixor = function(y) {
      return n((this.negative | y.negative) === 0), this.iuxor(y);
    }, s.prototype.xor = function(y) {
      return this.length > y.length ? this.clone().ixor(y) : y.clone().ixor(this);
    }, s.prototype.uxor = function(y) {
      return this.length > y.length ? this.clone().iuxor(y) : y.clone().iuxor(this);
    }, s.prototype.inotn = function(y) {
      n(typeof y == "number" && y >= 0);
      var E = Math.ceil(y / 26) | 0, T = y % 26;
      this._expand(E), T > 0 && E--;
      for (var R = 0; R < E; R++)
        this.words[R] = ~this.words[R] & 67108863;
      return T > 0 && (this.words[R] = ~this.words[R] & 67108863 >> 26 - T), this.strip();
    }, s.prototype.notn = function(y) {
      return this.clone().inotn(y);
    }, s.prototype.setn = function(y, E) {
      n(typeof y == "number" && y >= 0);
      var T = y / 26 | 0, R = y % 26;
      return this._expand(T + 1), E ? this.words[T] = this.words[T] | 1 << R : this.words[T] = this.words[T] & ~(1 << R), this.strip();
    }, s.prototype.iadd = function(y) {
      var E;
      if (this.negative !== 0 && y.negative === 0)
        return this.negative = 0, E = this.isub(y), this.negative ^= 1, this._normSign();
      if (this.negative === 0 && y.negative !== 0)
        return y.negative = 0, E = this.isub(y), y.negative = 1, E._normSign();
      var T, R;
      this.length > y.length ? (T = this, R = y) : (T = y, R = this);
      for (var N = 0, H = 0; H < R.length; H++)
        E = (T.words[H] | 0) + (R.words[H] | 0) + N, this.words[H] = E & 67108863, N = E >>> 26;
      for (; N !== 0 && H < T.length; H++)
        E = (T.words[H] | 0) + N, this.words[H] = E & 67108863, N = E >>> 26;
      if (this.length = T.length, N !== 0)
        this.words[this.length] = N, this.length++;
      else if (T !== this)
        for (; H < T.length; H++)
          this.words[H] = T.words[H];
      return this;
    }, s.prototype.add = function(y) {
      var E;
      return y.negative !== 0 && this.negative === 0 ? (y.negative = 0, E = this.sub(y), y.negative ^= 1, E) : y.negative === 0 && this.negative !== 0 ? (this.negative = 0, E = y.sub(this), this.negative = 1, E) : this.length > y.length ? this.clone().iadd(y) : y.clone().iadd(this);
    }, s.prototype.isub = function(y) {
      if (y.negative !== 0) {
        y.negative = 0;
        var E = this.iadd(y);
        return y.negative = 1, E._normSign();
      } else if (this.negative !== 0)
        return this.negative = 0, this.iadd(y), this.negative = 1, this._normSign();
      var T = this.cmp(y);
      if (T === 0)
        return this.negative = 0, this.length = 1, this.words[0] = 0, this;
      var R, N;
      T > 0 ? (R = this, N = y) : (R = y, N = this);
      for (var H = 0, Z = 0; Z < N.length; Z++)
        E = (R.words[Z] | 0) - (N.words[Z] | 0) + H, H = E >> 26, this.words[Z] = E & 67108863;
      for (; H !== 0 && Z < R.length; Z++)
        E = (R.words[Z] | 0) + H, H = E >> 26, this.words[Z] = E & 67108863;
      if (H === 0 && Z < R.length && R !== this)
        for (; Z < R.length; Z++)
          this.words[Z] = R.words[Z];
      return this.length = Math.max(this.length, Z), R !== this && (this.negative = 1), this.strip();
    }, s.prototype.sub = function(y) {
      return this.clone().isub(y);
    };
    function p(C, y, E) {
      E.negative = y.negative ^ C.negative;
      var T = C.length + y.length | 0;
      E.length = T, T = T - 1 | 0;
      var R = C.words[0] | 0, N = y.words[0] | 0, H = R * N, Z = H & 67108863, K = H / 67108864 | 0;
      E.words[0] = Z;
      for (var x = 1; x < T; x++) {
        for (var V = K >>> 26, $ = K & 67108863, G = Math.min(x, y.length - 1), z = Math.max(0, x - C.length + 1); z <= G; z++) {
          var ae = x - z | 0;
          R = C.words[ae] | 0, N = y.words[z] | 0, H = R * N + $, V += H / 67108864 | 0, $ = H & 67108863;
        }
        E.words[x] = $ | 0, K = V | 0;
      }
      return K !== 0 ? E.words[x] = K | 0 : E.length--, E.strip();
    }
    var v = function(y, E, T) {
      var R = y.words, N = E.words, H = T.words, Z = 0, K, x, V, $ = R[0] | 0, G = $ & 8191, z = $ >>> 13, ae = R[1] | 0, le = ae & 8191, oe = ae >>> 13, ue = R[2] | 0, fe = ue & 8191, j = ue >>> 13, W = R[3] | 0, U = W & 8191, Q = W >>> 13, ee = R[4] | 0, te = ee & 8191, B = ee >>> 13, w = R[5] | 0, S = w & 8191, I = w >>> 13, q = R[6] | 0, Y = q & 8191, se = q >>> 13, ge = R[7] | 0, ve = ge & 8191, X = ge >>> 13, re = R[8] | 0, ie = re & 8191, ce = re >>> 13, we = R[9] | 0, Ce = we & 8191, Se = we >>> 13, De = N[0] | 0, me = De & 8191, _e = De >>> 13, Ie = N[1] | 0, Me = Ie & 8191, Oe = Ie >>> 13, Ls = N[2] | 0, it = Ls & 8191, lt = Ls >>> 13, en = N[3] | 0, st = en & 8191, at = en >>> 13, Ui = N[4] | 0, yt = Ui & 8191, ht = Ui >>> 13, Vs = N[5] | 0, dt = Vs & 8191, pt = Vs >>> 13, Hs = N[6] | 0, mt = Hs & 8191, vt = Hs >>> 13, Us = N[7] | 0, bt = Us & 8191, wt = Us >>> 13, qs = N[8] | 0, J = qs & 8191, de = qs >>> 13, xe = N[9] | 0, Ae = xe & 8191, Fe = xe >>> 13;
      T.negative = y.negative ^ E.negative, T.length = 19, K = Math.imul(G, me), x = Math.imul(G, _e), x = x + Math.imul(z, me) | 0, V = Math.imul(z, _e);
      var Ke = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (Ke >>> 26) | 0, Ke &= 67108863, K = Math.imul(le, me), x = Math.imul(le, _e), x = x + Math.imul(oe, me) | 0, V = Math.imul(oe, _e), K = K + Math.imul(G, Me) | 0, x = x + Math.imul(G, Oe) | 0, x = x + Math.imul(z, Me) | 0, V = V + Math.imul(z, Oe) | 0;
      var je = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (je >>> 26) | 0, je &= 67108863, K = Math.imul(fe, me), x = Math.imul(fe, _e), x = x + Math.imul(j, me) | 0, V = Math.imul(j, _e), K = K + Math.imul(le, Me) | 0, x = x + Math.imul(le, Oe) | 0, x = x + Math.imul(oe, Me) | 0, V = V + Math.imul(oe, Oe) | 0, K = K + Math.imul(G, it) | 0, x = x + Math.imul(G, lt) | 0, x = x + Math.imul(z, it) | 0, V = V + Math.imul(z, lt) | 0;
      var ke = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (ke >>> 26) | 0, ke &= 67108863, K = Math.imul(U, me), x = Math.imul(U, _e), x = x + Math.imul(Q, me) | 0, V = Math.imul(Q, _e), K = K + Math.imul(fe, Me) | 0, x = x + Math.imul(fe, Oe) | 0, x = x + Math.imul(j, Me) | 0, V = V + Math.imul(j, Oe) | 0, K = K + Math.imul(le, it) | 0, x = x + Math.imul(le, lt) | 0, x = x + Math.imul(oe, it) | 0, V = V + Math.imul(oe, lt) | 0, K = K + Math.imul(G, st) | 0, x = x + Math.imul(G, at) | 0, x = x + Math.imul(z, st) | 0, V = V + Math.imul(z, at) | 0;
      var _t = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (_t >>> 26) | 0, _t &= 67108863, K = Math.imul(te, me), x = Math.imul(te, _e), x = x + Math.imul(B, me) | 0, V = Math.imul(B, _e), K = K + Math.imul(U, Me) | 0, x = x + Math.imul(U, Oe) | 0, x = x + Math.imul(Q, Me) | 0, V = V + Math.imul(Q, Oe) | 0, K = K + Math.imul(fe, it) | 0, x = x + Math.imul(fe, lt) | 0, x = x + Math.imul(j, it) | 0, V = V + Math.imul(j, lt) | 0, K = K + Math.imul(le, st) | 0, x = x + Math.imul(le, at) | 0, x = x + Math.imul(oe, st) | 0, V = V + Math.imul(oe, at) | 0, K = K + Math.imul(G, yt) | 0, x = x + Math.imul(G, ht) | 0, x = x + Math.imul(z, yt) | 0, V = V + Math.imul(z, ht) | 0;
      var nt = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (nt >>> 26) | 0, nt &= 67108863, K = Math.imul(S, me), x = Math.imul(S, _e), x = x + Math.imul(I, me) | 0, V = Math.imul(I, _e), K = K + Math.imul(te, Me) | 0, x = x + Math.imul(te, Oe) | 0, x = x + Math.imul(B, Me) | 0, V = V + Math.imul(B, Oe) | 0, K = K + Math.imul(U, it) | 0, x = x + Math.imul(U, lt) | 0, x = x + Math.imul(Q, it) | 0, V = V + Math.imul(Q, lt) | 0, K = K + Math.imul(fe, st) | 0, x = x + Math.imul(fe, at) | 0, x = x + Math.imul(j, st) | 0, V = V + Math.imul(j, at) | 0, K = K + Math.imul(le, yt) | 0, x = x + Math.imul(le, ht) | 0, x = x + Math.imul(oe, yt) | 0, V = V + Math.imul(oe, ht) | 0, K = K + Math.imul(G, dt) | 0, x = x + Math.imul(G, pt) | 0, x = x + Math.imul(z, dt) | 0, V = V + Math.imul(z, pt) | 0;
      var ot = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (ot >>> 26) | 0, ot &= 67108863, K = Math.imul(Y, me), x = Math.imul(Y, _e), x = x + Math.imul(se, me) | 0, V = Math.imul(se, _e), K = K + Math.imul(S, Me) | 0, x = x + Math.imul(S, Oe) | 0, x = x + Math.imul(I, Me) | 0, V = V + Math.imul(I, Oe) | 0, K = K + Math.imul(te, it) | 0, x = x + Math.imul(te, lt) | 0, x = x + Math.imul(B, it) | 0, V = V + Math.imul(B, lt) | 0, K = K + Math.imul(U, st) | 0, x = x + Math.imul(U, at) | 0, x = x + Math.imul(Q, st) | 0, V = V + Math.imul(Q, at) | 0, K = K + Math.imul(fe, yt) | 0, x = x + Math.imul(fe, ht) | 0, x = x + Math.imul(j, yt) | 0, V = V + Math.imul(j, ht) | 0, K = K + Math.imul(le, dt) | 0, x = x + Math.imul(le, pt) | 0, x = x + Math.imul(oe, dt) | 0, V = V + Math.imul(oe, pt) | 0, K = K + Math.imul(G, mt) | 0, x = x + Math.imul(G, vt) | 0, x = x + Math.imul(z, mt) | 0, V = V + Math.imul(z, vt) | 0;
      var Vt = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (Vt >>> 26) | 0, Vt &= 67108863, K = Math.imul(ve, me), x = Math.imul(ve, _e), x = x + Math.imul(X, me) | 0, V = Math.imul(X, _e), K = K + Math.imul(Y, Me) | 0, x = x + Math.imul(Y, Oe) | 0, x = x + Math.imul(se, Me) | 0, V = V + Math.imul(se, Oe) | 0, K = K + Math.imul(S, it) | 0, x = x + Math.imul(S, lt) | 0, x = x + Math.imul(I, it) | 0, V = V + Math.imul(I, lt) | 0, K = K + Math.imul(te, st) | 0, x = x + Math.imul(te, at) | 0, x = x + Math.imul(B, st) | 0, V = V + Math.imul(B, at) | 0, K = K + Math.imul(U, yt) | 0, x = x + Math.imul(U, ht) | 0, x = x + Math.imul(Q, yt) | 0, V = V + Math.imul(Q, ht) | 0, K = K + Math.imul(fe, dt) | 0, x = x + Math.imul(fe, pt) | 0, x = x + Math.imul(j, dt) | 0, V = V + Math.imul(j, pt) | 0, K = K + Math.imul(le, mt) | 0, x = x + Math.imul(le, vt) | 0, x = x + Math.imul(oe, mt) | 0, V = V + Math.imul(oe, vt) | 0, K = K + Math.imul(G, bt) | 0, x = x + Math.imul(G, wt) | 0, x = x + Math.imul(z, bt) | 0, V = V + Math.imul(z, wt) | 0;
      var Br = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (Br >>> 26) | 0, Br &= 67108863, K = Math.imul(ie, me), x = Math.imul(ie, _e), x = x + Math.imul(ce, me) | 0, V = Math.imul(ce, _e), K = K + Math.imul(ve, Me) | 0, x = x + Math.imul(ve, Oe) | 0, x = x + Math.imul(X, Me) | 0, V = V + Math.imul(X, Oe) | 0, K = K + Math.imul(Y, it) | 0, x = x + Math.imul(Y, lt) | 0, x = x + Math.imul(se, it) | 0, V = V + Math.imul(se, lt) | 0, K = K + Math.imul(S, st) | 0, x = x + Math.imul(S, at) | 0, x = x + Math.imul(I, st) | 0, V = V + Math.imul(I, at) | 0, K = K + Math.imul(te, yt) | 0, x = x + Math.imul(te, ht) | 0, x = x + Math.imul(B, yt) | 0, V = V + Math.imul(B, ht) | 0, K = K + Math.imul(U, dt) | 0, x = x + Math.imul(U, pt) | 0, x = x + Math.imul(Q, dt) | 0, V = V + Math.imul(Q, pt) | 0, K = K + Math.imul(fe, mt) | 0, x = x + Math.imul(fe, vt) | 0, x = x + Math.imul(j, mt) | 0, V = V + Math.imul(j, vt) | 0, K = K + Math.imul(le, bt) | 0, x = x + Math.imul(le, wt) | 0, x = x + Math.imul(oe, bt) | 0, V = V + Math.imul(oe, wt) | 0, K = K + Math.imul(G, J) | 0, x = x + Math.imul(G, de) | 0, x = x + Math.imul(z, J) | 0, V = V + Math.imul(z, de) | 0;
      var ti = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (ti >>> 26) | 0, ti &= 67108863, K = Math.imul(Ce, me), x = Math.imul(Ce, _e), x = x + Math.imul(Se, me) | 0, V = Math.imul(Se, _e), K = K + Math.imul(ie, Me) | 0, x = x + Math.imul(ie, Oe) | 0, x = x + Math.imul(ce, Me) | 0, V = V + Math.imul(ce, Oe) | 0, K = K + Math.imul(ve, it) | 0, x = x + Math.imul(ve, lt) | 0, x = x + Math.imul(X, it) | 0, V = V + Math.imul(X, lt) | 0, K = K + Math.imul(Y, st) | 0, x = x + Math.imul(Y, at) | 0, x = x + Math.imul(se, st) | 0, V = V + Math.imul(se, at) | 0, K = K + Math.imul(S, yt) | 0, x = x + Math.imul(S, ht) | 0, x = x + Math.imul(I, yt) | 0, V = V + Math.imul(I, ht) | 0, K = K + Math.imul(te, dt) | 0, x = x + Math.imul(te, pt) | 0, x = x + Math.imul(B, dt) | 0, V = V + Math.imul(B, pt) | 0, K = K + Math.imul(U, mt) | 0, x = x + Math.imul(U, vt) | 0, x = x + Math.imul(Q, mt) | 0, V = V + Math.imul(Q, vt) | 0, K = K + Math.imul(fe, bt) | 0, x = x + Math.imul(fe, wt) | 0, x = x + Math.imul(j, bt) | 0, V = V + Math.imul(j, wt) | 0, K = K + Math.imul(le, J) | 0, x = x + Math.imul(le, de) | 0, x = x + Math.imul(oe, J) | 0, V = V + Math.imul(oe, de) | 0, K = K + Math.imul(G, Ae) | 0, x = x + Math.imul(G, Fe) | 0, x = x + Math.imul(z, Ae) | 0, V = V + Math.imul(z, Fe) | 0;
      var er = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (er >>> 26) | 0, er &= 67108863, K = Math.imul(Ce, Me), x = Math.imul(Ce, Oe), x = x + Math.imul(Se, Me) | 0, V = Math.imul(Se, Oe), K = K + Math.imul(ie, it) | 0, x = x + Math.imul(ie, lt) | 0, x = x + Math.imul(ce, it) | 0, V = V + Math.imul(ce, lt) | 0, K = K + Math.imul(ve, st) | 0, x = x + Math.imul(ve, at) | 0, x = x + Math.imul(X, st) | 0, V = V + Math.imul(X, at) | 0, K = K + Math.imul(Y, yt) | 0, x = x + Math.imul(Y, ht) | 0, x = x + Math.imul(se, yt) | 0, V = V + Math.imul(se, ht) | 0, K = K + Math.imul(S, dt) | 0, x = x + Math.imul(S, pt) | 0, x = x + Math.imul(I, dt) | 0, V = V + Math.imul(I, pt) | 0, K = K + Math.imul(te, mt) | 0, x = x + Math.imul(te, vt) | 0, x = x + Math.imul(B, mt) | 0, V = V + Math.imul(B, vt) | 0, K = K + Math.imul(U, bt) | 0, x = x + Math.imul(U, wt) | 0, x = x + Math.imul(Q, bt) | 0, V = V + Math.imul(Q, wt) | 0, K = K + Math.imul(fe, J) | 0, x = x + Math.imul(fe, de) | 0, x = x + Math.imul(j, J) | 0, V = V + Math.imul(j, de) | 0, K = K + Math.imul(le, Ae) | 0, x = x + Math.imul(le, Fe) | 0, x = x + Math.imul(oe, Ae) | 0, V = V + Math.imul(oe, Fe) | 0;
      var So = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (So >>> 26) | 0, So &= 67108863, K = Math.imul(Ce, it), x = Math.imul(Ce, lt), x = x + Math.imul(Se, it) | 0, V = Math.imul(Se, lt), K = K + Math.imul(ie, st) | 0, x = x + Math.imul(ie, at) | 0, x = x + Math.imul(ce, st) | 0, V = V + Math.imul(ce, at) | 0, K = K + Math.imul(ve, yt) | 0, x = x + Math.imul(ve, ht) | 0, x = x + Math.imul(X, yt) | 0, V = V + Math.imul(X, ht) | 0, K = K + Math.imul(Y, dt) | 0, x = x + Math.imul(Y, pt) | 0, x = x + Math.imul(se, dt) | 0, V = V + Math.imul(se, pt) | 0, K = K + Math.imul(S, mt) | 0, x = x + Math.imul(S, vt) | 0, x = x + Math.imul(I, mt) | 0, V = V + Math.imul(I, vt) | 0, K = K + Math.imul(te, bt) | 0, x = x + Math.imul(te, wt) | 0, x = x + Math.imul(B, bt) | 0, V = V + Math.imul(B, wt) | 0, K = K + Math.imul(U, J) | 0, x = x + Math.imul(U, de) | 0, x = x + Math.imul(Q, J) | 0, V = V + Math.imul(Q, de) | 0, K = K + Math.imul(fe, Ae) | 0, x = x + Math.imul(fe, Fe) | 0, x = x + Math.imul(j, Ae) | 0, V = V + Math.imul(j, Fe) | 0;
      var Eo = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (Eo >>> 26) | 0, Eo &= 67108863, K = Math.imul(Ce, st), x = Math.imul(Ce, at), x = x + Math.imul(Se, st) | 0, V = Math.imul(Se, at), K = K + Math.imul(ie, yt) | 0, x = x + Math.imul(ie, ht) | 0, x = x + Math.imul(ce, yt) | 0, V = V + Math.imul(ce, ht) | 0, K = K + Math.imul(ve, dt) | 0, x = x + Math.imul(ve, pt) | 0, x = x + Math.imul(X, dt) | 0, V = V + Math.imul(X, pt) | 0, K = K + Math.imul(Y, mt) | 0, x = x + Math.imul(Y, vt) | 0, x = x + Math.imul(se, mt) | 0, V = V + Math.imul(se, vt) | 0, K = K + Math.imul(S, bt) | 0, x = x + Math.imul(S, wt) | 0, x = x + Math.imul(I, bt) | 0, V = V + Math.imul(I, wt) | 0, K = K + Math.imul(te, J) | 0, x = x + Math.imul(te, de) | 0, x = x + Math.imul(B, J) | 0, V = V + Math.imul(B, de) | 0, K = K + Math.imul(U, Ae) | 0, x = x + Math.imul(U, Fe) | 0, x = x + Math.imul(Q, Ae) | 0, V = V + Math.imul(Q, Fe) | 0;
      var Ao = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (Ao >>> 26) | 0, Ao &= 67108863, K = Math.imul(Ce, yt), x = Math.imul(Ce, ht), x = x + Math.imul(Se, yt) | 0, V = Math.imul(Se, ht), K = K + Math.imul(ie, dt) | 0, x = x + Math.imul(ie, pt) | 0, x = x + Math.imul(ce, dt) | 0, V = V + Math.imul(ce, pt) | 0, K = K + Math.imul(ve, mt) | 0, x = x + Math.imul(ve, vt) | 0, x = x + Math.imul(X, mt) | 0, V = V + Math.imul(X, vt) | 0, K = K + Math.imul(Y, bt) | 0, x = x + Math.imul(Y, wt) | 0, x = x + Math.imul(se, bt) | 0, V = V + Math.imul(se, wt) | 0, K = K + Math.imul(S, J) | 0, x = x + Math.imul(S, de) | 0, x = x + Math.imul(I, J) | 0, V = V + Math.imul(I, de) | 0, K = K + Math.imul(te, Ae) | 0, x = x + Math.imul(te, Fe) | 0, x = x + Math.imul(B, Ae) | 0, V = V + Math.imul(B, Fe) | 0;
      var _o = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (_o >>> 26) | 0, _o &= 67108863, K = Math.imul(Ce, dt), x = Math.imul(Ce, pt), x = x + Math.imul(Se, dt) | 0, V = Math.imul(Se, pt), K = K + Math.imul(ie, mt) | 0, x = x + Math.imul(ie, vt) | 0, x = x + Math.imul(ce, mt) | 0, V = V + Math.imul(ce, vt) | 0, K = K + Math.imul(ve, bt) | 0, x = x + Math.imul(ve, wt) | 0, x = x + Math.imul(X, bt) | 0, V = V + Math.imul(X, wt) | 0, K = K + Math.imul(Y, J) | 0, x = x + Math.imul(Y, de) | 0, x = x + Math.imul(se, J) | 0, V = V + Math.imul(se, de) | 0, K = K + Math.imul(S, Ae) | 0, x = x + Math.imul(S, Fe) | 0, x = x + Math.imul(I, Ae) | 0, V = V + Math.imul(I, Fe) | 0;
      var To = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (To >>> 26) | 0, To &= 67108863, K = Math.imul(Ce, mt), x = Math.imul(Ce, vt), x = x + Math.imul(Se, mt) | 0, V = Math.imul(Se, vt), K = K + Math.imul(ie, bt) | 0, x = x + Math.imul(ie, wt) | 0, x = x + Math.imul(ce, bt) | 0, V = V + Math.imul(ce, wt) | 0, K = K + Math.imul(ve, J) | 0, x = x + Math.imul(ve, de) | 0, x = x + Math.imul(X, J) | 0, V = V + Math.imul(X, de) | 0, K = K + Math.imul(Y, Ae) | 0, x = x + Math.imul(Y, Fe) | 0, x = x + Math.imul(se, Ae) | 0, V = V + Math.imul(se, Fe) | 0;
      var Po = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (Po >>> 26) | 0, Po &= 67108863, K = Math.imul(Ce, bt), x = Math.imul(Ce, wt), x = x + Math.imul(Se, bt) | 0, V = Math.imul(Se, wt), K = K + Math.imul(ie, J) | 0, x = x + Math.imul(ie, de) | 0, x = x + Math.imul(ce, J) | 0, V = V + Math.imul(ce, de) | 0, K = K + Math.imul(ve, Ae) | 0, x = x + Math.imul(ve, Fe) | 0, x = x + Math.imul(X, Ae) | 0, V = V + Math.imul(X, Fe) | 0;
      var Fo = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (Fo >>> 26) | 0, Fo &= 67108863, K = Math.imul(Ce, J), x = Math.imul(Ce, de), x = x + Math.imul(Se, J) | 0, V = Math.imul(Se, de), K = K + Math.imul(ie, Ae) | 0, x = x + Math.imul(ie, Fe) | 0, x = x + Math.imul(ce, Ae) | 0, V = V + Math.imul(ce, Fe) | 0;
      var Io = (Z + K | 0) + ((x & 8191) << 13) | 0;
      Z = (V + (x >>> 13) | 0) + (Io >>> 26) | 0, Io &= 67108863, K = Math.imul(Ce, Ae), x = Math.imul(Ce, Fe), x = x + Math.imul(Se, Ae) | 0, V = Math.imul(Se, Fe);
      var Co = (Z + K | 0) + ((x & 8191) << 13) | 0;
      return Z = (V + (x >>> 13) | 0) + (Co >>> 26) | 0, Co &= 67108863, H[0] = Ke, H[1] = je, H[2] = ke, H[3] = _t, H[4] = nt, H[5] = ot, H[6] = Vt, H[7] = Br, H[8] = ti, H[9] = er, H[10] = So, H[11] = Eo, H[12] = Ao, H[13] = _o, H[14] = To, H[15] = Po, H[16] = Fo, H[17] = Io, H[18] = Co, Z !== 0 && (H[19] = Z, T.length++), T;
    };
    Math.imul || (v = p);
    function m(C, y, E) {
      E.negative = y.negative ^ C.negative, E.length = C.length + y.length;
      for (var T = 0, R = 0, N = 0; N < E.length - 1; N++) {
        var H = R;
        R = 0;
        for (var Z = T & 67108863, K = Math.min(N, y.length - 1), x = Math.max(0, N - C.length + 1); x <= K; x++) {
          var V = N - x, $ = C.words[V] | 0, G = y.words[x] | 0, z = $ * G, ae = z & 67108863;
          H = H + (z / 67108864 | 0) | 0, ae = ae + Z | 0, Z = ae & 67108863, H = H + (ae >>> 26) | 0, R += H >>> 26, H &= 67108863;
        }
        E.words[N] = Z, T = H, H = R;
      }
      return T !== 0 ? E.words[N] = T : E.length--, E.strip();
    }
    function b(C, y, E) {
      var T = new A();
      return T.mulp(C, y, E);
    }
    s.prototype.mulTo = function(y, E) {
      var T, R = this.length + y.length;
      return this.length === 10 && y.length === 10 ? T = v(this, y, E) : R < 63 ? T = p(this, y, E) : R < 1024 ? T = m(this, y, E) : T = b(this, y, E), T;
    };
    function A(C, y) {
      this.x = C, this.y = y;
    }
    A.prototype.makeRBT = function(y) {
      for (var E = new Array(y), T = s.prototype._countBits(y) - 1, R = 0; R < y; R++)
        E[R] = this.revBin(R, T, y);
      return E;
    }, A.prototype.revBin = function(y, E, T) {
      if (y === 0 || y === T - 1)
        return y;
      for (var R = 0, N = 0; N < E; N++)
        R |= (y & 1) << E - N - 1, y >>= 1;
      return R;
    }, A.prototype.permute = function(y, E, T, R, N, H) {
      for (var Z = 0; Z < H; Z++)
        R[Z] = E[y[Z]], N[Z] = T[y[Z]];
    }, A.prototype.transform = function(y, E, T, R, N, H) {
      this.permute(H, y, E, T, R, N);
      for (var Z = 1; Z < N; Z <<= 1)
        for (var K = Z << 1, x = Math.cos(2 * Math.PI / K), V = Math.sin(2 * Math.PI / K), $ = 0; $ < N; $ += K)
          for (var G = x, z = V, ae = 0; ae < Z; ae++) {
            var le = T[$ + ae], oe = R[$ + ae], ue = T[$ + ae + Z], fe = R[$ + ae + Z], j = G * ue - z * fe;
            fe = G * fe + z * ue, ue = j, T[$ + ae] = le + ue, R[$ + ae] = oe + fe, T[$ + ae + Z] = le - ue, R[$ + ae + Z] = oe - fe, ae !== K && (j = x * G - V * z, z = x * z + V * G, G = j);
          }
    }, A.prototype.guessLen13b = function(y, E) {
      var T = Math.max(E, y) | 1, R = T & 1, N = 0;
      for (T = T / 2 | 0; T; T = T >>> 1)
        N++;
      return 1 << N + 1 + R;
    }, A.prototype.conjugate = function(y, E, T) {
      if (!(T <= 1))
        for (var R = 0; R < T / 2; R++) {
          var N = y[R];
          y[R] = y[T - R - 1], y[T - R - 1] = N, N = E[R], E[R] = -E[T - R - 1], E[T - R - 1] = -N;
        }
    }, A.prototype.normalize13b = function(y, E) {
      for (var T = 0, R = 0; R < E / 2; R++) {
        var N = Math.round(y[2 * R + 1] / E) * 8192 + Math.round(y[2 * R] / E) + T;
        y[R] = N & 67108863, N < 67108864 ? T = 0 : T = N / 67108864 | 0;
      }
      return y;
    }, A.prototype.convert13b = function(y, E, T, R) {
      for (var N = 0, H = 0; H < E; H++)
        N = N + (y[H] | 0), T[2 * H] = N & 8191, N = N >>> 13, T[2 * H + 1] = N & 8191, N = N >>> 13;
      for (H = 2 * E; H < R; ++H)
        T[H] = 0;
      n(N === 0), n((N & -8192) === 0);
    }, A.prototype.stub = function(y) {
      for (var E = new Array(y), T = 0; T < y; T++)
        E[T] = 0;
      return E;
    }, A.prototype.mulp = function(y, E, T) {
      var R = 2 * this.guessLen13b(y.length, E.length), N = this.makeRBT(R), H = this.stub(R), Z = new Array(R), K = new Array(R), x = new Array(R), V = new Array(R), $ = new Array(R), G = new Array(R), z = T.words;
      z.length = R, this.convert13b(y.words, y.length, Z, R), this.convert13b(E.words, E.length, V, R), this.transform(Z, H, K, x, R, N), this.transform(V, H, $, G, R, N);
      for (var ae = 0; ae < R; ae++) {
        var le = K[ae] * $[ae] - x[ae] * G[ae];
        x[ae] = K[ae] * G[ae] + x[ae] * $[ae], K[ae] = le;
      }
      return this.conjugate(K, x, R), this.transform(K, x, z, H, R, N), this.conjugate(z, H, R), this.normalize13b(z, R), T.negative = y.negative ^ E.negative, T.length = y.length + E.length, T.strip();
    }, s.prototype.mul = function(y) {
      var E = new s(null);
      return E.words = new Array(this.length + y.length), this.mulTo(y, E);
    }, s.prototype.mulf = function(y) {
      var E = new s(null);
      return E.words = new Array(this.length + y.length), b(this, y, E);
    }, s.prototype.imul = function(y) {
      return this.clone().mulTo(y, this);
    }, s.prototype.imuln = function(y) {
      n(typeof y == "number"), n(y < 67108864);
      for (var E = 0, T = 0; T < this.length; T++) {
        var R = (this.words[T] | 0) * y, N = (R & 67108863) + (E & 67108863);
        E >>= 26, E += R / 67108864 | 0, E += N >>> 26, this.words[T] = N & 67108863;
      }
      return E !== 0 && (this.words[T] = E, this.length++), this;
    }, s.prototype.muln = function(y) {
      return this.clone().imuln(y);
    }, s.prototype.sqr = function() {
      return this.mul(this);
    }, s.prototype.isqr = function() {
      return this.imul(this.clone());
    }, s.prototype.pow = function(y) {
      var E = d(y);
      if (E.length === 0)
        return new s(1);
      for (var T = this, R = 0; R < E.length && E[R] === 0; R++, T = T.sqr())
        ;
      if (++R < E.length)
        for (var N = T.sqr(); R < E.length; R++, N = N.sqr())
          E[R] !== 0 && (T = T.mul(N));
      return T;
    }, s.prototype.iushln = function(y) {
      n(typeof y == "number" && y >= 0);
      var E = y % 26, T = (y - E) / 26, R = 67108863 >>> 26 - E << 26 - E, N;
      if (E !== 0) {
        var H = 0;
        for (N = 0; N < this.length; N++) {
          var Z = this.words[N] & R, K = (this.words[N] | 0) - Z << E;
          this.words[N] = K | H, H = Z >>> 26 - E;
        }
        H && (this.words[N] = H, this.length++);
      }
      if (T !== 0) {
        for (N = this.length - 1; N >= 0; N--)
          this.words[N + T] = this.words[N];
        for (N = 0; N < T; N++)
          this.words[N] = 0;
        this.length += T;
      }
      return this.strip();
    }, s.prototype.ishln = function(y) {
      return n(this.negative === 0), this.iushln(y);
    }, s.prototype.iushrn = function(y, E, T) {
      n(typeof y == "number" && y >= 0);
      var R;
      E ? R = (E - E % 26) / 26 : R = 0;
      var N = y % 26, H = Math.min((y - N) / 26, this.length), Z = 67108863 ^ 67108863 >>> N << N, K = T;
      if (R -= H, R = Math.max(0, R), K) {
        for (var x = 0; x < H; x++)
          K.words[x] = this.words[x];
        K.length = H;
      }
      if (H !== 0)
        if (this.length > H)
          for (this.length -= H, x = 0; x < this.length; x++)
            this.words[x] = this.words[x + H];
        else
          this.words[0] = 0, this.length = 1;
      var V = 0;
      for (x = this.length - 1; x >= 0 && (V !== 0 || x >= R); x--) {
        var $ = this.words[x] | 0;
        this.words[x] = V << 26 - N | $ >>> N, V = $ & Z;
      }
      return K && V !== 0 && (K.words[K.length++] = V), this.length === 0 && (this.words[0] = 0, this.length = 1), this.strip();
    }, s.prototype.ishrn = function(y, E, T) {
      return n(this.negative === 0), this.iushrn(y, E, T);
    }, s.prototype.shln = function(y) {
      return this.clone().ishln(y);
    }, s.prototype.ushln = function(y) {
      return this.clone().iushln(y);
    }, s.prototype.shrn = function(y) {
      return this.clone().ishrn(y);
    }, s.prototype.ushrn = function(y) {
      return this.clone().iushrn(y);
    }, s.prototype.testn = function(y) {
      n(typeof y == "number" && y >= 0);
      var E = y % 26, T = (y - E) / 26, R = 1 << E;
      if (this.length <= T)
        return !1;
      var N = this.words[T];
      return !!(N & R);
    }, s.prototype.imaskn = function(y) {
      n(typeof y == "number" && y >= 0);
      var E = y % 26, T = (y - E) / 26;
      if (n(this.negative === 0, "imaskn works only with positive numbers"), this.length <= T)
        return this;
      if (E !== 0 && T++, this.length = Math.min(T, this.length), E !== 0) {
        var R = 67108863 ^ 67108863 >>> E << E;
        this.words[this.length - 1] &= R;
      }
      return this.strip();
    }, s.prototype.maskn = function(y) {
      return this.clone().imaskn(y);
    }, s.prototype.iaddn = function(y) {
      return n(typeof y == "number"), n(y < 67108864), y < 0 ? this.isubn(-y) : this.negative !== 0 ? this.length === 1 && (this.words[0] | 0) < y ? (this.words[0] = y - (this.words[0] | 0), this.negative = 0, this) : (this.negative = 0, this.isubn(y), this.negative = 1, this) : this._iaddn(y);
    }, s.prototype._iaddn = function(y) {
      this.words[0] += y;
      for (var E = 0; E < this.length && this.words[E] >= 67108864; E++)
        this.words[E] -= 67108864, E === this.length - 1 ? this.words[E + 1] = 1 : this.words[E + 1]++;
      return this.length = Math.max(this.length, E + 1), this;
    }, s.prototype.isubn = function(y) {
      if (n(typeof y == "number"), n(y < 67108864), y < 0)
        return this.iaddn(-y);
      if (this.negative !== 0)
        return this.negative = 0, this.iaddn(y), this.negative = 1, this;
      if (this.words[0] -= y, this.length === 1 && this.words[0] < 0)
        this.words[0] = -this.words[0], this.negative = 1;
      else
        for (var E = 0; E < this.length && this.words[E] < 0; E++)
          this.words[E] += 67108864, this.words[E + 1] -= 1;
      return this.strip();
    }, s.prototype.addn = function(y) {
      return this.clone().iaddn(y);
    }, s.prototype.subn = function(y) {
      return this.clone().isubn(y);
    }, s.prototype.iabs = function() {
      return this.negative = 0, this;
    }, s.prototype.abs = function() {
      return this.clone().iabs();
    }, s.prototype._ishlnsubmul = function(y, E, T) {
      var R = y.length + T, N;
      this._expand(R);
      var H, Z = 0;
      for (N = 0; N < y.length; N++) {
        H = (this.words[N + T] | 0) + Z;
        var K = (y.words[N] | 0) * E;
        H -= K & 67108863, Z = (H >> 26) - (K / 67108864 | 0), this.words[N + T] = H & 67108863;
      }
      for (; N < this.length - T; N++)
        H = (this.words[N + T] | 0) + Z, Z = H >> 26, this.words[N + T] = H & 67108863;
      if (Z === 0)
        return this.strip();
      for (n(Z === -1), Z = 0, N = 0; N < this.length; N++)
        H = -(this.words[N] | 0) + Z, Z = H >> 26, this.words[N] = H & 67108863;
      return this.negative = 1, this.strip();
    }, s.prototype._wordDiv = function(y, E) {
      var T = this.length - y.length, R = this.clone(), N = y, H = N.words[N.length - 1] | 0, Z = this._countBits(H);
      T = 26 - Z, T !== 0 && (N = N.ushln(T), R.iushln(T), H = N.words[N.length - 1] | 0);
      var K = R.length - N.length, x;
      if (E !== "mod") {
        x = new s(null), x.length = K + 1, x.words = new Array(x.length);
        for (var V = 0; V < x.length; V++)
          x.words[V] = 0;
      }
      var $ = R.clone()._ishlnsubmul(N, 1, K);
      $.negative === 0 && (R = $, x && (x.words[K] = 1));
      for (var G = K - 1; G >= 0; G--) {
        var z = (R.words[N.length + G] | 0) * 67108864 + (R.words[N.length + G - 1] | 0);
        for (z = Math.min(z / H | 0, 67108863), R._ishlnsubmul(N, z, G); R.negative !== 0; )
          z--, R.negative = 0, R._ishlnsubmul(N, 1, G), R.isZero() || (R.negative ^= 1);
        x && (x.words[G] = z);
      }
      return x && x.strip(), R.strip(), E !== "div" && T !== 0 && R.iushrn(T), {
        div: x || null,
        mod: R
      };
    }, s.prototype.divmod = function(y, E, T) {
      if (n(!y.isZero()), this.isZero())
        return {
          div: new s(0),
          mod: new s(0)
        };
      var R, N, H;
      return this.negative !== 0 && y.negative === 0 ? (H = this.neg().divmod(y, E), E !== "mod" && (R = H.div.neg()), E !== "div" && (N = H.mod.neg(), T && N.negative !== 0 && N.iadd(y)), {
        div: R,
        mod: N
      }) : this.negative === 0 && y.negative !== 0 ? (H = this.divmod(y.neg(), E), E !== "mod" && (R = H.div.neg()), {
        div: R,
        mod: H.mod
      }) : this.negative & y.negative ? (H = this.neg().divmod(y.neg(), E), E !== "div" && (N = H.mod.neg(), T && N.negative !== 0 && N.isub(y)), {
        div: H.div,
        mod: N
      }) : y.length > this.length || this.cmp(y) < 0 ? {
        div: new s(0),
        mod: this
      } : y.length === 1 ? E === "div" ? {
        div: this.divn(y.words[0]),
        mod: null
      } : E === "mod" ? {
        div: null,
        mod: new s(this.modn(y.words[0]))
      } : {
        div: this.divn(y.words[0]),
        mod: new s(this.modn(y.words[0]))
      } : this._wordDiv(y, E);
    }, s.prototype.div = function(y) {
      return this.divmod(y, "div", !1).div;
    }, s.prototype.mod = function(y) {
      return this.divmod(y, "mod", !1).mod;
    }, s.prototype.umod = function(y) {
      return this.divmod(y, "mod", !0).mod;
    }, s.prototype.divRound = function(y) {
      var E = this.divmod(y);
      if (E.mod.isZero())
        return E.div;
      var T = E.div.negative !== 0 ? E.mod.isub(y) : E.mod, R = y.ushrn(1), N = y.andln(1), H = T.cmp(R);
      return H < 0 || N === 1 && H === 0 ? E.div : E.div.negative !== 0 ? E.div.isubn(1) : E.div.iaddn(1);
    }, s.prototype.modn = function(y) {
      n(y <= 67108863);
      for (var E = (1 << 26) % y, T = 0, R = this.length - 1; R >= 0; R--)
        T = (E * T + (this.words[R] | 0)) % y;
      return T;
    }, s.prototype.idivn = function(y) {
      n(y <= 67108863);
      for (var E = 0, T = this.length - 1; T >= 0; T--) {
        var R = (this.words[T] | 0) + E * 67108864;
        this.words[T] = R / y | 0, E = R % y;
      }
      return this.strip();
    }, s.prototype.divn = function(y) {
      return this.clone().idivn(y);
    }, s.prototype.egcd = function(y) {
      n(y.negative === 0), n(!y.isZero());
      var E = this, T = y.clone();
      E.negative !== 0 ? E = E.umod(y) : E = E.clone();
      for (var R = new s(1), N = new s(0), H = new s(0), Z = new s(1), K = 0; E.isEven() && T.isEven(); )
        E.iushrn(1), T.iushrn(1), ++K;
      for (var x = T.clone(), V = E.clone(); !E.isZero(); ) {
        for (var $ = 0, G = 1; !(E.words[0] & G) && $ < 26; ++$, G <<= 1)
          ;
        if ($ > 0)
          for (E.iushrn($); $-- > 0; )
            (R.isOdd() || N.isOdd()) && (R.iadd(x), N.isub(V)), R.iushrn(1), N.iushrn(1);
        for (var z = 0, ae = 1; !(T.words[0] & ae) && z < 26; ++z, ae <<= 1)
          ;
        if (z > 0)
          for (T.iushrn(z); z-- > 0; )
            (H.isOdd() || Z.isOdd()) && (H.iadd(x), Z.isub(V)), H.iushrn(1), Z.iushrn(1);
        E.cmp(T) >= 0 ? (E.isub(T), R.isub(H), N.isub(Z)) : (T.isub(E), H.isub(R), Z.isub(N));
      }
      return {
        a: H,
        b: Z,
        gcd: T.iushln(K)
      };
    }, s.prototype._invmp = function(y) {
      n(y.negative === 0), n(!y.isZero());
      var E = this, T = y.clone();
      E.negative !== 0 ? E = E.umod(y) : E = E.clone();
      for (var R = new s(1), N = new s(0), H = T.clone(); E.cmpn(1) > 0 && T.cmpn(1) > 0; ) {
        for (var Z = 0, K = 1; !(E.words[0] & K) && Z < 26; ++Z, K <<= 1)
          ;
        if (Z > 0)
          for (E.iushrn(Z); Z-- > 0; )
            R.isOdd() && R.iadd(H), R.iushrn(1);
        for (var x = 0, V = 1; !(T.words[0] & V) && x < 26; ++x, V <<= 1)
          ;
        if (x > 0)
          for (T.iushrn(x); x-- > 0; )
            N.isOdd() && N.iadd(H), N.iushrn(1);
        E.cmp(T) >= 0 ? (E.isub(T), R.isub(N)) : (T.isub(E), N.isub(R));
      }
      var $;
      return E.cmpn(1) === 0 ? $ = R : $ = N, $.cmpn(0) < 0 && $.iadd(y), $;
    }, s.prototype.gcd = function(y) {
      if (this.isZero())
        return y.abs();
      if (y.isZero())
        return this.abs();
      var E = this.clone(), T = y.clone();
      E.negative = 0, T.negative = 0;
      for (var R = 0; E.isEven() && T.isEven(); R++)
        E.iushrn(1), T.iushrn(1);
      do {
        for (; E.isEven(); )
          E.iushrn(1);
        for (; T.isEven(); )
          T.iushrn(1);
        var N = E.cmp(T);
        if (N < 0) {
          var H = E;
          E = T, T = H;
        } else if (N === 0 || T.cmpn(1) === 0)
          break;
        E.isub(T);
      } while (!0);
      return T.iushln(R);
    }, s.prototype.invm = function(y) {
      return this.egcd(y).a.umod(y);
    }, s.prototype.isEven = function() {
      return (this.words[0] & 1) === 0;
    }, s.prototype.isOdd = function() {
      return (this.words[0] & 1) === 1;
    }, s.prototype.andln = function(y) {
      return this.words[0] & y;
    }, s.prototype.bincn = function(y) {
      n(typeof y == "number");
      var E = y % 26, T = (y - E) / 26, R = 1 << E;
      if (this.length <= T)
        return this._expand(T + 1), this.words[T] |= R, this;
      for (var N = R, H = T; N !== 0 && H < this.length; H++) {
        var Z = this.words[H] | 0;
        Z += N, N = Z >>> 26, Z &= 67108863, this.words[H] = Z;
      }
      return N !== 0 && (this.words[H] = N, this.length++), this;
    }, s.prototype.isZero = function() {
      return this.length === 1 && this.words[0] === 0;
    }, s.prototype.cmpn = function(y) {
      var E = y < 0;
      if (this.negative !== 0 && !E)
        return -1;
      if (this.negative === 0 && E)
        return 1;
      this.strip();
      var T;
      if (this.length > 1)
        T = 1;
      else {
        E && (y = -y), n(y <= 67108863, "Number is too big");
        var R = this.words[0] | 0;
        T = R === y ? 0 : R < y ? -1 : 1;
      }
      return this.negative !== 0 ? -T | 0 : T;
    }, s.prototype.cmp = function(y) {
      if (this.negative !== 0 && y.negative === 0)
        return -1;
      if (this.negative === 0 && y.negative !== 0)
        return 1;
      var E = this.ucmp(y);
      return this.negative !== 0 ? -E | 0 : E;
    }, s.prototype.ucmp = function(y) {
      if (this.length > y.length)
        return 1;
      if (this.length < y.length)
        return -1;
      for (var E = 0, T = this.length - 1; T >= 0; T--) {
        var R = this.words[T] | 0, N = y.words[T] | 0;
        if (R !== N) {
          R < N ? E = -1 : R > N && (E = 1);
          break;
        }
      }
      return E;
    }, s.prototype.gtn = function(y) {
      return this.cmpn(y) === 1;
    }, s.prototype.gt = function(y) {
      return this.cmp(y) === 1;
    }, s.prototype.gten = function(y) {
      return this.cmpn(y) >= 0;
    }, s.prototype.gte = function(y) {
      return this.cmp(y) >= 0;
    }, s.prototype.ltn = function(y) {
      return this.cmpn(y) === -1;
    }, s.prototype.lt = function(y) {
      return this.cmp(y) === -1;
    }, s.prototype.lten = function(y) {
      return this.cmpn(y) <= 0;
    }, s.prototype.lte = function(y) {
      return this.cmp(y) <= 0;
    }, s.prototype.eqn = function(y) {
      return this.cmpn(y) === 0;
    }, s.prototype.eq = function(y) {
      return this.cmp(y) === 0;
    }, s.red = function(y) {
      return new P(y);
    }, s.prototype.toRed = function(y) {
      return n(!this.red, "Already a number in reduction context"), n(this.negative === 0, "red works only with positives"), y.convertTo(this)._forceRed(y);
    }, s.prototype.fromRed = function() {
      return n(this.red, "fromRed works only with numbers in reduction context"), this.red.convertFrom(this);
    }, s.prototype._forceRed = function(y) {
      return this.red = y, this;
    }, s.prototype.forceRed = function(y) {
      return n(!this.red, "Already a number in reduction context"), this._forceRed(y);
    }, s.prototype.redAdd = function(y) {
      return n(this.red, "redAdd works only with red numbers"), this.red.add(this, y);
    }, s.prototype.redIAdd = function(y) {
      return n(this.red, "redIAdd works only with red numbers"), this.red.iadd(this, y);
    }, s.prototype.redSub = function(y) {
      return n(this.red, "redSub works only with red numbers"), this.red.sub(this, y);
    }, s.prototype.redISub = function(y) {
      return n(this.red, "redISub works only with red numbers"), this.red.isub(this, y);
    }, s.prototype.redShl = function(y) {
      return n(this.red, "redShl works only with red numbers"), this.red.shl(this, y);
    }, s.prototype.redMul = function(y) {
      return n(this.red, "redMul works only with red numbers"), this.red._verify2(this, y), this.red.mul(this, y);
    }, s.prototype.redIMul = function(y) {
      return n(this.red, "redMul works only with red numbers"), this.red._verify2(this, y), this.red.imul(this, y);
    }, s.prototype.redSqr = function() {
      return n(this.red, "redSqr works only with red numbers"), this.red._verify1(this), this.red.sqr(this);
    }, s.prototype.redISqr = function() {
      return n(this.red, "redISqr works only with red numbers"), this.red._verify1(this), this.red.isqr(this);
    }, s.prototype.redSqrt = function() {
      return n(this.red, "redSqrt works only with red numbers"), this.red._verify1(this), this.red.sqrt(this);
    }, s.prototype.redInvm = function() {
      return n(this.red, "redInvm works only with red numbers"), this.red._verify1(this), this.red.invm(this);
    }, s.prototype.redNeg = function() {
      return n(this.red, "redNeg works only with red numbers"), this.red._verify1(this), this.red.neg(this);
    }, s.prototype.redPow = function(y) {
      return n(this.red && !y.red, "redPow(normalNum)"), this.red._verify1(this), this.red.pow(this, y);
    };
    var D = {
      k256: null,
      p224: null,
      p192: null,
      p25519: null
    };
    function k(C, y) {
      this.name = C, this.p = new s(y, 16), this.n = this.p.bitLength(), this.k = new s(1).iushln(this.n).isub(this.p), this.tmp = this._tmp();
    }
    k.prototype._tmp = function() {
      var y = new s(null);
      return y.words = new Array(Math.ceil(this.n / 13)), y;
    }, k.prototype.ireduce = function(y) {
      var E = y, T;
      do
        this.split(E, this.tmp), E = this.imulK(E), E = E.iadd(this.tmp), T = E.bitLength();
      while (T > this.n);
      var R = T < this.n ? -1 : E.ucmp(this.p);
      return R === 0 ? (E.words[0] = 0, E.length = 1) : R > 0 ? E.isub(this.p) : E.strip !== void 0 ? E.strip() : E._strip(), E;
    }, k.prototype.split = function(y, E) {
      y.iushrn(this.n, 0, E);
    }, k.prototype.imulK = function(y) {
      return y.imul(this.k);
    };
    function L() {
      k.call(
        this,
        "k256",
        "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f"
      );
    }
    i(L, k), L.prototype.split = function(y, E) {
      for (var T = 4194303, R = Math.min(y.length, 9), N = 0; N < R; N++)
        E.words[N] = y.words[N];
      if (E.length = R, y.length <= 9) {
        y.words[0] = 0, y.length = 1;
        return;
      }
      var H = y.words[9];
      for (E.words[E.length++] = H & T, N = 10; N < y.length; N++) {
        var Z = y.words[N] | 0;
        y.words[N - 10] = (Z & T) << 4 | H >>> 22, H = Z;
      }
      H >>>= 22, y.words[N - 10] = H, H === 0 && y.length > 10 ? y.length -= 10 : y.length -= 9;
    }, L.prototype.imulK = function(y) {
      y.words[y.length] = 0, y.words[y.length + 1] = 0, y.length += 2;
      for (var E = 0, T = 0; T < y.length; T++) {
        var R = y.words[T] | 0;
        E += R * 977, y.words[T] = E & 67108863, E = R * 64 + (E / 67108864 | 0);
      }
      return y.words[y.length - 1] === 0 && (y.length--, y.words[y.length - 1] === 0 && y.length--), y;
    };
    function _() {
      k.call(
        this,
        "p224",
        "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001"
      );
    }
    i(_, k);
    function F() {
      k.call(
        this,
        "p192",
        "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff"
      );
    }
    i(F, k);
    function O() {
      k.call(
        this,
        "25519",
        "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed"
      );
    }
    i(O, k), O.prototype.imulK = function(y) {
      for (var E = 0, T = 0; T < y.length; T++) {
        var R = (y.words[T] | 0) * 19 + E, N = R & 67108863;
        R >>>= 26, y.words[T] = N, E = R;
      }
      return E !== 0 && (y.words[y.length++] = E), y;
    }, s._prime = function(y) {
      if (D[y])
        return D[y];
      var E;
      if (y === "k256")
        E = new L();
      else if (y === "p224")
        E = new _();
      else if (y === "p192")
        E = new F();
      else if (y === "p25519")
        E = new O();
      else
        throw new Error("Unknown prime " + y);
      return D[y] = E, E;
    };
    function P(C) {
      if (typeof C == "string") {
        var y = s._prime(C);
        this.m = y.p, this.prime = y;
      } else
        n(C.gtn(1), "modulus must be greater than 1"), this.m = C, this.prime = null;
    }
    P.prototype._verify1 = function(y) {
      n(y.negative === 0, "red works only with positives"), n(y.red, "red works only with red numbers");
    }, P.prototype._verify2 = function(y, E) {
      n((y.negative | E.negative) === 0, "red works only with positives"), n(
        y.red && y.red === E.red,
        "red works only with red numbers"
      );
    }, P.prototype.imod = function(y) {
      return this.prime ? this.prime.ireduce(y)._forceRed(this) : y.umod(this.m)._forceRed(this);
    }, P.prototype.neg = function(y) {
      return y.isZero() ? y.clone() : this.m.sub(y)._forceRed(this);
    }, P.prototype.add = function(y, E) {
      this._verify2(y, E);
      var T = y.add(E);
      return T.cmp(this.m) >= 0 && T.isub(this.m), T._forceRed(this);
    }, P.prototype.iadd = function(y, E) {
      this._verify2(y, E);
      var T = y.iadd(E);
      return T.cmp(this.m) >= 0 && T.isub(this.m), T;
    }, P.prototype.sub = function(y, E) {
      this._verify2(y, E);
      var T = y.sub(E);
      return T.cmpn(0) < 0 && T.iadd(this.m), T._forceRed(this);
    }, P.prototype.isub = function(y, E) {
      this._verify2(y, E);
      var T = y.isub(E);
      return T.cmpn(0) < 0 && T.iadd(this.m), T;
    }, P.prototype.shl = function(y, E) {
      return this._verify1(y), this.imod(y.ushln(E));
    }, P.prototype.imul = function(y, E) {
      return this._verify2(y, E), this.imod(y.imul(E));
    }, P.prototype.mul = function(y, E) {
      return this._verify2(y, E), this.imod(y.mul(E));
    }, P.prototype.isqr = function(y) {
      return this.imul(y, y.clone());
    }, P.prototype.sqr = function(y) {
      return this.mul(y, y);
    }, P.prototype.sqrt = function(y) {
      if (y.isZero())
        return y.clone();
      var E = this.m.andln(3);
      if (n(E % 2 === 1), E === 3) {
        var T = this.m.add(new s(1)).iushrn(2);
        return this.pow(y, T);
      }
      for (var R = this.m.subn(1), N = 0; !R.isZero() && R.andln(1) === 0; )
        N++, R.iushrn(1);
      n(!R.isZero());
      var H = new s(1).toRed(this), Z = H.redNeg(), K = this.m.subn(1).iushrn(1), x = this.m.bitLength();
      for (x = new s(2 * x * x).toRed(this); this.pow(x, K).cmp(Z) !== 0; )
        x.redIAdd(Z);
      for (var V = this.pow(x, R), $ = this.pow(y, R.addn(1).iushrn(1)), G = this.pow(y, R), z = N; G.cmp(H) !== 0; ) {
        for (var ae = G, le = 0; ae.cmp(H) !== 0; le++)
          ae = ae.redSqr();
        n(le < z);
        var oe = this.pow(V, new s(1).iushln(z - le - 1));
        $ = $.redMul(oe), V = oe.redSqr(), G = G.redMul(V), z = le;
      }
      return $;
    }, P.prototype.invm = function(y) {
      var E = y._invmp(this.m);
      return E.negative !== 0 ? (E.negative = 0, this.imod(E).redNeg()) : this.imod(E);
    }, P.prototype.pow = function(y, E) {
      if (E.isZero())
        return new s(1).toRed(this);
      if (E.cmpn(1) === 0)
        return y.clone();
      var T = 4, R = new Array(1 << T);
      R[0] = new s(1).toRed(this), R[1] = y;
      for (var N = 2; N < R.length; N++)
        R[N] = this.mul(R[N - 1], y);
      var H = R[0], Z = 0, K = 0, x = E.bitLength() % 26;
      for (x === 0 && (x = 26), N = E.length - 1; N >= 0; N--) {
        for (var V = E.words[N], $ = x - 1; $ >= 0; $--) {
          var G = V >> $ & 1;
          if (H !== R[0] && (H = this.sqr(H)), G === 0 && Z === 0) {
            K = 0;
            continue;
          }
          Z <<= 1, Z |= G, K++, !(K !== T && (N !== 0 || $ !== 0)) && (H = this.mul(H, R[Z]), K = 0, Z = 0);
        }
        x = 26;
      }
      return H;
    }, P.prototype.convertTo = function(y) {
      var E = y.umod(this.m);
      return E === y ? E.clone() : E;
    }, P.prototype.convertFrom = function(y) {
      var E = y.clone();
      return E.red = null, E;
    }, s.mont = function(y) {
      return new M(y);
    };
    function M(C) {
      P.call(this, C), this.shift = this.m.bitLength(), this.shift % 26 !== 0 && (this.shift += 26 - this.shift % 26), this.r = new s(1).iushln(this.shift), this.r2 = this.imod(this.r.sqr()), this.rinv = this.r._invmp(this.m), this.minv = this.rinv.mul(this.r).isubn(1).div(this.m), this.minv = this.minv.umod(this.r), this.minv = this.r.sub(this.minv);
    }
    i(M, P), M.prototype.convertTo = function(y) {
      return this.imod(y.ushln(this.shift));
    }, M.prototype.convertFrom = function(y) {
      var E = this.imod(y.mul(this.rinv));
      return E.red = null, E;
    }, M.prototype.imul = function(y, E) {
      if (y.isZero() || E.isZero())
        return y.words[0] = 0, y.length = 1, y;
      var T = y.imul(E), R = T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), N = T.isub(R).iushrn(this.shift), H = N;
      return N.cmp(this.m) >= 0 ? H = N.isub(this.m) : N.cmpn(0) < 0 && (H = N.iadd(this.m)), H._forceRed(this);
    }, M.prototype.mul = function(y, E) {
      if (y.isZero() || E.isZero())
        return new s(0)._forceRed(this);
      var T = y.mul(E), R = T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), N = T.isub(R).iushrn(this.shift), H = N;
      return N.cmp(this.m) >= 0 ? H = N.isub(this.m) : N.cmpn(0) < 0 && (H = N.iadd(this.m)), H._forceRed(this);
    }, M.prototype.invm = function(y) {
      var E = this.imod(y._invmp(this.m).mul(this.r2));
      return E._forceRed(this);
    };
  })(e, be);
})(Wm);
var dp = {}, Zf = {}, Qf = {}, Is = {};
Is.byteLength = Zm;
Is.toByteArray = e2;
Is.fromByteArray = n2;
var Lr = [], hr = [], Ym = typeof Uint8Array < "u" ? Uint8Array : Array, ou = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
for (var ri = 0, Xm = ou.length; ri < Xm; ++ri)
  Lr[ri] = ou[ri], hr[ou.charCodeAt(ri)] = ri;
hr["-".charCodeAt(0)] = 62;
hr["_".charCodeAt(0)] = 63;
function pp(e) {
  var t = e.length;
  if (t % 4 > 0)
    throw new Error("Invalid string. Length must be a multiple of 4");
  var r = e.indexOf("=");
  r === -1 && (r = t);
  var n = r === t ? 0 : 4 - r % 4;
  return [r, n];
}
function Zm(e) {
  var t = pp(e), r = t[0], n = t[1];
  return (r + n) * 3 / 4 - n;
}
function Qm(e, t, r) {
  return (t + r) * 3 / 4 - r;
}
function e2(e) {
  var t, r = pp(e), n = r[0], i = r[1], s = new Ym(Qm(e, n, i)), a = 0, o = i > 0 ? n - 4 : n, u;
  for (u = 0; u < o; u += 4)
    t = hr[e.charCodeAt(u)] << 18 | hr[e.charCodeAt(u + 1)] << 12 | hr[e.charCodeAt(u + 2)] << 6 | hr[e.charCodeAt(u + 3)], s[a++] = t >> 16 & 255, s[a++] = t >> 8 & 255, s[a++] = t & 255;
  return i === 2 && (t = hr[e.charCodeAt(u)] << 2 | hr[e.charCodeAt(u + 1)] >> 4, s[a++] = t & 255), i === 1 && (t = hr[e.charCodeAt(u)] << 10 | hr[e.charCodeAt(u + 1)] << 4 | hr[e.charCodeAt(u + 2)] >> 2, s[a++] = t >> 8 & 255, s[a++] = t & 255), s;
}
function t2(e) {
  return Lr[e >> 18 & 63] + Lr[e >> 12 & 63] + Lr[e >> 6 & 63] + Lr[e & 63];
}
function r2(e, t, r) {
  for (var n, i = [], s = t; s < r; s += 3)
    n = (e[s] << 16 & 16711680) + (e[s + 1] << 8 & 65280) + (e[s + 2] & 255), i.push(t2(n));
  return i.join("");
}
function n2(e) {
  for (var t, r = e.length, n = r % 3, i = [], s = 16383, a = 0, o = r - n; a < o; a += s)
    i.push(r2(e, a, a + s > o ? o : a + s));
  return n === 1 ? (t = e[r - 1], i.push(
    Lr[t >> 2] + Lr[t << 4 & 63] + "=="
  )) : n === 2 && (t = (e[r - 2] << 8) + e[r - 1], i.push(
    Lr[t >> 10] + Lr[t >> 4 & 63] + Lr[t << 2 & 63] + "="
  )), i.join("");
}
var ec = {};
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
ec.read = function(e, t, r, n, i) {
  var s, a, o = i * 8 - n - 1, u = (1 << o) - 1, f = u >> 1, l = -7, h = r ? i - 1 : 0, c = r ? -1 : 1, d = e[t + h];
  for (h += c, s = d & (1 << -l) - 1, d >>= -l, l += o; l > 0; s = s * 256 + e[t + h], h += c, l -= 8)
    ;
  for (a = s & (1 << -l) - 1, s >>= -l, l += n; l > 0; a = a * 256 + e[t + h], h += c, l -= 8)
    ;
  if (s === 0)
    s = 1 - f;
  else {
    if (s === u)
      return a ? NaN : (d ? -1 : 1) * (1 / 0);
    a = a + Math.pow(2, n), s = s - f;
  }
  return (d ? -1 : 1) * a * Math.pow(2, s - n);
};
ec.write = function(e, t, r, n, i, s) {
  var a, o, u, f = s * 8 - i - 1, l = (1 << f) - 1, h = l >> 1, c = i === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0, d = n ? 0 : s - 1, p = n ? 1 : -1, v = t < 0 || t === 0 && 1 / t < 0 ? 1 : 0;
  for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (o = isNaN(t) ? 1 : 0, a = l) : (a = Math.floor(Math.log(t) / Math.LN2), t * (u = Math.pow(2, -a)) < 1 && (a--, u *= 2), a + h >= 1 ? t += c / u : t += c * Math.pow(2, 1 - h), t * u >= 2 && (a++, u /= 2), a + h >= l ? (o = 0, a = l) : a + h >= 1 ? (o = (t * u - 1) * Math.pow(2, i), a = a + h) : (o = t * Math.pow(2, h - 1) * Math.pow(2, i), a = 0)); i >= 8; e[r + d] = o & 255, d += p, o /= 256, i -= 8)
    ;
  for (a = a << i | o, f += i; f > 0; e[r + d] = a & 255, d += p, a /= 256, f -= 8)
    ;
  e[r + d - p] |= v * 128;
};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
(function(e) {
  var t = Is, r = ec, n = typeof Symbol == "function" && typeof Symbol.for == "function" ? Symbol.for("nodejs.util.inspect.custom") : null;
  e.Buffer = o, e.SlowBuffer = A, e.INSPECT_MAX_BYTES = 50;
  var i = 2147483647;
  e.kMaxLength = i, o.TYPED_ARRAY_SUPPORT = s(), !o.TYPED_ARRAY_SUPPORT && typeof console < "u" && typeof console.error == "function" && console.error(
    "This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."
  );
  function s() {
    try {
      var B = new Uint8Array(1), w = { foo: function() {
        return 42;
      } };
      return Object.setPrototypeOf(w, Uint8Array.prototype), Object.setPrototypeOf(B, w), B.foo() === 42;
    } catch {
      return !1;
    }
  }
  Object.defineProperty(o.prototype, "parent", {
    enumerable: !0,
    get: function() {
      if (o.isBuffer(this))
        return this.buffer;
    }
  }), Object.defineProperty(o.prototype, "offset", {
    enumerable: !0,
    get: function() {
      if (o.isBuffer(this))
        return this.byteOffset;
    }
  });
  function a(B) {
    if (B > i)
      throw new RangeError('The value "' + B + '" is invalid for option "size"');
    var w = new Uint8Array(B);
    return Object.setPrototypeOf(w, o.prototype), w;
  }
  function o(B, w, S) {
    if (typeof B == "number") {
      if (typeof w == "string")
        throw new TypeError(
          'The "string" argument must be of type string. Received type number'
        );
      return h(B);
    }
    return u(B, w, S);
  }
  o.poolSize = 8192;
  function u(B, w, S) {
    if (typeof B == "string")
      return c(B, w);
    if (ArrayBuffer.isView(B))
      return p(B);
    if (B == null)
      throw new TypeError(
        "The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof B
      );
    if (Q(B, ArrayBuffer) || B && Q(B.buffer, ArrayBuffer) || typeof SharedArrayBuffer < "u" && (Q(B, SharedArrayBuffer) || B && Q(B.buffer, SharedArrayBuffer)))
      return v(B, w, S);
    if (typeof B == "number")
      throw new TypeError(
        'The "value" argument must not be of type number. Received type number'
      );
    var I = B.valueOf && B.valueOf();
    if (I != null && I !== B)
      return o.from(I, w, S);
    var q = m(B);
    if (q)
      return q;
    if (typeof Symbol < "u" && Symbol.toPrimitive != null && typeof B[Symbol.toPrimitive] == "function")
      return o.from(
        B[Symbol.toPrimitive]("string"),
        w,
        S
      );
    throw new TypeError(
      "The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof B
    );
  }
  o.from = function(B, w, S) {
    return u(B, w, S);
  }, Object.setPrototypeOf(o.prototype, Uint8Array.prototype), Object.setPrototypeOf(o, Uint8Array);
  function f(B) {
    if (typeof B != "number")
      throw new TypeError('"size" argument must be of type number');
    if (B < 0)
      throw new RangeError('The value "' + B + '" is invalid for option "size"');
  }
  function l(B, w, S) {
    return f(B), B <= 0 ? a(B) : w !== void 0 ? typeof S == "string" ? a(B).fill(w, S) : a(B).fill(w) : a(B);
  }
  o.alloc = function(B, w, S) {
    return l(B, w, S);
  };
  function h(B) {
    return f(B), a(B < 0 ? 0 : b(B) | 0);
  }
  o.allocUnsafe = function(B) {
    return h(B);
  }, o.allocUnsafeSlow = function(B) {
    return h(B);
  };
  function c(B, w) {
    if ((typeof w != "string" || w === "") && (w = "utf8"), !o.isEncoding(w))
      throw new TypeError("Unknown encoding: " + w);
    var S = D(B, w) | 0, I = a(S), q = I.write(B, w);
    return q !== S && (I = I.slice(0, q)), I;
  }
  function d(B) {
    for (var w = B.length < 0 ? 0 : b(B.length) | 0, S = a(w), I = 0; I < w; I += 1)
      S[I] = B[I] & 255;
    return S;
  }
  function p(B) {
    if (Q(B, Uint8Array)) {
      var w = new Uint8Array(B);
      return v(w.buffer, w.byteOffset, w.byteLength);
    }
    return d(B);
  }
  function v(B, w, S) {
    if (w < 0 || B.byteLength < w)
      throw new RangeError('"offset" is outside of buffer bounds');
    if (B.byteLength < w + (S || 0))
      throw new RangeError('"length" is outside of buffer bounds');
    var I;
    return w === void 0 && S === void 0 ? I = new Uint8Array(B) : S === void 0 ? I = new Uint8Array(B, w) : I = new Uint8Array(B, w, S), Object.setPrototypeOf(I, o.prototype), I;
  }
  function m(B) {
    if (o.isBuffer(B)) {
      var w = b(B.length) | 0, S = a(w);
      return S.length === 0 || B.copy(S, 0, 0, w), S;
    }
    if (B.length !== void 0)
      return typeof B.length != "number" || ee(B.length) ? a(0) : d(B);
    if (B.type === "Buffer" && Array.isArray(B.data))
      return d(B.data);
  }
  function b(B) {
    if (B >= i)
      throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + i.toString(16) + " bytes");
    return B | 0;
  }
  function A(B) {
    return +B != B && (B = 0), o.alloc(+B);
  }
  o.isBuffer = function(w) {
    return w != null && w._isBuffer === !0 && w !== o.prototype;
  }, o.compare = function(w, S) {
    if (Q(w, Uint8Array) && (w = o.from(w, w.offset, w.byteLength)), Q(S, Uint8Array) && (S = o.from(S, S.offset, S.byteLength)), !o.isBuffer(w) || !o.isBuffer(S))
      throw new TypeError(
        'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
      );
    if (w === S)
      return 0;
    for (var I = w.length, q = S.length, Y = 0, se = Math.min(I, q); Y < se; ++Y)
      if (w[Y] !== S[Y]) {
        I = w[Y], q = S[Y];
        break;
      }
    return I < q ? -1 : q < I ? 1 : 0;
  }, o.isEncoding = function(w) {
    switch (String(w).toLowerCase()) {
      case "hex":
      case "utf8":
      case "utf-8":
      case "ascii":
      case "latin1":
      case "binary":
      case "base64":
      case "ucs2":
      case "ucs-2":
      case "utf16le":
      case "utf-16le":
        return !0;
      default:
        return !1;
    }
  }, o.concat = function(w, S) {
    if (!Array.isArray(w))
      throw new TypeError('"list" argument must be an Array of Buffers');
    if (w.length === 0)
      return o.alloc(0);
    var I;
    if (S === void 0)
      for (S = 0, I = 0; I < w.length; ++I)
        S += w[I].length;
    var q = o.allocUnsafe(S), Y = 0;
    for (I = 0; I < w.length; ++I) {
      var se = w[I];
      if (Q(se, Uint8Array))
        Y + se.length > q.length ? o.from(se).copy(q, Y) : Uint8Array.prototype.set.call(
          q,
          se,
          Y
        );
      else if (o.isBuffer(se))
        se.copy(q, Y);
      else
        throw new TypeError('"list" argument must be an Array of Buffers');
      Y += se.length;
    }
    return q;
  };
  function D(B, w) {
    if (o.isBuffer(B))
      return B.length;
    if (ArrayBuffer.isView(B) || Q(B, ArrayBuffer))
      return B.byteLength;
    if (typeof B != "string")
      throw new TypeError(
        'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof B
      );
    var S = B.length, I = arguments.length > 2 && arguments[2] === !0;
    if (!I && S === 0)
      return 0;
    for (var q = !1; ; )
      switch (w) {
        case "ascii":
        case "latin1":
        case "binary":
          return S;
        case "utf8":
        case "utf-8":
          return ue(B).length;
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return S * 2;
        case "hex":
          return S >>> 1;
        case "base64":
          return W(B).length;
        default:
          if (q)
            return I ? -1 : ue(B).length;
          w = ("" + w).toLowerCase(), q = !0;
      }
  }
  o.byteLength = D;
  function k(B, w, S) {
    var I = !1;
    if ((w === void 0 || w < 0) && (w = 0), w > this.length || ((S === void 0 || S > this.length) && (S = this.length), S <= 0) || (S >>>= 0, w >>>= 0, S <= w))
      return "";
    for (B || (B = "utf8"); ; )
      switch (B) {
        case "hex":
          return K(this, w, S);
        case "utf8":
        case "utf-8":
          return T(this, w, S);
        case "ascii":
          return H(this, w, S);
        case "latin1":
        case "binary":
          return Z(this, w, S);
        case "base64":
          return E(this, w, S);
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return x(this, w, S);
        default:
          if (I)
            throw new TypeError("Unknown encoding: " + B);
          B = (B + "").toLowerCase(), I = !0;
      }
  }
  o.prototype._isBuffer = !0;
  function L(B, w, S) {
    var I = B[w];
    B[w] = B[S], B[S] = I;
  }
  o.prototype.swap16 = function() {
    var w = this.length;
    if (w % 2 !== 0)
      throw new RangeError("Buffer size must be a multiple of 16-bits");
    for (var S = 0; S < w; S += 2)
      L(this, S, S + 1);
    return this;
  }, o.prototype.swap32 = function() {
    var w = this.length;
    if (w % 4 !== 0)
      throw new RangeError("Buffer size must be a multiple of 32-bits");
    for (var S = 0; S < w; S += 4)
      L(this, S, S + 3), L(this, S + 1, S + 2);
    return this;
  }, o.prototype.swap64 = function() {
    var w = this.length;
    if (w % 8 !== 0)
      throw new RangeError("Buffer size must be a multiple of 64-bits");
    for (var S = 0; S < w; S += 8)
      L(this, S, S + 7), L(this, S + 1, S + 6), L(this, S + 2, S + 5), L(this, S + 3, S + 4);
    return this;
  }, o.prototype.toString = function() {
    var w = this.length;
    return w === 0 ? "" : arguments.length === 0 ? T(this, 0, w) : k.apply(this, arguments);
  }, o.prototype.toLocaleString = o.prototype.toString, o.prototype.equals = function(w) {
    if (!o.isBuffer(w))
      throw new TypeError("Argument must be a Buffer");
    return this === w ? !0 : o.compare(this, w) === 0;
  }, o.prototype.inspect = function() {
    var w = "", S = e.INSPECT_MAX_BYTES;
    return w = this.toString("hex", 0, S).replace(/(.{2})/g, "$1 ").trim(), this.length > S && (w += " ... "), "<Buffer " + w + ">";
  }, n && (o.prototype[n] = o.prototype.inspect), o.prototype.compare = function(w, S, I, q, Y) {
    if (Q(w, Uint8Array) && (w = o.from(w, w.offset, w.byteLength)), !o.isBuffer(w))
      throw new TypeError(
        'The "target" argument must be one of type Buffer or Uint8Array. Received type ' + typeof w
      );
    if (S === void 0 && (S = 0), I === void 0 && (I = w ? w.length : 0), q === void 0 && (q = 0), Y === void 0 && (Y = this.length), S < 0 || I > w.length || q < 0 || Y > this.length)
      throw new RangeError("out of range index");
    if (q >= Y && S >= I)
      return 0;
    if (q >= Y)
      return -1;
    if (S >= I)
      return 1;
    if (S >>>= 0, I >>>= 0, q >>>= 0, Y >>>= 0, this === w)
      return 0;
    for (var se = Y - q, ge = I - S, ve = Math.min(se, ge), X = this.slice(q, Y), re = w.slice(S, I), ie = 0; ie < ve; ++ie)
      if (X[ie] !== re[ie]) {
        se = X[ie], ge = re[ie];
        break;
      }
    return se < ge ? -1 : ge < se ? 1 : 0;
  };
  function _(B, w, S, I, q) {
    if (B.length === 0)
      return -1;
    if (typeof S == "string" ? (I = S, S = 0) : S > 2147483647 ? S = 2147483647 : S < -2147483648 && (S = -2147483648), S = +S, ee(S) && (S = q ? 0 : B.length - 1), S < 0 && (S = B.length + S), S >= B.length) {
      if (q)
        return -1;
      S = B.length - 1;
    } else if (S < 0)
      if (q)
        S = 0;
      else
        return -1;
    if (typeof w == "string" && (w = o.from(w, I)), o.isBuffer(w))
      return w.length === 0 ? -1 : F(B, w, S, I, q);
    if (typeof w == "number")
      return w = w & 255, typeof Uint8Array.prototype.indexOf == "function" ? q ? Uint8Array.prototype.indexOf.call(B, w, S) : Uint8Array.prototype.lastIndexOf.call(B, w, S) : F(B, [w], S, I, q);
    throw new TypeError("val must be string, number or Buffer");
  }
  function F(B, w, S, I, q) {
    var Y = 1, se = B.length, ge = w.length;
    if (I !== void 0 && (I = String(I).toLowerCase(), I === "ucs2" || I === "ucs-2" || I === "utf16le" || I === "utf-16le")) {
      if (B.length < 2 || w.length < 2)
        return -1;
      Y = 2, se /= 2, ge /= 2, S /= 2;
    }
    function ve(we, Ce) {
      return Y === 1 ? we[Ce] : we.readUInt16BE(Ce * Y);
    }
    var X;
    if (q) {
      var re = -1;
      for (X = S; X < se; X++)
        if (ve(B, X) === ve(w, re === -1 ? 0 : X - re)) {
          if (re === -1 && (re = X), X - re + 1 === ge)
            return re * Y;
        } else
          re !== -1 && (X -= X - re), re = -1;
    } else
      for (S + ge > se && (S = se - ge), X = S; X >= 0; X--) {
        for (var ie = !0, ce = 0; ce < ge; ce++)
          if (ve(B, X + ce) !== ve(w, ce)) {
            ie = !1;
            break;
          }
        if (ie)
          return X;
      }
    return -1;
  }
  o.prototype.includes = function(w, S, I) {
    return this.indexOf(w, S, I) !== -1;
  }, o.prototype.indexOf = function(w, S, I) {
    return _(this, w, S, I, !0);
  }, o.prototype.lastIndexOf = function(w, S, I) {
    return _(this, w, S, I, !1);
  };
  function O(B, w, S, I) {
    S = Number(S) || 0;
    var q = B.length - S;
    I ? (I = Number(I), I > q && (I = q)) : I = q;
    var Y = w.length;
    I > Y / 2 && (I = Y / 2);
    for (var se = 0; se < I; ++se) {
      var ge = parseInt(w.substr(se * 2, 2), 16);
      if (ee(ge))
        return se;
      B[S + se] = ge;
    }
    return se;
  }
  function P(B, w, S, I) {
    return U(ue(w, B.length - S), B, S, I);
  }
  function M(B, w, S, I) {
    return U(fe(w), B, S, I);
  }
  function C(B, w, S, I) {
    return U(W(w), B, S, I);
  }
  function y(B, w, S, I) {
    return U(j(w, B.length - S), B, S, I);
  }
  o.prototype.write = function(w, S, I, q) {
    if (S === void 0)
      q = "utf8", I = this.length, S = 0;
    else if (I === void 0 && typeof S == "string")
      q = S, I = this.length, S = 0;
    else if (isFinite(S))
      S = S >>> 0, isFinite(I) ? (I = I >>> 0, q === void 0 && (q = "utf8")) : (q = I, I = void 0);
    else
      throw new Error(
        "Buffer.write(string, encoding, offset[, length]) is no longer supported"
      );
    var Y = this.length - S;
    if ((I === void 0 || I > Y) && (I = Y), w.length > 0 && (I < 0 || S < 0) || S > this.length)
      throw new RangeError("Attempt to write outside buffer bounds");
    q || (q = "utf8");
    for (var se = !1; ; )
      switch (q) {
        case "hex":
          return O(this, w, S, I);
        case "utf8":
        case "utf-8":
          return P(this, w, S, I);
        case "ascii":
        case "latin1":
        case "binary":
          return M(this, w, S, I);
        case "base64":
          return C(this, w, S, I);
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return y(this, w, S, I);
        default:
          if (se)
            throw new TypeError("Unknown encoding: " + q);
          q = ("" + q).toLowerCase(), se = !0;
      }
  }, o.prototype.toJSON = function() {
    return {
      type: "Buffer",
      data: Array.prototype.slice.call(this._arr || this, 0)
    };
  };
  function E(B, w, S) {
    return w === 0 && S === B.length ? t.fromByteArray(B) : t.fromByteArray(B.slice(w, S));
  }
  function T(B, w, S) {
    S = Math.min(B.length, S);
    for (var I = [], q = w; q < S; ) {
      var Y = B[q], se = null, ge = Y > 239 ? 4 : Y > 223 ? 3 : Y > 191 ? 2 : 1;
      if (q + ge <= S) {
        var ve, X, re, ie;
        switch (ge) {
          case 1:
            Y < 128 && (se = Y);
            break;
          case 2:
            ve = B[q + 1], (ve & 192) === 128 && (ie = (Y & 31) << 6 | ve & 63, ie > 127 && (se = ie));
            break;
          case 3:
            ve = B[q + 1], X = B[q + 2], (ve & 192) === 128 && (X & 192) === 128 && (ie = (Y & 15) << 12 | (ve & 63) << 6 | X & 63, ie > 2047 && (ie < 55296 || ie > 57343) && (se = ie));
            break;
          case 4:
            ve = B[q + 1], X = B[q + 2], re = B[q + 3], (ve & 192) === 128 && (X & 192) === 128 && (re & 192) === 128 && (ie = (Y & 15) << 18 | (ve & 63) << 12 | (X & 63) << 6 | re & 63, ie > 65535 && ie < 1114112 && (se = ie));
        }
      }
      se === null ? (se = 65533, ge = 1) : se > 65535 && (se -= 65536, I.push(se >>> 10 & 1023 | 55296), se = 56320 | se & 1023), I.push(se), q += ge;
    }
    return N(I);
  }
  var R = 4096;
  function N(B) {
    var w = B.length;
    if (w <= R)
      return String.fromCharCode.apply(String, B);
    for (var S = "", I = 0; I < w; )
      S += String.fromCharCode.apply(
        String,
        B.slice(I, I += R)
      );
    return S;
  }
  function H(B, w, S) {
    var I = "";
    S = Math.min(B.length, S);
    for (var q = w; q < S; ++q)
      I += String.fromCharCode(B[q] & 127);
    return I;
  }
  function Z(B, w, S) {
    var I = "";
    S = Math.min(B.length, S);
    for (var q = w; q < S; ++q)
      I += String.fromCharCode(B[q]);
    return I;
  }
  function K(B, w, S) {
    var I = B.length;
    (!w || w < 0) && (w = 0), (!S || S < 0 || S > I) && (S = I);
    for (var q = "", Y = w; Y < S; ++Y)
      q += te[B[Y]];
    return q;
  }
  function x(B, w, S) {
    for (var I = B.slice(w, S), q = "", Y = 0; Y < I.length - 1; Y += 2)
      q += String.fromCharCode(I[Y] + I[Y + 1] * 256);
    return q;
  }
  o.prototype.slice = function(w, S) {
    var I = this.length;
    w = ~~w, S = S === void 0 ? I : ~~S, w < 0 ? (w += I, w < 0 && (w = 0)) : w > I && (w = I), S < 0 ? (S += I, S < 0 && (S = 0)) : S > I && (S = I), S < w && (S = w);
    var q = this.subarray(w, S);
    return Object.setPrototypeOf(q, o.prototype), q;
  };
  function V(B, w, S) {
    if (B % 1 !== 0 || B < 0)
      throw new RangeError("offset is not uint");
    if (B + w > S)
      throw new RangeError("Trying to access beyond buffer length");
  }
  o.prototype.readUintLE = o.prototype.readUIntLE = function(w, S, I) {
    w = w >>> 0, S = S >>> 0, I || V(w, S, this.length);
    for (var q = this[w], Y = 1, se = 0; ++se < S && (Y *= 256); )
      q += this[w + se] * Y;
    return q;
  }, o.prototype.readUintBE = o.prototype.readUIntBE = function(w, S, I) {
    w = w >>> 0, S = S >>> 0, I || V(w, S, this.length);
    for (var q = this[w + --S], Y = 1; S > 0 && (Y *= 256); )
      q += this[w + --S] * Y;
    return q;
  }, o.prototype.readUint8 = o.prototype.readUInt8 = function(w, S) {
    return w = w >>> 0, S || V(w, 1, this.length), this[w];
  }, o.prototype.readUint16LE = o.prototype.readUInt16LE = function(w, S) {
    return w = w >>> 0, S || V(w, 2, this.length), this[w] | this[w + 1] << 8;
  }, o.prototype.readUint16BE = o.prototype.readUInt16BE = function(w, S) {
    return w = w >>> 0, S || V(w, 2, this.length), this[w] << 8 | this[w + 1];
  }, o.prototype.readUint32LE = o.prototype.readUInt32LE = function(w, S) {
    return w = w >>> 0, S || V(w, 4, this.length), (this[w] | this[w + 1] << 8 | this[w + 2] << 16) + this[w + 3] * 16777216;
  }, o.prototype.readUint32BE = o.prototype.readUInt32BE = function(w, S) {
    return w = w >>> 0, S || V(w, 4, this.length), this[w] * 16777216 + (this[w + 1] << 16 | this[w + 2] << 8 | this[w + 3]);
  }, o.prototype.readIntLE = function(w, S, I) {
    w = w >>> 0, S = S >>> 0, I || V(w, S, this.length);
    for (var q = this[w], Y = 1, se = 0; ++se < S && (Y *= 256); )
      q += this[w + se] * Y;
    return Y *= 128, q >= Y && (q -= Math.pow(2, 8 * S)), q;
  }, o.prototype.readIntBE = function(w, S, I) {
    w = w >>> 0, S = S >>> 0, I || V(w, S, this.length);
    for (var q = S, Y = 1, se = this[w + --q]; q > 0 && (Y *= 256); )
      se += this[w + --q] * Y;
    return Y *= 128, se >= Y && (se -= Math.pow(2, 8 * S)), se;
  }, o.prototype.readInt8 = function(w, S) {
    return w = w >>> 0, S || V(w, 1, this.length), this[w] & 128 ? (255 - this[w] + 1) * -1 : this[w];
  }, o.prototype.readInt16LE = function(w, S) {
    w = w >>> 0, S || V(w, 2, this.length);
    var I = this[w] | this[w + 1] << 8;
    return I & 32768 ? I | 4294901760 : I;
  }, o.prototype.readInt16BE = function(w, S) {
    w = w >>> 0, S || V(w, 2, this.length);
    var I = this[w + 1] | this[w] << 8;
    return I & 32768 ? I | 4294901760 : I;
  }, o.prototype.readInt32LE = function(w, S) {
    return w = w >>> 0, S || V(w, 4, this.length), this[w] | this[w + 1] << 8 | this[w + 2] << 16 | this[w + 3] << 24;
  }, o.prototype.readInt32BE = function(w, S) {
    return w = w >>> 0, S || V(w, 4, this.length), this[w] << 24 | this[w + 1] << 16 | this[w + 2] << 8 | this[w + 3];
  }, o.prototype.readFloatLE = function(w, S) {
    return w = w >>> 0, S || V(w, 4, this.length), r.read(this, w, !0, 23, 4);
  }, o.prototype.readFloatBE = function(w, S) {
    return w = w >>> 0, S || V(w, 4, this.length), r.read(this, w, !1, 23, 4);
  }, o.prototype.readDoubleLE = function(w, S) {
    return w = w >>> 0, S || V(w, 8, this.length), r.read(this, w, !0, 52, 8);
  }, o.prototype.readDoubleBE = function(w, S) {
    return w = w >>> 0, S || V(w, 8, this.length), r.read(this, w, !1, 52, 8);
  };
  function $(B, w, S, I, q, Y) {
    if (!o.isBuffer(B))
      throw new TypeError('"buffer" argument must be a Buffer instance');
    if (w > q || w < Y)
      throw new RangeError('"value" argument is out of bounds');
    if (S + I > B.length)
      throw new RangeError("Index out of range");
  }
  o.prototype.writeUintLE = o.prototype.writeUIntLE = function(w, S, I, q) {
    if (w = +w, S = S >>> 0, I = I >>> 0, !q) {
      var Y = Math.pow(2, 8 * I) - 1;
      $(this, w, S, I, Y, 0);
    }
    var se = 1, ge = 0;
    for (this[S] = w & 255; ++ge < I && (se *= 256); )
      this[S + ge] = w / se & 255;
    return S + I;
  }, o.prototype.writeUintBE = o.prototype.writeUIntBE = function(w, S, I, q) {
    if (w = +w, S = S >>> 0, I = I >>> 0, !q) {
      var Y = Math.pow(2, 8 * I) - 1;
      $(this, w, S, I, Y, 0);
    }
    var se = I - 1, ge = 1;
    for (this[S + se] = w & 255; --se >= 0 && (ge *= 256); )
      this[S + se] = w / ge & 255;
    return S + I;
  }, o.prototype.writeUint8 = o.prototype.writeUInt8 = function(w, S, I) {
    return w = +w, S = S >>> 0, I || $(this, w, S, 1, 255, 0), this[S] = w & 255, S + 1;
  }, o.prototype.writeUint16LE = o.prototype.writeUInt16LE = function(w, S, I) {
    return w = +w, S = S >>> 0, I || $(this, w, S, 2, 65535, 0), this[S] = w & 255, this[S + 1] = w >>> 8, S + 2;
  }, o.prototype.writeUint16BE = o.prototype.writeUInt16BE = function(w, S, I) {
    return w = +w, S = S >>> 0, I || $(this, w, S, 2, 65535, 0), this[S] = w >>> 8, this[S + 1] = w & 255, S + 2;
  }, o.prototype.writeUint32LE = o.prototype.writeUInt32LE = function(w, S, I) {
    return w = +w, S = S >>> 0, I || $(this, w, S, 4, 4294967295, 0), this[S + 3] = w >>> 24, this[S + 2] = w >>> 16, this[S + 1] = w >>> 8, this[S] = w & 255, S + 4;
  }, o.prototype.writeUint32BE = o.prototype.writeUInt32BE = function(w, S, I) {
    return w = +w, S = S >>> 0, I || $(this, w, S, 4, 4294967295, 0), this[S] = w >>> 24, this[S + 1] = w >>> 16, this[S + 2] = w >>> 8, this[S + 3] = w & 255, S + 4;
  }, o.prototype.writeIntLE = function(w, S, I, q) {
    if (w = +w, S = S >>> 0, !q) {
      var Y = Math.pow(2, 8 * I - 1);
      $(this, w, S, I, Y - 1, -Y);
    }
    var se = 0, ge = 1, ve = 0;
    for (this[S] = w & 255; ++se < I && (ge *= 256); )
      w < 0 && ve === 0 && this[S + se - 1] !== 0 && (ve = 1), this[S + se] = (w / ge >> 0) - ve & 255;
    return S + I;
  }, o.prototype.writeIntBE = function(w, S, I, q) {
    if (w = +w, S = S >>> 0, !q) {
      var Y = Math.pow(2, 8 * I - 1);
      $(this, w, S, I, Y - 1, -Y);
    }
    var se = I - 1, ge = 1, ve = 0;
    for (this[S + se] = w & 255; --se >= 0 && (ge *= 256); )
      w < 0 && ve === 0 && this[S + se + 1] !== 0 && (ve = 1), this[S + se] = (w / ge >> 0) - ve & 255;
    return S + I;
  }, o.prototype.writeInt8 = function(w, S, I) {
    return w = +w, S = S >>> 0, I || $(this, w, S, 1, 127, -128), w < 0 && (w = 255 + w + 1), this[S] = w & 255, S + 1;
  }, o.prototype.writeInt16LE = function(w, S, I) {
    return w = +w, S = S >>> 0, I || $(this, w, S, 2, 32767, -32768), this[S] = w & 255, this[S + 1] = w >>> 8, S + 2;
  }, o.prototype.writeInt16BE = function(w, S, I) {
    return w = +w, S = S >>> 0, I || $(this, w, S, 2, 32767, -32768), this[S] = w >>> 8, this[S + 1] = w & 255, S + 2;
  }, o.prototype.writeInt32LE = function(w, S, I) {
    return w = +w, S = S >>> 0, I || $(this, w, S, 4, 2147483647, -2147483648), this[S] = w & 255, this[S + 1] = w >>> 8, this[S + 2] = w >>> 16, this[S + 3] = w >>> 24, S + 4;
  }, o.prototype.writeInt32BE = function(w, S, I) {
    return w = +w, S = S >>> 0, I || $(this, w, S, 4, 2147483647, -2147483648), w < 0 && (w = 4294967295 + w + 1), this[S] = w >>> 24, this[S + 1] = w >>> 16, this[S + 2] = w >>> 8, this[S + 3] = w & 255, S + 4;
  };
  function G(B, w, S, I, q, Y) {
    if (S + I > B.length)
      throw new RangeError("Index out of range");
    if (S < 0)
      throw new RangeError("Index out of range");
  }
  function z(B, w, S, I, q) {
    return w = +w, S = S >>> 0, q || G(B, w, S, 4), r.write(B, w, S, I, 23, 4), S + 4;
  }
  o.prototype.writeFloatLE = function(w, S, I) {
    return z(this, w, S, !0, I);
  }, o.prototype.writeFloatBE = function(w, S, I) {
    return z(this, w, S, !1, I);
  };
  function ae(B, w, S, I, q) {
    return w = +w, S = S >>> 0, q || G(B, w, S, 8), r.write(B, w, S, I, 52, 8), S + 8;
  }
  o.prototype.writeDoubleLE = function(w, S, I) {
    return ae(this, w, S, !0, I);
  }, o.prototype.writeDoubleBE = function(w, S, I) {
    return ae(this, w, S, !1, I);
  }, o.prototype.copy = function(w, S, I, q) {
    if (!o.isBuffer(w))
      throw new TypeError("argument should be a Buffer");
    if (I || (I = 0), !q && q !== 0 && (q = this.length), S >= w.length && (S = w.length), S || (S = 0), q > 0 && q < I && (q = I), q === I || w.length === 0 || this.length === 0)
      return 0;
    if (S < 0)
      throw new RangeError("targetStart out of bounds");
    if (I < 0 || I >= this.length)
      throw new RangeError("Index out of range");
    if (q < 0)
      throw new RangeError("sourceEnd out of bounds");
    q > this.length && (q = this.length), w.length - S < q - I && (q = w.length - S + I);
    var Y = q - I;
    return this === w && typeof Uint8Array.prototype.copyWithin == "function" ? this.copyWithin(S, I, q) : Uint8Array.prototype.set.call(
      w,
      this.subarray(I, q),
      S
    ), Y;
  }, o.prototype.fill = function(w, S, I, q) {
    if (typeof w == "string") {
      if (typeof S == "string" ? (q = S, S = 0, I = this.length) : typeof I == "string" && (q = I, I = this.length), q !== void 0 && typeof q != "string")
        throw new TypeError("encoding must be a string");
      if (typeof q == "string" && !o.isEncoding(q))
        throw new TypeError("Unknown encoding: " + q);
      if (w.length === 1) {
        var Y = w.charCodeAt(0);
        (q === "utf8" && Y < 128 || q === "latin1") && (w = Y);
      }
    } else
      typeof w == "number" ? w = w & 255 : typeof w == "boolean" && (w = Number(w));
    if (S < 0 || this.length < S || this.length < I)
      throw new RangeError("Out of range index");
    if (I <= S)
      return this;
    S = S >>> 0, I = I === void 0 ? this.length : I >>> 0, w || (w = 0);
    var se;
    if (typeof w == "number")
      for (se = S; se < I; ++se)
        this[se] = w;
    else {
      var ge = o.isBuffer(w) ? w : o.from(w, q), ve = ge.length;
      if (ve === 0)
        throw new TypeError('The value "' + w + '" is invalid for argument "value"');
      for (se = 0; se < I - S; ++se)
        this[se + S] = ge[se % ve];
    }
    return this;
  };
  var le = /[^+/0-9A-Za-z-_]/g;
  function oe(B) {
    if (B = B.split("=")[0], B = B.trim().replace(le, ""), B.length < 2)
      return "";
    for (; B.length % 4 !== 0; )
      B = B + "=";
    return B;
  }
  function ue(B, w) {
    w = w || 1 / 0;
    for (var S, I = B.length, q = null, Y = [], se = 0; se < I; ++se) {
      if (S = B.charCodeAt(se), S > 55295 && S < 57344) {
        if (!q) {
          if (S > 56319) {
            (w -= 3) > -1 && Y.push(239, 191, 189);
            continue;
          } else if (se + 1 === I) {
            (w -= 3) > -1 && Y.push(239, 191, 189);
            continue;
          }
          q = S;
          continue;
        }
        if (S < 56320) {
          (w -= 3) > -1 && Y.push(239, 191, 189), q = S;
          continue;
        }
        S = (q - 55296 << 10 | S - 56320) + 65536;
      } else
        q && (w -= 3) > -1 && Y.push(239, 191, 189);
      if (q = null, S < 128) {
        if ((w -= 1) < 0)
          break;
        Y.push(S);
      } else if (S < 2048) {
        if ((w -= 2) < 0)
          break;
        Y.push(
          S >> 6 | 192,
          S & 63 | 128
        );
      } else if (S < 65536) {
        if ((w -= 3) < 0)
          break;
        Y.push(
          S >> 12 | 224,
          S >> 6 & 63 | 128,
          S & 63 | 128
        );
      } else if (S < 1114112) {
        if ((w -= 4) < 0)
          break;
        Y.push(
          S >> 18 | 240,
          S >> 12 & 63 | 128,
          S >> 6 & 63 | 128,
          S & 63 | 128
        );
      } else
        throw new Error("Invalid code point");
    }
    return Y;
  }
  function fe(B) {
    for (var w = [], S = 0; S < B.length; ++S)
      w.push(B.charCodeAt(S) & 255);
    return w;
  }
  function j(B, w) {
    for (var S, I, q, Y = [], se = 0; se < B.length && !((w -= 2) < 0); ++se)
      S = B.charCodeAt(se), I = S >> 8, q = S % 256, Y.push(q), Y.push(I);
    return Y;
  }
  function W(B) {
    return t.toByteArray(oe(B));
  }
  function U(B, w, S, I) {
    for (var q = 0; q < I && !(q + S >= w.length || q >= B.length); ++q)
      w[q + S] = B[q];
    return q;
  }
  function Q(B, w) {
    return B instanceof w || B != null && B.constructor != null && B.constructor.name != null && B.constructor.name === w.name;
  }
  function ee(B) {
    return B !== B;
  }
  var te = function() {
    for (var B = "0123456789abcdef", w = new Array(256), S = 0; S < 16; ++S)
      for (var I = S * 16, q = 0; q < 16; ++q)
        w[I + q] = B[S] + B[q];
    return w;
  }();
})(Qf);
var ua = Qf, yi = ua.Buffer, dr = {}, pr;
for (pr in ua)
  ua.hasOwnProperty(pr) && (pr === "SlowBuffer" || pr === "Buffer" || (dr[pr] = ua[pr]));
var mi = dr.Buffer = {};
for (pr in yi)
  yi.hasOwnProperty(pr) && (pr === "allocUnsafe" || pr === "allocUnsafeSlow" || (mi[pr] = yi[pr]));
dr.Buffer.prototype = yi.prototype;
(!mi.from || mi.from === Uint8Array.from) && (mi.from = function(e, t, r) {
  if (typeof e == "number")
    throw new TypeError('The "value" argument must not be of type number. Received type ' + typeof e);
  if (e && typeof e.length > "u")
    throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof e);
  return yi(e, t, r);
});
mi.alloc || (mi.alloc = function(e, t, r) {
  if (typeof e != "number")
    throw new TypeError('The "size" argument must be of type number. Received type ' + typeof e);
  if (e < 0 || e >= 2 * (1 << 30))
    throw new RangeError('The value "' + e + '" is invalid for option "size"');
  var n = yi(e);
  return !t || t.length === 0 ? n.fill(0) : typeof r == "string" ? n.fill(t, r) : n.fill(t), n;
});
if (!dr.kStringMaxLength)
  try {
    dr.kStringMaxLength = process.binding("buffer").kStringMaxLength;
  } catch {
  }
dr.constants || (dr.constants = {
  MAX_LENGTH: dr.kMaxLength
}, dr.kStringMaxLength && (dr.constants.MAX_STRING_LENGTH = dr.kStringMaxLength));
var tc = dr, $a = {};
const i2 = Sr();
function Er(e) {
  this._reporterState = {
    obj: null,
    path: [],
    options: e || {},
    errors: []
  };
}
$a.Reporter = Er;
Er.prototype.isError = function(t) {
  return t instanceof Ei;
};
Er.prototype.save = function() {
  const t = this._reporterState;
  return { obj: t.obj, pathLen: t.path.length };
};
Er.prototype.restore = function(t) {
  const r = this._reporterState;
  r.obj = t.obj, r.path = r.path.slice(0, t.pathLen);
};
Er.prototype.enterKey = function(t) {
  return this._reporterState.path.push(t);
};
Er.prototype.exitKey = function(t) {
  const r = this._reporterState;
  r.path = r.path.slice(0, t - 1);
};
Er.prototype.leaveKey = function(t, r, n) {
  const i = this._reporterState;
  this.exitKey(t), i.obj !== null && (i.obj[r] = n);
};
Er.prototype.path = function() {
  return this._reporterState.path.join("/");
};
Er.prototype.enterObject = function() {
  const t = this._reporterState, r = t.obj;
  return t.obj = {}, r;
};
Er.prototype.leaveObject = function(t) {
  const r = this._reporterState, n = r.obj;
  return r.obj = t, n;
};
Er.prototype.error = function(t) {
  let r;
  const n = this._reporterState, i = t instanceof Ei;
  if (i ? r = t : r = new Ei(n.path.map(function(s) {
    return "[" + JSON.stringify(s) + "]";
  }).join(""), t.message || t, t.stack), !n.options.partial)
    throw r;
  return i || n.errors.push(r), r;
};
Er.prototype.wrapResult = function(t) {
  const r = this._reporterState;
  return r.options.partial ? {
    result: this.isError(t) ? null : t,
    errors: r.errors
  } : t;
};
function Ei(e, t) {
  this.path = e, this.rethrow(t);
}
i2(Ei, Error);
Ei.prototype.rethrow = function(t) {
  if (this.message = t + " at: " + (this.path || "(shallow)"), Error.captureStackTrace && Error.captureStackTrace(this, Ei), !this.stack)
    try {
      throw new Error(this.message);
    } catch (r) {
      this.stack = r.stack;
    }
  return this;
};
var zn = {};
const s2 = Sr(), za = $a.Reporter, Ai = tc.Buffer;
function br(e, t) {
  if (za.call(this, t), !Ai.isBuffer(e)) {
    this.error("Input not Buffer");
    return;
  }
  this.base = e, this.offset = 0, this.length = e.length;
}
s2(br, za);
zn.DecoderBuffer = br;
br.isDecoderBuffer = function(t) {
  return t instanceof br ? !0 : typeof t == "object" && Ai.isBuffer(t.base) && t.constructor.name === "DecoderBuffer" && typeof t.offset == "number" && typeof t.length == "number" && typeof t.save == "function" && typeof t.restore == "function" && typeof t.isEmpty == "function" && typeof t.readUInt8 == "function" && typeof t.skip == "function" && typeof t.raw == "function";
};
br.prototype.save = function() {
  return { offset: this.offset, reporter: za.prototype.save.call(this) };
};
br.prototype.restore = function(t) {
  const r = new br(this.base);
  return r.offset = t.offset, r.length = this.offset, this.offset = t.offset, za.prototype.restore.call(this, t.reporter), r;
};
br.prototype.isEmpty = function() {
  return this.offset === this.length;
};
br.prototype.readUInt8 = function(t) {
  return this.offset + 1 <= this.length ? this.base.readUInt8(this.offset++, !0) : this.error(t || "DecoderBuffer overrun");
};
br.prototype.skip = function(t, r) {
  if (!(this.offset + t <= this.length))
    return this.error(r || "DecoderBuffer overrun");
  const n = new br(this.base);
  return n._reporterState = this._reporterState, n.offset = this.offset, n.length = this.offset + t, this.offset += t, n;
};
br.prototype.raw = function(t) {
  return this.base.slice(t ? t.offset : this.offset, this.length);
};
function _i(e, t) {
  if (Array.isArray(e))
    this.length = 0, this.value = e.map(function(r) {
      return _i.isEncoderBuffer(r) || (r = new _i(r, t)), this.length += r.length, r;
    }, this);
  else if (typeof e == "number") {
    if (!(0 <= e && e <= 255))
      return t.error("non-byte EncoderBuffer value");
    this.value = e, this.length = 1;
  } else if (typeof e == "string")
    this.value = e, this.length = Ai.byteLength(e);
  else if (Ai.isBuffer(e))
    this.value = e, this.length = e.length;
  else
    return t.error("Unsupported type: " + typeof e);
}
zn.EncoderBuffer = _i;
_i.isEncoderBuffer = function(t) {
  return t instanceof _i ? !0 : typeof t == "object" && t.constructor.name === "EncoderBuffer" && typeof t.length == "number" && typeof t.join == "function";
};
_i.prototype.join = function(t, r) {
  return t || (t = Ai.alloc(this.length)), r || (r = 0), this.length === 0 || (Array.isArray(this.value) ? this.value.forEach(function(n) {
    n.join(t, r), r += n.length;
  }) : (typeof this.value == "number" ? t[r] = this.value : typeof this.value == "string" ? t.write(this.value, r) : Ai.isBuffer(this.value) && this.value.copy(t, r), r += this.length)), t;
};
var Cn = vp;
function vp(e, t) {
  if (!e)
    throw new Error(t || "Assertion failed");
}
vp.equal = function(t, r, n) {
  if (t != r)
    throw new Error(n || "Assertion failed: " + t + " != " + r);
};
const a2 = $a.Reporter, o2 = zn.EncoderBuffer, u2 = zn.DecoderBuffer, Jt = Cn, gp = [
  "seq",
  "seqof",
  "set",
  "setof",
  "objid",
  "bool",
  "gentime",
  "utctime",
  "null_",
  "enum",
  "int",
  "objDesc",
  "bitstr",
  "bmpstr",
  "charstr",
  "genstr",
  "graphstr",
  "ia5str",
  "iso646str",
  "numstr",
  "octstr",
  "printstr",
  "t61str",
  "unistr",
  "utf8str",
  "videostr"
], f2 = [
  "key",
  "obj",
  "use",
  "optional",
  "explicit",
  "implicit",
  "def",
  "choice",
  "any",
  "contains"
].concat(gp), c2 = [
  "_peekTag",
  "_decodeTag",
  "_use",
  "_decodeStr",
  "_decodeObjid",
  "_decodeTime",
  "_decodeNull",
  "_decodeInt",
  "_decodeBool",
  "_decodeList",
  "_encodeComposite",
  "_encodeStr",
  "_encodeObjid",
  "_encodeTime",
  "_encodeNull",
  "_encodeInt",
  "_encodeBool"
];
function Qe(e, t, r) {
  const n = {};
  this._baseState = n, n.name = r, n.enc = e, n.parent = t || null, n.children = null, n.tag = null, n.args = null, n.reverseArgs = null, n.choice = null, n.optional = !1, n.any = !1, n.obj = !1, n.use = null, n.useDecoder = null, n.key = null, n.default = null, n.explicit = null, n.implicit = null, n.contains = null, n.parent || (n.children = [], this._wrap());
}
var rc = Qe;
const l2 = [
  "enc",
  "parent",
  "children",
  "tag",
  "args",
  "reverseArgs",
  "choice",
  "optional",
  "any",
  "obj",
  "use",
  "alteredUse",
  "key",
  "default",
  "explicit",
  "implicit",
  "contains"
];
Qe.prototype.clone = function() {
  const t = this._baseState, r = {};
  l2.forEach(function(i) {
    r[i] = t[i];
  });
  const n = new this.constructor(r.parent);
  return n._baseState = r, n;
};
Qe.prototype._wrap = function() {
  const t = this._baseState;
  f2.forEach(function(r) {
    this[r] = function() {
      const i = new this.constructor(this);
      return t.children.push(i), i[r].apply(i, arguments);
    };
  }, this);
};
Qe.prototype._init = function(t) {
  const r = this._baseState;
  Jt(r.parent === null), t.call(this), r.children = r.children.filter(function(n) {
    return n._baseState.parent === this;
  }, this), Jt.equal(r.children.length, 1, "Root node can have only one child");
};
Qe.prototype._useArgs = function(t) {
  const r = this._baseState, n = t.filter(function(i) {
    return i instanceof this.constructor;
  }, this);
  t = t.filter(function(i) {
    return !(i instanceof this.constructor);
  }, this), n.length !== 0 && (Jt(r.children === null), r.children = n, n.forEach(function(i) {
    i._baseState.parent = this;
  }, this)), t.length !== 0 && (Jt(r.args === null), r.args = t, r.reverseArgs = t.map(function(i) {
    if (typeof i != "object" || i.constructor !== Object)
      return i;
    const s = {};
    return Object.keys(i).forEach(function(a) {
      a == (a | 0) && (a |= 0);
      const o = i[a];
      s[o] = a;
    }), s;
  }));
};
c2.forEach(function(e) {
  Qe.prototype[e] = function() {
    const r = this._baseState;
    throw new Error(e + " not implemented for encoding: " + r.enc);
  };
});
gp.forEach(function(e) {
  Qe.prototype[e] = function() {
    const r = this._baseState, n = Array.prototype.slice.call(arguments);
    return Jt(r.tag === null), r.tag = e, this._useArgs(n), this;
  };
});
Qe.prototype.use = function(t) {
  Jt(t);
  const r = this._baseState;
  return Jt(r.use === null), r.use = t, this;
};
Qe.prototype.optional = function() {
  const t = this._baseState;
  return t.optional = !0, this;
};
Qe.prototype.def = function(t) {
  const r = this._baseState;
  return Jt(r.default === null), r.default = t, r.optional = !0, this;
};
Qe.prototype.explicit = function(t) {
  const r = this._baseState;
  return Jt(r.explicit === null && r.implicit === null), r.explicit = t, this;
};
Qe.prototype.implicit = function(t) {
  const r = this._baseState;
  return Jt(r.explicit === null && r.implicit === null), r.implicit = t, this;
};
Qe.prototype.obj = function() {
  const t = this._baseState, r = Array.prototype.slice.call(arguments);
  return t.obj = !0, r.length !== 0 && this._useArgs(r), this;
};
Qe.prototype.key = function(t) {
  const r = this._baseState;
  return Jt(r.key === null), r.key = t, this;
};
Qe.prototype.any = function() {
  const t = this._baseState;
  return t.any = !0, this;
};
Qe.prototype.choice = function(t) {
  const r = this._baseState;
  return Jt(r.choice === null), r.choice = t, this._useArgs(Object.keys(t).map(function(n) {
    return t[n];
  })), this;
};
Qe.prototype.contains = function(t) {
  const r = this._baseState;
  return Jt(r.use === null), r.contains = t, this;
};
Qe.prototype._decode = function(t, r) {
  const n = this._baseState;
  if (n.parent === null)
    return t.wrapResult(n.children[0]._decode(t, r));
  let i = n.default, s = !0, a = null;
  if (n.key !== null && (a = t.enterKey(n.key)), n.optional) {
    let u = null;
    if (n.explicit !== null ? u = n.explicit : n.implicit !== null ? u = n.implicit : n.tag !== null && (u = n.tag), u === null && !n.any) {
      const f = t.save();
      try {
        n.choice === null ? this._decodeGeneric(n.tag, t, r) : this._decodeChoice(t, r), s = !0;
      } catch {
        s = !1;
      }
      t.restore(f);
    } else if (s = this._peekTag(t, u, n.any), t.isError(s))
      return s;
  }
  let o;
  if (n.obj && s && (o = t.enterObject()), s) {
    if (n.explicit !== null) {
      const f = this._decodeTag(t, n.explicit);
      if (t.isError(f))
        return f;
      t = f;
    }
    const u = t.offset;
    if (n.use === null && n.choice === null) {
      let f;
      n.any && (f = t.save());
      const l = this._decodeTag(
        t,
        n.implicit !== null ? n.implicit : n.tag,
        n.any
      );
      if (t.isError(l))
        return l;
      n.any ? i = t.raw(f) : t = l;
    }
    if (r && r.track && n.tag !== null && r.track(t.path(), u, t.length, "tagged"), r && r.track && n.tag !== null && r.track(t.path(), t.offset, t.length, "content"), n.any || (n.choice === null ? i = this._decodeGeneric(n.tag, t, r) : i = this._decodeChoice(t, r)), t.isError(i))
      return i;
    if (!n.any && n.choice === null && n.children !== null && n.children.forEach(function(l) {
      l._decode(t, r);
    }), n.contains && (n.tag === "octstr" || n.tag === "bitstr")) {
      const f = new u2(i);
      i = this._getUse(n.contains, t._reporterState.obj)._decode(f, r);
    }
  }
  return n.obj && s && (i = t.leaveObject(o)), n.key !== null && (i !== null || s === !0) ? t.leaveKey(a, n.key, i) : a !== null && t.exitKey(a), i;
};
Qe.prototype._decodeGeneric = function(t, r, n) {
  const i = this._baseState;
  return t === "seq" || t === "set" ? null : t === "seqof" || t === "setof" ? this._decodeList(r, t, i.args[0], n) : /str$/.test(t) ? this._decodeStr(r, t, n) : t === "objid" && i.args ? this._decodeObjid(r, i.args[0], i.args[1], n) : t === "objid" ? this._decodeObjid(r, null, null, n) : t === "gentime" || t === "utctime" ? this._decodeTime(r, t, n) : t === "null_" ? this._decodeNull(r, n) : t === "bool" ? this._decodeBool(r, n) : t === "objDesc" ? this._decodeStr(r, t, n) : t === "int" || t === "enum" ? this._decodeInt(r, i.args && i.args[0], n) : i.use !== null ? this._getUse(i.use, r._reporterState.obj)._decode(r, n) : r.error("unknown tag: " + t);
};
Qe.prototype._getUse = function(t, r) {
  const n = this._baseState;
  return n.useDecoder = this._use(t, r), Jt(n.useDecoder._baseState.parent === null), n.useDecoder = n.useDecoder._baseState.children[0], n.implicit !== n.useDecoder._baseState.implicit && (n.useDecoder = n.useDecoder.clone(), n.useDecoder._baseState.implicit = n.implicit), n.useDecoder;
};
Qe.prototype._decodeChoice = function(t, r) {
  const n = this._baseState;
  let i = null, s = !1;
  return Object.keys(n.choice).some(function(a) {
    const o = t.save(), u = n.choice[a];
    try {
      const f = u._decode(t, r);
      if (t.isError(f))
        return !1;
      i = { type: a, value: f }, s = !0;
    } catch {
      return t.restore(o), !1;
    }
    return !0;
  }, this), s ? i : t.error("Choice not matched");
};
Qe.prototype._createEncoderBuffer = function(t) {
  return new o2(t, this.reporter);
};
Qe.prototype._encode = function(t, r, n) {
  const i = this._baseState;
  if (i.default !== null && i.default === t)
    return;
  const s = this._encodeValue(t, r, n);
  if (s !== void 0 && !this._skipDefault(s, r, n))
    return s;
};
Qe.prototype._encodeValue = function(t, r, n) {
  const i = this._baseState;
  if (i.parent === null)
    return i.children[0]._encode(t, r || new a2());
  let s = null;
  if (this.reporter = r, i.optional && t === void 0)
    if (i.default !== null)
      t = i.default;
    else
      return;
  let a = null, o = !1;
  if (i.any)
    s = this._createEncoderBuffer(t);
  else if (i.choice)
    s = this._encodeChoice(t, r);
  else if (i.contains)
    a = this._getUse(i.contains, n)._encode(t, r), o = !0;
  else if (i.children)
    a = i.children.map(function(u) {
      if (u._baseState.tag === "null_")
        return u._encode(null, r, t);
      if (u._baseState.key === null)
        return r.error("Child should have a key");
      const f = r.enterKey(u._baseState.key);
      if (typeof t != "object")
        return r.error("Child expected, but input is not object");
      const l = u._encode(t[u._baseState.key], r, t);
      return r.leaveKey(f), l;
    }, this).filter(function(u) {
      return u;
    }), a = this._createEncoderBuffer(a);
  else if (i.tag === "seqof" || i.tag === "setof") {
    if (!(i.args && i.args.length === 1))
      return r.error("Too many args for : " + i.tag);
    if (!Array.isArray(t))
      return r.error("seqof/setof, but data is not Array");
    const u = this.clone();
    u._baseState.implicit = null, a = this._createEncoderBuffer(t.map(function(f) {
      const l = this._baseState;
      return this._getUse(l.args[0], t)._encode(f, r);
    }, u));
  } else
    i.use !== null ? s = this._getUse(i.use, n)._encode(t, r) : (a = this._encodePrimitive(i.tag, t), o = !0);
  if (!i.any && i.choice === null) {
    const u = i.implicit !== null ? i.implicit : i.tag, f = i.implicit === null ? "universal" : "context";
    u === null ? i.use === null && r.error("Tag could be omitted only for .use()") : i.use === null && (s = this._encodeComposite(u, o, f, a));
  }
  return i.explicit !== null && (s = this._encodeComposite(i.explicit, !1, "context", s)), s;
};
Qe.prototype._encodeChoice = function(t, r) {
  const n = this._baseState, i = n.choice[t.type];
  return i || Jt(
    !1,
    t.type + " not found in " + JSON.stringify(Object.keys(n.choice))
  ), i._encode(t.value, r);
};
Qe.prototype._encodePrimitive = function(t, r) {
  const n = this._baseState;
  if (/str$/.test(t))
    return this._encodeStr(r, t);
  if (t === "objid" && n.args)
    return this._encodeObjid(r, n.reverseArgs[0], n.args[1]);
  if (t === "objid")
    return this._encodeObjid(r, null, null);
  if (t === "gentime" || t === "utctime")
    return this._encodeTime(r, t);
  if (t === "null_")
    return this._encodeNull();
  if (t === "int" || t === "enum")
    return this._encodeInt(r, n.args && n.reverseArgs[0]);
  if (t === "bool")
    return this._encodeBool(r);
  if (t === "objDesc")
    return this._encodeStr(r, t);
  throw new Error("Unsupported tag: " + t);
};
Qe.prototype._isNumstr = function(t) {
  return /^[0-9 ]*$/.test(t);
};
Qe.prototype._isPrintstr = function(t) {
  return /^[A-Za-z0-9 '()+,-./:=?]*$/.test(t);
};
var Wa = {};
(function(e) {
  function t(r) {
    const n = {};
    return Object.keys(r).forEach(function(i) {
      (i | 0) == i && (i = i | 0);
      const s = r[i];
      n[s] = i;
    }), n;
  }
  e.tagClass = {
    0: "universal",
    1: "application",
    2: "context",
    3: "private"
  }, e.tagClassByName = t(e.tagClass), e.tag = {
    0: "end",
    1: "bool",
    2: "int",
    3: "bitstr",
    4: "octstr",
    5: "null_",
    6: "objid",
    7: "objDesc",
    8: "external",
    9: "real",
    10: "enum",
    11: "embed",
    12: "utf8str",
    13: "relativeOid",
    16: "seq",
    17: "set",
    18: "numstr",
    19: "printstr",
    20: "t61str",
    21: "videostr",
    22: "ia5str",
    23: "utctime",
    24: "gentime",
    25: "graphstr",
    26: "iso646str",
    27: "genstr",
    28: "unistr",
    29: "charstr",
    30: "bmpstr"
  }, e.tagByName = t(e.tag);
})(Wa);
const h2 = Sr(), an = tc.Buffer, yp = rc, uu = Wa;
function mp(e) {
  this.enc = "der", this.name = e.name, this.entity = e, this.tree = new Mr(), this.tree._init(e.body);
}
var bp = mp;
mp.prototype.encode = function(t, r) {
  return this.tree._encode(t, r).join();
};
function Mr(e) {
  yp.call(this, "der", e);
}
h2(Mr, yp);
Mr.prototype._encodeComposite = function(t, r, n, i) {
  const s = d2(t, r, n, this.reporter);
  if (i.length < 128) {
    const u = an.alloc(2);
    return u[0] = s, u[1] = i.length, this._createEncoderBuffer([u, i]);
  }
  let a = 1;
  for (let u = i.length; u >= 256; u >>= 8)
    a++;
  const o = an.alloc(1 + 1 + a);
  o[0] = s, o[1] = 128 | a;
  for (let u = 1 + a, f = i.length; f > 0; u--, f >>= 8)
    o[u] = f & 255;
  return this._createEncoderBuffer([o, i]);
};
Mr.prototype._encodeStr = function(t, r) {
  if (r === "bitstr")
    return this._createEncoderBuffer([t.unused | 0, t.data]);
  if (r === "bmpstr") {
    const n = an.alloc(t.length * 2);
    for (let i = 0; i < t.length; i++)
      n.writeUInt16BE(t.charCodeAt(i), i * 2);
    return this._createEncoderBuffer(n);
  } else
    return r === "numstr" ? this._isNumstr(t) ? this._createEncoderBuffer(t) : this.reporter.error("Encoding of string type: numstr supports only digits and space") : r === "printstr" ? this._isPrintstr(t) ? this._createEncoderBuffer(t) : this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark") : /str$/.test(r) ? this._createEncoderBuffer(t) : r === "objDesc" ? this._createEncoderBuffer(t) : this.reporter.error("Encoding of string type: " + r + " unsupported");
};
Mr.prototype._encodeObjid = function(t, r, n) {
  if (typeof t == "string") {
    if (!r)
      return this.reporter.error("string objid given, but no values map found");
    if (!r.hasOwnProperty(t))
      return this.reporter.error("objid not found in values map");
    t = r[t].split(/[\s.]+/g);
    for (let o = 0; o < t.length; o++)
      t[o] |= 0;
  } else if (Array.isArray(t)) {
    t = t.slice();
    for (let o = 0; o < t.length; o++)
      t[o] |= 0;
  }
  if (!Array.isArray(t))
    return this.reporter.error("objid() should be either array or string, got: " + JSON.stringify(t));
  if (!n) {
    if (t[1] >= 40)
      return this.reporter.error("Second objid identifier OOB");
    t.splice(0, 2, t[0] * 40 + t[1]);
  }
  let i = 0;
  for (let o = 0; o < t.length; o++) {
    let u = t[o];
    for (i++; u >= 128; u >>= 7)
      i++;
  }
  const s = an.alloc(i);
  let a = s.length - 1;
  for (let o = t.length - 1; o >= 0; o--) {
    let u = t[o];
    for (s[a--] = u & 127; (u >>= 7) > 0; )
      s[a--] = 128 | u & 127;
  }
  return this._createEncoderBuffer(s);
};
function cr(e) {
  return e < 10 ? "0" + e : e;
}
Mr.prototype._encodeTime = function(t, r) {
  let n;
  const i = new Date(t);
  return r === "gentime" ? n = [
    cr(i.getUTCFullYear()),
    cr(i.getUTCMonth() + 1),
    cr(i.getUTCDate()),
    cr(i.getUTCHours()),
    cr(i.getUTCMinutes()),
    cr(i.getUTCSeconds()),
    "Z"
  ].join("") : r === "utctime" ? n = [
    cr(i.getUTCFullYear() % 100),
    cr(i.getUTCMonth() + 1),
    cr(i.getUTCDate()),
    cr(i.getUTCHours()),
    cr(i.getUTCMinutes()),
    cr(i.getUTCSeconds()),
    "Z"
  ].join("") : this.reporter.error("Encoding " + r + " time is not supported yet"), this._encodeStr(n, "octstr");
};
Mr.prototype._encodeNull = function() {
  return this._createEncoderBuffer("");
};
Mr.prototype._encodeInt = function(t, r) {
  if (typeof t == "string") {
    if (!r)
      return this.reporter.error("String int or enum given, but no values map");
    if (!r.hasOwnProperty(t))
      return this.reporter.error("Values map doesn't contain: " + JSON.stringify(t));
    t = r[t];
  }
  if (typeof t != "number" && !an.isBuffer(t)) {
    const s = t.toArray();
    !t.sign && s[0] & 128 && s.unshift(0), t = an.from(s);
  }
  if (an.isBuffer(t)) {
    let s = t.length;
    t.length === 0 && s++;
    const a = an.alloc(s);
    return t.copy(a), t.length === 0 && (a[0] = 0), this._createEncoderBuffer(a);
  }
  if (t < 128)
    return this._createEncoderBuffer(t);
  if (t < 256)
    return this._createEncoderBuffer([0, t]);
  let n = 1;
  for (let s = t; s >= 256; s >>= 8)
    n++;
  const i = new Array(n);
  for (let s = i.length - 1; s >= 0; s--)
    i[s] = t & 255, t >>= 8;
  return i[0] & 128 && i.unshift(0), this._createEncoderBuffer(an.from(i));
};
Mr.prototype._encodeBool = function(t) {
  return this._createEncoderBuffer(t ? 255 : 0);
};
Mr.prototype._use = function(t, r) {
  return typeof t == "function" && (t = t(r)), t._getEncoder("der").tree;
};
Mr.prototype._skipDefault = function(t, r, n) {
  const i = this._baseState;
  let s;
  if (i.default === null)
    return !1;
  const a = t.join();
  if (i.defaultBuffer === void 0 && (i.defaultBuffer = this._encodeValue(i.default, r, n).join()), a.length !== i.defaultBuffer.length)
    return !1;
  for (s = 0; s < a.length; s++)
    if (a[s] !== i.defaultBuffer[s])
      return !1;
  return !0;
};
function d2(e, t, r, n) {
  let i;
  if (e === "seqof" ? e = "seq" : e === "setof" && (e = "set"), uu.tagByName.hasOwnProperty(e))
    i = uu.tagByName[e];
  else if (typeof e == "number" && (e | 0) === e)
    i = e;
  else
    return n.error("Unknown tag: " + e);
  return i >= 31 ? n.error("Multi-octet tag encoding unsupported") : (t || (i |= 32), i |= uu.tagClassByName[r || "universal"] << 6, i);
}
const p2 = Sr(), nc = bp;
function ic(e) {
  nc.call(this, e), this.enc = "pem";
}
p2(ic, nc);
var v2 = ic;
ic.prototype.encode = function(t, r) {
  const i = nc.prototype.encode.call(this, t).toString("base64"), s = ["-----BEGIN " + r.label + "-----"];
  for (let a = 0; a < i.length; a += 64)
    s.push(i.slice(a, a + 64));
  return s.push("-----END " + r.label + "-----"), s.join(`
`);
};
(function(e) {
  const t = e;
  t.der = bp, t.pem = v2;
})(Zf);
var sc = {};
const g2 = Sr(), y2 = ir, vh = zn.DecoderBuffer, wp = rc, gh = Wa;
function xp(e) {
  this.enc = "der", this.name = e.name, this.entity = e, this.tree = new ar(), this.tree._init(e.body);
}
var Sp = xp;
xp.prototype.decode = function(t, r) {
  return vh.isDecoderBuffer(t) || (t = new vh(t, r)), this.tree._decode(t, r);
};
function ar(e) {
  wp.call(this, "der", e);
}
g2(ar, wp);
ar.prototype._peekTag = function(t, r, n) {
  if (t.isEmpty())
    return !1;
  const i = t.save(), s = ac(t, 'Failed to peek tag: "' + r + '"');
  return t.isError(s) ? s : (t.restore(i), s.tag === r || s.tagStr === r || s.tagStr + "of" === r || n);
};
ar.prototype._decodeTag = function(t, r, n) {
  const i = ac(
    t,
    'Failed to decode tag of "' + r + '"'
  );
  if (t.isError(i))
    return i;
  let s = Ep(
    t,
    i.primitive,
    'Failed to get length of "' + r + '"'
  );
  if (t.isError(s))
    return s;
  if (!n && i.tag !== r && i.tagStr !== r && i.tagStr + "of" !== r)
    return t.error('Failed to match tag: "' + r + '"');
  if (i.primitive || s !== null)
    return t.skip(s, 'Failed to match body of: "' + r + '"');
  const a = t.save(), o = this._skipUntilEnd(
    t,
    'Failed to skip indefinite length body: "' + this.tag + '"'
  );
  return t.isError(o) ? o : (s = t.offset - a.offset, t.restore(a), t.skip(s, 'Failed to match body of: "' + r + '"'));
};
ar.prototype._skipUntilEnd = function(t, r) {
  for (; ; ) {
    const n = ac(t, r);
    if (t.isError(n))
      return n;
    const i = Ep(t, n.primitive, r);
    if (t.isError(i))
      return i;
    let s;
    if (n.primitive || i !== null ? s = t.skip(i) : s = this._skipUntilEnd(t, r), t.isError(s))
      return s;
    if (n.tagStr === "end")
      break;
  }
};
ar.prototype._decodeList = function(t, r, n, i) {
  const s = [];
  for (; !t.isEmpty(); ) {
    const a = this._peekTag(t, "end");
    if (t.isError(a))
      return a;
    const o = n.decode(t, "der", i);
    if (t.isError(o) && a)
      break;
    s.push(o);
  }
  return s;
};
ar.prototype._decodeStr = function(t, r) {
  if (r === "bitstr") {
    const n = t.readUInt8();
    return t.isError(n) ? n : { unused: n, data: t.raw() };
  } else if (r === "bmpstr") {
    const n = t.raw();
    if (n.length % 2 === 1)
      return t.error("Decoding of string type: bmpstr length mismatch");
    let i = "";
    for (let s = 0; s < n.length / 2; s++)
      i += String.fromCharCode(n.readUInt16BE(s * 2));
    return i;
  } else if (r === "numstr") {
    const n = t.raw().toString("ascii");
    return this._isNumstr(n) ? n : t.error("Decoding of string type: numstr unsupported characters");
  } else {
    if (r === "octstr")
      return t.raw();
    if (r === "objDesc")
      return t.raw();
    if (r === "printstr") {
      const n = t.raw().toString("ascii");
      return this._isPrintstr(n) ? n : t.error("Decoding of string type: printstr unsupported characters");
    } else
      return /str$/.test(r) ? t.raw().toString() : t.error("Decoding of string type: " + r + " unsupported");
  }
};
ar.prototype._decodeObjid = function(t, r, n) {
  let i;
  const s = [];
  let a = 0, o = 0;
  for (; !t.isEmpty(); )
    o = t.readUInt8(), a <<= 7, a |= o & 127, o & 128 || (s.push(a), a = 0);
  o & 128 && s.push(a);
  const u = s[0] / 40 | 0, f = s[0] % 40;
  if (n ? i = s : i = [u, f].concat(s.slice(1)), r) {
    let l = r[i.join(" ")];
    l === void 0 && (l = r[i.join(".")]), l !== void 0 && (i = l);
  }
  return i;
};
ar.prototype._decodeTime = function(t, r) {
  const n = t.raw().toString();
  let i, s, a, o, u, f;
  if (r === "gentime")
    i = n.slice(0, 4) | 0, s = n.slice(4, 6) | 0, a = n.slice(6, 8) | 0, o = n.slice(8, 10) | 0, u = n.slice(10, 12) | 0, f = n.slice(12, 14) | 0;
  else if (r === "utctime")
    i = n.slice(0, 2) | 0, s = n.slice(2, 4) | 0, a = n.slice(4, 6) | 0, o = n.slice(6, 8) | 0, u = n.slice(8, 10) | 0, f = n.slice(10, 12) | 0, i < 70 ? i = 2e3 + i : i = 1900 + i;
  else
    return t.error("Decoding " + r + " time is not supported yet");
  return Date.UTC(i, s - 1, a, o, u, f, 0);
};
ar.prototype._decodeNull = function() {
  return null;
};
ar.prototype._decodeBool = function(t) {
  const r = t.readUInt8();
  return t.isError(r) ? r : r !== 0;
};
ar.prototype._decodeInt = function(t, r) {
  const n = t.raw();
  let i = new y2(n);
  return r && (i = r[i.toString(10)] || i), i;
};
ar.prototype._use = function(t, r) {
  return typeof t == "function" && (t = t(r)), t._getDecoder("der").tree;
};
function ac(e, t) {
  let r = e.readUInt8(t);
  if (e.isError(r))
    return r;
  const n = gh.tagClass[r >> 6], i = (r & 32) === 0;
  if ((r & 31) === 31) {
    let a = r;
    for (r = 0; (a & 128) === 128; ) {
      if (a = e.readUInt8(t), e.isError(a))
        return a;
      r <<= 7, r |= a & 127;
    }
  } else
    r &= 31;
  const s = gh.tag[r];
  return {
    cls: n,
    primitive: i,
    tag: r,
    tagStr: s
  };
}
function Ep(e, t, r) {
  let n = e.readUInt8(r);
  if (e.isError(n))
    return n;
  if (!t && n === 128)
    return null;
  if (!(n & 128))
    return n;
  const i = n & 127;
  if (i > 4)
    return e.error("length octect is too long");
  n = 0;
  for (let s = 0; s < i; s++) {
    n <<= 8;
    const a = e.readUInt8(r);
    if (e.isError(a))
      return a;
    n |= a;
  }
  return n;
}
const m2 = Sr(), b2 = tc.Buffer, oc = Sp;
function uc(e) {
  oc.call(this, e), this.enc = "pem";
}
m2(uc, oc);
var w2 = uc;
uc.prototype.decode = function(t, r) {
  const n = t.toString().split(/[\r\n]+/g), i = r.label.toUpperCase(), s = /^-----(BEGIN|END) ([^-]+)-----$/;
  let a = -1, o = -1;
  for (let l = 0; l < n.length; l++) {
    const h = n[l].match(s);
    if (h !== null && h[2] === i)
      if (a === -1) {
        if (h[1] !== "BEGIN")
          break;
        a = l;
      } else {
        if (h[1] !== "END")
          break;
        o = l;
        break;
      }
  }
  if (a === -1 || o === -1)
    throw new Error("PEM section not found for: " + i);
  const u = n.slice(a + 1, o).join("");
  u.replace(/[^a-z0-9+/=]+/gi, "");
  const f = b2.from(u, "base64");
  return oc.prototype.decode.call(this, f, r);
};
(function(e) {
  const t = e;
  t.der = Sp, t.pem = w2;
})(sc);
(function(e) {
  const t = Zf, r = sc, n = Sr(), i = e;
  i.define = function(o, u) {
    return new s(o, u);
  };
  function s(a, o) {
    this.name = a, this.body = o, this.decoders = {}, this.encoders = {};
  }
  s.prototype._createNamed = function(o) {
    const u = this.name;
    function f(l) {
      this._initNamed(l, u);
    }
    return n(f, o), f.prototype._initNamed = function(h, c) {
      o.call(this, h, c);
    }, new f(this);
  }, s.prototype._getDecoder = function(o) {
    return o = o || "der", this.decoders.hasOwnProperty(o) || (this.decoders[o] = this._createNamed(r[o])), this.decoders[o];
  }, s.prototype.decode = function(o, u, f) {
    return this._getDecoder(u).decode(o, f);
  }, s.prototype._getEncoder = function(o) {
    return o = o || "der", this.encoders.hasOwnProperty(o) || (this.encoders[o] = this._createNamed(t[o])), this.encoders[o];
  }, s.prototype.encode = function(o, u, f) {
    return this._getEncoder(u).encode(o, f);
  };
})(dp);
var Ap = {};
(function(e) {
  const t = e;
  t.Reporter = $a.Reporter, t.DecoderBuffer = zn.DecoderBuffer, t.EncoderBuffer = zn.EncoderBuffer, t.Node = rc;
})(Ap);
var _p = {};
(function(e) {
  const t = e;
  t._reverse = function(n) {
    const i = {};
    return Object.keys(n).forEach(function(s) {
      (s | 0) == s && (s = s | 0);
      const a = n[s];
      i[a] = s;
    }), i;
  }, t.der = Wa;
})(_p);
(function(e) {
  const t = e;
  t.bignum = ir, t.define = dp.define, t.base = Ap, t.constants = _p, t.decoders = sc, t.encoders = Zf;
})(hn);
var vs = {}, x2 = {
  get exports() {
    return vs;
  },
  set exports(e) {
    vs = e;
  }
};
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
(function(e, t) {
  var r = Qf, n = r.Buffer;
  function i(a, o) {
    for (var u in a)
      o[u] = a[u];
  }
  n.from && n.alloc && n.allocUnsafe && n.allocUnsafeSlow ? e.exports = r : (i(r, t), t.Buffer = s);
  function s(a, o, u) {
    return n(a, o, u);
  }
  s.prototype = Object.create(n.prototype), i(n, s), s.from = function(a, o, u) {
    if (typeof a == "number")
      throw new TypeError("Argument must not be a number");
    return n(a, o, u);
  }, s.alloc = function(a, o, u) {
    if (typeof a != "number")
      throw new TypeError("Argument must be a number");
    var f = n(a);
    return o !== void 0 ? typeof u == "string" ? f.fill(o, u) : f.fill(o) : f.fill(0), f;
  }, s.allocUnsafe = function(a) {
    if (typeof a != "number")
      throw new TypeError("Argument must be a number");
    return n(a);
  }, s.allocUnsafeSlow = function(a) {
    if (typeof a != "number")
      throw new TypeError("Argument must be a number");
    return r.SlowBuffer(a);
  };
})(x2, vs);
var Tp = {};
const S2 = "elliptic", E2 = "6.5.4", A2 = "EC cryptography", _2 = "lib/elliptic.js", T2 = [
  "lib"
], P2 = {
  lint: "eslint lib test",
  "lint:fix": "npm run lint -- --fix",
  unit: "istanbul test _mocha --reporter=spec test/index.js",
  test: "npm run lint && npm run unit",
  version: "grunt dist && git add dist/"
}, F2 = {
  type: "git",
  url: "git@github.com:indutny/elliptic"
}, I2 = [
  "EC",
  "Elliptic",
  "curve",
  "Cryptography"
], C2 = "Fedor Indutny <fedor@indutny.com>", R2 = "MIT", O2 = {
  url: "https://github.com/indutny/elliptic/issues"
}, D2 = "https://github.com/indutny/elliptic", M2 = {
  brfs: "^2.0.2",
  coveralls: "^3.1.0",
  eslint: "^7.6.0",
  grunt: "^1.2.1",
  "grunt-browserify": "^5.3.0",
  "grunt-cli": "^1.3.2",
  "grunt-contrib-connect": "^3.0.0",
  "grunt-contrib-copy": "^1.0.0",
  "grunt-contrib-uglify": "^5.0.0",
  "grunt-mocha-istanbul": "^5.0.2",
  "grunt-saucelabs": "^9.0.1",
  istanbul: "^0.4.5",
  mocha: "^8.0.1"
}, B2 = {
  "bn.js": "^4.11.9",
  brorand: "^1.1.0",
  "hash.js": "^1.0.0",
  "hmac-drbg": "^1.0.1",
  inherits: "^2.0.4",
  "minimalistic-assert": "^1.0.1",
  "minimalistic-crypto-utils": "^1.0.1"
}, N2 = {
  name: S2,
  version: E2,
  description: A2,
  main: _2,
  files: T2,
  scripts: P2,
  repository: F2,
  keywords: I2,
  author: C2,
  license: R2,
  bugs: O2,
  homepage: D2,
  devDependencies: M2,
  dependencies: B2
};
var or = {}, fc = {};
(function(e) {
  var t = e;
  function r(s, a) {
    if (Array.isArray(s))
      return s.slice();
    if (!s)
      return [];
    var o = [];
    if (typeof s != "string") {
      for (var u = 0; u < s.length; u++)
        o[u] = s[u] | 0;
      return o;
    }
    if (a === "hex") {
      s = s.replace(/[^a-z0-9]+/ig, ""), s.length % 2 !== 0 && (s = "0" + s);
      for (var u = 0; u < s.length; u += 2)
        o.push(parseInt(s[u] + s[u + 1], 16));
    } else
      for (var u = 0; u < s.length; u++) {
        var f = s.charCodeAt(u), l = f >> 8, h = f & 255;
        l ? o.push(l, h) : o.push(h);
      }
    return o;
  }
  t.toArray = r;
  function n(s) {
    return s.length === 1 ? "0" + s : s;
  }
  t.zero2 = n;
  function i(s) {
    for (var a = "", o = 0; o < s.length; o++)
      a += n(s[o].toString(16));
    return a;
  }
  t.toHex = i, t.encode = function(a, o) {
    return o === "hex" ? i(a) : a;
  };
})(fc);
(function(e) {
  var t = e, r = ir, n = Cn, i = fc;
  t.assert = n, t.toArray = i.toArray, t.zero2 = i.zero2, t.toHex = i.toHex, t.encode = i.encode;
  function s(l, h, c) {
    var d = new Array(Math.max(l.bitLength(), c) + 1);
    d.fill(0);
    for (var p = 1 << h + 1, v = l.clone(), m = 0; m < d.length; m++) {
      var b, A = v.andln(p - 1);
      v.isOdd() ? (A > (p >> 1) - 1 ? b = (p >> 1) - A : b = A, v.isubn(b)) : b = 0, d[m] = b, v.iushrn(1);
    }
    return d;
  }
  t.getNAF = s;
  function a(l, h) {
    var c = [
      [],
      []
    ];
    l = l.clone(), h = h.clone();
    for (var d = 0, p = 0, v; l.cmpn(-d) > 0 || h.cmpn(-p) > 0; ) {
      var m = l.andln(3) + d & 3, b = h.andln(3) + p & 3;
      m === 3 && (m = -1), b === 3 && (b = -1);
      var A;
      m & 1 ? (v = l.andln(7) + d & 7, (v === 3 || v === 5) && b === 2 ? A = -m : A = m) : A = 0, c[0].push(A);
      var D;
      b & 1 ? (v = h.andln(7) + p & 7, (v === 3 || v === 5) && m === 2 ? D = -b : D = b) : D = 0, c[1].push(D), 2 * d === A + 1 && (d = 1 - d), 2 * p === D + 1 && (p = 1 - p), l.iushrn(1), h.iushrn(1);
    }
    return c;
  }
  t.getJSF = a;
  function o(l, h, c) {
    var d = "_" + h;
    l.prototype[h] = function() {
      return this[d] !== void 0 ? this[d] : this[d] = c.call(this);
    };
  }
  t.cachedProperty = o;
  function u(l) {
    return typeof l == "string" ? t.toArray(l, "hex") : l;
  }
  t.parseBytes = u;
  function f(l) {
    return new r(l, "hex", "le");
  }
  t.intFromLE = f;
})(or);
var gs = {}, k2 = {
  get exports() {
    return gs;
  },
  set exports(e) {
    gs = e;
  }
}, fu;
k2.exports = function(t) {
  return fu || (fu = new Sn(null)), fu.generate(t);
};
function Sn(e) {
  this.rand = e;
}
gs.Rand = Sn;
Sn.prototype.generate = function(t) {
  return this._rand(t);
};
Sn.prototype._rand = function(t) {
  if (this.rand.getBytes)
    return this.rand.getBytes(t);
  for (var r = new Uint8Array(t), n = 0; n < r.length; n++)
    r[n] = this.rand.getByte();
  return r;
};
if (typeof self == "object")
  self.crypto && self.crypto.getRandomValues ? Sn.prototype._rand = function(t) {
    var r = new Uint8Array(t);
    return self.crypto.getRandomValues(r), r;
  } : self.msCrypto && self.msCrypto.getRandomValues ? Sn.prototype._rand = function(t) {
    var r = new Uint8Array(t);
    return self.msCrypto.getRandomValues(r), r;
  } : typeof window == "object" && (Sn.prototype._rand = function() {
    throw new Error("Not implemented yet");
  });
else
  try {
    var yh = Xf;
    if (typeof yh.randomBytes != "function")
      throw new Error("Not supported");
    Sn.prototype._rand = function(t) {
      return yh.randomBytes(t);
    };
  } catch {
  }
var cc = {}, Mn = ir, Cs = or, ya = Cs.getNAF, j2 = Cs.getJSF, ma = Cs.assert;
function Rn(e, t) {
  this.type = e, this.p = new Mn(t.p, 16), this.red = t.prime ? Mn.red(t.prime) : Mn.mont(this.p), this.zero = new Mn(0).toRed(this.red), this.one = new Mn(1).toRed(this.red), this.two = new Mn(2).toRed(this.red), this.n = t.n && new Mn(t.n, 16), this.g = t.g && this.pointFromJSON(t.g, t.gRed), this._wnafT1 = new Array(4), this._wnafT2 = new Array(4), this._wnafT3 = new Array(4), this._wnafT4 = new Array(4), this._bitLength = this.n ? this.n.bitLength() : 0;
  var r = this.n && this.p.div(this.n);
  !r || r.cmpn(100) > 0 ? this.redN = null : (this._maxwellTrick = !0, this.redN = this.n.toRed(this.red));
}
var Ga = Rn;
Rn.prototype.point = function() {
  throw new Error("Not implemented");
};
Rn.prototype.validate = function() {
  throw new Error("Not implemented");
};
Rn.prototype._fixedNafMul = function(t, r) {
  ma(t.precomputed);
  var n = t._getDoubles(), i = ya(r, 1, this._bitLength), s = (1 << n.step + 1) - (n.step % 2 === 0 ? 2 : 1);
  s /= 3;
  var a = [], o, u;
  for (o = 0; o < i.length; o += n.step) {
    u = 0;
    for (var f = o + n.step - 1; f >= o; f--)
      u = (u << 1) + i[f];
    a.push(u);
  }
  for (var l = this.jpoint(null, null, null), h = this.jpoint(null, null, null), c = s; c > 0; c--) {
    for (o = 0; o < a.length; o++)
      u = a[o], u === c ? h = h.mixedAdd(n.points[o]) : u === -c && (h = h.mixedAdd(n.points[o].neg()));
    l = l.add(h);
  }
  return l.toP();
};
Rn.prototype._wnafMul = function(t, r) {
  var n = 4, i = t._getNAFPoints(n);
  n = i.wnd;
  for (var s = i.points, a = ya(r, n, this._bitLength), o = this.jpoint(null, null, null), u = a.length - 1; u >= 0; u--) {
    for (var f = 0; u >= 0 && a[u] === 0; u--)
      f++;
    if (u >= 0 && f++, o = o.dblp(f), u < 0)
      break;
    var l = a[u];
    ma(l !== 0), t.type === "affine" ? l > 0 ? o = o.mixedAdd(s[l - 1 >> 1]) : o = o.mixedAdd(s[-l - 1 >> 1].neg()) : l > 0 ? o = o.add(s[l - 1 >> 1]) : o = o.add(s[-l - 1 >> 1].neg());
  }
  return t.type === "affine" ? o.toP() : o;
};
Rn.prototype._wnafMulAdd = function(t, r, n, i, s) {
  var a = this._wnafT1, o = this._wnafT2, u = this._wnafT3, f = 0, l, h, c;
  for (l = 0; l < i; l++) {
    c = r[l];
    var d = c._getNAFPoints(t);
    a[l] = d.wnd, o[l] = d.points;
  }
  for (l = i - 1; l >= 1; l -= 2) {
    var p = l - 1, v = l;
    if (a[p] !== 1 || a[v] !== 1) {
      u[p] = ya(n[p], a[p], this._bitLength), u[v] = ya(n[v], a[v], this._bitLength), f = Math.max(u[p].length, f), f = Math.max(u[v].length, f);
      continue;
    }
    var m = [
      r[p],
      /* 1 */
      null,
      /* 3 */
      null,
      /* 5 */
      r[v]
      /* 7 */
    ];
    r[p].y.cmp(r[v].y) === 0 ? (m[1] = r[p].add(r[v]), m[2] = r[p].toJ().mixedAdd(r[v].neg())) : r[p].y.cmp(r[v].y.redNeg()) === 0 ? (m[1] = r[p].toJ().mixedAdd(r[v]), m[2] = r[p].add(r[v].neg())) : (m[1] = r[p].toJ().mixedAdd(r[v]), m[2] = r[p].toJ().mixedAdd(r[v].neg()));
    var b = [
      -3,
      /* -1 -1 */
      -1,
      /* -1 0 */
      -5,
      /* -1 1 */
      -7,
      /* 0 -1 */
      0,
      /* 0 0 */
      7,
      /* 0 1 */
      5,
      /* 1 -1 */
      1,
      /* 1 0 */
      3
      /* 1 1 */
    ], A = j2(n[p], n[v]);
    for (f = Math.max(A[0].length, f), u[p] = new Array(f), u[v] = new Array(f), h = 0; h < f; h++) {
      var D = A[0][h] | 0, k = A[1][h] | 0;
      u[p][h] = b[(D + 1) * 3 + (k + 1)], u[v][h] = 0, o[p] = m;
    }
  }
  var L = this.jpoint(null, null, null), _ = this._wnafT4;
  for (l = f; l >= 0; l--) {
    for (var F = 0; l >= 0; ) {
      var O = !0;
      for (h = 0; h < i; h++)
        _[h] = u[h][l] | 0, _[h] !== 0 && (O = !1);
      if (!O)
        break;
      F++, l--;
    }
    if (l >= 0 && F++, L = L.dblp(F), l < 0)
      break;
    for (h = 0; h < i; h++) {
      var P = _[h];
      P !== 0 && (P > 0 ? c = o[h][P - 1 >> 1] : P < 0 && (c = o[h][-P - 1 >> 1].neg()), c.type === "affine" ? L = L.mixedAdd(c) : L = L.add(c));
    }
  }
  for (l = 0; l < i; l++)
    o[l] = null;
  return s ? L : L.toP();
};
function Ar(e, t) {
  this.curve = e, this.type = t, this.precomputed = null;
}
Rn.BasePoint = Ar;
Ar.prototype.eq = function() {
  throw new Error("Not implemented");
};
Ar.prototype.validate = function() {
  return this.curve.validate(this);
};
Rn.prototype.decodePoint = function(t, r) {
  t = Cs.toArray(t, r);
  var n = this.p.byteLength();
  if ((t[0] === 4 || t[0] === 6 || t[0] === 7) && t.length - 1 === 2 * n) {
    t[0] === 6 ? ma(t[t.length - 1] % 2 === 0) : t[0] === 7 && ma(t[t.length - 1] % 2 === 1);
    var i = this.point(
      t.slice(1, 1 + n),
      t.slice(1 + n, 1 + 2 * n)
    );
    return i;
  } else if ((t[0] === 2 || t[0] === 3) && t.length - 1 === n)
    return this.pointFromX(t.slice(1, 1 + n), t[0] === 3);
  throw new Error("Unknown point format");
};
Ar.prototype.encodeCompressed = function(t) {
  return this.encode(t, !0);
};
Ar.prototype._encode = function(t) {
  var r = this.curve.p.byteLength(), n = this.getX().toArray("be", r);
  return t ? [this.getY().isEven() ? 2 : 3].concat(n) : [4].concat(n, this.getY().toArray("be", r));
};
Ar.prototype.encode = function(t, r) {
  return Cs.encode(this._encode(r), t);
};
Ar.prototype.precompute = function(t) {
  if (this.precomputed)
    return this;
  var r = {
    doubles: null,
    naf: null,
    beta: null
  };
  return r.naf = this._getNAFPoints(8), r.doubles = this._getDoubles(4, t), r.beta = this._getBeta(), this.precomputed = r, this;
};
Ar.prototype._hasDoubles = function(t) {
  if (!this.precomputed)
    return !1;
  var r = this.precomputed.doubles;
  return r ? r.points.length >= Math.ceil((t.bitLength() + 1) / r.step) : !1;
};
Ar.prototype._getDoubles = function(t, r) {
  if (this.precomputed && this.precomputed.doubles)
    return this.precomputed.doubles;
  for (var n = [this], i = this, s = 0; s < r; s += t) {
    for (var a = 0; a < t; a++)
      i = i.dbl();
    n.push(i);
  }
  return {
    step: t,
    points: n
  };
};
Ar.prototype._getNAFPoints = function(t) {
  if (this.precomputed && this.precomputed.naf)
    return this.precomputed.naf;
  for (var r = [this], n = (1 << t) - 1, i = n === 1 ? null : this.dbl(), s = 1; s < n; s++)
    r[s] = r[s - 1].add(i);
  return {
    wnd: t,
    points: r
  };
};
Ar.prototype._getBeta = function() {
  return null;
};
Ar.prototype.dblp = function(t) {
  for (var r = this, n = 0; n < t; n++)
    r = r.dbl();
  return r;
};
var L2 = or, St = ir, lc = Sr(), Mi = Ga, V2 = L2.assert;
function _r(e) {
  Mi.call(this, "short", e), this.a = new St(e.a, 16).toRed(this.red), this.b = new St(e.b, 16).toRed(this.red), this.tinv = this.two.redInvm(), this.zeroA = this.a.fromRed().cmpn(0) === 0, this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0, this.endo = this._getEndomorphism(e), this._endoWnafT1 = new Array(4), this._endoWnafT2 = new Array(4);
}
lc(_r, Mi);
var H2 = _r;
_r.prototype._getEndomorphism = function(t) {
  if (!(!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)) {
    var r, n;
    if (t.beta)
      r = new St(t.beta, 16).toRed(this.red);
    else {
      var i = this._getEndoRoots(this.p);
      r = i[0].cmp(i[1]) < 0 ? i[0] : i[1], r = r.toRed(this.red);
    }
    if (t.lambda)
      n = new St(t.lambda, 16);
    else {
      var s = this._getEndoRoots(this.n);
      this.g.mul(s[0]).x.cmp(this.g.x.redMul(r)) === 0 ? n = s[0] : (n = s[1], V2(this.g.mul(n).x.cmp(this.g.x.redMul(r)) === 0));
    }
    var a;
    return t.basis ? a = t.basis.map(function(o) {
      return {
        a: new St(o.a, 16),
        b: new St(o.b, 16)
      };
    }) : a = this._getEndoBasis(n), {
      beta: r,
      lambda: n,
      basis: a
    };
  }
};
_r.prototype._getEndoRoots = function(t) {
  var r = t === this.p ? this.red : St.mont(t), n = new St(2).toRed(r).redInvm(), i = n.redNeg(), s = new St(3).toRed(r).redNeg().redSqrt().redMul(n), a = i.redAdd(s).fromRed(), o = i.redSub(s).fromRed();
  return [a, o];
};
_r.prototype._getEndoBasis = function(t) {
  for (var r = this.n.ushrn(Math.floor(this.n.bitLength() / 2)), n = t, i = this.n.clone(), s = new St(1), a = new St(0), o = new St(0), u = new St(1), f, l, h, c, d, p, v, m = 0, b, A; n.cmpn(0) !== 0; ) {
    var D = i.div(n);
    b = i.sub(D.mul(n)), A = o.sub(D.mul(s));
    var k = u.sub(D.mul(a));
    if (!h && b.cmp(r) < 0)
      f = v.neg(), l = s, h = b.neg(), c = A;
    else if (h && ++m === 2)
      break;
    v = b, i = n, n = b, o = s, s = A, u = a, a = k;
  }
  d = b.neg(), p = A;
  var L = h.sqr().add(c.sqr()), _ = d.sqr().add(p.sqr());
  return _.cmp(L) >= 0 && (d = f, p = l), h.negative && (h = h.neg(), c = c.neg()), d.negative && (d = d.neg(), p = p.neg()), [
    { a: h, b: c },
    { a: d, b: p }
  ];
};
_r.prototype._endoSplit = function(t) {
  var r = this.endo.basis, n = r[0], i = r[1], s = i.b.mul(t).divRound(this.n), a = n.b.neg().mul(t).divRound(this.n), o = s.mul(n.a), u = a.mul(i.a), f = s.mul(n.b), l = a.mul(i.b), h = t.sub(o).sub(u), c = f.add(l).neg();
  return { k1: h, k2: c };
};
_r.prototype.pointFromX = function(t, r) {
  t = new St(t, 16), t.red || (t = t.toRed(this.red));
  var n = t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b), i = n.redSqrt();
  if (i.redSqr().redSub(n).cmp(this.zero) !== 0)
    throw new Error("invalid point");
  var s = i.fromRed().isOdd();
  return (r && !s || !r && s) && (i = i.redNeg()), this.point(t, i);
};
_r.prototype.validate = function(t) {
  if (t.inf)
    return !0;
  var r = t.x, n = t.y, i = this.a.redMul(r), s = r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);
  return n.redSqr().redISub(s).cmpn(0) === 0;
};
_r.prototype._endoWnafMulAdd = function(t, r, n) {
  for (var i = this._endoWnafT1, s = this._endoWnafT2, a = 0; a < t.length; a++) {
    var o = this._endoSplit(r[a]), u = t[a], f = u._getBeta();
    o.k1.negative && (o.k1.ineg(), u = u.neg(!0)), o.k2.negative && (o.k2.ineg(), f = f.neg(!0)), i[a * 2] = u, i[a * 2 + 1] = f, s[a * 2] = o.k1, s[a * 2 + 1] = o.k2;
  }
  for (var l = this._wnafMulAdd(1, i, s, a * 2, n), h = 0; h < a * 2; h++)
    i[h] = null, s[h] = null;
  return l;
};
function kt(e, t, r, n) {
  Mi.BasePoint.call(this, e, "affine"), t === null && r === null ? (this.x = null, this.y = null, this.inf = !0) : (this.x = new St(t, 16), this.y = new St(r, 16), n && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.inf = !1);
}
lc(kt, Mi.BasePoint);
_r.prototype.point = function(t, r, n) {
  return new kt(this, t, r, n);
};
_r.prototype.pointFromJSON = function(t, r) {
  return kt.fromJSON(this, t, r);
};
kt.prototype._getBeta = function() {
  if (this.curve.endo) {
    var t = this.precomputed;
    if (t && t.beta)
      return t.beta;
    var r = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
    if (t) {
      var n = this.curve, i = function(s) {
        return n.point(s.x.redMul(n.endo.beta), s.y);
      };
      t.beta = r, r.precomputed = {
        beta: null,
        naf: t.naf && {
          wnd: t.naf.wnd,
          points: t.naf.points.map(i)
        },
        doubles: t.doubles && {
          step: t.doubles.step,
          points: t.doubles.points.map(i)
        }
      };
    }
    return r;
  }
};
kt.prototype.toJSON = function() {
  return this.precomputed ? [this.x, this.y, this.precomputed && {
    doubles: this.precomputed.doubles && {
      step: this.precomputed.doubles.step,
      points: this.precomputed.doubles.points.slice(1)
    },
    naf: this.precomputed.naf && {
      wnd: this.precomputed.naf.wnd,
      points: this.precomputed.naf.points.slice(1)
    }
  }] : [this.x, this.y];
};
kt.fromJSON = function(t, r, n) {
  typeof r == "string" && (r = JSON.parse(r));
  var i = t.point(r[0], r[1], n);
  if (!r[2])
    return i;
  function s(o) {
    return t.point(o[0], o[1], n);
  }
  var a = r[2];
  return i.precomputed = {
    beta: null,
    doubles: a.doubles && {
      step: a.doubles.step,
      points: [i].concat(a.doubles.points.map(s))
    },
    naf: a.naf && {
      wnd: a.naf.wnd,
      points: [i].concat(a.naf.points.map(s))
    }
  }, i;
};
kt.prototype.inspect = function() {
  return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + ">";
};
kt.prototype.isInfinity = function() {
  return this.inf;
};
kt.prototype.add = function(t) {
  if (this.inf)
    return t;
  if (t.inf)
    return this;
  if (this.eq(t))
    return this.dbl();
  if (this.neg().eq(t))
    return this.curve.point(null, null);
  if (this.x.cmp(t.x) === 0)
    return this.curve.point(null, null);
  var r = this.y.redSub(t.y);
  r.cmpn(0) !== 0 && (r = r.redMul(this.x.redSub(t.x).redInvm()));
  var n = r.redSqr().redISub(this.x).redISub(t.x), i = r.redMul(this.x.redSub(n)).redISub(this.y);
  return this.curve.point(n, i);
};
kt.prototype.dbl = function() {
  if (this.inf)
    return this;
  var t = this.y.redAdd(this.y);
  if (t.cmpn(0) === 0)
    return this.curve.point(null, null);
  var r = this.curve.a, n = this.x.redSqr(), i = t.redInvm(), s = n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i), a = s.redSqr().redISub(this.x.redAdd(this.x)), o = s.redMul(this.x.redSub(a)).redISub(this.y);
  return this.curve.point(a, o);
};
kt.prototype.getX = function() {
  return this.x.fromRed();
};
kt.prototype.getY = function() {
  return this.y.fromRed();
};
kt.prototype.mul = function(t) {
  return t = new St(t, 16), this.isInfinity() ? this : this._hasDoubles(t) ? this.curve._fixedNafMul(this, t) : this.curve.endo ? this.curve._endoWnafMulAdd([this], [t]) : this.curve._wnafMul(this, t);
};
kt.prototype.mulAdd = function(t, r, n) {
  var i = [this, r], s = [t, n];
  return this.curve.endo ? this.curve._endoWnafMulAdd(i, s) : this.curve._wnafMulAdd(1, i, s, 2);
};
kt.prototype.jmulAdd = function(t, r, n) {
  var i = [this, r], s = [t, n];
  return this.curve.endo ? this.curve._endoWnafMulAdd(i, s, !0) : this.curve._wnafMulAdd(1, i, s, 2, !0);
};
kt.prototype.eq = function(t) {
  return this === t || this.inf === t.inf && (this.inf || this.x.cmp(t.x) === 0 && this.y.cmp(t.y) === 0);
};
kt.prototype.neg = function(t) {
  if (this.inf)
    return this;
  var r = this.curve.point(this.x, this.y.redNeg());
  if (t && this.precomputed) {
    var n = this.precomputed, i = function(s) {
      return s.neg();
    };
    r.precomputed = {
      naf: n.naf && {
        wnd: n.naf.wnd,
        points: n.naf.points.map(i)
      },
      doubles: n.doubles && {
        step: n.doubles.step,
        points: n.doubles.points.map(i)
      }
    };
  }
  return r;
};
kt.prototype.toJ = function() {
  if (this.inf)
    return this.curve.jpoint(null, null, null);
  var t = this.curve.jpoint(this.x, this.y, this.curve.one);
  return t;
};
function Lt(e, t, r, n) {
  Mi.BasePoint.call(this, e, "jacobian"), t === null && r === null && n === null ? (this.x = this.curve.one, this.y = this.curve.one, this.z = new St(0)) : (this.x = new St(t, 16), this.y = new St(r, 16), this.z = new St(n, 16)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.zOne = this.z === this.curve.one;
}
lc(Lt, Mi.BasePoint);
_r.prototype.jpoint = function(t, r, n) {
  return new Lt(this, t, r, n);
};
Lt.prototype.toP = function() {
  if (this.isInfinity())
    return this.curve.point(null, null);
  var t = this.z.redInvm(), r = t.redSqr(), n = this.x.redMul(r), i = this.y.redMul(r).redMul(t);
  return this.curve.point(n, i);
};
Lt.prototype.neg = function() {
  return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
};
Lt.prototype.add = function(t) {
  if (this.isInfinity())
    return t;
  if (t.isInfinity())
    return this;
  var r = t.z.redSqr(), n = this.z.redSqr(), i = this.x.redMul(r), s = t.x.redMul(n), a = this.y.redMul(r.redMul(t.z)), o = t.y.redMul(n.redMul(this.z)), u = i.redSub(s), f = a.redSub(o);
  if (u.cmpn(0) === 0)
    return f.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
  var l = u.redSqr(), h = l.redMul(u), c = i.redMul(l), d = f.redSqr().redIAdd(h).redISub(c).redISub(c), p = f.redMul(c.redISub(d)).redISub(a.redMul(h)), v = this.z.redMul(t.z).redMul(u);
  return this.curve.jpoint(d, p, v);
};
Lt.prototype.mixedAdd = function(t) {
  if (this.isInfinity())
    return t.toJ();
  if (t.isInfinity())
    return this;
  var r = this.z.redSqr(), n = this.x, i = t.x.redMul(r), s = this.y, a = t.y.redMul(r).redMul(this.z), o = n.redSub(i), u = s.redSub(a);
  if (o.cmpn(0) === 0)
    return u.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
  var f = o.redSqr(), l = f.redMul(o), h = n.redMul(f), c = u.redSqr().redIAdd(l).redISub(h).redISub(h), d = u.redMul(h.redISub(c)).redISub(s.redMul(l)), p = this.z.redMul(o);
  return this.curve.jpoint(c, d, p);
};
Lt.prototype.dblp = function(t) {
  if (t === 0)
    return this;
  if (this.isInfinity())
    return this;
  if (!t)
    return this.dbl();
  var r;
  if (this.curve.zeroA || this.curve.threeA) {
    var n = this;
    for (r = 0; r < t; r++)
      n = n.dbl();
    return n;
  }
  var i = this.curve.a, s = this.curve.tinv, a = this.x, o = this.y, u = this.z, f = u.redSqr().redSqr(), l = o.redAdd(o);
  for (r = 0; r < t; r++) {
    var h = a.redSqr(), c = l.redSqr(), d = c.redSqr(), p = h.redAdd(h).redIAdd(h).redIAdd(i.redMul(f)), v = a.redMul(c), m = p.redSqr().redISub(v.redAdd(v)), b = v.redISub(m), A = p.redMul(b);
    A = A.redIAdd(A).redISub(d);
    var D = l.redMul(u);
    r + 1 < t && (f = f.redMul(d)), a = m, u = D, l = A;
  }
  return this.curve.jpoint(a, l.redMul(s), u);
};
Lt.prototype.dbl = function() {
  return this.isInfinity() ? this : this.curve.zeroA ? this._zeroDbl() : this.curve.threeA ? this._threeDbl() : this._dbl();
};
Lt.prototype._zeroDbl = function() {
  var t, r, n;
  if (this.zOne) {
    var i = this.x.redSqr(), s = this.y.redSqr(), a = s.redSqr(), o = this.x.redAdd(s).redSqr().redISub(i).redISub(a);
    o = o.redIAdd(o);
    var u = i.redAdd(i).redIAdd(i), f = u.redSqr().redISub(o).redISub(o), l = a.redIAdd(a);
    l = l.redIAdd(l), l = l.redIAdd(l), t = f, r = u.redMul(o.redISub(f)).redISub(l), n = this.y.redAdd(this.y);
  } else {
    var h = this.x.redSqr(), c = this.y.redSqr(), d = c.redSqr(), p = this.x.redAdd(c).redSqr().redISub(h).redISub(d);
    p = p.redIAdd(p);
    var v = h.redAdd(h).redIAdd(h), m = v.redSqr(), b = d.redIAdd(d);
    b = b.redIAdd(b), b = b.redIAdd(b), t = m.redISub(p).redISub(p), r = v.redMul(p.redISub(t)).redISub(b), n = this.y.redMul(this.z), n = n.redIAdd(n);
  }
  return this.curve.jpoint(t, r, n);
};
Lt.prototype._threeDbl = function() {
  var t, r, n;
  if (this.zOne) {
    var i = this.x.redSqr(), s = this.y.redSqr(), a = s.redSqr(), o = this.x.redAdd(s).redSqr().redISub(i).redISub(a);
    o = o.redIAdd(o);
    var u = i.redAdd(i).redIAdd(i).redIAdd(this.curve.a), f = u.redSqr().redISub(o).redISub(o);
    t = f;
    var l = a.redIAdd(a);
    l = l.redIAdd(l), l = l.redIAdd(l), r = u.redMul(o.redISub(f)).redISub(l), n = this.y.redAdd(this.y);
  } else {
    var h = this.z.redSqr(), c = this.y.redSqr(), d = this.x.redMul(c), p = this.x.redSub(h).redMul(this.x.redAdd(h));
    p = p.redAdd(p).redIAdd(p);
    var v = d.redIAdd(d);
    v = v.redIAdd(v);
    var m = v.redAdd(v);
    t = p.redSqr().redISub(m), n = this.y.redAdd(this.z).redSqr().redISub(c).redISub(h);
    var b = c.redSqr();
    b = b.redIAdd(b), b = b.redIAdd(b), b = b.redIAdd(b), r = p.redMul(v.redISub(t)).redISub(b);
  }
  return this.curve.jpoint(t, r, n);
};
Lt.prototype._dbl = function() {
  var t = this.curve.a, r = this.x, n = this.y, i = this.z, s = i.redSqr().redSqr(), a = r.redSqr(), o = n.redSqr(), u = a.redAdd(a).redIAdd(a).redIAdd(t.redMul(s)), f = r.redAdd(r);
  f = f.redIAdd(f);
  var l = f.redMul(o), h = u.redSqr().redISub(l.redAdd(l)), c = l.redISub(h), d = o.redSqr();
  d = d.redIAdd(d), d = d.redIAdd(d), d = d.redIAdd(d);
  var p = u.redMul(c).redISub(d), v = n.redAdd(n).redMul(i);
  return this.curve.jpoint(h, p, v);
};
Lt.prototype.trpl = function() {
  if (!this.curve.zeroA)
    return this.dbl().add(this);
  var t = this.x.redSqr(), r = this.y.redSqr(), n = this.z.redSqr(), i = r.redSqr(), s = t.redAdd(t).redIAdd(t), a = s.redSqr(), o = this.x.redAdd(r).redSqr().redISub(t).redISub(i);
  o = o.redIAdd(o), o = o.redAdd(o).redIAdd(o), o = o.redISub(a);
  var u = o.redSqr(), f = i.redIAdd(i);
  f = f.redIAdd(f), f = f.redIAdd(f), f = f.redIAdd(f);
  var l = s.redIAdd(o).redSqr().redISub(a).redISub(u).redISub(f), h = r.redMul(l);
  h = h.redIAdd(h), h = h.redIAdd(h);
  var c = this.x.redMul(u).redISub(h);
  c = c.redIAdd(c), c = c.redIAdd(c);
  var d = this.y.redMul(l.redMul(f.redISub(l)).redISub(o.redMul(u)));
  d = d.redIAdd(d), d = d.redIAdd(d), d = d.redIAdd(d);
  var p = this.z.redAdd(o).redSqr().redISub(n).redISub(u);
  return this.curve.jpoint(c, d, p);
};
Lt.prototype.mul = function(t, r) {
  return t = new St(t, r), this.curve._wnafMul(this, t);
};
Lt.prototype.eq = function(t) {
  if (t.type === "affine")
    return this.eq(t.toJ());
  if (this === t)
    return !0;
  var r = this.z.redSqr(), n = t.z.redSqr();
  if (this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0) !== 0)
    return !1;
  var i = r.redMul(this.z), s = n.redMul(t.z);
  return this.y.redMul(s).redISub(t.y.redMul(i)).cmpn(0) === 0;
};
Lt.prototype.eqXToP = function(t) {
  var r = this.z.redSqr(), n = t.toRed(this.curve.red).redMul(r);
  if (this.x.cmp(n) === 0)
    return !0;
  for (var i = t.clone(), s = this.curve.redN.redMul(r); ; ) {
    if (i.iadd(this.curve.n), i.cmp(this.curve.p) >= 0)
      return !1;
    if (n.redIAdd(s), this.x.cmp(n) === 0)
      return !0;
  }
};
Lt.prototype.inspect = function() {
  return this.isInfinity() ? "<EC JPoint Infinity>" : "<EC JPoint x: " + this.x.toString(16, 2) + " y: " + this.y.toString(16, 2) + " z: " + this.z.toString(16, 2) + ">";
};
Lt.prototype.isInfinity = function() {
  return this.z.cmpn(0) === 0;
};
var hi = ir, Pp = Sr(), Ja = Ga, U2 = or;
function Bi(e) {
  Ja.call(this, "mont", e), this.a = new hi(e.a, 16).toRed(this.red), this.b = new hi(e.b, 16).toRed(this.red), this.i4 = new hi(4).toRed(this.red).redInvm(), this.two = new hi(2).toRed(this.red), this.a24 = this.i4.redMul(this.a.redAdd(this.two));
}
Pp(Bi, Ja);
var q2 = Bi;
Bi.prototype.validate = function(t) {
  var r = t.normalize().x, n = r.redSqr(), i = n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r), s = i.redSqrt();
  return s.redSqr().cmp(i) === 0;
};
function Bt(e, t, r) {
  Ja.BasePoint.call(this, e, "projective"), t === null && r === null ? (this.x = this.curve.one, this.z = this.curve.zero) : (this.x = new hi(t, 16), this.z = new hi(r, 16), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)));
}
Pp(Bt, Ja.BasePoint);
Bi.prototype.decodePoint = function(t, r) {
  return this.point(U2.toArray(t, r), 1);
};
Bi.prototype.point = function(t, r) {
  return new Bt(this, t, r);
};
Bi.prototype.pointFromJSON = function(t) {
  return Bt.fromJSON(this, t);
};
Bt.prototype.precompute = function() {
};
Bt.prototype._encode = function() {
  return this.getX().toArray("be", this.curve.p.byteLength());
};
Bt.fromJSON = function(t, r) {
  return new Bt(t, r[0], r[1] || t.one);
};
Bt.prototype.inspect = function() {
  return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " z: " + this.z.fromRed().toString(16, 2) + ">";
};
Bt.prototype.isInfinity = function() {
  return this.z.cmpn(0) === 0;
};
Bt.prototype.dbl = function() {
  var t = this.x.redAdd(this.z), r = t.redSqr(), n = this.x.redSub(this.z), i = n.redSqr(), s = r.redSub(i), a = r.redMul(i), o = s.redMul(i.redAdd(this.curve.a24.redMul(s)));
  return this.curve.point(a, o);
};
Bt.prototype.add = function() {
  throw new Error("Not supported on Montgomery curve");
};
Bt.prototype.diffAdd = function(t, r) {
  var n = this.x.redAdd(this.z), i = this.x.redSub(this.z), s = t.x.redAdd(t.z), a = t.x.redSub(t.z), o = a.redMul(n), u = s.redMul(i), f = r.z.redMul(o.redAdd(u).redSqr()), l = r.x.redMul(o.redISub(u).redSqr());
  return this.curve.point(f, l);
};
Bt.prototype.mul = function(t) {
  for (var r = t.clone(), n = this, i = this.curve.point(null, null), s = this, a = []; r.cmpn(0) !== 0; r.iushrn(1))
    a.push(r.andln(1));
  for (var o = a.length - 1; o >= 0; o--)
    a[o] === 0 ? (n = n.diffAdd(i, s), i = i.dbl()) : (i = n.diffAdd(i, s), n = n.dbl());
  return i;
};
Bt.prototype.mulAdd = function() {
  throw new Error("Not supported on Montgomery curve");
};
Bt.prototype.jumlAdd = function() {
  throw new Error("Not supported on Montgomery curve");
};
Bt.prototype.eq = function(t) {
  return this.getX().cmp(t.getX()) === 0;
};
Bt.prototype.normalize = function() {
  return this.x = this.x.redMul(this.z.redInvm()), this.z = this.curve.one, this;
};
Bt.prototype.getX = function() {
  return this.normalize(), this.x.fromRed();
};
var K2 = or, on = ir, Fp = Sr(), Ya = Ga, $2 = K2.assert;
function Xr(e) {
  this.twisted = (e.a | 0) !== 1, this.mOneA = this.twisted && (e.a | 0) === -1, this.extended = this.mOneA, Ya.call(this, "edwards", e), this.a = new on(e.a, 16).umod(this.red.m), this.a = this.a.toRed(this.red), this.c = new on(e.c, 16).toRed(this.red), this.c2 = this.c.redSqr(), this.d = new on(e.d, 16).toRed(this.red), this.dd = this.d.redAdd(this.d), $2(!this.twisted || this.c.fromRed().cmpn(1) === 0), this.oneC = (e.c | 0) === 1;
}
Fp(Xr, Ya);
var z2 = Xr;
Xr.prototype._mulA = function(t) {
  return this.mOneA ? t.redNeg() : this.a.redMul(t);
};
Xr.prototype._mulC = function(t) {
  return this.oneC ? t : this.c.redMul(t);
};
Xr.prototype.jpoint = function(t, r, n, i) {
  return this.point(t, r, n, i);
};
Xr.prototype.pointFromX = function(t, r) {
  t = new on(t, 16), t.red || (t = t.toRed(this.red));
  var n = t.redSqr(), i = this.c2.redSub(this.a.redMul(n)), s = this.one.redSub(this.c2.redMul(this.d).redMul(n)), a = i.redMul(s.redInvm()), o = a.redSqrt();
  if (o.redSqr().redSub(a).cmp(this.zero) !== 0)
    throw new Error("invalid point");
  var u = o.fromRed().isOdd();
  return (r && !u || !r && u) && (o = o.redNeg()), this.point(t, o);
};
Xr.prototype.pointFromY = function(t, r) {
  t = new on(t, 16), t.red || (t = t.toRed(this.red));
  var n = t.redSqr(), i = n.redSub(this.c2), s = n.redMul(this.d).redMul(this.c2).redSub(this.a), a = i.redMul(s.redInvm());
  if (a.cmp(this.zero) === 0) {
    if (r)
      throw new Error("invalid point");
    return this.point(this.zero, t);
  }
  var o = a.redSqrt();
  if (o.redSqr().redSub(a).cmp(this.zero) !== 0)
    throw new Error("invalid point");
  return o.fromRed().isOdd() !== r && (o = o.redNeg()), this.point(o, t);
};
Xr.prototype.validate = function(t) {
  if (t.isInfinity())
    return !0;
  t.normalize();
  var r = t.x.redSqr(), n = t.y.redSqr(), i = r.redMul(this.a).redAdd(n), s = this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));
  return i.cmp(s) === 0;
};
function rt(e, t, r, n, i) {
  Ya.BasePoint.call(this, e, "projective"), t === null && r === null && n === null ? (this.x = this.curve.zero, this.y = this.curve.one, this.z = this.curve.one, this.t = this.curve.zero, this.zOne = !0) : (this.x = new on(t, 16), this.y = new on(r, 16), this.z = n ? new on(n, 16) : this.curve.one, this.t = i && new on(i, 16), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.t && !this.t.red && (this.t = this.t.toRed(this.curve.red)), this.zOne = this.z === this.curve.one, this.curve.extended && !this.t && (this.t = this.x.redMul(this.y), this.zOne || (this.t = this.t.redMul(this.z.redInvm()))));
}
Fp(rt, Ya.BasePoint);
Xr.prototype.pointFromJSON = function(t) {
  return rt.fromJSON(this, t);
};
Xr.prototype.point = function(t, r, n, i) {
  return new rt(this, t, r, n, i);
};
rt.fromJSON = function(t, r) {
  return new rt(t, r[0], r[1], r[2]);
};
rt.prototype.inspect = function() {
  return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + " z: " + this.z.fromRed().toString(16, 2) + ">";
};
rt.prototype.isInfinity = function() {
  return this.x.cmpn(0) === 0 && (this.y.cmp(this.z) === 0 || this.zOne && this.y.cmp(this.curve.c) === 0);
};
rt.prototype._extDbl = function() {
  var t = this.x.redSqr(), r = this.y.redSqr(), n = this.z.redSqr();
  n = n.redIAdd(n);
  var i = this.curve._mulA(t), s = this.x.redAdd(this.y).redSqr().redISub(t).redISub(r), a = i.redAdd(r), o = a.redSub(n), u = i.redSub(r), f = s.redMul(o), l = a.redMul(u), h = s.redMul(u), c = o.redMul(a);
  return this.curve.point(f, l, c, h);
};
rt.prototype._projDbl = function() {
  var t = this.x.redAdd(this.y).redSqr(), r = this.x.redSqr(), n = this.y.redSqr(), i, s, a, o, u, f;
  if (this.curve.twisted) {
    o = this.curve._mulA(r);
    var l = o.redAdd(n);
    this.zOne ? (i = t.redSub(r).redSub(n).redMul(l.redSub(this.curve.two)), s = l.redMul(o.redSub(n)), a = l.redSqr().redSub(l).redSub(l)) : (u = this.z.redSqr(), f = l.redSub(u).redISub(u), i = t.redSub(r).redISub(n).redMul(f), s = l.redMul(o.redSub(n)), a = l.redMul(f));
  } else
    o = r.redAdd(n), u = this.curve._mulC(this.z).redSqr(), f = o.redSub(u).redSub(u), i = this.curve._mulC(t.redISub(o)).redMul(f), s = this.curve._mulC(o).redMul(r.redISub(n)), a = o.redMul(f);
  return this.curve.point(i, s, a);
};
rt.prototype.dbl = function() {
  return this.isInfinity() ? this : this.curve.extended ? this._extDbl() : this._projDbl();
};
rt.prototype._extAdd = function(t) {
  var r = this.y.redSub(this.x).redMul(t.y.redSub(t.x)), n = this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)), i = this.t.redMul(this.curve.dd).redMul(t.t), s = this.z.redMul(t.z.redAdd(t.z)), a = n.redSub(r), o = s.redSub(i), u = s.redAdd(i), f = n.redAdd(r), l = a.redMul(o), h = u.redMul(f), c = a.redMul(f), d = o.redMul(u);
  return this.curve.point(l, h, d, c);
};
rt.prototype._projAdd = function(t) {
  var r = this.z.redMul(t.z), n = r.redSqr(), i = this.x.redMul(t.x), s = this.y.redMul(t.y), a = this.curve.d.redMul(i).redMul(s), o = n.redSub(a), u = n.redAdd(a), f = this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(i).redISub(s), l = r.redMul(o).redMul(f), h, c;
  return this.curve.twisted ? (h = r.redMul(u).redMul(s.redSub(this.curve._mulA(i))), c = o.redMul(u)) : (h = r.redMul(u).redMul(s.redSub(i)), c = this.curve._mulC(o).redMul(u)), this.curve.point(l, h, c);
};
rt.prototype.add = function(t) {
  return this.isInfinity() ? t : t.isInfinity() ? this : this.curve.extended ? this._extAdd(t) : this._projAdd(t);
};
rt.prototype.mul = function(t) {
  return this._hasDoubles(t) ? this.curve._fixedNafMul(this, t) : this.curve._wnafMul(this, t);
};
rt.prototype.mulAdd = function(t, r, n) {
  return this.curve._wnafMulAdd(1, [this, r], [t, n], 2, !1);
};
rt.prototype.jmulAdd = function(t, r, n) {
  return this.curve._wnafMulAdd(1, [this, r], [t, n], 2, !0);
};
rt.prototype.normalize = function() {
  if (this.zOne)
    return this;
  var t = this.z.redInvm();
  return this.x = this.x.redMul(t), this.y = this.y.redMul(t), this.t && (this.t = this.t.redMul(t)), this.z = this.curve.one, this.zOne = !0, this;
};
rt.prototype.neg = function() {
  return this.curve.point(
    this.x.redNeg(),
    this.y,
    this.z,
    this.t && this.t.redNeg()
  );
};
rt.prototype.getX = function() {
  return this.normalize(), this.x.fromRed();
};
rt.prototype.getY = function() {
  return this.normalize(), this.y.fromRed();
};
rt.prototype.eq = function(t) {
  return this === t || this.getX().cmp(t.getX()) === 0 && this.getY().cmp(t.getY()) === 0;
};
rt.prototype.eqXToP = function(t) {
  var r = t.toRed(this.curve.red).redMul(this.z);
  if (this.x.cmp(r) === 0)
    return !0;
  for (var n = t.clone(), i = this.curve.redN.redMul(this.z); ; ) {
    if (n.iadd(this.curve.n), n.cmp(this.curve.p) >= 0)
      return !1;
    if (r.redIAdd(i), this.x.cmp(r) === 0)
      return !0;
  }
};
rt.prototype.toP = rt.prototype.normalize;
rt.prototype.mixedAdd = rt.prototype.add;
(function(e) {
  var t = e;
  t.base = Ga, t.short = H2, t.mont = q2, t.edwards = z2;
})(cc);
var Xa = {}, Za = {}, Ve = {}, W2 = Cn, G2 = Sr();
Ve.inherits = G2;
function J2(e, t) {
  return (e.charCodeAt(t) & 64512) !== 55296 || t < 0 || t + 1 >= e.length ? !1 : (e.charCodeAt(t + 1) & 64512) === 56320;
}
function Y2(e, t) {
  if (Array.isArray(e))
    return e.slice();
  if (!e)
    return [];
  var r = [];
  if (typeof e == "string")
    if (t) {
      if (t === "hex")
        for (e = e.replace(/[^a-z0-9]+/ig, ""), e.length % 2 !== 0 && (e = "0" + e), i = 0; i < e.length; i += 2)
          r.push(parseInt(e[i] + e[i + 1], 16));
    } else
      for (var n = 0, i = 0; i < e.length; i++) {
        var s = e.charCodeAt(i);
        s < 128 ? r[n++] = s : s < 2048 ? (r[n++] = s >> 6 | 192, r[n++] = s & 63 | 128) : J2(e, i) ? (s = 65536 + ((s & 1023) << 10) + (e.charCodeAt(++i) & 1023), r[n++] = s >> 18 | 240, r[n++] = s >> 12 & 63 | 128, r[n++] = s >> 6 & 63 | 128, r[n++] = s & 63 | 128) : (r[n++] = s >> 12 | 224, r[n++] = s >> 6 & 63 | 128, r[n++] = s & 63 | 128);
      }
  else
    for (i = 0; i < e.length; i++)
      r[i] = e[i] | 0;
  return r;
}
Ve.toArray = Y2;
function X2(e) {
  for (var t = "", r = 0; r < e.length; r++)
    t += Cp(e[r].toString(16));
  return t;
}
Ve.toHex = X2;
function Ip(e) {
  var t = e >>> 24 | e >>> 8 & 65280 | e << 8 & 16711680 | (e & 255) << 24;
  return t >>> 0;
}
Ve.htonl = Ip;
function Z2(e, t) {
  for (var r = "", n = 0; n < e.length; n++) {
    var i = e[n];
    t === "little" && (i = Ip(i)), r += Rp(i.toString(16));
  }
  return r;
}
Ve.toHex32 = Z2;
function Cp(e) {
  return e.length === 1 ? "0" + e : e;
}
Ve.zero2 = Cp;
function Rp(e) {
  return e.length === 7 ? "0" + e : e.length === 6 ? "00" + e : e.length === 5 ? "000" + e : e.length === 4 ? "0000" + e : e.length === 3 ? "00000" + e : e.length === 2 ? "000000" + e : e.length === 1 ? "0000000" + e : e;
}
Ve.zero8 = Rp;
function Q2(e, t, r, n) {
  var i = r - t;
  W2(i % 4 === 0);
  for (var s = new Array(i / 4), a = 0, o = t; a < s.length; a++, o += 4) {
    var u;
    n === "big" ? u = e[o] << 24 | e[o + 1] << 16 | e[o + 2] << 8 | e[o + 3] : u = e[o + 3] << 24 | e[o + 2] << 16 | e[o + 1] << 8 | e[o], s[a] = u >>> 0;
  }
  return s;
}
Ve.join32 = Q2;
function eb(e, t) {
  for (var r = new Array(e.length * 4), n = 0, i = 0; n < e.length; n++, i += 4) {
    var s = e[n];
    t === "big" ? (r[i] = s >>> 24, r[i + 1] = s >>> 16 & 255, r[i + 2] = s >>> 8 & 255, r[i + 3] = s & 255) : (r[i + 3] = s >>> 24, r[i + 2] = s >>> 16 & 255, r[i + 1] = s >>> 8 & 255, r[i] = s & 255);
  }
  return r;
}
Ve.split32 = eb;
function tb(e, t) {
  return e >>> t | e << 32 - t;
}
Ve.rotr32 = tb;
function rb(e, t) {
  return e << t | e >>> 32 - t;
}
Ve.rotl32 = rb;
function nb(e, t) {
  return e + t >>> 0;
}
Ve.sum32 = nb;
function ib(e, t, r) {
  return e + t + r >>> 0;
}
Ve.sum32_3 = ib;
function sb(e, t, r, n) {
  return e + t + r + n >>> 0;
}
Ve.sum32_4 = sb;
function ab(e, t, r, n, i) {
  return e + t + r + n + i >>> 0;
}
Ve.sum32_5 = ab;
function ob(e, t, r, n) {
  var i = e[t], s = e[t + 1], a = n + s >>> 0, o = (a < n ? 1 : 0) + r + i;
  e[t] = o >>> 0, e[t + 1] = a;
}
Ve.sum64 = ob;
function ub(e, t, r, n) {
  var i = t + n >>> 0, s = (i < t ? 1 : 0) + e + r;
  return s >>> 0;
}
Ve.sum64_hi = ub;
function fb(e, t, r, n) {
  var i = t + n;
  return i >>> 0;
}
Ve.sum64_lo = fb;
function cb(e, t, r, n, i, s, a, o) {
  var u = 0, f = t;
  f = f + n >>> 0, u += f < t ? 1 : 0, f = f + s >>> 0, u += f < s ? 1 : 0, f = f + o >>> 0, u += f < o ? 1 : 0;
  var l = e + r + i + a + u;
  return l >>> 0;
}
Ve.sum64_4_hi = cb;
function lb(e, t, r, n, i, s, a, o) {
  var u = t + n + s + o;
  return u >>> 0;
}
Ve.sum64_4_lo = lb;
function hb(e, t, r, n, i, s, a, o, u, f) {
  var l = 0, h = t;
  h = h + n >>> 0, l += h < t ? 1 : 0, h = h + s >>> 0, l += h < s ? 1 : 0, h = h + o >>> 0, l += h < o ? 1 : 0, h = h + f >>> 0, l += h < f ? 1 : 0;
  var c = e + r + i + a + u + l;
  return c >>> 0;
}
Ve.sum64_5_hi = hb;
function db(e, t, r, n, i, s, a, o, u, f) {
  var l = t + n + s + o + f;
  return l >>> 0;
}
Ve.sum64_5_lo = db;
function pb(e, t, r) {
  var n = t << 32 - r | e >>> r;
  return n >>> 0;
}
Ve.rotr64_hi = pb;
function vb(e, t, r) {
  var n = e << 32 - r | t >>> r;
  return n >>> 0;
}
Ve.rotr64_lo = vb;
function gb(e, t, r) {
  return e >>> r;
}
Ve.shr64_hi = gb;
function yb(e, t, r) {
  var n = e << 32 - r | t >>> r;
  return n >>> 0;
}
Ve.shr64_lo = yb;
var Ni = {}, mh = Ve, mb = Cn;
function Qa() {
  this.pending = null, this.pendingTotal = 0, this.blockSize = this.constructor.blockSize, this.outSize = this.constructor.outSize, this.hmacStrength = this.constructor.hmacStrength, this.padLength = this.constructor.padLength / 8, this.endian = "big", this._delta8 = this.blockSize / 8, this._delta32 = this.blockSize / 32;
}
Ni.BlockHash = Qa;
Qa.prototype.update = function(t, r) {
  if (t = mh.toArray(t, r), this.pending ? this.pending = this.pending.concat(t) : this.pending = t, this.pendingTotal += t.length, this.pending.length >= this._delta8) {
    t = this.pending;
    var n = t.length % this._delta8;
    this.pending = t.slice(t.length - n, t.length), this.pending.length === 0 && (this.pending = null), t = mh.join32(t, 0, t.length - n, this.endian);
    for (var i = 0; i < t.length; i += this._delta32)
      this._update(t, i, i + this._delta32);
  }
  return this;
};
Qa.prototype.digest = function(t) {
  return this.update(this._pad()), mb(this.pending === null), this._digest(t);
};
Qa.prototype._pad = function() {
  var t = this.pendingTotal, r = this._delta8, n = r - (t + this.padLength) % r, i = new Array(n + this.padLength);
  i[0] = 128;
  for (var s = 1; s < n; s++)
    i[s] = 0;
  if (t <<= 3, this.endian === "big") {
    for (var a = 8; a < this.padLength; a++)
      i[s++] = 0;
    i[s++] = 0, i[s++] = 0, i[s++] = 0, i[s++] = 0, i[s++] = t >>> 24 & 255, i[s++] = t >>> 16 & 255, i[s++] = t >>> 8 & 255, i[s++] = t & 255;
  } else
    for (i[s++] = t & 255, i[s++] = t >>> 8 & 255, i[s++] = t >>> 16 & 255, i[s++] = t >>> 24 & 255, i[s++] = 0, i[s++] = 0, i[s++] = 0, i[s++] = 0, a = 8; a < this.padLength; a++)
      i[s++] = 0;
  return i;
};
var ki = {}, Zr = {}, bb = Ve, Ur = bb.rotr32;
function wb(e, t, r, n) {
  if (e === 0)
    return Op(t, r, n);
  if (e === 1 || e === 3)
    return Mp(t, r, n);
  if (e === 2)
    return Dp(t, r, n);
}
Zr.ft_1 = wb;
function Op(e, t, r) {
  return e & t ^ ~e & r;
}
Zr.ch32 = Op;
function Dp(e, t, r) {
  return e & t ^ e & r ^ t & r;
}
Zr.maj32 = Dp;
function Mp(e, t, r) {
  return e ^ t ^ r;
}
Zr.p32 = Mp;
function xb(e) {
  return Ur(e, 2) ^ Ur(e, 13) ^ Ur(e, 22);
}
Zr.s0_256 = xb;
function Sb(e) {
  return Ur(e, 6) ^ Ur(e, 11) ^ Ur(e, 25);
}
Zr.s1_256 = Sb;
function Eb(e) {
  return Ur(e, 7) ^ Ur(e, 18) ^ e >>> 3;
}
Zr.g0_256 = Eb;
function Ab(e) {
  return Ur(e, 17) ^ Ur(e, 19) ^ e >>> 10;
}
Zr.g1_256 = Ab;
var Ti = Ve, _b = Ni, Tb = Zr, cu = Ti.rotl32, Wi = Ti.sum32, Pb = Ti.sum32_5, Fb = Tb.ft_1, Bp = _b.BlockHash, Ib = [
  1518500249,
  1859775393,
  2400959708,
  3395469782
];
function Wr() {
  if (!(this instanceof Wr))
    return new Wr();
  Bp.call(this), this.h = [
    1732584193,
    4023233417,
    2562383102,
    271733878,
    3285377520
  ], this.W = new Array(80);
}
Ti.inherits(Wr, Bp);
var Cb = Wr;
Wr.blockSize = 512;
Wr.outSize = 160;
Wr.hmacStrength = 80;
Wr.padLength = 64;
Wr.prototype._update = function(t, r) {
  for (var n = this.W, i = 0; i < 16; i++)
    n[i] = t[r + i];
  for (; i < n.length; i++)
    n[i] = cu(n[i - 3] ^ n[i - 8] ^ n[i - 14] ^ n[i - 16], 1);
  var s = this.h[0], a = this.h[1], o = this.h[2], u = this.h[3], f = this.h[4];
  for (i = 0; i < n.length; i++) {
    var l = ~~(i / 20), h = Pb(cu(s, 5), Fb(l, a, o, u), f, n[i], Ib[l]);
    f = u, u = o, o = cu(a, 30), a = s, s = h;
  }
  this.h[0] = Wi(this.h[0], s), this.h[1] = Wi(this.h[1], a), this.h[2] = Wi(this.h[2], o), this.h[3] = Wi(this.h[3], u), this.h[4] = Wi(this.h[4], f);
};
Wr.prototype._digest = function(t) {
  return t === "hex" ? Ti.toHex32(this.h, "big") : Ti.split32(this.h, "big");
};
var Pi = Ve, Rb = Ni, ji = Zr, Ob = Cn, Tr = Pi.sum32, Db = Pi.sum32_4, Mb = Pi.sum32_5, Bb = ji.ch32, Nb = ji.maj32, kb = ji.s0_256, jb = ji.s1_256, Lb = ji.g0_256, Vb = ji.g1_256, Np = Rb.BlockHash, Hb = [
  1116352408,
  1899447441,
  3049323471,
  3921009573,
  961987163,
  1508970993,
  2453635748,
  2870763221,
  3624381080,
  310598401,
  607225278,
  1426881987,
  1925078388,
  2162078206,
  2614888103,
  3248222580,
  3835390401,
  4022224774,
  264347078,
  604807628,
  770255983,
  1249150122,
  1555081692,
  1996064986,
  2554220882,
  2821834349,
  2952996808,
  3210313671,
  3336571891,
  3584528711,
  113926993,
  338241895,
  666307205,
  773529912,
  1294757372,
  1396182291,
  1695183700,
  1986661051,
  2177026350,
  2456956037,
  2730485921,
  2820302411,
  3259730800,
  3345764771,
  3516065817,
  3600352804,
  4094571909,
  275423344,
  430227734,
  506948616,
  659060556,
  883997877,
  958139571,
  1322822218,
  1537002063,
  1747873779,
  1955562222,
  2024104815,
  2227730452,
  2361852424,
  2428436474,
  2756734187,
  3204031479,
  3329325298
];
function Gr() {
  if (!(this instanceof Gr))
    return new Gr();
  Np.call(this), this.h = [
    1779033703,
    3144134277,
    1013904242,
    2773480762,
    1359893119,
    2600822924,
    528734635,
    1541459225
  ], this.k = Hb, this.W = new Array(64);
}
Pi.inherits(Gr, Np);
var kp = Gr;
Gr.blockSize = 512;
Gr.outSize = 256;
Gr.hmacStrength = 192;
Gr.padLength = 64;
Gr.prototype._update = function(t, r) {
  for (var n = this.W, i = 0; i < 16; i++)
    n[i] = t[r + i];
  for (; i < n.length; i++)
    n[i] = Db(Vb(n[i - 2]), n[i - 7], Lb(n[i - 15]), n[i - 16]);
  var s = this.h[0], a = this.h[1], o = this.h[2], u = this.h[3], f = this.h[4], l = this.h[5], h = this.h[6], c = this.h[7];
  for (Ob(this.k.length === n.length), i = 0; i < n.length; i++) {
    var d = Mb(c, jb(f), Bb(f, l, h), this.k[i], n[i]), p = Tr(kb(s), Nb(s, a, o));
    c = h, h = l, l = f, f = Tr(u, d), u = o, o = a, a = s, s = Tr(d, p);
  }
  this.h[0] = Tr(this.h[0], s), this.h[1] = Tr(this.h[1], a), this.h[2] = Tr(this.h[2], o), this.h[3] = Tr(this.h[3], u), this.h[4] = Tr(this.h[4], f), this.h[5] = Tr(this.h[5], l), this.h[6] = Tr(this.h[6], h), this.h[7] = Tr(this.h[7], c);
};
Gr.prototype._digest = function(t) {
  return t === "hex" ? Pi.toHex32(this.h, "big") : Pi.split32(this.h, "big");
};
var Xu = Ve, jp = kp;
function cn() {
  if (!(this instanceof cn))
    return new cn();
  jp.call(this), this.h = [
    3238371032,
    914150663,
    812702999,
    4144912697,
    4290775857,
    1750603025,
    1694076839,
    3204075428
  ];
}
Xu.inherits(cn, jp);
var Ub = cn;
cn.blockSize = 512;
cn.outSize = 224;
cn.hmacStrength = 192;
cn.padLength = 64;
cn.prototype._digest = function(t) {
  return t === "hex" ? Xu.toHex32(this.h.slice(0, 7), "big") : Xu.split32(this.h.slice(0, 7), "big");
};
var Zt = Ve, qb = Ni, Kb = Cn, qr = Zt.rotr64_hi, Kr = Zt.rotr64_lo, Lp = Zt.shr64_hi, Vp = Zt.shr64_lo, gn = Zt.sum64, lu = Zt.sum64_hi, hu = Zt.sum64_lo, $b = Zt.sum64_4_hi, zb = Zt.sum64_4_lo, Wb = Zt.sum64_5_hi, Gb = Zt.sum64_5_lo, Hp = qb.BlockHash, Jb = [
  1116352408,
  3609767458,
  1899447441,
  602891725,
  3049323471,
  3964484399,
  3921009573,
  2173295548,
  961987163,
  4081628472,
  1508970993,
  3053834265,
  2453635748,
  2937671579,
  2870763221,
  3664609560,
  3624381080,
  2734883394,
  310598401,
  1164996542,
  607225278,
  1323610764,
  1426881987,
  3590304994,
  1925078388,
  4068182383,
  2162078206,
  991336113,
  2614888103,
  633803317,
  3248222580,
  3479774868,
  3835390401,
  2666613458,
  4022224774,
  944711139,
  264347078,
  2341262773,
  604807628,
  2007800933,
  770255983,
  1495990901,
  1249150122,
  1856431235,
  1555081692,
  3175218132,
  1996064986,
  2198950837,
  2554220882,
  3999719339,
  2821834349,
  766784016,
  2952996808,
  2566594879,
  3210313671,
  3203337956,
  3336571891,
  1034457026,
  3584528711,
  2466948901,
  113926993,
  3758326383,
  338241895,
  168717936,
  666307205,
  1188179964,
  773529912,
  1546045734,
  1294757372,
  1522805485,
  1396182291,
  2643833823,
  1695183700,
  2343527390,
  1986661051,
  1014477480,
  2177026350,
  1206759142,
  2456956037,
  344077627,
  2730485921,
  1290863460,
  2820302411,
  3158454273,
  3259730800,
  3505952657,
  3345764771,
  106217008,
  3516065817,
  3606008344,
  3600352804,
  1432725776,
  4094571909,
  1467031594,
  275423344,
  851169720,
  430227734,
  3100823752,
  506948616,
  1363258195,
  659060556,
  3750685593,
  883997877,
  3785050280,
  958139571,
  3318307427,
  1322822218,
  3812723403,
  1537002063,
  2003034995,
  1747873779,
  3602036899,
  1955562222,
  1575990012,
  2024104815,
  1125592928,
  2227730452,
  2716904306,
  2361852424,
  442776044,
  2428436474,
  593698344,
  2756734187,
  3733110249,
  3204031479,
  2999351573,
  3329325298,
  3815920427,
  3391569614,
  3928383900,
  3515267271,
  566280711,
  3940187606,
  3454069534,
  4118630271,
  4000239992,
  116418474,
  1914138554,
  174292421,
  2731055270,
  289380356,
  3203993006,
  460393269,
  320620315,
  685471733,
  587496836,
  852142971,
  1086792851,
  1017036298,
  365543100,
  1126000580,
  2618297676,
  1288033470,
  3409855158,
  1501505948,
  4234509866,
  1607167915,
  987167468,
  1816402316,
  1246189591
];
function Rr() {
  if (!(this instanceof Rr))
    return new Rr();
  Hp.call(this), this.h = [
    1779033703,
    4089235720,
    3144134277,
    2227873595,
    1013904242,
    4271175723,
    2773480762,
    1595750129,
    1359893119,
    2917565137,
    2600822924,
    725511199,
    528734635,
    4215389547,
    1541459225,
    327033209
  ], this.k = Jb, this.W = new Array(160);
}
Zt.inherits(Rr, Hp);
var Up = Rr;
Rr.blockSize = 1024;
Rr.outSize = 512;
Rr.hmacStrength = 192;
Rr.padLength = 128;
Rr.prototype._prepareBlock = function(t, r) {
  for (var n = this.W, i = 0; i < 32; i++)
    n[i] = t[r + i];
  for (; i < n.length; i += 2) {
    var s = aw(n[i - 4], n[i - 3]), a = ow(n[i - 4], n[i - 3]), o = n[i - 14], u = n[i - 13], f = iw(n[i - 30], n[i - 29]), l = sw(n[i - 30], n[i - 29]), h = n[i - 32], c = n[i - 31];
    n[i] = $b(
      s,
      a,
      o,
      u,
      f,
      l,
      h,
      c
    ), n[i + 1] = zb(
      s,
      a,
      o,
      u,
      f,
      l,
      h,
      c
    );
  }
};
Rr.prototype._update = function(t, r) {
  this._prepareBlock(t, r);
  var n = this.W, i = this.h[0], s = this.h[1], a = this.h[2], o = this.h[3], u = this.h[4], f = this.h[5], l = this.h[6], h = this.h[7], c = this.h[8], d = this.h[9], p = this.h[10], v = this.h[11], m = this.h[12], b = this.h[13], A = this.h[14], D = this.h[15];
  Kb(this.k.length === n.length);
  for (var k = 0; k < n.length; k += 2) {
    var L = A, _ = D, F = rw(c, d), O = nw(c, d), P = Yb(c, d, p, v, m), M = Xb(c, d, p, v, m, b), C = this.k[k], y = this.k[k + 1], E = n[k], T = n[k + 1], R = Wb(
      L,
      _,
      F,
      O,
      P,
      M,
      C,
      y,
      E,
      T
    ), N = Gb(
      L,
      _,
      F,
      O,
      P,
      M,
      C,
      y,
      E,
      T
    );
    L = ew(i, s), _ = tw(i, s), F = Zb(i, s, a, o, u), O = Qb(i, s, a, o, u, f);
    var H = lu(L, _, F, O), Z = hu(L, _, F, O);
    A = m, D = b, m = p, b = v, p = c, v = d, c = lu(l, h, R, N), d = hu(h, h, R, N), l = u, h = f, u = a, f = o, a = i, o = s, i = lu(R, N, H, Z), s = hu(R, N, H, Z);
  }
  gn(this.h, 0, i, s), gn(this.h, 2, a, o), gn(this.h, 4, u, f), gn(this.h, 6, l, h), gn(this.h, 8, c, d), gn(this.h, 10, p, v), gn(this.h, 12, m, b), gn(this.h, 14, A, D);
};
Rr.prototype._digest = function(t) {
  return t === "hex" ? Zt.toHex32(this.h, "big") : Zt.split32(this.h, "big");
};
function Yb(e, t, r, n, i) {
  var s = e & r ^ ~e & i;
  return s < 0 && (s += 4294967296), s;
}
function Xb(e, t, r, n, i, s) {
  var a = t & n ^ ~t & s;
  return a < 0 && (a += 4294967296), a;
}
function Zb(e, t, r, n, i) {
  var s = e & r ^ e & i ^ r & i;
  return s < 0 && (s += 4294967296), s;
}
function Qb(e, t, r, n, i, s) {
  var a = t & n ^ t & s ^ n & s;
  return a < 0 && (a += 4294967296), a;
}
function ew(e, t) {
  var r = qr(e, t, 28), n = qr(t, e, 2), i = qr(t, e, 7), s = r ^ n ^ i;
  return s < 0 && (s += 4294967296), s;
}
function tw(e, t) {
  var r = Kr(e, t, 28), n = Kr(t, e, 2), i = Kr(t, e, 7), s = r ^ n ^ i;
  return s < 0 && (s += 4294967296), s;
}
function rw(e, t) {
  var r = qr(e, t, 14), n = qr(e, t, 18), i = qr(t, e, 9), s = r ^ n ^ i;
  return s < 0 && (s += 4294967296), s;
}
function nw(e, t) {
  var r = Kr(e, t, 14), n = Kr(e, t, 18), i = Kr(t, e, 9), s = r ^ n ^ i;
  return s < 0 && (s += 4294967296), s;
}
function iw(e, t) {
  var r = qr(e, t, 1), n = qr(e, t, 8), i = Lp(e, t, 7), s = r ^ n ^ i;
  return s < 0 && (s += 4294967296), s;
}
function sw(e, t) {
  var r = Kr(e, t, 1), n = Kr(e, t, 8), i = Vp(e, t, 7), s = r ^ n ^ i;
  return s < 0 && (s += 4294967296), s;
}
function aw(e, t) {
  var r = qr(e, t, 19), n = qr(t, e, 29), i = Lp(e, t, 6), s = r ^ n ^ i;
  return s < 0 && (s += 4294967296), s;
}
function ow(e, t) {
  var r = Kr(e, t, 19), n = Kr(t, e, 29), i = Vp(e, t, 6), s = r ^ n ^ i;
  return s < 0 && (s += 4294967296), s;
}
var Zu = Ve, qp = Up;
function ln() {
  if (!(this instanceof ln))
    return new ln();
  qp.call(this), this.h = [
    3418070365,
    3238371032,
    1654270250,
    914150663,
    2438529370,
    812702999,
    355462360,
    4144912697,
    1731405415,
    4290775857,
    2394180231,
    1750603025,
    3675008525,
    1694076839,
    1203062813,
    3204075428
  ];
}
Zu.inherits(ln, qp);
var uw = ln;
ln.blockSize = 1024;
ln.outSize = 384;
ln.hmacStrength = 192;
ln.padLength = 128;
ln.prototype._digest = function(t) {
  return t === "hex" ? Zu.toHex32(this.h.slice(0, 12), "big") : Zu.split32(this.h.slice(0, 12), "big");
};
ki.sha1 = Cb;
ki.sha224 = Ub;
ki.sha256 = kp;
ki.sha384 = uw;
ki.sha512 = Up;
var Kp = {}, Wn = Ve, fw = Ni, Ws = Wn.rotl32, bh = Wn.sum32, Gi = Wn.sum32_3, wh = Wn.sum32_4, $p = fw.BlockHash;
function Jr() {
  if (!(this instanceof Jr))
    return new Jr();
  $p.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.endian = "little";
}
Wn.inherits(Jr, $p);
Kp.ripemd160 = Jr;
Jr.blockSize = 512;
Jr.outSize = 160;
Jr.hmacStrength = 192;
Jr.padLength = 64;
Jr.prototype._update = function(t, r) {
  for (var n = this.h[0], i = this.h[1], s = this.h[2], a = this.h[3], o = this.h[4], u = n, f = i, l = s, h = a, c = o, d = 0; d < 80; d++) {
    var p = bh(
      Ws(
        wh(n, xh(d, i, s, a), t[hw[d] + r], cw(d)),
        pw[d]
      ),
      o
    );
    n = o, o = a, a = Ws(s, 10), s = i, i = p, p = bh(
      Ws(
        wh(u, xh(79 - d, f, l, h), t[dw[d] + r], lw(d)),
        vw[d]
      ),
      c
    ), u = c, c = h, h = Ws(l, 10), l = f, f = p;
  }
  p = Gi(this.h[1], s, h), this.h[1] = Gi(this.h[2], a, c), this.h[2] = Gi(this.h[3], o, u), this.h[3] = Gi(this.h[4], n, f), this.h[4] = Gi(this.h[0], i, l), this.h[0] = p;
};
Jr.prototype._digest = function(t) {
  return t === "hex" ? Wn.toHex32(this.h, "little") : Wn.split32(this.h, "little");
};
function xh(e, t, r, n) {
  return e <= 15 ? t ^ r ^ n : e <= 31 ? t & r | ~t & n : e <= 47 ? (t | ~r) ^ n : e <= 63 ? t & n | r & ~n : t ^ (r | ~n);
}
function cw(e) {
  return e <= 15 ? 0 : e <= 31 ? 1518500249 : e <= 47 ? 1859775393 : e <= 63 ? 2400959708 : 2840853838;
}
function lw(e) {
  return e <= 15 ? 1352829926 : e <= 31 ? 1548603684 : e <= 47 ? 1836072691 : e <= 63 ? 2053994217 : 0;
}
var hw = [
  0,
  1,
  2,
  3,
  4,
  5,
  6,
  7,
  8,
  9,
  10,
  11,
  12,
  13,
  14,
  15,
  7,
  4,
  13,
  1,
  10,
  6,
  15,
  3,
  12,
  0,
  9,
  5,
  2,
  14,
  11,
  8,
  3,
  10,
  14,
  4,
  9,
  15,
  8,
  1,
  2,
  7,
  0,
  6,
  13,
  11,
  5,
  12,
  1,
  9,
  11,
  10,
  0,
  8,
  12,
  4,
  13,
  3,
  7,
  15,
  14,
  5,
  6,
  2,
  4,
  0,
  5,
  9,
  7,
  12,
  2,
  10,
  14,
  1,
  3,
  8,
  11,
  6,
  15,
  13
], dw = [
  5,
  14,
  7,
  0,
  9,
  2,
  11,
  4,
  13,
  6,
  15,
  8,
  1,
  10,
  3,
  12,
  6,
  11,
  3,
  7,
  0,
  13,
  5,
  10,
  14,
  15,
  8,
  12,
  4,
  9,
  1,
  2,
  15,
  5,
  1,
  3,
  7,
  14,
  6,
  9,
  11,
  8,
  12,
  2,
  10,
  0,
  4,
  13,
  8,
  6,
  4,
  1,
  3,
  11,
  15,
  0,
  5,
  12,
  2,
  13,
  9,
  7,
  10,
  14,
  12,
  15,
  10,
  4,
  1,
  5,
  8,
  7,
  6,
  2,
  13,
  14,
  0,
  3,
  9,
  11
], pw = [
  11,
  14,
  15,
  12,
  5,
  8,
  7,
  9,
  11,
  13,
  14,
  15,
  6,
  7,
  9,
  8,
  7,
  6,
  8,
  13,
  11,
  9,
  7,
  15,
  7,
  12,
  15,
  9,
  11,
  7,
  13,
  12,
  11,
  13,
  6,
  7,
  14,
  9,
  13,
  15,
  14,
  8,
  13,
  6,
  5,
  12,
  7,
  5,
  11,
  12,
  14,
  15,
  14,
  15,
  9,
  8,
  9,
  14,
  5,
  6,
  8,
  6,
  5,
  12,
  9,
  15,
  5,
  11,
  6,
  8,
  13,
  12,
  5,
  12,
  13,
  14,
  11,
  8,
  5,
  6
], vw = [
  8,
  9,
  9,
  11,
  13,
  15,
  15,
  5,
  7,
  7,
  8,
  11,
  14,
  14,
  12,
  6,
  9,
  13,
  15,
  7,
  12,
  8,
  9,
  11,
  7,
  7,
  12,
  7,
  6,
  15,
  13,
  11,
  9,
  7,
  15,
  11,
  8,
  6,
  6,
  14,
  12,
  13,
  5,
  14,
  13,
  13,
  7,
  5,
  15,
  5,
  8,
  11,
  14,
  14,
  6,
  14,
  6,
  9,
  12,
  9,
  12,
  5,
  15,
  8,
  8,
  5,
  12,
  9,
  12,
  5,
  14,
  6,
  8,
  13,
  6,
  5,
  15,
  13,
  11,
  11
], gw = Ve, yw = Cn;
function Fi(e, t, r) {
  if (!(this instanceof Fi))
    return new Fi(e, t, r);
  this.Hash = e, this.blockSize = e.blockSize / 8, this.outSize = e.outSize / 8, this.inner = null, this.outer = null, this._init(gw.toArray(t, r));
}
var mw = Fi;
Fi.prototype._init = function(t) {
  t.length > this.blockSize && (t = new this.Hash().update(t).digest()), yw(t.length <= this.blockSize);
  for (var r = t.length; r < this.blockSize; r++)
    t.push(0);
  for (r = 0; r < t.length; r++)
    t[r] ^= 54;
  for (this.inner = new this.Hash().update(t), r = 0; r < t.length; r++)
    t[r] ^= 106;
  this.outer = new this.Hash().update(t);
};
Fi.prototype.update = function(t, r) {
  return this.inner.update(t, r), this;
};
Fi.prototype.digest = function(t) {
  return this.outer.update(this.inner.digest()), this.outer.digest(t);
};
(function(e) {
  var t = e;
  t.utils = Ve, t.common = Ni, t.sha = ki, t.ripemd = Kp, t.hmac = mw, t.sha1 = t.sha.sha1, t.sha256 = t.sha.sha256, t.sha224 = t.sha.sha224, t.sha384 = t.sha.sha384, t.sha512 = t.sha.sha512, t.ripemd160 = t.ripemd.ripemd160;
})(Za);
var du, Sh;
function bw() {
  return Sh || (Sh = 1, du = {
    doubles: {
      step: 4,
      points: [
        [
          "e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a",
          "f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"
        ],
        [
          "8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508",
          "11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"
        ],
        [
          "175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739",
          "d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"
        ],
        [
          "363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640",
          "4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"
        ],
        [
          "8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c",
          "4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"
        ],
        [
          "723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda",
          "96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"
        ],
        [
          "eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa",
          "5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"
        ],
        [
          "100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0",
          "cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"
        ],
        [
          "e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d",
          "9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"
        ],
        [
          "feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d",
          "e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"
        ],
        [
          "da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1",
          "9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"
        ],
        [
          "53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0",
          "5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"
        ],
        [
          "8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047",
          "10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"
        ],
        [
          "385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862",
          "283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"
        ],
        [
          "6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7",
          "7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"
        ],
        [
          "3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd",
          "56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"
        ],
        [
          "85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83",
          "7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"
        ],
        [
          "948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a",
          "53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"
        ],
        [
          "6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8",
          "bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"
        ],
        [
          "e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d",
          "4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"
        ],
        [
          "e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725",
          "7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"
        ],
        [
          "213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754",
          "4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"
        ],
        [
          "4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c",
          "17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"
        ],
        [
          "fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6",
          "6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"
        ],
        [
          "76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39",
          "c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"
        ],
        [
          "c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891",
          "893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"
        ],
        [
          "d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b",
          "febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"
        ],
        [
          "b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03",
          "2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"
        ],
        [
          "e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d",
          "eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"
        ],
        [
          "a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070",
          "7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"
        ],
        [
          "90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4",
          "e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"
        ],
        [
          "8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da",
          "662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"
        ],
        [
          "e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11",
          "1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"
        ],
        [
          "8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e",
          "efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"
        ],
        [
          "e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41",
          "2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"
        ],
        [
          "b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef",
          "67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"
        ],
        [
          "d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8",
          "db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"
        ],
        [
          "324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d",
          "648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"
        ],
        [
          "4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96",
          "35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"
        ],
        [
          "9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd",
          "ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"
        ],
        [
          "6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5",
          "9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"
        ],
        [
          "a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266",
          "40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"
        ],
        [
          "7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71",
          "34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"
        ],
        [
          "928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac",
          "c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"
        ],
        [
          "85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751",
          "1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"
        ],
        [
          "ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e",
          "493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"
        ],
        [
          "827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241",
          "c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"
        ],
        [
          "eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3",
          "be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"
        ],
        [
          "e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f",
          "4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"
        ],
        [
          "1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19",
          "aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"
        ],
        [
          "146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be",
          "b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"
        ],
        [
          "fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9",
          "6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"
        ],
        [
          "da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2",
          "8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"
        ],
        [
          "a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13",
          "7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"
        ],
        [
          "174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c",
          "ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"
        ],
        [
          "959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba",
          "2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"
        ],
        [
          "d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151",
          "e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"
        ],
        [
          "64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073",
          "d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"
        ],
        [
          "8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458",
          "38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"
        ],
        [
          "13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b",
          "69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"
        ],
        [
          "bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366",
          "d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"
        ],
        [
          "8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa",
          "40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"
        ],
        [
          "8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0",
          "620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"
        ],
        [
          "dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787",
          "7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"
        ],
        [
          "f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e",
          "ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"
        ]
      ]
    },
    naf: {
      wnd: 7,
      points: [
        [
          "f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9",
          "388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"
        ],
        [
          "2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4",
          "d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"
        ],
        [
          "5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc",
          "6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"
        ],
        [
          "acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe",
          "cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"
        ],
        [
          "774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb",
          "d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"
        ],
        [
          "f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8",
          "ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"
        ],
        [
          "d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e",
          "581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"
        ],
        [
          "defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34",
          "4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"
        ],
        [
          "2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c",
          "85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"
        ],
        [
          "352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5",
          "321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"
        ],
        [
          "2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f",
          "2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"
        ],
        [
          "9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714",
          "73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"
        ],
        [
          "daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729",
          "a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"
        ],
        [
          "c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db",
          "2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"
        ],
        [
          "6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4",
          "e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"
        ],
        [
          "1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5",
          "b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"
        ],
        [
          "605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479",
          "2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"
        ],
        [
          "62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d",
          "80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"
        ],
        [
          "80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f",
          "1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"
        ],
        [
          "7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb",
          "d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"
        ],
        [
          "d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9",
          "eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"
        ],
        [
          "49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963",
          "758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"
        ],
        [
          "77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74",
          "958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"
        ],
        [
          "f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530",
          "e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"
        ],
        [
          "463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b",
          "5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"
        ],
        [
          "f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247",
          "cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"
        ],
        [
          "caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1",
          "cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"
        ],
        [
          "2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120",
          "4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"
        ],
        [
          "7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435",
          "91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"
        ],
        [
          "754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18",
          "673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"
        ],
        [
          "e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8",
          "59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"
        ],
        [
          "186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb",
          "3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"
        ],
        [
          "df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f",
          "55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"
        ],
        [
          "5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143",
          "efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"
        ],
        [
          "290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba",
          "e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"
        ],
        [
          "af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45",
          "f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"
        ],
        [
          "766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a",
          "744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"
        ],
        [
          "59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e",
          "c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"
        ],
        [
          "f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8",
          "e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"
        ],
        [
          "7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c",
          "30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"
        ],
        [
          "948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519",
          "e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"
        ],
        [
          "7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab",
          "100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"
        ],
        [
          "3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca",
          "ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"
        ],
        [
          "d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf",
          "8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"
        ],
        [
          "1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610",
          "68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"
        ],
        [
          "733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4",
          "f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"
        ],
        [
          "15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c",
          "d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"
        ],
        [
          "a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940",
          "edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"
        ],
        [
          "e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980",
          "a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"
        ],
        [
          "311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3",
          "66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"
        ],
        [
          "34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf",
          "9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"
        ],
        [
          "f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63",
          "4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"
        ],
        [
          "d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448",
          "fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"
        ],
        [
          "32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf",
          "5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"
        ],
        [
          "7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5",
          "8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"
        ],
        [
          "ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6",
          "8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"
        ],
        [
          "16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5",
          "5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"
        ],
        [
          "eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99",
          "f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"
        ],
        [
          "78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51",
          "f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"
        ],
        [
          "494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5",
          "42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"
        ],
        [
          "a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5",
          "204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"
        ],
        [
          "c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997",
          "4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"
        ],
        [
          "841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881",
          "73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"
        ],
        [
          "5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5",
          "39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"
        ],
        [
          "36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66",
          "d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"
        ],
        [
          "336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726",
          "ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"
        ],
        [
          "8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede",
          "6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"
        ],
        [
          "1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94",
          "60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"
        ],
        [
          "85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31",
          "3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"
        ],
        [
          "29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51",
          "b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"
        ],
        [
          "a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252",
          "ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"
        ],
        [
          "4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5",
          "cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"
        ],
        [
          "d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b",
          "6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"
        ],
        [
          "ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4",
          "322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"
        ],
        [
          "af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f",
          "6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"
        ],
        [
          "e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889",
          "2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"
        ],
        [
          "591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246",
          "b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"
        ],
        [
          "11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984",
          "998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"
        ],
        [
          "3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a",
          "b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"
        ],
        [
          "cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030",
          "bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"
        ],
        [
          "c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197",
          "6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"
        ],
        [
          "c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593",
          "c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"
        ],
        [
          "a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef",
          "21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"
        ],
        [
          "347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38",
          "60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"
        ],
        [
          "da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a",
          "49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"
        ],
        [
          "c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111",
          "5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"
        ],
        [
          "4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502",
          "7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"
        ],
        [
          "3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea",
          "be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"
        ],
        [
          "cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26",
          "8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"
        ],
        [
          "b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986",
          "39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"
        ],
        [
          "d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e",
          "62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"
        ],
        [
          "48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4",
          "25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"
        ],
        [
          "dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda",
          "ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"
        ],
        [
          "6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859",
          "cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"
        ],
        [
          "e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f",
          "f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"
        ],
        [
          "eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c",
          "6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"
        ],
        [
          "13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942",
          "fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"
        ],
        [
          "ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a",
          "1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"
        ],
        [
          "b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80",
          "5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"
        ],
        [
          "ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d",
          "438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"
        ],
        [
          "8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1",
          "cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"
        ],
        [
          "52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63",
          "c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"
        ],
        [
          "e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352",
          "6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"
        ],
        [
          "7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193",
          "ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"
        ],
        [
          "5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00",
          "9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"
        ],
        [
          "32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58",
          "ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"
        ],
        [
          "e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7",
          "d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"
        ],
        [
          "8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8",
          "c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"
        ],
        [
          "4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e",
          "67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"
        ],
        [
          "3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d",
          "cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"
        ],
        [
          "674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b",
          "299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"
        ],
        [
          "d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f",
          "f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"
        ],
        [
          "30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6",
          "462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"
        ],
        [
          "be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297",
          "62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"
        ],
        [
          "93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a",
          "7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"
        ],
        [
          "b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c",
          "ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"
        ],
        [
          "d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52",
          "4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"
        ],
        [
          "d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb",
          "bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"
        ],
        [
          "463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065",
          "bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"
        ],
        [
          "7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917",
          "603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"
        ],
        [
          "74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9",
          "cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"
        ],
        [
          "30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3",
          "553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"
        ],
        [
          "9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57",
          "712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"
        ],
        [
          "176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66",
          "ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"
        ],
        [
          "75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8",
          "9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"
        ],
        [
          "809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721",
          "9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"
        ],
        [
          "1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180",
          "4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"
        ]
      ]
    }
  }), du;
}
(function(e) {
  var t = e, r = Za, n = cc, i = or, s = i.assert;
  function a(f) {
    f.type === "short" ? this.curve = new n.short(f) : f.type === "edwards" ? this.curve = new n.edwards(f) : this.curve = new n.mont(f), this.g = this.curve.g, this.n = this.curve.n, this.hash = f.hash, s(this.g.validate(), "Invalid curve"), s(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O");
  }
  t.PresetCurve = a;
  function o(f, l) {
    Object.defineProperty(t, f, {
      configurable: !0,
      enumerable: !0,
      get: function() {
        var h = new a(l);
        return Object.defineProperty(t, f, {
          configurable: !0,
          enumerable: !0,
          value: h
        }), h;
      }
    });
  }
  o("p192", {
    type: "short",
    prime: "p192",
    p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
    a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",
    b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",
    n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",
    hash: r.sha256,
    gRed: !1,
    g: [
      "188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012",
      "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"
    ]
  }), o("p224", {
    type: "short",
    prime: "p224",
    p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
    a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",
    b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",
    n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",
    hash: r.sha256,
    gRed: !1,
    g: [
      "b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21",
      "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"
    ]
  }), o("p256", {
    type: "short",
    prime: null,
    p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",
    a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",
    b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",
    n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",
    hash: r.sha256,
    gRed: !1,
    g: [
      "6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296",
      "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"
    ]
  }), o("p384", {
    type: "short",
    prime: null,
    p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",
    a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",
    b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",
    n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",
    hash: r.sha384,
    gRed: !1,
    g: [
      "aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7",
      "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"
    ]
  }), o("p521", {
    type: "short",
    prime: null,
    p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
    a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",
    b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",
    n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",
    hash: r.sha512,
    gRed: !1,
    g: [
      "000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66",
      "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"
    ]
  }), o("curve25519", {
    type: "mont",
    prime: "p25519",
    p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
    a: "76d06",
    b: "1",
    n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
    hash: r.sha256,
    gRed: !1,
    g: [
      "9"
    ]
  }), o("ed25519", {
    type: "edwards",
    prime: "p25519",
    p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
    a: "-1",
    c: "1",
    // -121665 * (121666^(-1)) (mod P)
    d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",
    n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
    hash: r.sha256,
    gRed: !1,
    g: [
      "216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a",
      // 4/5
      "6666666666666666666666666666666666666666666666666666666666666658"
    ]
  });
  var u;
  try {
    u = bw();
  } catch {
    u = void 0;
  }
  o("secp256k1", {
    type: "short",
    prime: "k256",
    p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
    a: "0",
    b: "7",
    n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",
    h: "1",
    hash: r.sha256,
    // Precomputed endomorphism
    beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
    lambda: "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",
    basis: [
      {
        a: "3086d221a7d46bcde86c90e49284eb15",
        b: "-e4437ed6010e88286f547fa90abfe4c3"
      },
      {
        a: "114ca50f7a8e2f3f657c1108d9d44cfd8",
        b: "3086d221a7d46bcde86c90e49284eb15"
      }
    ],
    gRed: !1,
    g: [
      "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
      "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",
      u
    ]
  });
})(Xa);
var ww = Za, qn = fc, zp = Cn;
function Pn(e) {
  if (!(this instanceof Pn))
    return new Pn(e);
  this.hash = e.hash, this.predResist = !!e.predResist, this.outLen = this.hash.outSize, this.minEntropy = e.minEntropy || this.hash.hmacStrength, this._reseed = null, this.reseedInterval = null, this.K = null, this.V = null;
  var t = qn.toArray(e.entropy, e.entropyEnc || "hex"), r = qn.toArray(e.nonce, e.nonceEnc || "hex"), n = qn.toArray(e.pers, e.persEnc || "hex");
  zp(
    t.length >= this.minEntropy / 8,
    "Not enough entropy. Minimum is: " + this.minEntropy + " bits"
  ), this._init(t, r, n);
}
var xw = Pn;
Pn.prototype._init = function(t, r, n) {
  var i = t.concat(r).concat(n);
  this.K = new Array(this.outLen / 8), this.V = new Array(this.outLen / 8);
  for (var s = 0; s < this.V.length; s++)
    this.K[s] = 0, this.V[s] = 1;
  this._update(i), this._reseed = 1, this.reseedInterval = 281474976710656;
};
Pn.prototype._hmac = function() {
  return new ww.hmac(this.hash, this.K);
};
Pn.prototype._update = function(t) {
  var r = this._hmac().update(this.V).update([0]);
  t && (r = r.update(t)), this.K = r.digest(), this.V = this._hmac().update(this.V).digest(), t && (this.K = this._hmac().update(this.V).update([1]).update(t).digest(), this.V = this._hmac().update(this.V).digest());
};
Pn.prototype.reseed = function(t, r, n, i) {
  typeof r != "string" && (i = n, n = r, r = null), t = qn.toArray(t, r), n = qn.toArray(n, i), zp(
    t.length >= this.minEntropy / 8,
    "Not enough entropy. Minimum is: " + this.minEntropy + " bits"
  ), this._update(t.concat(n || [])), this._reseed = 1;
};
Pn.prototype.generate = function(t, r, n, i) {
  if (this._reseed > this.reseedInterval)
    throw new Error("Reseed is required");
  typeof r != "string" && (i = n, n = r, r = null), n && (n = qn.toArray(n, i || "hex"), this._update(n));
  for (var s = []; s.length < t; )
    this.V = this._hmac().update(this.V).digest(), s = s.concat(this.V);
  var a = s.slice(0, t);
  return this._update(n), this._reseed++, qn.encode(a, r);
};
var Sw = ir, Ew = or, Qu = Ew.assert;
function Kt(e, t) {
  this.ec = e, this.priv = null, this.pub = null, t.priv && this._importPrivate(t.priv, t.privEnc), t.pub && this._importPublic(t.pub, t.pubEnc);
}
var Aw = Kt;
Kt.fromPublic = function(t, r, n) {
  return r instanceof Kt ? r : new Kt(t, {
    pub: r,
    pubEnc: n
  });
};
Kt.fromPrivate = function(t, r, n) {
  return r instanceof Kt ? r : new Kt(t, {
    priv: r,
    privEnc: n
  });
};
Kt.prototype.validate = function() {
  var t = this.getPublic();
  return t.isInfinity() ? { result: !1, reason: "Invalid public key" } : t.validate() ? t.mul(this.ec.curve.n).isInfinity() ? { result: !0, reason: null } : { result: !1, reason: "Public key * N != O" } : { result: !1, reason: "Public key is not a point" };
};
Kt.prototype.getPublic = function(t, r) {
  return typeof t == "string" && (r = t, t = null), this.pub || (this.pub = this.ec.g.mul(this.priv)), r ? this.pub.encode(r, t) : this.pub;
};
Kt.prototype.getPrivate = function(t) {
  return t === "hex" ? this.priv.toString(16, 2) : this.priv;
};
Kt.prototype._importPrivate = function(t, r) {
  this.priv = new Sw(t, r || 16), this.priv = this.priv.umod(this.ec.curve.n);
};
Kt.prototype._importPublic = function(t, r) {
  if (t.x || t.y) {
    this.ec.curve.type === "mont" ? Qu(t.x, "Need x coordinate") : (this.ec.curve.type === "short" || this.ec.curve.type === "edwards") && Qu(t.x && t.y, "Need both x and y coordinate"), this.pub = this.ec.curve.point(t.x, t.y);
    return;
  }
  this.pub = this.ec.curve.decodePoint(t, r);
};
Kt.prototype.derive = function(t) {
  return t.validate() || Qu(t.validate(), "public point not validated"), t.mul(this.priv).getX();
};
Kt.prototype.sign = function(t, r, n) {
  return this.ec.sign(t, this, r, n);
};
Kt.prototype.verify = function(t, r) {
  return this.ec.verify(t, r, this);
};
Kt.prototype.inspect = function() {
  return "<Key priv: " + (this.priv && this.priv.toString(16, 2)) + " pub: " + (this.pub && this.pub.inspect()) + " >";
};
var ba = ir, hc = or, _w = hc.assert;
function eo(e, t) {
  if (e instanceof eo)
    return e;
  this._importDER(e, t) || (_w(e.r && e.s, "Signature without r or s"), this.r = new ba(e.r, 16), this.s = new ba(e.s, 16), e.recoveryParam === void 0 ? this.recoveryParam = null : this.recoveryParam = e.recoveryParam);
}
var Tw = eo;
function Pw() {
  this.place = 0;
}
function pu(e, t) {
  var r = e[t.place++];
  if (!(r & 128))
    return r;
  var n = r & 15;
  if (n === 0 || n > 4)
    return !1;
  for (var i = 0, s = 0, a = t.place; s < n; s++, a++)
    i <<= 8, i |= e[a], i >>>= 0;
  return i <= 127 ? !1 : (t.place = a, i);
}
function Eh(e) {
  for (var t = 0, r = e.length - 1; !e[t] && !(e[t + 1] & 128) && t < r; )
    t++;
  return t === 0 ? e : e.slice(t);
}
eo.prototype._importDER = function(t, r) {
  t = hc.toArray(t, r);
  var n = new Pw();
  if (t[n.place++] !== 48)
    return !1;
  var i = pu(t, n);
  if (i === !1 || i + n.place !== t.length || t[n.place++] !== 2)
    return !1;
  var s = pu(t, n);
  if (s === !1)
    return !1;
  var a = t.slice(n.place, s + n.place);
  if (n.place += s, t[n.place++] !== 2)
    return !1;
  var o = pu(t, n);
  if (o === !1 || t.length !== o + n.place)
    return !1;
  var u = t.slice(n.place, o + n.place);
  if (a[0] === 0)
    if (a[1] & 128)
      a = a.slice(1);
    else
      return !1;
  if (u[0] === 0)
    if (u[1] & 128)
      u = u.slice(1);
    else
      return !1;
  return this.r = new ba(a), this.s = new ba(u), this.recoveryParam = null, !0;
};
function vu(e, t) {
  if (t < 128) {
    e.push(t);
    return;
  }
  var r = 1 + (Math.log(t) / Math.LN2 >>> 3);
  for (e.push(r | 128); --r; )
    e.push(t >>> (r << 3) & 255);
  e.push(t);
}
eo.prototype.toDER = function(t) {
  var r = this.r.toArray(), n = this.s.toArray();
  for (r[0] & 128 && (r = [0].concat(r)), n[0] & 128 && (n = [0].concat(n)), r = Eh(r), n = Eh(n); !n[0] && !(n[1] & 128); )
    n = n.slice(1);
  var i = [2];
  vu(i, r.length), i = i.concat(r), i.push(2), vu(i, n.length);
  var s = i.concat(n), a = [48];
  return vu(a, s.length), a = a.concat(s), hc.encode(a, t);
};
var Kn = ir, Wp = xw, Fw = or, gu = Xa, Iw = gs, Gp = Fw.assert, dc = Aw, to = Tw;
function wr(e) {
  if (!(this instanceof wr))
    return new wr(e);
  typeof e == "string" && (Gp(
    Object.prototype.hasOwnProperty.call(gu, e),
    "Unknown curve " + e
  ), e = gu[e]), e instanceof gu.PresetCurve && (e = { curve: e }), this.curve = e.curve.curve, this.n = this.curve.n, this.nh = this.n.ushrn(1), this.g = this.curve.g, this.g = e.curve.g, this.g.precompute(e.curve.n.bitLength() + 1), this.hash = e.hash || e.curve.hash;
}
var Cw = wr;
wr.prototype.keyPair = function(t) {
  return new dc(this, t);
};
wr.prototype.keyFromPrivate = function(t, r) {
  return dc.fromPrivate(this, t, r);
};
wr.prototype.keyFromPublic = function(t, r) {
  return dc.fromPublic(this, t, r);
};
wr.prototype.genKeyPair = function(t) {
  t || (t = {});
  for (var r = new Wp({
    hash: this.hash,
    pers: t.pers,
    persEnc: t.persEnc || "utf8",
    entropy: t.entropy || Iw(this.hash.hmacStrength),
    entropyEnc: t.entropy && t.entropyEnc || "utf8",
    nonce: this.n.toArray()
  }), n = this.n.byteLength(), i = this.n.sub(new Kn(2)); ; ) {
    var s = new Kn(r.generate(n));
    if (!(s.cmp(i) > 0))
      return s.iaddn(1), this.keyFromPrivate(s);
  }
};
wr.prototype._truncateToN = function(t, r) {
  var n = t.byteLength() * 8 - this.n.bitLength();
  return n > 0 && (t = t.ushrn(n)), !r && t.cmp(this.n) >= 0 ? t.sub(this.n) : t;
};
wr.prototype.sign = function(t, r, n, i) {
  typeof n == "object" && (i = n, n = null), i || (i = {}), r = this.keyFromPrivate(r, n), t = this._truncateToN(new Kn(t, 16));
  for (var s = this.n.byteLength(), a = r.getPrivate().toArray("be", s), o = t.toArray("be", s), u = new Wp({
    hash: this.hash,
    entropy: a,
    nonce: o,
    pers: i.pers,
    persEnc: i.persEnc || "utf8"
  }), f = this.n.sub(new Kn(1)), l = 0; ; l++) {
    var h = i.k ? i.k(l) : new Kn(u.generate(this.n.byteLength()));
    if (h = this._truncateToN(h, !0), !(h.cmpn(1) <= 0 || h.cmp(f) >= 0)) {
      var c = this.g.mul(h);
      if (!c.isInfinity()) {
        var d = c.getX(), p = d.umod(this.n);
        if (p.cmpn(0) !== 0) {
          var v = h.invm(this.n).mul(p.mul(r.getPrivate()).iadd(t));
          if (v = v.umod(this.n), v.cmpn(0) !== 0) {
            var m = (c.getY().isOdd() ? 1 : 0) | (d.cmp(p) !== 0 ? 2 : 0);
            return i.canonical && v.cmp(this.nh) > 0 && (v = this.n.sub(v), m ^= 1), new to({ r: p, s: v, recoveryParam: m });
          }
        }
      }
    }
  }
};
wr.prototype.verify = function(t, r, n, i) {
  t = this._truncateToN(new Kn(t, 16)), n = this.keyFromPublic(n, i), r = new to(r, "hex");
  var s = r.r, a = r.s;
  if (s.cmpn(1) < 0 || s.cmp(this.n) >= 0 || a.cmpn(1) < 0 || a.cmp(this.n) >= 0)
    return !1;
  var o = a.invm(this.n), u = o.mul(t).umod(this.n), f = o.mul(s).umod(this.n), l;
  return this.curve._maxwellTrick ? (l = this.g.jmulAdd(u, n.getPublic(), f), l.isInfinity() ? !1 : l.eqXToP(s)) : (l = this.g.mulAdd(u, n.getPublic(), f), l.isInfinity() ? !1 : l.getX().umod(this.n).cmp(s) === 0);
};
wr.prototype.recoverPubKey = function(e, t, r, n) {
  Gp((3 & r) === r, "The recovery param is more than two bits"), t = new to(t, n);
  var i = this.n, s = new Kn(e), a = t.r, o = t.s, u = r & 1, f = r >> 1;
  if (a.cmp(this.curve.p.umod(this.curve.n)) >= 0 && f)
    throw new Error("Unable to find sencond key candinate");
  f ? a = this.curve.pointFromX(a.add(this.curve.n), u) : a = this.curve.pointFromX(a, u);
  var l = t.r.invm(i), h = i.sub(s).mul(l).umod(i), c = o.mul(l).umod(i);
  return this.g.mulAdd(h, a, c);
};
wr.prototype.getKeyRecoveryParam = function(e, t, r, n) {
  if (t = new to(t, n), t.recoveryParam !== null)
    return t.recoveryParam;
  for (var i = 0; i < 4; i++) {
    var s;
    try {
      s = this.recoverPubKey(e, t, i);
    } catch {
      continue;
    }
    if (s.eq(r))
      return i;
  }
  throw new Error("Unable to find valid recovery factor");
};
var Rs = or, Jp = Rs.assert, Ah = Rs.parseBytes, Li = Rs.cachedProperty;
function Mt(e, t) {
  this.eddsa = e, this._secret = Ah(t.secret), e.isPoint(t.pub) ? this._pub = t.pub : this._pubBytes = Ah(t.pub);
}
Mt.fromPublic = function(t, r) {
  return r instanceof Mt ? r : new Mt(t, { pub: r });
};
Mt.fromSecret = function(t, r) {
  return r instanceof Mt ? r : new Mt(t, { secret: r });
};
Mt.prototype.secret = function() {
  return this._secret;
};
Li(Mt, "pubBytes", function() {
  return this.eddsa.encodePoint(this.pub());
});
Li(Mt, "pub", function() {
  return this._pubBytes ? this.eddsa.decodePoint(this._pubBytes) : this.eddsa.g.mul(this.priv());
});
Li(Mt, "privBytes", function() {
  var t = this.eddsa, r = this.hash(), n = t.encodingLength - 1, i = r.slice(0, t.encodingLength);
  return i[0] &= 248, i[n] &= 127, i[n] |= 64, i;
});
Li(Mt, "priv", function() {
  return this.eddsa.decodeInt(this.privBytes());
});
Li(Mt, "hash", function() {
  return this.eddsa.hash().update(this.secret()).digest();
});
Li(Mt, "messagePrefix", function() {
  return this.hash().slice(this.eddsa.encodingLength);
});
Mt.prototype.sign = function(t) {
  return Jp(this._secret, "KeyPair can only verify"), this.eddsa.sign(t, this);
};
Mt.prototype.verify = function(t, r) {
  return this.eddsa.verify(t, r, this);
};
Mt.prototype.getSecret = function(t) {
  return Jp(this._secret, "KeyPair is public only"), Rs.encode(this.secret(), t);
};
Mt.prototype.getPublic = function(t) {
  return Rs.encode(this.pubBytes(), t);
};
var Rw = Mt, Ow = ir, ro = or, Dw = ro.assert, no = ro.cachedProperty, Mw = ro.parseBytes;
function Jn(e, t) {
  this.eddsa = e, typeof t != "object" && (t = Mw(t)), Array.isArray(t) && (t = {
    R: t.slice(0, e.encodingLength),
    S: t.slice(e.encodingLength)
  }), Dw(t.R && t.S, "Signature without R or S"), e.isPoint(t.R) && (this._R = t.R), t.S instanceof Ow && (this._S = t.S), this._Rencoded = Array.isArray(t.R) ? t.R : t.Rencoded, this._Sencoded = Array.isArray(t.S) ? t.S : t.Sencoded;
}
no(Jn, "S", function() {
  return this.eddsa.decodeInt(this.Sencoded());
});
no(Jn, "R", function() {
  return this.eddsa.decodePoint(this.Rencoded());
});
no(Jn, "Rencoded", function() {
  return this.eddsa.encodePoint(this.R());
});
no(Jn, "Sencoded", function() {
  return this.eddsa.encodeInt(this.S());
});
Jn.prototype.toBytes = function() {
  return this.Rencoded().concat(this.Sencoded());
};
Jn.prototype.toHex = function() {
  return ro.encode(this.toBytes(), "hex").toUpperCase();
};
var Bw = Jn, Nw = Za, kw = Xa, Ii = or, jw = Ii.assert, Yp = Ii.parseBytes, Xp = Rw, _h = Bw;
function Qt(e) {
  if (jw(e === "ed25519", "only tested with ed25519 so far"), !(this instanceof Qt))
    return new Qt(e);
  e = kw[e].curve, this.curve = e, this.g = e.g, this.g.precompute(e.n.bitLength() + 1), this.pointClass = e.point().constructor, this.encodingLength = Math.ceil(e.n.bitLength() / 8), this.hash = Nw.sha512;
}
var Lw = Qt;
Qt.prototype.sign = function(t, r) {
  t = Yp(t);
  var n = this.keyFromSecret(r), i = this.hashInt(n.messagePrefix(), t), s = this.g.mul(i), a = this.encodePoint(s), o = this.hashInt(a, n.pubBytes(), t).mul(n.priv()), u = i.add(o).umod(this.curve.n);
  return this.makeSignature({ R: s, S: u, Rencoded: a });
};
Qt.prototype.verify = function(t, r, n) {
  t = Yp(t), r = this.makeSignature(r);
  var i = this.keyFromPublic(n), s = this.hashInt(r.Rencoded(), i.pubBytes(), t), a = this.g.mul(r.S()), o = r.R().add(i.pub().mul(s));
  return o.eq(a);
};
Qt.prototype.hashInt = function() {
  for (var t = this.hash(), r = 0; r < arguments.length; r++)
    t.update(arguments[r]);
  return Ii.intFromLE(t.digest()).umod(this.curve.n);
};
Qt.prototype.keyFromPublic = function(t) {
  return Xp.fromPublic(this, t);
};
Qt.prototype.keyFromSecret = function(t) {
  return Xp.fromSecret(this, t);
};
Qt.prototype.makeSignature = function(t) {
  return t instanceof _h ? t : new _h(this, t);
};
Qt.prototype.encodePoint = function(t) {
  var r = t.getY().toArray("le", this.encodingLength);
  return r[this.encodingLength - 1] |= t.getX().isOdd() ? 128 : 0, r;
};
Qt.prototype.decodePoint = function(t) {
  t = Ii.parseBytes(t);
  var r = t.length - 1, n = t.slice(0, r).concat(t[r] & -129), i = (t[r] & 128) !== 0, s = Ii.intFromLE(n);
  return this.curve.pointFromY(s, i);
};
Qt.prototype.encodeInt = function(t) {
  return t.toArray("le", this.encodingLength);
};
Qt.prototype.decodeInt = function(t) {
  return Ii.intFromLE(t);
};
Qt.prototype.isPoint = function(t) {
  return t instanceof this.pointClass;
};
(function(e) {
  var t = e;
  t.version = N2.version, t.utils = or, t.rand = gs, t.curve = cc, t.curves = Xa, t.ec = Cw, t.eddsa = Lw;
})(Tp);
var Vw = hn.bignum, Hw = vs.Buffer, Zp = function(t, r) {
  var n = Hw.from(t, "base64"), i = t = new Vw(n, 10, "be").iabs();
  return r && n.fill(0), i;
}, Qp = hn.define(
  "AlgorithmIdentifer",
  /* @this */
  function() {
    this.seq().obj(
      this.key("algorithm").objid(),
      this.key("parameters").optional().any()
    );
  }
), Uw = Qp, e1 = hn.define(
  "PublicKeyInfo",
  /* @this */
  function() {
    this.seq().obj(
      this.key("algorithm").use(Uw),
      this.key("PublicKey").bitstr()
    );
  }
), pc = hn.define(
  "Version",
  /* @this */
  function() {
    this.int();
  }
), qw = Qp, Kw = pc, t1 = hn.define(
  "PrivateKeyInfo",
  /* @this */
  function() {
    this.seq().obj(
      this.key("version").use(Kw),
      this.key("privateKeyAlgorithm").use(qw),
      this.key("privateKey").octstr(),
      this.key("attributes").optional().any()
    );
  }
), r1 = hn, Th = vs.Buffer, $w = Tp.ec, yu = Zp, zw = e1, Ww = t1, Gw = pc, Jw = r1.define(
  "ECParameters",
  /* @this */
  function() {
    this.choice({
      namedCurve: this.objid()
    });
  }
), Yw = 1, Xw = r1.define(
  "ECPrivateKey",
  /* @this */
  function() {
    this.seq().obj(
      this.key("version").use(Gw),
      this.key("privateKey").octstr(),
      this.key("parameters").explicit(0).optional().any(),
      this.key("publicKey").explicit(1).optional().bitstr()
    );
  }
), Zw = {
  "P-256": "p256",
  "P-384": "p384",
  "P-521": "p521"
}, ef = {
  "P-256": [1, 2, 840, 10045, 3, 1, 7],
  "P-384": [1, 3, 132, 0, 34],
  "P-521": [1, 3, 132, 0, 35]
}, tf = {}, rf = {};
Object.keys(ef).forEach(function(e) {
  tf[e] = Jw.encode({
    type: "namedCurve",
    value: ef[e]
  }, "der"), rf[e] = {
    algorithm: [1, 2, 840, 10045, 2, 1],
    parameters: tf[e]
  };
});
ef = null;
function Qw(e, t) {
  if (typeof e.crv != "string")
    throw new TypeError('Expected "jwk.crv" to be a String');
  var r = typeof e.d == "string", n = r ? ["undefined", "string"] : ["string"];
  if (n.indexOf(typeof e.x) === -1)
    throw new TypeError('Expected "jwk.x" to be a String');
  if (n.indexOf(typeof e.y) === -1)
    throw new TypeError('Expected "jwk.y" to be a String');
  if (t.private && !r)
    throw new TypeError('Expected "jwk.d" to be a String');
  var i = Zw[e.crv];
  if (!i)
    throw new Error('Unsupported curve "' + e.crv + '"');
  var s = new $w(i), a = {}, o = e.x && e.y;
  o && (a.pub = {
    x: yu(e.x, !1),
    y: yu(e.y, !1)
  }), (t.private || !o) && (a.priv = yu(e.d, !0)), a = s.keyPair(a);
  var u = a.validate();
  if (!u.result)
    throw new Error('Invalid key for curve: "' + u.reason + '"');
  var f = e4(e.crv, a, t);
  return f;
}
function e4(e, t, r) {
  var n = !1, i = t.getPublic(n, "hex");
  i = Th.from(i, "hex"), i = {
    unused: 0,
    data: i
  };
  var s;
  if (r.private) {
    var a = t.getPrivate("hex");
    a = Th.from(a, "hex"), s = Ww.encode({
      version: 0,
      privateKeyAlgorithm: rf[e],
      privateKey: Xw.encode({
        version: Yw,
        privateKey: a,
        parameters: tf[e],
        publicKey: i
      }, "der")
    }, "pem", {
      label: "PRIVATE KEY"
    }), a.fill(0);
  } else
    s = zw.encode({
      algorithm: rf[e],
      PublicKey: i
    }, "pem", {
      label: "PUBLIC KEY"
    });
  return s.slice(-1) !== `
` && (s += `
`), s;
}
var t4 = Qw, n1 = hn, Nr = Zp, r4 = e1, n4 = t1, i4 = pc, s4 = n1.define(
  "RSAPrivateKey",
  /* @this */
  function() {
    this.seq().obj(
      this.key("version").use(i4),
      this.key("modulus").int(),
      this.key("publicExponent").int(),
      this.key("privateExponent").int(),
      this.key("prime1").int(),
      this.key("prime2").int(),
      this.key("exponent1").int(),
      this.key("exponent2").int(),
      this.key("coefficient").int()
    );
  }
), a4 = n1.define(
  "RSAPublicKey",
  /* @this */
  function() {
    this.seq().obj(
      this.key("modulus").int(),
      this.key("publicExponent").int()
    );
  }
), Ph = {
  algorithm: [1, 2, 840, 113549, 1, 1, 1],
  parameters: [5, 0]
};
function o4(e, t) {
  if (typeof e.e != "string")
    throw new TypeError('Expected "jwk.e" to be a String');
  if (typeof e.n != "string")
    throw new TypeError('Expected "jwk.n" to be a String');
  if (t.private) {
    if (typeof e.d != "string")
      throw new TypeError('Expected "jwk.d" to be a String');
    if (typeof e.p != "string")
      throw new TypeError('Expected "jwk.p" to be a String');
    if (typeof e.q != "string")
      throw new TypeError('Expected "jwk.q" to be a String');
    if (typeof e.dp != "string")
      throw new TypeError('Expected "jwk.dp" to be a String');
    if (typeof e.dq != "string")
      throw new TypeError('Expected "jwk.dq" to be a String');
    if (typeof e.qi != "string")
      throw new TypeError('Expected "jwk.qi" to be a String');
  }
  var r;
  return t.private ? r = n4.encode({
    version: 0,
    privateKeyAlgorithm: Ph,
    privateKey: s4.encode({
      version: 0,
      modulus: Nr(e.n, !1),
      publicExponent: Nr(e.e, !1),
      privateExponent: Nr(e.d, !0),
      prime1: Nr(e.p, !0),
      prime2: Nr(e.q, !0),
      exponent1: Nr(e.dp, !0),
      exponent2: Nr(e.dq, !0),
      coefficient: Nr(e.qi, !0)
    }, "der")
  }, "pem", {
    label: "PRIVATE KEY"
  }) : r = r4.encode({
    algorithm: Ph,
    PublicKey: {
      unused: 0,
      data: a4.encode({
        modulus: Nr(e.n, !1),
        publicExponent: Nr(e.e, !1)
      }, "der")
    }
  }, "pem", {
    label: "PUBLIC KEY"
  }), r.slice(-1) !== `
` && (r += `
`), r;
}
var u4 = o4, f4 = t4, c4 = u4;
function l4(e, t) {
  if (typeof e != "object" || e === null)
    throw new TypeError('Expected "jwk" to be an Object');
  var r = e.kty;
  if (typeof r != "string")
    throw new TypeError('Expected "jwk.kty" to be a String');
  switch (t = t || {}, t.private = t.private === !0, r) {
    case "EC":
      return f4(e, t);
    case "RSA":
      return c4(e, t);
    default:
      throw new Error('Unsupported key type "' + r + '"');
  }
}
var Fh = l4, ys = {};
ys.userAgent = !1;
var ni = {};
/*! CryptoJS v3.1.2 core-fix.js
 * code.google.com/p/crypto-js
 * (c) 2009-2013 by Jeff Mott. All rights reserved.
 * code.google.com/p/crypto-js/wiki/License
 * THIS IS FIX of 'core.js' to fix Hmac issue.
 * https://code.google.com/p/crypto-js/issues/detail?id=84
 * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
 */
var Ee = Ee || function(e, t) {
  var r = {}, n = r.lib = {}, i = n.Base = function() {
    function c() {
    }
    return { extend: function(d) {
      c.prototype = this;
      var p = new c();
      return d && p.mixIn(d), p.hasOwnProperty("init") || (p.init = function() {
        p.$super.init.apply(this, arguments);
      }), p.init.prototype = p, p.$super = this, p;
    }, create: function() {
      var d = this.extend();
      return d.init.apply(d, arguments), d;
    }, init: function() {
    }, mixIn: function(d) {
      for (var p in d)
        d.hasOwnProperty(p) && (this[p] = d[p]);
      d.hasOwnProperty("toString") && (this.toString = d.toString);
    }, clone: function() {
      return this.init.prototype.extend(this);
    } };
  }(), s = n.WordArray = i.extend({ init: function(c, d) {
    c = this.words = c || [], d != t ? this.sigBytes = d : this.sigBytes = c.length * 4;
  }, toString: function(c) {
    return (c || o).stringify(this);
  }, concat: function(c) {
    var d = this.words, p = c.words, v = this.sigBytes, m = c.sigBytes;
    if (this.clamp(), v % 4)
      for (var b = 0; b < m; b++) {
        var A = p[b >>> 2] >>> 24 - b % 4 * 8 & 255;
        d[v + b >>> 2] |= A << 24 - (v + b) % 4 * 8;
      }
    else
      for (var b = 0; b < m; b += 4)
        d[v + b >>> 2] = p[b >>> 2];
    return this.sigBytes += m, this;
  }, clamp: function() {
    var c = this.words, d = this.sigBytes;
    c[d >>> 2] &= 4294967295 << 32 - d % 4 * 8, c.length = e.ceil(d / 4);
  }, clone: function() {
    var c = i.clone.call(this);
    return c.words = this.words.slice(0), c;
  }, random: function(c) {
    for (var d = [], p = 0; p < c; p += 4)
      d.push(e.random() * 4294967296 | 0);
    return new s.init(d, c);
  } }), a = r.enc = {}, o = a.Hex = { stringify: function(c) {
    for (var d = c.words, p = c.sigBytes, v = [], m = 0; m < p; m++) {
      var b = d[m >>> 2] >>> 24 - m % 4 * 8 & 255;
      v.push((b >>> 4).toString(16)), v.push((b & 15).toString(16));
    }
    return v.join("");
  }, parse: function(c) {
    for (var d = c.length, p = [], v = 0; v < d; v += 2)
      p[v >>> 3] |= parseInt(c.substr(v, 2), 16) << 24 - v % 8 * 4;
    return new s.init(p, d / 2);
  } }, u = a.Latin1 = { stringify: function(c) {
    for (var d = c.words, p = c.sigBytes, v = [], m = 0; m < p; m++) {
      var b = d[m >>> 2] >>> 24 - m % 4 * 8 & 255;
      v.push(String.fromCharCode(b));
    }
    return v.join("");
  }, parse: function(c) {
    for (var d = c.length, p = [], v = 0; v < d; v++)
      p[v >>> 2] |= (c.charCodeAt(v) & 255) << 24 - v % 4 * 8;
    return new s.init(p, d);
  } }, f = a.Utf8 = { stringify: function(c) {
    try {
      return decodeURIComponent(escape(u.stringify(c)));
    } catch {
      throw new Error("Malformed UTF-8 data");
    }
  }, parse: function(c) {
    return u.parse(unescape(encodeURIComponent(c)));
  } }, l = n.BufferedBlockAlgorithm = i.extend({ reset: function() {
    this._data = new s.init(), this._nDataBytes = 0;
  }, _append: function(c) {
    typeof c == "string" && (c = f.parse(c)), this._data.concat(c), this._nDataBytes += c.sigBytes;
  }, _process: function(c) {
    var d = this._data, p = d.words, v = d.sigBytes, m = this.blockSize, b = m * 4, A = v / b;
    c ? A = e.ceil(A) : A = e.max((A | 0) - this._minBufferSize, 0);
    var D = A * m, k = e.min(D * 4, v);
    if (D) {
      for (var L = 0; L < D; L += m)
        this._doProcessBlock(p, L);
      var _ = p.splice(0, D);
      d.sigBytes -= k;
    }
    return new s.init(_, k);
  }, clone: function() {
    var c = i.clone.call(this);
    return c._data = this._data.clone(), c;
  }, _minBufferSize: 0 });
  n.Hasher = l.extend({ cfg: i.extend(), init: function(c) {
    this.cfg = this.cfg.extend(c), this.reset();
  }, reset: function() {
    l.reset.call(this), this._doReset();
  }, update: function(c) {
    return this._append(c), this._process(), this;
  }, finalize: function(c) {
    c && this._append(c);
    var d = this._doFinalize();
    return d;
  }, blockSize: 512 / 32, _createHelper: function(c) {
    return function(d, p) {
      return new c.init(p).finalize(d);
    };
  }, _createHmacHelper: function(c) {
    return function(d, p) {
      return new h.HMAC.init(c, p).finalize(d);
    };
  } });
  var h = r.algo = {};
  return r;
}(Math);
(function(e) {
  var i = Ee, t = i.lib, r = t.Base, n = t.WordArray, i = i.x64 = {};
  i.Word = r.extend({ init: function(s, a) {
    this.high = s, this.low = a;
  } }), i.WordArray = r.extend({ init: function(s, a) {
    s = this.words = s || [], this.sigBytes = a != e ? a : 8 * s.length;
  }, toX32: function() {
    for (var s = this.words, a = s.length, o = [], u = 0; u < a; u++) {
      var f = s[u];
      o.push(f.high), o.push(f.low);
    }
    return n.create(o, this.sigBytes);
  }, clone: function() {
    for (var s = r.clone.call(this), a = s.words = this.words.slice(0), o = a.length, u = 0; u < o; u++)
      a[u] = a[u].clone();
    return s;
  } });
})();
Ee.lib.Cipher || function(e) {
  var d = Ee, t = d.lib, r = t.Base, n = t.WordArray, i = t.BufferedBlockAlgorithm, s = d.enc.Base64, a = d.algo.EvpKDF, o = t.Cipher = i.extend({ cfg: r.extend(), createEncryptor: function(v, m) {
    return this.create(this._ENC_XFORM_MODE, v, m);
  }, createDecryptor: function(v, m) {
    return this.create(this._DEC_XFORM_MODE, v, m);
  }, init: function(v, m, b) {
    this.cfg = this.cfg.extend(b), this._xformMode = v, this._key = m, this.reset();
  }, reset: function() {
    i.reset.call(this), this._doReset();
  }, process: function(v) {
    return this._append(v), this._process();
  }, finalize: function(v) {
    return v && this._append(v), this._doFinalize();
  }, keySize: 4, ivSize: 4, _ENC_XFORM_MODE: 1, _DEC_XFORM_MODE: 2, _createHelper: function(v) {
    return { encrypt: function(m, b, A) {
      return (typeof b == "string" ? p : c).encrypt(v, m, b, A);
    }, decrypt: function(m, b, A) {
      return (typeof b == "string" ? p : c).decrypt(v, m, b, A);
    } };
  } });
  t.StreamCipher = o.extend({ _doFinalize: function() {
    return this._process(!0);
  }, blockSize: 1 });
  var h = d.mode = {}, u = function(v, m, b) {
    var A = this._iv;
    A ? this._iv = e : A = this._prevBlock;
    for (var D = 0; D < b; D++)
      v[m + D] ^= A[D];
  }, f = (t.BlockCipherMode = r.extend({ createEncryptor: function(v, m) {
    return this.Encryptor.create(v, m);
  }, createDecryptor: function(v, m) {
    return this.Decryptor.create(v, m);
  }, init: function(v, m) {
    this._cipher = v, this._iv = m;
  } })).extend();
  f.Encryptor = f.extend({ processBlock: function(v, m) {
    var b = this._cipher, A = b.blockSize;
    u.call(this, v, m, A), b.encryptBlock(v, m), this._prevBlock = v.slice(m, m + A);
  } }), f.Decryptor = f.extend({ processBlock: function(v, m) {
    var b = this._cipher, A = b.blockSize, D = v.slice(m, m + A);
    b.decryptBlock(
      v,
      m
    ), u.call(this, v, m, A), this._prevBlock = D;
  } }), h = h.CBC = f, f = (d.pad = {}).Pkcs7 = { pad: function(v, m) {
    for (var b = 4 * m, b = b - v.sigBytes % b, A = b << 24 | b << 16 | b << 8 | b, D = [], k = 0; k < b; k += 4)
      D.push(A);
    b = n.create(D, b), v.concat(b);
  }, unpad: function(v) {
    v.sigBytes -= v.words[v.sigBytes - 1 >>> 2] & 255;
  } }, t.BlockCipher = o.extend({ cfg: o.cfg.extend({ mode: h, padding: f }), reset: function() {
    o.reset.call(this);
    var m = this.cfg, v = m.iv, m = m.mode;
    if (this._xformMode == this._ENC_XFORM_MODE)
      var b = m.createEncryptor;
    else
      b = m.createDecryptor, this._minBufferSize = 1;
    this._mode = b.call(m, this, v && v.words);
  }, _doProcessBlock: function(v, m) {
    this._mode.processBlock(v, m);
  }, _doFinalize: function() {
    var v = this.cfg.padding;
    if (this._xformMode == this._ENC_XFORM_MODE) {
      v.pad(this._data, this.blockSize);
      var m = this._process(!0);
    } else
      m = this._process(!0), v.unpad(m);
    return m;
  }, blockSize: 4 });
  var l = t.CipherParams = r.extend({ init: function(v) {
    this.mixIn(v);
  }, toString: function(v) {
    return (v || this.formatter).stringify(this);
  } }), h = (d.format = {}).OpenSSL = { stringify: function(v) {
    var m = v.ciphertext;
    return v = v.salt, (v ? n.create([1398893684, 1701076831]).concat(v).concat(m) : m).toString(s);
  }, parse: function(v) {
    v = s.parse(v);
    var m = v.words;
    if (m[0] == 1398893684 && m[1] == 1701076831) {
      var b = n.create(m.slice(2, 4));
      m.splice(0, 4), v.sigBytes -= 16;
    }
    return l.create({ ciphertext: v, salt: b });
  } }, c = t.SerializableCipher = r.extend({ cfg: r.extend({ format: h }), encrypt: function(v, m, b, A) {
    A = this.cfg.extend(A);
    var D = v.createEncryptor(b, A);
    return m = D.finalize(m), D = D.cfg, l.create({
      ciphertext: m,
      key: b,
      iv: D.iv,
      algorithm: v,
      mode: D.mode,
      padding: D.padding,
      blockSize: v.blockSize,
      formatter: A.format
    });
  }, decrypt: function(v, m, b, A) {
    return A = this.cfg.extend(A), m = this._parse(m, A.format), v.createDecryptor(b, A).finalize(m.ciphertext);
  }, _parse: function(v, m) {
    return typeof v == "string" ? m.parse(v, this) : v;
  } }), d = (d.kdf = {}).OpenSSL = { execute: function(v, m, b, A) {
    return A || (A = n.random(8)), v = a.create({ keySize: m + b }).compute(v, A), b = n.create(v.words.slice(m), 4 * b), v.sigBytes = 4 * m, l.create({ key: v, iv: b, salt: A });
  } }, p = t.PasswordBasedCipher = c.extend({ cfg: c.cfg.extend({ kdf: d }), encrypt: function(v, m, b, A) {
    return A = this.cfg.extend(A), b = A.kdf.execute(b, v.keySize, v.ivSize), A.iv = b.iv, v = c.encrypt.call(this, v, m, b.key, A), v.mixIn(b), v;
  }, decrypt: function(v, m, b, A) {
    return A = this.cfg.extend(A), m = this._parse(m, A.format), b = A.kdf.execute(b, v.keySize, v.ivSize, m.salt), A.iv = b.iv, c.decrypt.call(this, v, m, b.key, A);
  } });
}();
(function() {
  for (var e = Ee, t = e.lib.BlockCipher, _ = e.algo, r = [], n = [], i = [], s = [], a = [], o = [], u = [], f = [], l = [], h = [], c = [], d = 0; 256 > d; d++)
    c[d] = 128 > d ? d << 1 : d << 1 ^ 283;
  for (var p = 0, v = 0, d = 0; 256 > d; d++) {
    var m = v ^ v << 1 ^ v << 2 ^ v << 3 ^ v << 4, m = m >>> 8 ^ m & 255 ^ 99;
    r[p] = m, n[m] = p;
    var b = c[p], A = c[b], D = c[A], k = 257 * c[m] ^ 16843008 * m;
    i[p] = k << 24 | k >>> 8, s[p] = k << 16 | k >>> 16, a[p] = k << 8 | k >>> 24, o[p] = k, k = 16843009 * D ^ 65537 * A ^ 257 * b ^ 16843008 * p, u[m] = k << 24 | k >>> 8, f[m] = k << 16 | k >>> 16, l[m] = k << 8 | k >>> 24, h[m] = k, p ? (p = b ^ c[c[c[D ^ b]]], v ^= c[c[v]]) : p = v = 1;
  }
  var L = [
    0,
    1,
    2,
    4,
    8,
    16,
    32,
    64,
    128,
    27,
    54
  ], _ = _.AES = t.extend({ _doReset: function() {
    for (var P = this._key, F = P.words, O = P.sigBytes / 4, P = 4 * ((this._nRounds = O + 6) + 1), M = this._keySchedule = [], C = 0; C < P; C++)
      if (C < O)
        M[C] = F[C];
      else {
        var y = M[C - 1];
        C % O ? 6 < O && C % O == 4 && (y = r[y >>> 24] << 24 | r[y >>> 16 & 255] << 16 | r[y >>> 8 & 255] << 8 | r[y & 255]) : (y = y << 8 | y >>> 24, y = r[y >>> 24] << 24 | r[y >>> 16 & 255] << 16 | r[y >>> 8 & 255] << 8 | r[y & 255], y ^= L[C / O | 0] << 24), M[C] = M[C - O] ^ y;
      }
    for (F = this._invKeySchedule = [], O = 0; O < P; O++)
      C = P - O, y = O % 4 ? M[C] : M[C - 4], F[O] = 4 > O || 4 >= C ? y : u[r[y >>> 24]] ^ f[r[y >>> 16 & 255]] ^ l[r[y >>> 8 & 255]] ^ h[r[y & 255]];
  }, encryptBlock: function(F, O) {
    this._doCryptBlock(F, O, this._keySchedule, i, s, a, o, r);
  }, decryptBlock: function(F, O) {
    var P = F[O + 1];
    F[O + 1] = F[O + 3], F[O + 3] = P, this._doCryptBlock(F, O, this._invKeySchedule, u, f, l, h, n), P = F[O + 1], F[O + 1] = F[O + 3], F[O + 3] = P;
  }, _doCryptBlock: function(F, O, P, M, C, y, E, T) {
    for (var R = this._nRounds, $ = F[O] ^ P[0], G = F[O + 1] ^ P[1], z = F[O + 2] ^ P[2], V = F[O + 3] ^ P[3], N = 4, H = 1; H < R; H++)
      var Z = M[$ >>> 24] ^ C[G >>> 16 & 255] ^ y[z >>> 8 & 255] ^ E[V & 255] ^ P[N++], K = M[G >>> 24] ^ C[z >>> 16 & 255] ^ y[V >>> 8 & 255] ^ E[$ & 255] ^ P[N++], x = M[z >>> 24] ^ C[V >>> 16 & 255] ^ y[$ >>> 8 & 255] ^ E[G & 255] ^ P[N++], V = M[V >>> 24] ^ C[$ >>> 16 & 255] ^ y[G >>> 8 & 255] ^ E[z & 255] ^ P[N++], $ = Z, G = K, z = x;
    Z = (T[$ >>> 24] << 24 | T[G >>> 16 & 255] << 16 | T[z >>> 8 & 255] << 8 | T[V & 255]) ^ P[N++], K = (T[G >>> 24] << 24 | T[z >>> 16 & 255] << 16 | T[V >>> 8 & 255] << 8 | T[$ & 255]) ^ P[N++], x = (T[z >>> 24] << 24 | T[V >>> 16 & 255] << 16 | T[$ >>> 8 & 255] << 8 | T[G & 255]) ^ P[N++], V = (T[V >>> 24] << 24 | T[$ >>> 16 & 255] << 16 | T[G >>> 8 & 255] << 8 | T[z & 255]) ^ P[N++], F[O] = Z, F[O + 1] = K, F[O + 2] = x, F[O + 3] = V;
  }, keySize: 8 });
  e.AES = t._createHelper(_);
})();
(function() {
  function e(c, d) {
    var p = (this._lBlock >>> c ^ this._rBlock) & d;
    this._rBlock ^= p, this._lBlock ^= p << c;
  }
  function t(c, d) {
    var p = (this._rBlock >>> c ^ this._lBlock) & d;
    this._lBlock ^= p, this._rBlock ^= p << c;
  }
  var r = Ee, i = r.lib, n = i.WordArray, i = i.BlockCipher, s = r.algo, a = [57, 49, 41, 33, 25, 17, 9, 1, 58, 50, 42, 34, 26, 18, 10, 2, 59, 51, 43, 35, 27, 19, 11, 3, 60, 52, 44, 36, 63, 55, 47, 39, 31, 23, 15, 7, 62, 54, 46, 38, 30, 22, 14, 6, 61, 53, 45, 37, 29, 21, 13, 5, 28, 20, 12, 4], o = [
    14,
    17,
    11,
    24,
    1,
    5,
    3,
    28,
    15,
    6,
    21,
    10,
    23,
    19,
    12,
    4,
    26,
    8,
    16,
    7,
    27,
    20,
    13,
    2,
    41,
    52,
    31,
    37,
    47,
    55,
    30,
    40,
    51,
    45,
    33,
    48,
    44,
    49,
    39,
    56,
    34,
    53,
    46,
    42,
    50,
    36,
    29,
    32
  ], u = [1, 2, 4, 6, 8, 10, 12, 14, 15, 17, 19, 21, 23, 25, 27, 28], f = [{
    0: 8421888,
    268435456: 32768,
    536870912: 8421378,
    805306368: 2,
    1073741824: 512,
    1342177280: 8421890,
    1610612736: 8389122,
    1879048192: 8388608,
    2147483648: 514,
    2415919104: 8389120,
    2684354560: 33280,
    2952790016: 8421376,
    3221225472: 32770,
    3489660928: 8388610,
    3758096384: 0,
    4026531840: 33282,
    134217728: 0,
    402653184: 8421890,
    671088640: 33282,
    939524096: 32768,
    1207959552: 8421888,
    1476395008: 512,
    1744830464: 8421378,
    2013265920: 2,
    2281701376: 8389120,
    2550136832: 33280,
    2818572288: 8421376,
    3087007744: 8389122,
    3355443200: 8388610,
    3623878656: 32770,
    3892314112: 514,
    4160749568: 8388608,
    1: 32768,
    268435457: 2,
    536870913: 8421888,
    805306369: 8388608,
    1073741825: 8421378,
    1342177281: 33280,
    1610612737: 512,
    1879048193: 8389122,
    2147483649: 8421890,
    2415919105: 8421376,
    2684354561: 8388610,
    2952790017: 33282,
    3221225473: 514,
    3489660929: 8389120,
    3758096385: 32770,
    4026531841: 0,
    134217729: 8421890,
    402653185: 8421376,
    671088641: 8388608,
    939524097: 512,
    1207959553: 32768,
    1476395009: 8388610,
    1744830465: 2,
    2013265921: 33282,
    2281701377: 32770,
    2550136833: 8389122,
    2818572289: 514,
    3087007745: 8421888,
    3355443201: 8389120,
    3623878657: 0,
    3892314113: 33280,
    4160749569: 8421378
  }, {
    0: 1074282512,
    16777216: 16384,
    33554432: 524288,
    50331648: 1074266128,
    67108864: 1073741840,
    83886080: 1074282496,
    100663296: 1073758208,
    117440512: 16,
    134217728: 540672,
    150994944: 1073758224,
    167772160: 1073741824,
    184549376: 540688,
    201326592: 524304,
    218103808: 0,
    234881024: 16400,
    251658240: 1074266112,
    8388608: 1073758208,
    25165824: 540688,
    41943040: 16,
    58720256: 1073758224,
    75497472: 1074282512,
    92274688: 1073741824,
    109051904: 524288,
    125829120: 1074266128,
    142606336: 524304,
    159383552: 0,
    176160768: 16384,
    192937984: 1074266112,
    209715200: 1073741840,
    226492416: 540672,
    243269632: 1074282496,
    260046848: 16400,
    268435456: 0,
    285212672: 1074266128,
    301989888: 1073758224,
    318767104: 1074282496,
    335544320: 1074266112,
    352321536: 16,
    369098752: 540688,
    385875968: 16384,
    402653184: 16400,
    419430400: 524288,
    436207616: 524304,
    452984832: 1073741840,
    469762048: 540672,
    486539264: 1073758208,
    503316480: 1073741824,
    520093696: 1074282512,
    276824064: 540688,
    293601280: 524288,
    310378496: 1074266112,
    327155712: 16384,
    343932928: 1073758208,
    360710144: 1074282512,
    377487360: 16,
    394264576: 1073741824,
    411041792: 1074282496,
    427819008: 1073741840,
    444596224: 1073758224,
    461373440: 524304,
    478150656: 0,
    494927872: 16400,
    511705088: 1074266128,
    528482304: 540672
  }, {
    0: 260,
    1048576: 0,
    2097152: 67109120,
    3145728: 65796,
    4194304: 65540,
    5242880: 67108868,
    6291456: 67174660,
    7340032: 67174400,
    8388608: 67108864,
    9437184: 67174656,
    10485760: 65792,
    11534336: 67174404,
    12582912: 67109124,
    13631488: 65536,
    14680064: 4,
    15728640: 256,
    524288: 67174656,
    1572864: 67174404,
    2621440: 0,
    3670016: 67109120,
    4718592: 67108868,
    5767168: 65536,
    6815744: 65540,
    7864320: 260,
    8912896: 4,
    9961472: 256,
    11010048: 67174400,
    12058624: 65796,
    13107200: 65792,
    14155776: 67109124,
    15204352: 67174660,
    16252928: 67108864,
    16777216: 67174656,
    17825792: 65540,
    18874368: 65536,
    19922944: 67109120,
    20971520: 256,
    22020096: 67174660,
    23068672: 67108868,
    24117248: 0,
    25165824: 67109124,
    26214400: 67108864,
    27262976: 4,
    28311552: 65792,
    29360128: 67174400,
    30408704: 260,
    31457280: 65796,
    32505856: 67174404,
    17301504: 67108864,
    18350080: 260,
    19398656: 67174656,
    20447232: 0,
    21495808: 65540,
    22544384: 67109120,
    23592960: 256,
    24641536: 67174404,
    25690112: 65536,
    26738688: 67174660,
    27787264: 65796,
    28835840: 67108868,
    29884416: 67109124,
    30932992: 67174400,
    31981568: 4,
    33030144: 65792
  }, {
    0: 2151682048,
    65536: 2147487808,
    131072: 4198464,
    196608: 2151677952,
    262144: 0,
    327680: 4198400,
    393216: 2147483712,
    458752: 4194368,
    524288: 2147483648,
    589824: 4194304,
    655360: 64,
    720896: 2147487744,
    786432: 2151678016,
    851968: 4160,
    917504: 4096,
    983040: 2151682112,
    32768: 2147487808,
    98304: 64,
    163840: 2151678016,
    229376: 2147487744,
    294912: 4198400,
    360448: 2151682112,
    425984: 0,
    491520: 2151677952,
    557056: 4096,
    622592: 2151682048,
    688128: 4194304,
    753664: 4160,
    819200: 2147483648,
    884736: 4194368,
    950272: 4198464,
    1015808: 2147483712,
    1048576: 4194368,
    1114112: 4198400,
    1179648: 2147483712,
    1245184: 0,
    1310720: 4160,
    1376256: 2151678016,
    1441792: 2151682048,
    1507328: 2147487808,
    1572864: 2151682112,
    1638400: 2147483648,
    1703936: 2151677952,
    1769472: 4198464,
    1835008: 2147487744,
    1900544: 4194304,
    1966080: 64,
    2031616: 4096,
    1081344: 2151677952,
    1146880: 2151682112,
    1212416: 0,
    1277952: 4198400,
    1343488: 4194368,
    1409024: 2147483648,
    1474560: 2147487808,
    1540096: 64,
    1605632: 2147483712,
    1671168: 4096,
    1736704: 2147487744,
    1802240: 2151678016,
    1867776: 4160,
    1933312: 2151682048,
    1998848: 4194304,
    2064384: 4198464
  }, {
    0: 128,
    4096: 17039360,
    8192: 262144,
    12288: 536870912,
    16384: 537133184,
    20480: 16777344,
    24576: 553648256,
    28672: 262272,
    32768: 16777216,
    36864: 537133056,
    40960: 536871040,
    45056: 553910400,
    49152: 553910272,
    53248: 0,
    57344: 17039488,
    61440: 553648128,
    2048: 17039488,
    6144: 553648256,
    10240: 128,
    14336: 17039360,
    18432: 262144,
    22528: 537133184,
    26624: 553910272,
    30720: 536870912,
    34816: 537133056,
    38912: 0,
    43008: 553910400,
    47104: 16777344,
    51200: 536871040,
    55296: 553648128,
    59392: 16777216,
    63488: 262272,
    65536: 262144,
    69632: 128,
    73728: 536870912,
    77824: 553648256,
    81920: 16777344,
    86016: 553910272,
    90112: 537133184,
    94208: 16777216,
    98304: 553910400,
    102400: 553648128,
    106496: 17039360,
    110592: 537133056,
    114688: 262272,
    118784: 536871040,
    122880: 0,
    126976: 17039488,
    67584: 553648256,
    71680: 16777216,
    75776: 17039360,
    79872: 537133184,
    83968: 536870912,
    88064: 17039488,
    92160: 128,
    96256: 553910272,
    100352: 262272,
    104448: 553910400,
    108544: 0,
    112640: 553648128,
    116736: 16777344,
    120832: 262144,
    124928: 537133056,
    129024: 536871040
  }, {
    0: 268435464,
    256: 8192,
    512: 270532608,
    768: 270540808,
    1024: 268443648,
    1280: 2097152,
    1536: 2097160,
    1792: 268435456,
    2048: 0,
    2304: 268443656,
    2560: 2105344,
    2816: 8,
    3072: 270532616,
    3328: 2105352,
    3584: 8200,
    3840: 270540800,
    128: 270532608,
    384: 270540808,
    640: 8,
    896: 2097152,
    1152: 2105352,
    1408: 268435464,
    1664: 268443648,
    1920: 8200,
    2176: 2097160,
    2432: 8192,
    2688: 268443656,
    2944: 270532616,
    3200: 0,
    3456: 270540800,
    3712: 2105344,
    3968: 268435456,
    4096: 268443648,
    4352: 270532616,
    4608: 270540808,
    4864: 8200,
    5120: 2097152,
    5376: 268435456,
    5632: 268435464,
    5888: 2105344,
    6144: 2105352,
    6400: 0,
    6656: 8,
    6912: 270532608,
    7168: 8192,
    7424: 268443656,
    7680: 270540800,
    7936: 2097160,
    4224: 8,
    4480: 2105344,
    4736: 2097152,
    4992: 268435464,
    5248: 268443648,
    5504: 8200,
    5760: 270540808,
    6016: 270532608,
    6272: 270540800,
    6528: 270532616,
    6784: 8192,
    7040: 2105352,
    7296: 2097160,
    7552: 0,
    7808: 268435456,
    8064: 268443656
  }, {
    0: 1048576,
    16: 33555457,
    32: 1024,
    48: 1049601,
    64: 34604033,
    80: 0,
    96: 1,
    112: 34603009,
    128: 33555456,
    144: 1048577,
    160: 33554433,
    176: 34604032,
    192: 34603008,
    208: 1025,
    224: 1049600,
    240: 33554432,
    8: 34603009,
    24: 0,
    40: 33555457,
    56: 34604032,
    72: 1048576,
    88: 33554433,
    104: 33554432,
    120: 1025,
    136: 1049601,
    152: 33555456,
    168: 34603008,
    184: 1048577,
    200: 1024,
    216: 34604033,
    232: 1,
    248: 1049600,
    256: 33554432,
    272: 1048576,
    288: 33555457,
    304: 34603009,
    320: 1048577,
    336: 33555456,
    352: 34604032,
    368: 1049601,
    384: 1025,
    400: 34604033,
    416: 1049600,
    432: 1,
    448: 0,
    464: 34603008,
    480: 33554433,
    496: 1024,
    264: 1049600,
    280: 33555457,
    296: 34603009,
    312: 1,
    328: 33554432,
    344: 1048576,
    360: 1025,
    376: 34604032,
    392: 33554433,
    408: 34603008,
    424: 0,
    440: 34604033,
    456: 1049601,
    472: 1024,
    488: 33555456,
    504: 1048577
  }, {
    0: 134219808,
    1: 131072,
    2: 134217728,
    3: 32,
    4: 131104,
    5: 134350880,
    6: 134350848,
    7: 2048,
    8: 134348800,
    9: 134219776,
    10: 133120,
    11: 134348832,
    12: 2080,
    13: 0,
    14: 134217760,
    15: 133152,
    2147483648: 2048,
    2147483649: 134350880,
    2147483650: 134219808,
    2147483651: 134217728,
    2147483652: 134348800,
    2147483653: 133120,
    2147483654: 133152,
    2147483655: 32,
    2147483656: 134217760,
    2147483657: 2080,
    2147483658: 131104,
    2147483659: 134350848,
    2147483660: 0,
    2147483661: 134348832,
    2147483662: 134219776,
    2147483663: 131072,
    16: 133152,
    17: 134350848,
    18: 32,
    19: 2048,
    20: 134219776,
    21: 134217760,
    22: 134348832,
    23: 131072,
    24: 0,
    25: 131104,
    26: 134348800,
    27: 134219808,
    28: 134350880,
    29: 133120,
    30: 2080,
    31: 134217728,
    2147483664: 131072,
    2147483665: 2048,
    2147483666: 134348832,
    2147483667: 133152,
    2147483668: 32,
    2147483669: 134348800,
    2147483670: 134217728,
    2147483671: 134219808,
    2147483672: 134350880,
    2147483673: 134217760,
    2147483674: 134219776,
    2147483675: 0,
    2147483676: 133120,
    2147483677: 2080,
    2147483678: 131104,
    2147483679: 134350848
  }], l = [4160749569, 528482304, 33030144, 2064384, 129024, 8064, 504, 2147483679], h = s.DES = i.extend({ _doReset: function() {
    for (var c = this._key.words, d = [], p = 0; 56 > p; p++) {
      var v = a[p] - 1;
      d[p] = c[v >>> 5] >>> 31 - v % 32 & 1;
    }
    for (c = this._subKeys = [], v = 0; 16 > v; v++) {
      for (var m = c[v] = [], b = u[v], p = 0; 24 > p; p++)
        m[p / 6 | 0] |= d[(o[p] - 1 + b) % 28] << 31 - p % 6, m[4 + (p / 6 | 0)] |= d[28 + (o[p + 24] - 1 + b) % 28] << 31 - p % 6;
      for (m[0] = m[0] << 1 | m[0] >>> 31, p = 1; 7 > p; p++)
        m[p] >>>= 4 * (p - 1) + 3;
      m[7] = m[7] << 5 | m[7] >>> 27;
    }
    for (d = this._invSubKeys = [], p = 0; 16 > p; p++)
      d[p] = c[15 - p];
  }, encryptBlock: function(c, d) {
    this._doCryptBlock(c, d, this._subKeys);
  }, decryptBlock: function(c, d) {
    this._doCryptBlock(c, d, this._invSubKeys);
  }, _doCryptBlock: function(c, d, p) {
    this._lBlock = c[d], this._rBlock = c[d + 1], e.call(this, 4, 252645135), e.call(this, 16, 65535), t.call(this, 2, 858993459), t.call(this, 8, 16711935), e.call(this, 1, 1431655765);
    for (var v = 0; 16 > v; v++) {
      for (var m = p[v], b = this._lBlock, A = this._rBlock, D = 0, k = 0; 8 > k; k++)
        D |= f[k][((A ^ m[k]) & l[k]) >>> 0];
      this._lBlock = A, this._rBlock = b ^ D;
    }
    p = this._lBlock, this._lBlock = this._rBlock, this._rBlock = p, e.call(this, 1, 1431655765), t.call(this, 8, 16711935), t.call(this, 2, 858993459), e.call(this, 16, 65535), e.call(this, 4, 252645135), c[d] = this._lBlock, c[d + 1] = this._rBlock;
  }, keySize: 2, ivSize: 2, blockSize: 2 });
  r.DES = i._createHelper(h), s = s.TripleDES = i.extend({ _doReset: function() {
    var c = this._key.words;
    this._des1 = h.createEncryptor(n.create(c.slice(0, 2))), this._des2 = h.createEncryptor(n.create(c.slice(2, 4))), this._des3 = h.createEncryptor(n.create(c.slice(4, 6)));
  }, encryptBlock: function(c, d) {
    this._des1.encryptBlock(c, d), this._des2.decryptBlock(c, d), this._des3.encryptBlock(c, d);
  }, decryptBlock: function(c, d) {
    this._des3.decryptBlock(c, d), this._des2.encryptBlock(c, d), this._des1.decryptBlock(c, d);
  }, keySize: 6, ivSize: 2, blockSize: 2 }), r.TripleDES = i._createHelper(s);
})();
(function() {
  var e = Ee, t = e.lib.WordArray;
  e.enc.Base64 = { stringify: function(r) {
    var n = r.words, i = r.sigBytes, s = this._map;
    r.clamp(), r = [];
    for (var a = 0; a < i; a += 3)
      for (var o = (n[a >>> 2] >>> 24 - 8 * (a % 4) & 255) << 16 | (n[a + 1 >>> 2] >>> 24 - 8 * ((a + 1) % 4) & 255) << 8 | n[a + 2 >>> 2] >>> 24 - 8 * ((a + 2) % 4) & 255, u = 0; 4 > u && a + 0.75 * u < i; u++)
        r.push(s.charAt(o >>> 6 * (3 - u) & 63));
    if (n = s.charAt(64))
      for (; r.length % 4; )
        r.push(n);
    return r.join("");
  }, parse: function(r) {
    var n = r.length, i = this._map, s = i.charAt(64);
    s && (s = r.indexOf(s), s != -1 && (n = s));
    for (var s = [], a = 0, o = 0; o < n; o++)
      if (o % 4) {
        var u = i.indexOf(r.charAt(o - 1)) << 2 * (o % 4), f = i.indexOf(r.charAt(o)) >>> 6 - 2 * (o % 4);
        s[a >>> 2] |= (u | f) << 24 - 8 * (a % 4), a++;
      }
    return t.create(s, a);
  }, _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=" };
})();
(function(e) {
  function t(h, c, d, p, v, m, b) {
    return h = h + (c & d | ~c & p) + v + b, (h << m | h >>> 32 - m) + c;
  }
  function r(h, c, d, p, v, m, b) {
    return h = h + (c & p | d & ~p) + v + b, (h << m | h >>> 32 - m) + c;
  }
  function n(h, c, d, p, v, m, b) {
    return h = h + (c ^ d ^ p) + v + b, (h << m | h >>> 32 - m) + c;
  }
  function i(h, c, d, p, v, m, b) {
    return h = h + (d ^ (c | ~p)) + v + b, (h << m | h >>> 32 - m) + c;
  }
  for (var s = Ee, u = s.lib, a = u.WordArray, o = u.Hasher, u = s.algo, f = [], l = 0; 64 > l; l++)
    f[l] = 4294967296 * e.abs(e.sin(l + 1)) | 0;
  u = u.MD5 = o.extend({
    _doReset: function() {
      this._hash = new a.init([1732584193, 4023233417, 2562383102, 271733878]);
    },
    _doProcessBlock: function(h, c) {
      for (var d = 0; 16 > d; d++) {
        var p = c + d, v = h[p];
        h[p] = (v << 8 | v >>> 24) & 16711935 | (v << 24 | v >>> 8) & 4278255360;
      }
      var d = this._hash.words, p = h[c + 0], v = h[c + 1], m = h[c + 2], b = h[c + 3], A = h[c + 4], D = h[c + 5], k = h[c + 6], L = h[c + 7], _ = h[c + 8], F = h[c + 9], O = h[c + 10], P = h[c + 11], M = h[c + 12], C = h[c + 13], y = h[c + 14], E = h[c + 15], T = d[0], H = d[1], N = d[2], R = d[3], T = t(T, H, N, R, p, 7, f[0]), R = t(R, T, H, N, v, 12, f[1]), N = t(N, R, T, H, m, 17, f[2]), H = t(H, N, R, T, b, 22, f[3]), T = t(T, H, N, R, A, 7, f[4]), R = t(R, T, H, N, D, 12, f[5]), N = t(N, R, T, H, k, 17, f[6]), H = t(H, N, R, T, L, 22, f[7]), T = t(T, H, N, R, _, 7, f[8]), R = t(R, T, H, N, F, 12, f[9]), N = t(N, R, T, H, O, 17, f[10]), H = t(H, N, R, T, P, 22, f[11]), T = t(T, H, N, R, M, 7, f[12]), R = t(R, T, H, N, C, 12, f[13]), N = t(N, R, T, H, y, 17, f[14]), H = t(H, N, R, T, E, 22, f[15]), T = r(T, H, N, R, v, 5, f[16]), R = r(R, T, H, N, k, 9, f[17]), N = r(N, R, T, H, P, 14, f[18]), H = r(H, N, R, T, p, 20, f[19]), T = r(T, H, N, R, D, 5, f[20]), R = r(R, T, H, N, O, 9, f[21]), N = r(N, R, T, H, E, 14, f[22]), H = r(H, N, R, T, A, 20, f[23]), T = r(T, H, N, R, F, 5, f[24]), R = r(R, T, H, N, y, 9, f[25]), N = r(N, R, T, H, b, 14, f[26]), H = r(H, N, R, T, _, 20, f[27]), T = r(T, H, N, R, C, 5, f[28]), R = r(
        R,
        T,
        H,
        N,
        m,
        9,
        f[29]
      ), N = r(N, R, T, H, L, 14, f[30]), H = r(H, N, R, T, M, 20, f[31]), T = n(T, H, N, R, D, 4, f[32]), R = n(R, T, H, N, _, 11, f[33]), N = n(N, R, T, H, P, 16, f[34]), H = n(H, N, R, T, y, 23, f[35]), T = n(T, H, N, R, v, 4, f[36]), R = n(R, T, H, N, A, 11, f[37]), N = n(N, R, T, H, L, 16, f[38]), H = n(H, N, R, T, O, 23, f[39]), T = n(T, H, N, R, C, 4, f[40]), R = n(R, T, H, N, p, 11, f[41]), N = n(N, R, T, H, b, 16, f[42]), H = n(H, N, R, T, k, 23, f[43]), T = n(T, H, N, R, F, 4, f[44]), R = n(R, T, H, N, M, 11, f[45]), N = n(N, R, T, H, E, 16, f[46]), H = n(H, N, R, T, m, 23, f[47]), T = i(T, H, N, R, p, 6, f[48]), R = i(R, T, H, N, L, 10, f[49]), N = i(
        N,
        R,
        T,
        H,
        y,
        15,
        f[50]
      ), H = i(H, N, R, T, D, 21, f[51]), T = i(T, H, N, R, M, 6, f[52]), R = i(R, T, H, N, b, 10, f[53]), N = i(N, R, T, H, O, 15, f[54]), H = i(H, N, R, T, v, 21, f[55]), T = i(T, H, N, R, _, 6, f[56]), R = i(R, T, H, N, E, 10, f[57]), N = i(N, R, T, H, k, 15, f[58]), H = i(H, N, R, T, C, 21, f[59]), T = i(T, H, N, R, A, 6, f[60]), R = i(R, T, H, N, P, 10, f[61]), N = i(N, R, T, H, m, 15, f[62]), H = i(H, N, R, T, F, 21, f[63]);
      d[0] = d[0] + T | 0, d[1] = d[1] + H | 0, d[2] = d[2] + N | 0, d[3] = d[3] + R | 0;
    },
    _doFinalize: function() {
      var h = this._data, c = h.words, d = 8 * this._nDataBytes, p = 8 * h.sigBytes;
      c[p >>> 5] |= 128 << 24 - p % 32;
      var v = e.floor(d / 4294967296);
      for (c[(p + 64 >>> 9 << 4) + 15] = (v << 8 | v >>> 24) & 16711935 | (v << 24 | v >>> 8) & 4278255360, c[(p + 64 >>> 9 << 4) + 14] = (d << 8 | d >>> 24) & 16711935 | (d << 24 | d >>> 8) & 4278255360, h.sigBytes = 4 * (c.length + 1), this._process(), h = this._hash, c = h.words, d = 0; 4 > d; d++)
        p = c[d], c[d] = (p << 8 | p >>> 24) & 16711935 | (p << 24 | p >>> 8) & 4278255360;
      return h;
    },
    clone: function() {
      var h = o.clone.call(this);
      return h._hash = this._hash.clone(), h;
    }
  }), s.MD5 = o._createHelper(u), s.HmacMD5 = o._createHmacHelper(u);
})(Math);
(function() {
  var e = Ee, i = e.lib, t = i.WordArray, r = i.Hasher, n = [], i = e.algo.SHA1 = r.extend({ _doReset: function() {
    this._hash = new t.init([1732584193, 4023233417, 2562383102, 271733878, 3285377520]);
  }, _doProcessBlock: function(s, a) {
    for (var o = this._hash.words, u = o[0], f = o[1], l = o[2], h = o[3], c = o[4], d = 0; 80 > d; d++) {
      if (16 > d)
        n[d] = s[a + d] | 0;
      else {
        var p = n[d - 3] ^ n[d - 8] ^ n[d - 14] ^ n[d - 16];
        n[d] = p << 1 | p >>> 31;
      }
      p = (u << 5 | u >>> 27) + c + n[d], p = 20 > d ? p + ((f & l | ~f & h) + 1518500249) : 40 > d ? p + ((f ^ l ^ h) + 1859775393) : 60 > d ? p + ((f & l | f & h | l & h) - 1894007588) : p + ((f ^ l ^ h) - 899497514), c = h, h = l, l = f << 30 | f >>> 2, f = u, u = p;
    }
    o[0] = o[0] + u | 0, o[1] = o[1] + f | 0, o[2] = o[2] + l | 0, o[3] = o[3] + h | 0, o[4] = o[4] + c | 0;
  }, _doFinalize: function() {
    var s = this._data, a = s.words, o = 8 * this._nDataBytes, u = 8 * s.sigBytes;
    return a[u >>> 5] |= 128 << 24 - u % 32, a[(u + 64 >>> 9 << 4) + 14] = Math.floor(o / 4294967296), a[(u + 64 >>> 9 << 4) + 15] = o, s.sigBytes = 4 * a.length, this._process(), this._hash;
  }, clone: function() {
    var s = r.clone.call(this);
    return s._hash = this._hash.clone(), s;
  } });
  e.SHA1 = r._createHelper(i), e.HmacSHA1 = r._createHmacHelper(i);
})();
(function(e) {
  for (var t = Ee, d = t.lib, r = d.WordArray, n = d.Hasher, d = t.algo, i = [], s = [], a = function(v) {
    return 4294967296 * (v - (v | 0)) | 0;
  }, o = 2, u = 0; 64 > u; ) {
    var f;
    e: {
      f = o;
      for (var l = e.sqrt(f), h = 2; h <= l; h++)
        if (!(f % h)) {
          f = !1;
          break e;
        }
      f = !0;
    }
    f && (8 > u && (i[u] = a(e.pow(o, 0.5))), s[u] = a(e.pow(o, 1 / 3)), u++), o++;
  }
  var c = [], d = d.SHA256 = n.extend({ _doReset: function() {
    this._hash = new r.init(i.slice(0));
  }, _doProcessBlock: function(p, v) {
    for (var m = this._hash.words, b = m[0], A = m[1], D = m[2], k = m[3], L = m[4], _ = m[5], F = m[6], O = m[7], P = 0; 64 > P; P++) {
      if (16 > P)
        c[P] = p[v + P] | 0;
      else {
        var M = c[P - 15], C = c[P - 2];
        c[P] = ((M << 25 | M >>> 7) ^ (M << 14 | M >>> 18) ^ M >>> 3) + c[P - 7] + ((C << 15 | C >>> 17) ^ (C << 13 | C >>> 19) ^ C >>> 10) + c[P - 16];
      }
      M = O + ((L << 26 | L >>> 6) ^ (L << 21 | L >>> 11) ^ (L << 7 | L >>> 25)) + (L & _ ^ ~L & F) + s[P] + c[P], C = ((b << 30 | b >>> 2) ^ (b << 19 | b >>> 13) ^ (b << 10 | b >>> 22)) + (b & A ^ b & D ^ A & D), O = F, F = _, _ = L, L = k + M | 0, k = D, D = A, A = b, b = M + C | 0;
    }
    m[0] = m[0] + b | 0, m[1] = m[1] + A | 0, m[2] = m[2] + D | 0, m[3] = m[3] + k | 0, m[4] = m[4] + L | 0, m[5] = m[5] + _ | 0, m[6] = m[6] + F | 0, m[7] = m[7] + O | 0;
  }, _doFinalize: function() {
    var p = this._data, v = p.words, m = 8 * this._nDataBytes, b = 8 * p.sigBytes;
    return v[b >>> 5] |= 128 << 24 - b % 32, v[(b + 64 >>> 9 << 4) + 14] = e.floor(m / 4294967296), v[(b + 64 >>> 9 << 4) + 15] = m, p.sigBytes = 4 * v.length, this._process(), this._hash;
  }, clone: function() {
    var p = n.clone.call(this);
    return p._hash = this._hash.clone(), p;
  } });
  t.SHA256 = n._createHelper(d), t.HmacSHA256 = n._createHmacHelper(d);
})(Math);
(function() {
  var e = Ee, t = e.lib.WordArray, n = e.algo, r = n.SHA256, n = n.SHA224 = r.extend({ _doReset: function() {
    this._hash = new t.init([3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428]);
  }, _doFinalize: function() {
    var i = r._doFinalize.call(this);
    return i.sigBytes -= 4, i;
  } });
  e.SHA224 = r._createHelper(n), e.HmacSHA224 = r._createHmacHelper(n);
})();
(function() {
  function e() {
    return n.create.apply(n, arguments);
  }
  for (var t = Ee, r = t.lib.Hasher, s = t.x64, n = s.Word, i = s.WordArray, s = t.algo, a = [
    e(1116352408, 3609767458),
    e(1899447441, 602891725),
    e(3049323471, 3964484399),
    e(3921009573, 2173295548),
    e(961987163, 4081628472),
    e(1508970993, 3053834265),
    e(2453635748, 2937671579),
    e(2870763221, 3664609560),
    e(3624381080, 2734883394),
    e(310598401, 1164996542),
    e(607225278, 1323610764),
    e(1426881987, 3590304994),
    e(1925078388, 4068182383),
    e(2162078206, 991336113),
    e(2614888103, 633803317),
    e(3248222580, 3479774868),
    e(3835390401, 2666613458),
    e(4022224774, 944711139),
    e(264347078, 2341262773),
    e(604807628, 2007800933),
    e(770255983, 1495990901),
    e(1249150122, 1856431235),
    e(1555081692, 3175218132),
    e(1996064986, 2198950837),
    e(2554220882, 3999719339),
    e(2821834349, 766784016),
    e(2952996808, 2566594879),
    e(3210313671, 3203337956),
    e(3336571891, 1034457026),
    e(3584528711, 2466948901),
    e(113926993, 3758326383),
    e(338241895, 168717936),
    e(666307205, 1188179964),
    e(773529912, 1546045734),
    e(1294757372, 1522805485),
    e(
      1396182291,
      2643833823
    ),
    e(1695183700, 2343527390),
    e(1986661051, 1014477480),
    e(2177026350, 1206759142),
    e(2456956037, 344077627),
    e(2730485921, 1290863460),
    e(2820302411, 3158454273),
    e(3259730800, 3505952657),
    e(3345764771, 106217008),
    e(3516065817, 3606008344),
    e(3600352804, 1432725776),
    e(4094571909, 1467031594),
    e(275423344, 851169720),
    e(430227734, 3100823752),
    e(506948616, 1363258195),
    e(659060556, 3750685593),
    e(883997877, 3785050280),
    e(958139571, 3318307427),
    e(1322822218, 3812723403),
    e(1537002063, 2003034995),
    e(1747873779, 3602036899),
    e(1955562222, 1575990012),
    e(2024104815, 1125592928),
    e(2227730452, 2716904306),
    e(2361852424, 442776044),
    e(2428436474, 593698344),
    e(2756734187, 3733110249),
    e(3204031479, 2999351573),
    e(3329325298, 3815920427),
    e(3391569614, 3928383900),
    e(3515267271, 566280711),
    e(3940187606, 3454069534),
    e(4118630271, 4000239992),
    e(116418474, 1914138554),
    e(174292421, 2731055270),
    e(289380356, 3203993006),
    e(460393269, 320620315),
    e(685471733, 587496836),
    e(852142971, 1086792851),
    e(1017036298, 365543100),
    e(1126000580, 2618297676),
    e(
      1288033470,
      3409855158
    ),
    e(1501505948, 4234509866),
    e(1607167915, 987167468),
    e(1816402316, 1246189591)
  ], o = [], u = 0; 80 > u; u++)
    o[u] = e();
  s = s.SHA512 = r.extend({ _doReset: function() {
    this._hash = new i.init([new n.init(1779033703, 4089235720), new n.init(3144134277, 2227873595), new n.init(1013904242, 4271175723), new n.init(2773480762, 1595750129), new n.init(1359893119, 2917565137), new n.init(2600822924, 725511199), new n.init(528734635, 4215389547), new n.init(1541459225, 327033209)]);
  }, _doProcessBlock: function(f, l) {
    for (var A = this._hash.words, h = A[0], c = A[1], d = A[2], p = A[3], v = A[4], m = A[5], b = A[6], A = A[7], D = h.high, k = h.low, L = c.high, _ = c.low, F = d.high, O = d.low, P = p.high, M = p.low, C = v.high, y = v.low, E = m.high, T = m.low, R = b.high, N = b.low, H = A.high, Z = A.low, K = D, x = k, V = L, $ = _, G = F, z = O, ae = P, le = M, oe = C, ue = y, fe = E, j = T, W = R, U = N, Q = H, ee = Z, te = 0; 80 > te; te++) {
      var ie = o[te];
      if (16 > te)
        var B = ie.high = f[l + 2 * te] | 0, re = ie.low = f[l + 2 * te + 1] | 0;
      else {
        var B = o[te - 15], re = B.high, q = B.low, B = (re >>> 1 | q << 31) ^ (re >>> 8 | q << 24) ^ re >>> 7, q = (q >>> 1 | re << 31) ^ (q >>> 8 | re << 24) ^ (q >>> 7 | re << 25), Y = o[te - 2], re = Y.high, ve = Y.low, Y = (re >>> 19 | ve << 13) ^ (re << 3 | ve >>> 29) ^ re >>> 6, ve = (ve >>> 19 | re << 13) ^ (ve << 3 | re >>> 29) ^ (ve >>> 6 | re << 26), re = o[te - 7], w = re.high, S = o[te - 16], X = S.high, S = S.low, re = q + re.low, B = B + w + (re >>> 0 < q >>> 0 ? 1 : 0), re = re + ve, B = B + Y + (re >>> 0 < ve >>> 0 ? 1 : 0), re = re + S, B = B + X + (re >>> 0 < S >>> 0 ? 1 : 0);
        ie.high = B, ie.low = re;
      }
      var w = oe & fe ^ ~oe & W, S = ue & j ^ ~ue & U, ie = K & V ^ K & G ^ V & G, I = x & $ ^ x & z ^ $ & z, q = (K >>> 28 | x << 4) ^ (K << 30 | x >>> 2) ^ (K << 25 | x >>> 7), Y = (x >>> 28 | K << 4) ^ (x << 30 | K >>> 2) ^ (x << 25 | K >>> 7), ve = a[te], se = ve.high, ge = ve.low, ve = ee + ((ue >>> 14 | oe << 18) ^ (ue >>> 18 | oe << 14) ^ (ue << 23 | oe >>> 9)), X = Q + ((oe >>> 14 | ue << 18) ^ (oe >>> 18 | ue << 14) ^ (oe << 23 | ue >>> 9)) + (ve >>> 0 < ee >>> 0 ? 1 : 0), ve = ve + S, X = X + w + (ve >>> 0 < S >>> 0 ? 1 : 0), ve = ve + ge, X = X + se + (ve >>> 0 < ge >>> 0 ? 1 : 0), ve = ve + re, X = X + B + (ve >>> 0 < re >>> 0 ? 1 : 0), re = Y + I, ie = q + ie + (re >>> 0 < Y >>> 0 ? 1 : 0), Q = W, ee = U, W = fe, U = j, fe = oe, j = ue, ue = le + ve | 0, oe = ae + X + (ue >>> 0 < le >>> 0 ? 1 : 0) | 0, ae = G, le = z, G = V, z = $, V = K, $ = x, x = ve + re | 0, K = X + ie + (x >>> 0 < ve >>> 0 ? 1 : 0) | 0;
    }
    k = h.low = k + x, h.high = D + K + (k >>> 0 < x >>> 0 ? 1 : 0), _ = c.low = _ + $, c.high = L + V + (_ >>> 0 < $ >>> 0 ? 1 : 0), O = d.low = O + z, d.high = F + G + (O >>> 0 < z >>> 0 ? 1 : 0), M = p.low = M + le, p.high = P + ae + (M >>> 0 < le >>> 0 ? 1 : 0), y = v.low = y + ue, v.high = C + oe + (y >>> 0 < ue >>> 0 ? 1 : 0), T = m.low = T + j, m.high = E + fe + (T >>> 0 < j >>> 0 ? 1 : 0), N = b.low = N + U, b.high = R + W + (N >>> 0 < U >>> 0 ? 1 : 0), Z = A.low = Z + ee, A.high = H + Q + (Z >>> 0 < ee >>> 0 ? 1 : 0);
  }, _doFinalize: function() {
    var f = this._data, l = f.words, h = 8 * this._nDataBytes, c = 8 * f.sigBytes;
    return l[c >>> 5] |= 128 << 24 - c % 32, l[(c + 128 >>> 10 << 5) + 30] = Math.floor(h / 4294967296), l[(c + 128 >>> 10 << 5) + 31] = h, f.sigBytes = 4 * l.length, this._process(), this._hash.toX32();
  }, clone: function() {
    var f = r.clone.call(this);
    return f._hash = this._hash.clone(), f;
  }, blockSize: 32 }), t.SHA512 = r._createHelper(s), t.HmacSHA512 = r._createHmacHelper(s);
})();
(function() {
  var e = Ee, i = e.x64, t = i.Word, r = i.WordArray, i = e.algo, n = i.SHA512, i = i.SHA384 = n.extend({ _doReset: function() {
    this._hash = new r.init([new t.init(3418070365, 3238371032), new t.init(1654270250, 914150663), new t.init(2438529370, 812702999), new t.init(355462360, 4144912697), new t.init(1731405415, 4290775857), new t.init(2394180231, 1750603025), new t.init(3675008525, 1694076839), new t.init(1203062813, 3204075428)]);
  }, _doFinalize: function() {
    var s = n._doFinalize.call(this);
    return s.sigBytes -= 16, s;
  } });
  e.SHA384 = n._createHelper(i), e.HmacSHA384 = n._createHmacHelper(i);
})();
(function() {
  var e = Ee, f = e.lib, t = f.WordArray, r = f.Hasher, f = e.algo, n = t.create([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13]), i = t.create([5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11]), s = t.create([
    11,
    14,
    15,
    12,
    5,
    8,
    7,
    9,
    11,
    13,
    14,
    15,
    6,
    7,
    9,
    8,
    7,
    6,
    8,
    13,
    11,
    9,
    7,
    15,
    7,
    12,
    15,
    9,
    11,
    7,
    13,
    12,
    11,
    13,
    6,
    7,
    14,
    9,
    13,
    15,
    14,
    8,
    13,
    6,
    5,
    12,
    7,
    5,
    11,
    12,
    14,
    15,
    14,
    15,
    9,
    8,
    9,
    14,
    5,
    6,
    8,
    6,
    5,
    12,
    9,
    15,
    5,
    11,
    6,
    8,
    13,
    12,
    5,
    12,
    13,
    14,
    11,
    8,
    5,
    6
  ]), a = t.create([8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11]), o = t.create([0, 1518500249, 1859775393, 2400959708, 2840853838]), u = t.create([
    1352829926,
    1548603684,
    1836072691,
    2053994217,
    0
  ]), f = f.RIPEMD160 = r.extend({ _doReset: function() {
    this._hash = t.create([1732584193, 4023233417, 2562383102, 271733878, 3285377520]);
  }, _doProcessBlock: function(l, h) {
    for (var c = 0; 16 > c; c++) {
      var d = h + c, p = l[d];
      l[d] = (p << 8 | p >>> 24) & 16711935 | (p << 24 | p >>> 8) & 4278255360;
    }
    var d = this._hash.words, p = o.words, v = u.words, m = n.words, b = i.words, A = s.words, D = a.words, k, L, _, F, O, P, M, C, y, E;
    P = k = d[0], M = L = d[1], C = _ = d[2], y = F = d[3], E = O = d[4];
    for (var T, c = 0; 80 > c; c += 1)
      T = k + l[h + m[c]] | 0, T = 16 > c ? T + ((L ^ _ ^ F) + p[0]) : 32 > c ? T + ((L & _ | ~L & F) + p[1]) : 48 > c ? T + (((L | ~_) ^ F) + p[2]) : 64 > c ? T + ((L & F | _ & ~F) + p[3]) : T + ((L ^ (_ | ~F)) + p[4]), T |= 0, T = T << A[c] | T >>> 32 - A[c], T = T + O | 0, k = O, O = F, F = _ << 10 | _ >>> 22, _ = L, L = T, T = P + l[h + b[c]] | 0, T = 16 > c ? T + ((M ^ (C | ~y)) + v[0]) : 32 > c ? T + ((M & y | C & ~y) + v[1]) : 48 > c ? T + (((M | ~C) ^ y) + v[2]) : 64 > c ? T + ((M & C | ~M & y) + v[3]) : T + ((M ^ C ^ y) + v[4]), T |= 0, T = T << D[c] | T >>> 32 - D[c], T = T + E | 0, P = E, E = y, y = C << 10 | C >>> 22, C = M, M = T;
    T = d[1] + _ + y | 0, d[1] = d[2] + F + E | 0, d[2] = d[3] + O + P | 0, d[3] = d[4] + k + M | 0, d[4] = d[0] + L + C | 0, d[0] = T;
  }, _doFinalize: function() {
    var l = this._data, h = l.words, c = 8 * this._nDataBytes, d = 8 * l.sigBytes;
    for (h[d >>> 5] |= 128 << 24 - d % 32, h[(d + 64 >>> 9 << 4) + 14] = (c << 8 | c >>> 24) & 16711935 | (c << 24 | c >>> 8) & 4278255360, l.sigBytes = 4 * (h.length + 1), this._process(), l = this._hash, h = l.words, c = 0; 5 > c; c++)
      d = h[c], h[c] = (d << 8 | d >>> 24) & 16711935 | (d << 24 | d >>> 8) & 4278255360;
    return l;
  }, clone: function() {
    var l = r.clone.call(this);
    return l._hash = this._hash.clone(), l;
  } });
  e.RIPEMD160 = r._createHelper(f), e.HmacRIPEMD160 = r._createHmacHelper(f);
})();
(function() {
  var e = Ee, t = e.enc.Utf8;
  e.algo.HMAC = e.lib.Base.extend({ init: function(r, n) {
    r = this._hasher = new r.init(), typeof n == "string" && (n = t.parse(n));
    var i = r.blockSize, s = 4 * i;
    n.sigBytes > s && (n = r.finalize(n)), n.clamp();
    for (var a = this._oKey = n.clone(), o = this._iKey = n.clone(), u = a.words, f = o.words, l = 0; l < i; l++)
      u[l] ^= 1549556828, f[l] ^= 909522486;
    a.sigBytes = o.sigBytes = s, this.reset();
  }, reset: function() {
    var r = this._hasher;
    r.reset(), r.update(this._iKey);
  }, update: function(r) {
    return this._hasher.update(r), this;
  }, finalize: function(r) {
    var n = this._hasher;
    return r = n.finalize(r), n.reset(), n.finalize(this._oKey.clone().concat(r));
  } });
})();
(function() {
  var e = Ee, n = e.lib, t = n.Base, r = n.WordArray, n = e.algo, i = n.HMAC, s = n.PBKDF2 = t.extend({ cfg: t.extend({ keySize: 4, hasher: n.SHA1, iterations: 1 }), init: function(a) {
    this.cfg = this.cfg.extend(a);
  }, compute: function(a, o) {
    for (var p = this.cfg, u = i.create(p.hasher, a), f = r.create(), l = r.create([1]), h = f.words, c = l.words, d = p.keySize, p = p.iterations; h.length < d; ) {
      var v = u.update(o).finalize(l);
      u.reset();
      for (var m = v.words, b = m.length, A = v, D = 1; D < p; D++) {
        A = u.finalize(A), u.reset();
        for (var k = A.words, L = 0; L < b; L++)
          m[L] ^= k[L];
      }
      f.concat(v), c[0]++;
    }
    return f.sigBytes = 4 * d, f;
  } });
  e.PBKDF2 = function(a, o, u) {
    return s.create(u).compute(a, o);
  };
})();
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
var ui = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", i1 = "=";
function ss(e) {
  var t, r, n = "";
  for (t = 0; t + 3 <= e.length; t += 3)
    r = parseInt(e.substring(t, t + 3), 16), n += ui.charAt(r >> 6) + ui.charAt(r & 63);
  for (t + 1 == e.length ? (r = parseInt(e.substring(t, t + 1), 16), n += ui.charAt(r << 2)) : t + 2 == e.length && (r = parseInt(e.substring(t, t + 2), 16), n += ui.charAt(r >> 2) + ui.charAt((r & 3) << 4)); (n.length & 3) > 0; )
    n += i1;
  return n;
}
function vc(e) {
  var t = "", r, n = 0, i, s;
  for (r = 0; r < e.length && e.charAt(r) != i1; ++r)
    s = ui.indexOf(e.charAt(r)), !(s < 0) && (n == 0 ? (t += nn(s >> 2), i = s & 3, n = 1) : n == 1 ? (t += nn(i << 2 | s >> 4), i = s & 15, n = 2) : n == 2 ? (t += nn(i), t += nn(s >> 2), i = s & 3, n = 3) : (t += nn(i << 2 | s >> 4), t += nn(s & 15), n = 0));
  return n == 1 && (t += nn(i << 2)), t;
}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
*/
var _n;
function ne(e, t, r) {
  e != null && (typeof e == "number" ? this.fromNumber(e, t, r) : t == null && typeof e != "string" ? this.fromString(e, 256) : this.fromString(e, t));
}
function He() {
  return new ne(null);
}
function h4(e, t, r, n, i, s) {
  for (; --s >= 0; ) {
    var a = t * this[e++] + r[n] + i;
    i = Math.floor(a / 67108864), r[n++] = a & 67108863;
  }
  return i;
}
function d4(e, t, r, n, i, s) {
  for (var a = t & 32767, o = t >> 15; --s >= 0; ) {
    var u = this[e] & 32767, f = this[e++] >> 15, l = o * u + f * a;
    u = a * u + ((l & 32767) << 15) + r[n] + (i & 1073741823), i = (u >>> 30) + (l >>> 15) + o * f + (i >>> 30), r[n++] = u & 1073741823;
  }
  return i;
}
function p4(e, t, r, n, i, s) {
  for (var a = t & 16383, o = t >> 14; --s >= 0; ) {
    var u = this[e] & 16383, f = this[e++] >> 14, l = o * u + f * a;
    u = a * u + ((l & 16383) << 14) + r[n] + i, i = (u >> 28) + (l >> 14) + o * f, r[n++] = u & 268435455;
  }
  return i;
}
ys.appName == "Microsoft Internet Explorer" ? (ne.prototype.am = d4, _n = 30) : ys.appName != "Netscape" ? (ne.prototype.am = h4, _n = 26) : (ne.prototype.am = p4, _n = 28);
ne.prototype.DB = _n;
ne.prototype.DM = (1 << _n) - 1;
ne.prototype.DV = 1 << _n;
var gc = 52;
ne.prototype.FV = Math.pow(2, gc);
ne.prototype.F1 = gc - _n;
ne.prototype.F2 = 2 * _n - gc;
var v4 = "0123456789abcdefghijklmnopqrstuvwxyz", io = new Array(), Vi, vr;
Vi = "0".charCodeAt(0);
for (vr = 0; vr <= 9; ++vr)
  io[Vi++] = vr;
Vi = "a".charCodeAt(0);
for (vr = 10; vr < 36; ++vr)
  io[Vi++] = vr;
Vi = "A".charCodeAt(0);
for (vr = 10; vr < 36; ++vr)
  io[Vi++] = vr;
function nn(e) {
  return v4.charAt(e);
}
function s1(e, t) {
  var r = io[e.charCodeAt(t)];
  return r ?? -1;
}
function g4(e) {
  for (var t = this.t - 1; t >= 0; --t)
    e[t] = this[t];
  e.t = this.t, e.s = this.s;
}
function y4(e) {
  this.t = 1, this.s = e < 0 ? -1 : 0, e > 0 ? this[0] = e : e < -1 ? this[0] = e + this.DV : this.t = 0;
}
function En(e) {
  var t = He();
  return t.fromInt(e), t;
}
function m4(e, t) {
  var r;
  if (t == 16)
    r = 4;
  else if (t == 8)
    r = 3;
  else if (t == 256)
    r = 8;
  else if (t == 2)
    r = 1;
  else if (t == 32)
    r = 5;
  else if (t == 4)
    r = 2;
  else {
    this.fromRadix(e, t);
    return;
  }
  this.t = 0, this.s = 0;
  for (var n = e.length, i = !1, s = 0; --n >= 0; ) {
    var a = r == 8 ? e[n] & 255 : s1(e, n);
    if (a < 0) {
      e.charAt(n) == "-" && (i = !0);
      continue;
    }
    i = !1, s == 0 ? this[this.t++] = a : s + r > this.DB ? (this[this.t - 1] |= (a & (1 << this.DB - s) - 1) << s, this[this.t++] = a >> this.DB - s) : this[this.t - 1] |= a << s, s += r, s >= this.DB && (s -= this.DB);
  }
  r == 8 && e[0] & 128 && (this.s = -1, s > 0 && (this[this.t - 1] |= (1 << this.DB - s) - 1 << s)), this.clamp(), i && ne.ZERO.subTo(this, this);
}
function b4() {
  for (var e = this.s & this.DM; this.t > 0 && this[this.t - 1] == e; )
    --this.t;
}
function w4(e) {
  if (this.s < 0)
    return "-" + this.negate().toString(e);
  var t;
  if (e == 16)
    t = 4;
  else if (e == 8)
    t = 3;
  else if (e == 2)
    t = 1;
  else if (e == 32)
    t = 5;
  else if (e == 4)
    t = 2;
  else
    return this.toRadix(e);
  var r = (1 << t) - 1, n, i = !1, s = "", a = this.t, o = this.DB - a * this.DB % t;
  if (a-- > 0)
    for (o < this.DB && (n = this[a] >> o) > 0 && (i = !0, s = nn(n)); a >= 0; )
      o < t ? (n = (this[a] & (1 << o) - 1) << t - o, n |= this[--a] >> (o += this.DB - t)) : (n = this[a] >> (o -= t) & r, o <= 0 && (o += this.DB, --a)), n > 0 && (i = !0), i && (s += nn(n));
  return i ? s : "0";
}
function x4() {
  var e = He();
  return ne.ZERO.subTo(this, e), e;
}
function S4() {
  return this.s < 0 ? this.negate() : this;
}
function E4(e) {
  var t = this.s - e.s;
  if (t != 0)
    return t;
  var r = this.t;
  if (t = r - e.t, t != 0)
    return this.s < 0 ? -t : t;
  for (; --r >= 0; )
    if ((t = this[r] - e[r]) != 0)
      return t;
  return 0;
}
function so(e) {
  var t = 1, r;
  return (r = e >>> 16) != 0 && (e = r, t += 16), (r = e >> 8) != 0 && (e = r, t += 8), (r = e >> 4) != 0 && (e = r, t += 4), (r = e >> 2) != 0 && (e = r, t += 2), (r = e >> 1) != 0 && (e = r, t += 1), t;
}
function A4() {
  return this.t <= 0 ? 0 : this.DB * (this.t - 1) + so(this[this.t - 1] ^ this.s & this.DM);
}
function _4(e, t) {
  var r;
  for (r = this.t - 1; r >= 0; --r)
    t[r + e] = this[r];
  for (r = e - 1; r >= 0; --r)
    t[r] = 0;
  t.t = this.t + e, t.s = this.s;
}
function T4(e, t) {
  for (var r = e; r < this.t; ++r)
    t[r - e] = this[r];
  t.t = Math.max(this.t - e, 0), t.s = this.s;
}
function P4(e, t) {
  var r = e % this.DB, n = this.DB - r, i = (1 << n) - 1, s = Math.floor(e / this.DB), a = this.s << r & this.DM, o;
  for (o = this.t - 1; o >= 0; --o)
    t[o + s + 1] = this[o] >> n | a, a = (this[o] & i) << r;
  for (o = s - 1; o >= 0; --o)
    t[o] = 0;
  t[s] = a, t.t = this.t + s + 1, t.s = this.s, t.clamp();
}
function F4(e, t) {
  t.s = this.s;
  var r = Math.floor(e / this.DB);
  if (r >= this.t) {
    t.t = 0;
    return;
  }
  var n = e % this.DB, i = this.DB - n, s = (1 << n) - 1;
  t[0] = this[r] >> n;
  for (var a = r + 1; a < this.t; ++a)
    t[a - r - 1] |= (this[a] & s) << i, t[a - r] = this[a] >> n;
  n > 0 && (t[this.t - r - 1] |= (this.s & s) << i), t.t = this.t - r, t.clamp();
}
function I4(e, t) {
  for (var r = 0, n = 0, i = Math.min(e.t, this.t); r < i; )
    n += this[r] - e[r], t[r++] = n & this.DM, n >>= this.DB;
  if (e.t < this.t) {
    for (n -= e.s; r < this.t; )
      n += this[r], t[r++] = n & this.DM, n >>= this.DB;
    n += this.s;
  } else {
    for (n += this.s; r < e.t; )
      n -= e[r], t[r++] = n & this.DM, n >>= this.DB;
    n -= e.s;
  }
  t.s = n < 0 ? -1 : 0, n < -1 ? t[r++] = this.DV + n : n > 0 && (t[r++] = n), t.t = r, t.clamp();
}
function C4(e, t) {
  var r = this.abs(), n = e.abs(), i = r.t;
  for (t.t = i + n.t; --i >= 0; )
    t[i] = 0;
  for (i = 0; i < n.t; ++i)
    t[i + r.t] = r.am(0, n[i], t, i, 0, r.t);
  t.s = 0, t.clamp(), this.s != e.s && ne.ZERO.subTo(t, t);
}
function R4(e) {
  for (var t = this.abs(), r = e.t = 2 * t.t; --r >= 0; )
    e[r] = 0;
  for (r = 0; r < t.t - 1; ++r) {
    var n = t.am(r, t[r], e, 2 * r, 0, 1);
    (e[r + t.t] += t.am(r + 1, 2 * t[r], e, 2 * r + 1, n, t.t - r - 1)) >= t.DV && (e[r + t.t] -= t.DV, e[r + t.t + 1] = 1);
  }
  e.t > 0 && (e[e.t - 1] += t.am(r, t[r], e, 2 * r, 0, 1)), e.s = 0, e.clamp();
}
function O4(e, t, r) {
  var n = e.abs();
  if (!(n.t <= 0)) {
    var i = this.abs();
    if (i.t < n.t) {
      t != null && t.fromInt(0), r != null && this.copyTo(r);
      return;
    }
    r == null && (r = He());
    var s = He(), a = this.s, o = e.s, u = this.DB - so(n[n.t - 1]);
    u > 0 ? (n.lShiftTo(u, s), i.lShiftTo(u, r)) : (n.copyTo(s), i.copyTo(r));
    var f = s.t, l = s[f - 1];
    if (l != 0) {
      var h = l * (1 << this.F1) + (f > 1 ? s[f - 2] >> this.F2 : 0), c = this.FV / h, d = (1 << this.F1) / h, p = 1 << this.F2, v = r.t, m = v - f, b = t ?? He();
      for (s.dlShiftTo(m, b), r.compareTo(b) >= 0 && (r[r.t++] = 1, r.subTo(b, r)), ne.ONE.dlShiftTo(f, b), b.subTo(s, s); s.t < f; )
        s[s.t++] = 0;
      for (; --m >= 0; ) {
        var A = r[--v] == l ? this.DM : Math.floor(r[v] * c + (r[v - 1] + p) * d);
        if ((r[v] += s.am(0, A, r, m, 0, f)) < A)
          for (s.dlShiftTo(m, b), r.subTo(b, r); r[v] < --A; )
            r.subTo(b, r);
      }
      t != null && (r.drShiftTo(f, t), a != o && ne.ZERO.subTo(t, t)), r.t = f, r.clamp(), u > 0 && r.rShiftTo(u, r), a < 0 && ne.ZERO.subTo(r, r);
    }
  }
}
function D4(e) {
  var t = He();
  return this.abs().divRemTo(e, null, t), this.s < 0 && t.compareTo(ne.ZERO) > 0 && e.subTo(t, t), t;
}
function Yn(e) {
  this.m = e;
}
function M4(e) {
  return e.s < 0 || e.compareTo(this.m) >= 0 ? e.mod(this.m) : e;
}
function B4(e) {
  return e;
}
function N4(e) {
  e.divRemTo(this.m, null, e);
}
function k4(e, t, r) {
  e.multiplyTo(t, r), this.reduce(r);
}
function j4(e, t) {
  e.squareTo(t), this.reduce(t);
}
Yn.prototype.convert = M4;
Yn.prototype.revert = B4;
Yn.prototype.reduce = N4;
Yn.prototype.mulTo = k4;
Yn.prototype.sqrTo = j4;
function L4() {
  if (this.t < 1)
    return 0;
  var e = this[0];
  if (!(e & 1))
    return 0;
  var t = e & 3;
  return t = t * (2 - (e & 15) * t) & 15, t = t * (2 - (e & 255) * t) & 255, t = t * (2 - ((e & 65535) * t & 65535)) & 65535, t = t * (2 - e * t % this.DV) % this.DV, t > 0 ? this.DV - t : -t;
}
function Xn(e) {
  this.m = e, this.mp = e.invDigit(), this.mpl = this.mp & 32767, this.mph = this.mp >> 15, this.um = (1 << e.DB - 15) - 1, this.mt2 = 2 * e.t;
}
function V4(e) {
  var t = He();
  return e.abs().dlShiftTo(this.m.t, t), t.divRemTo(this.m, null, t), e.s < 0 && t.compareTo(ne.ZERO) > 0 && this.m.subTo(t, t), t;
}
function H4(e) {
  var t = He();
  return e.copyTo(t), this.reduce(t), t;
}
function U4(e) {
  for (; e.t <= this.mt2; )
    e[e.t++] = 0;
  for (var t = 0; t < this.m.t; ++t) {
    var r = e[t] & 32767, n = r * this.mpl + ((r * this.mph + (e[t] >> 15) * this.mpl & this.um) << 15) & e.DM;
    for (r = t + this.m.t, e[r] += this.m.am(0, n, e, t, 0, this.m.t); e[r] >= e.DV; )
      e[r] -= e.DV, e[++r]++;
  }
  e.clamp(), e.drShiftTo(this.m.t, e), e.compareTo(this.m) >= 0 && e.subTo(this.m, e);
}
function q4(e, t) {
  e.squareTo(t), this.reduce(t);
}
function K4(e, t, r) {
  e.multiplyTo(t, r), this.reduce(r);
}
Xn.prototype.convert = V4;
Xn.prototype.revert = H4;
Xn.prototype.reduce = U4;
Xn.prototype.mulTo = K4;
Xn.prototype.sqrTo = q4;
function $4() {
  return (this.t > 0 ? this[0] & 1 : this.s) == 0;
}
function z4(e, t) {
  if (e > 4294967295 || e < 1)
    return ne.ONE;
  var r = He(), n = He(), i = t.convert(this), s = so(e) - 1;
  for (i.copyTo(r); --s >= 0; )
    if (t.sqrTo(r, n), (e & 1 << s) > 0)
      t.mulTo(n, i, r);
    else {
      var a = r;
      r = n, n = a;
    }
  return t.revert(r);
}
function W4(e, t) {
  var r;
  return e < 256 || t.isEven() ? r = new Yn(t) : r = new Xn(t), this.exp(e, r);
}
ne.prototype.copyTo = g4;
ne.prototype.fromInt = y4;
ne.prototype.fromString = m4;
ne.prototype.clamp = b4;
ne.prototype.dlShiftTo = _4;
ne.prototype.drShiftTo = T4;
ne.prototype.lShiftTo = P4;
ne.prototype.rShiftTo = F4;
ne.prototype.subTo = I4;
ne.prototype.multiplyTo = C4;
ne.prototype.squareTo = R4;
ne.prototype.divRemTo = O4;
ne.prototype.invDigit = L4;
ne.prototype.isEven = $4;
ne.prototype.exp = z4;
ne.prototype.toString = w4;
ne.prototype.negate = x4;
ne.prototype.abs = S4;
ne.prototype.compareTo = E4;
ne.prototype.bitLength = A4;
ne.prototype.mod = D4;
ne.prototype.modPowInt = W4;
ne.ZERO = En(0);
ne.ONE = En(1);
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function G4() {
  var e = He();
  return this.copyTo(e), e;
}
function J4() {
  if (this.s < 0) {
    if (this.t == 1)
      return this[0] - this.DV;
    if (this.t == 0)
      return -1;
  } else {
    if (this.t == 1)
      return this[0];
    if (this.t == 0)
      return 0;
  }
  return (this[1] & (1 << 32 - this.DB) - 1) << this.DB | this[0];
}
function Y4() {
  return this.t == 0 ? this.s : this[0] << 24 >> 24;
}
function X4() {
  return this.t == 0 ? this.s : this[0] << 16 >> 16;
}
function Z4(e) {
  return Math.floor(Math.LN2 * this.DB / Math.log(e));
}
function Q4() {
  return this.s < 0 ? -1 : this.t <= 0 || this.t == 1 && this[0] <= 0 ? 0 : 1;
}
function e3(e) {
  if (e == null && (e = 10), this.signum() == 0 || e < 2 || e > 36)
    return "0";
  var t = this.chunkSize(e), r = Math.pow(e, t), n = En(r), i = He(), s = He(), a = "";
  for (this.divRemTo(n, i, s); i.signum() > 0; )
    a = (r + s.intValue()).toString(e).substr(1) + a, i.divRemTo(n, i, s);
  return s.intValue().toString(e) + a;
}
function t3(e, t) {
  this.fromInt(0), t == null && (t = 10);
  for (var r = this.chunkSize(t), n = Math.pow(t, r), i = !1, s = 0, a = 0, o = 0; o < e.length; ++o) {
    var u = s1(e, o);
    if (u < 0) {
      e.charAt(o) == "-" && this.signum() == 0 && (i = !0);
      continue;
    }
    a = t * a + u, ++s >= r && (this.dMultiply(n), this.dAddOffset(a, 0), s = 0, a = 0);
  }
  s > 0 && (this.dMultiply(Math.pow(t, s)), this.dAddOffset(a, 0)), i && ne.ZERO.subTo(this, this);
}
function r3(e, t, r) {
  if (typeof t == "number")
    if (e < 2)
      this.fromInt(1);
    else
      for (this.fromNumber(e, r), this.testBit(e - 1) || this.bitwiseTo(ne.ONE.shiftLeft(e - 1), yc, this), this.isEven() && this.dAddOffset(1, 0); !this.isProbablePrime(t); )
        this.dAddOffset(2, 0), this.bitLength() > e && this.subTo(ne.ONE.shiftLeft(e - 1), this);
  else {
    var n = new Array(), i = e & 7;
    n.length = (e >> 3) + 1, t.nextBytes(n), i > 0 ? n[0] &= (1 << i) - 1 : n[0] = 0, this.fromString(n, 256);
  }
}
function n3() {
  var e = this.t, t = new Array();
  t[0] = this.s;
  var r = this.DB - e * this.DB % 8, n, i = 0;
  if (e-- > 0)
    for (r < this.DB && (n = this[e] >> r) != (this.s & this.DM) >> r && (t[i++] = n | this.s << this.DB - r); e >= 0; )
      r < 8 ? (n = (this[e] & (1 << r) - 1) << 8 - r, n |= this[--e] >> (r += this.DB - 8)) : (n = this[e] >> (r -= 8) & 255, r <= 0 && (r += this.DB, --e)), n & 128 && (n |= -256), i == 0 && (this.s & 128) != (n & 128) && ++i, (i > 0 || n != this.s) && (t[i++] = n);
  return t;
}
function i3(e) {
  return this.compareTo(e) == 0;
}
function s3(e) {
  return this.compareTo(e) < 0 ? this : e;
}
function a3(e) {
  return this.compareTo(e) > 0 ? this : e;
}
function o3(e, t, r) {
  var n, i, s = Math.min(e.t, this.t);
  for (n = 0; n < s; ++n)
    r[n] = t(this[n], e[n]);
  if (e.t < this.t) {
    for (i = e.s & this.DM, n = s; n < this.t; ++n)
      r[n] = t(this[n], i);
    r.t = this.t;
  } else {
    for (i = this.s & this.DM, n = s; n < e.t; ++n)
      r[n] = t(i, e[n]);
    r.t = e.t;
  }
  r.s = t(this.s, e.s), r.clamp();
}
function u3(e, t) {
  return e & t;
}
function f3(e) {
  var t = He();
  return this.bitwiseTo(e, u3, t), t;
}
function yc(e, t) {
  return e | t;
}
function c3(e) {
  var t = He();
  return this.bitwiseTo(e, yc, t), t;
}
function a1(e, t) {
  return e ^ t;
}
function l3(e) {
  var t = He();
  return this.bitwiseTo(e, a1, t), t;
}
function o1(e, t) {
  return e & ~t;
}
function h3(e) {
  var t = He();
  return this.bitwiseTo(e, o1, t), t;
}
function d3() {
  for (var e = He(), t = 0; t < this.t; ++t)
    e[t] = this.DM & ~this[t];
  return e.t = this.t, e.s = ~this.s, e;
}
function p3(e) {
  var t = He();
  return e < 0 ? this.rShiftTo(-e, t) : this.lShiftTo(e, t), t;
}
function v3(e) {
  var t = He();
  return e < 0 ? this.lShiftTo(-e, t) : this.rShiftTo(e, t), t;
}
function g3(e) {
  if (e == 0)
    return -1;
  var t = 0;
  return e & 65535 || (e >>= 16, t += 16), e & 255 || (e >>= 8, t += 8), e & 15 || (e >>= 4, t += 4), e & 3 || (e >>= 2, t += 2), e & 1 || ++t, t;
}
function y3() {
  for (var e = 0; e < this.t; ++e)
    if (this[e] != 0)
      return e * this.DB + g3(this[e]);
  return this.s < 0 ? this.t * this.DB : -1;
}
function m3(e) {
  for (var t = 0; e != 0; )
    e &= e - 1, ++t;
  return t;
}
function b3() {
  for (var e = 0, t = this.s & this.DM, r = 0; r < this.t; ++r)
    e += m3(this[r] ^ t);
  return e;
}
function w3(e) {
  var t = Math.floor(e / this.DB);
  return t >= this.t ? this.s != 0 : (this[t] & 1 << e % this.DB) != 0;
}
function x3(e, t) {
  var r = ne.ONE.shiftLeft(e);
  return this.bitwiseTo(r, t, r), r;
}
function S3(e) {
  return this.changeBit(e, yc);
}
function E3(e) {
  return this.changeBit(e, o1);
}
function A3(e) {
  return this.changeBit(e, a1);
}
function _3(e, t) {
  for (var r = 0, n = 0, i = Math.min(e.t, this.t); r < i; )
    n += this[r] + e[r], t[r++] = n & this.DM, n >>= this.DB;
  if (e.t < this.t) {
    for (n += e.s; r < this.t; )
      n += this[r], t[r++] = n & this.DM, n >>= this.DB;
    n += this.s;
  } else {
    for (n += this.s; r < e.t; )
      n += e[r], t[r++] = n & this.DM, n >>= this.DB;
    n += e.s;
  }
  t.s = n < 0 ? -1 : 0, n > 0 ? t[r++] = n : n < -1 && (t[r++] = this.DV + n), t.t = r, t.clamp();
}
function T3(e) {
  var t = He();
  return this.addTo(e, t), t;
}
function P3(e) {
  var t = He();
  return this.subTo(e, t), t;
}
function F3(e) {
  var t = He();
  return this.multiplyTo(e, t), t;
}
function I3() {
  var e = He();
  return this.squareTo(e), e;
}
function C3(e) {
  var t = He();
  return this.divRemTo(e, t, null), t;
}
function R3(e) {
  var t = He();
  return this.divRemTo(e, null, t), t;
}
function O3(e) {
  var t = He(), r = He();
  return this.divRemTo(e, t, r), new Array(t, r);
}
function D3(e) {
  this[this.t] = this.am(0, e - 1, this, 0, 0, this.t), ++this.t, this.clamp();
}
function M3(e, t) {
  if (e != 0) {
    for (; this.t <= t; )
      this[this.t++] = 0;
    for (this[t] += e; this[t] >= this.DV; )
      this[t] -= this.DV, ++t >= this.t && (this[this.t++] = 0), ++this[t];
  }
}
function Os() {
}
function u1(e) {
  return e;
}
function B3(e, t, r) {
  e.multiplyTo(t, r);
}
function N3(e, t) {
  e.squareTo(t);
}
Os.prototype.convert = u1;
Os.prototype.revert = u1;
Os.prototype.mulTo = B3;
Os.prototype.sqrTo = N3;
function k3(e) {
  return this.exp(e, new Os());
}
function j3(e, t, r) {
  var n = Math.min(this.t + e.t, t);
  for (r.s = 0, r.t = n; n > 0; )
    r[--n] = 0;
  var i;
  for (i = r.t - this.t; n < i; ++n)
    r[n + this.t] = this.am(0, e[n], r, n, 0, this.t);
  for (i = Math.min(e.t, t); n < i; ++n)
    this.am(0, e[n], r, n, 0, t - n);
  r.clamp();
}
function L3(e, t, r) {
  --t;
  var n = r.t = this.t + e.t - t;
  for (r.s = 0; --n >= 0; )
    r[n] = 0;
  for (n = Math.max(t - this.t, 0); n < e.t; ++n)
    r[this.t + n - t] = this.am(t - n, e[n], r, 0, 0, this.t + n - t);
  r.clamp(), r.drShiftTo(1, r);
}
function Hi(e) {
  this.r2 = He(), this.q3 = He(), ne.ONE.dlShiftTo(2 * e.t, this.r2), this.mu = this.r2.divide(e), this.m = e;
}
function V3(e) {
  if (e.s < 0 || e.t > 2 * this.m.t)
    return e.mod(this.m);
  if (e.compareTo(this.m) < 0)
    return e;
  var t = He();
  return e.copyTo(t), this.reduce(t), t;
}
function H3(e) {
  return e;
}
function U3(e) {
  for (e.drShiftTo(this.m.t - 1, this.r2), e.t > this.m.t + 1 && (e.t = this.m.t + 1, e.clamp()), this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3), this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2); e.compareTo(this.r2) < 0; )
    e.dAddOffset(1, this.m.t + 1);
  for (e.subTo(this.r2, e); e.compareTo(this.m) >= 0; )
    e.subTo(this.m, e);
}
function q3(e, t) {
  e.squareTo(t), this.reduce(t);
}
function K3(e, t, r) {
  e.multiplyTo(t, r), this.reduce(r);
}
Hi.prototype.convert = V3;
Hi.prototype.revert = H3;
Hi.prototype.reduce = U3;
Hi.prototype.mulTo = K3;
Hi.prototype.sqrTo = q3;
function $3(e, t) {
  var r = e.bitLength(), n, i = En(1), s;
  if (r <= 0)
    return i;
  r < 18 ? n = 1 : r < 48 ? n = 3 : r < 144 ? n = 4 : r < 768 ? n = 5 : n = 6, r < 8 ? s = new Yn(t) : t.isEven() ? s = new Hi(t) : s = new Xn(t);
  var a = new Array(), o = 3, u = n - 1, f = (1 << n) - 1;
  if (a[1] = s.convert(this), n > 1) {
    var l = He();
    for (s.sqrTo(a[1], l); o <= f; )
      a[o] = He(), s.mulTo(l, a[o - 2], a[o]), o += 2;
  }
  var h = e.t - 1, c, d = !0, p = He(), v;
  for (r = so(e[h]) - 1; h >= 0; ) {
    for (r >= u ? c = e[h] >> r - u & f : (c = (e[h] & (1 << r + 1) - 1) << u - r, h > 0 && (c |= e[h - 1] >> this.DB + r - u)), o = n; !(c & 1); )
      c >>= 1, --o;
    if ((r -= o) < 0 && (r += this.DB, --h), d)
      a[c].copyTo(i), d = !1;
    else {
      for (; o > 1; )
        s.sqrTo(i, p), s.sqrTo(p, i), o -= 2;
      o > 0 ? s.sqrTo(i, p) : (v = i, i = p, p = v), s.mulTo(p, a[c], i);
    }
    for (; h >= 0 && !(e[h] & 1 << r); )
      s.sqrTo(i, p), v = i, i = p, p = v, --r < 0 && (r = this.DB - 1, --h);
  }
  return s.revert(i);
}
function z3(e) {
  var t = this.s < 0 ? this.negate() : this.clone(), r = e.s < 0 ? e.negate() : e.clone();
  if (t.compareTo(r) < 0) {
    var n = t;
    t = r, r = n;
  }
  var i = t.getLowestSetBit(), s = r.getLowestSetBit();
  if (s < 0)
    return t;
  for (i < s && (s = i), s > 0 && (t.rShiftTo(s, t), r.rShiftTo(s, r)); t.signum() > 0; )
    (i = t.getLowestSetBit()) > 0 && t.rShiftTo(i, t), (i = r.getLowestSetBit()) > 0 && r.rShiftTo(i, r), t.compareTo(r) >= 0 ? (t.subTo(r, t), t.rShiftTo(1, t)) : (r.subTo(t, r), r.rShiftTo(1, r));
  return s > 0 && r.lShiftTo(s, r), r;
}
function W3(e) {
  if (e <= 0)
    return 0;
  var t = this.DV % e, r = this.s < 0 ? e - 1 : 0;
  if (this.t > 0)
    if (t == 0)
      r = this[0] % e;
    else
      for (var n = this.t - 1; n >= 0; --n)
        r = (t * r + this[n]) % e;
  return r;
}
function G3(e) {
  var t = e.isEven();
  if (this.isEven() && t || e.signum() == 0)
    return ne.ZERO;
  for (var r = e.clone(), n = this.clone(), i = En(1), s = En(0), a = En(0), o = En(1); r.signum() != 0; ) {
    for (; r.isEven(); )
      r.rShiftTo(1, r), t ? ((!i.isEven() || !s.isEven()) && (i.addTo(this, i), s.subTo(e, s)), i.rShiftTo(1, i)) : s.isEven() || s.subTo(e, s), s.rShiftTo(1, s);
    for (; n.isEven(); )
      n.rShiftTo(1, n), t ? ((!a.isEven() || !o.isEven()) && (a.addTo(this, a), o.subTo(e, o)), a.rShiftTo(1, a)) : o.isEven() || o.subTo(e, o), o.rShiftTo(1, o);
    r.compareTo(n) >= 0 ? (r.subTo(n, r), t && i.subTo(a, i), s.subTo(o, s)) : (n.subTo(r, n), t && a.subTo(i, a), o.subTo(s, o));
  }
  if (n.compareTo(ne.ONE) != 0)
    return ne.ZERO;
  if (o.compareTo(e) >= 0)
    return o.subtract(e);
  if (o.signum() < 0)
    o.addTo(e, o);
  else
    return o;
  return o.signum() < 0 ? o.add(e) : o;
}
var Wt = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997], J3 = (1 << 26) / Wt[Wt.length - 1];
function Y3(e) {
  var t, r = this.abs();
  if (r.t == 1 && r[0] <= Wt[Wt.length - 1]) {
    for (t = 0; t < Wt.length; ++t)
      if (r[0] == Wt[t])
        return !0;
    return !1;
  }
  if (r.isEven())
    return !1;
  for (t = 1; t < Wt.length; ) {
    for (var n = Wt[t], i = t + 1; i < Wt.length && n < J3; )
      n *= Wt[i++];
    for (n = r.modInt(n); t < i; )
      if (n % Wt[t++] == 0)
        return !1;
  }
  return r.millerRabin(e);
}
function X3(e) {
  var t = this.subtract(ne.ONE), r = t.getLowestSetBit();
  if (r <= 0)
    return !1;
  var n = t.shiftRight(r);
  e = e + 1 >> 1, e > Wt.length && (e = Wt.length);
  for (var i = He(), s = 0; s < e; ++s) {
    i.fromInt(Wt[Math.floor(Math.random() * Wt.length)]);
    var a = i.modPow(n, this);
    if (a.compareTo(ne.ONE) != 0 && a.compareTo(t) != 0) {
      for (var o = 1; o++ < r && a.compareTo(t) != 0; )
        if (a = a.modPowInt(2, this), a.compareTo(ne.ONE) == 0)
          return !1;
      if (a.compareTo(t) != 0)
        return !1;
    }
  }
  return !0;
}
ne.prototype.chunkSize = Z4;
ne.prototype.toRadix = e3;
ne.prototype.fromRadix = t3;
ne.prototype.fromNumber = r3;
ne.prototype.bitwiseTo = o3;
ne.prototype.changeBit = x3;
ne.prototype.addTo = _3;
ne.prototype.dMultiply = D3;
ne.prototype.dAddOffset = M3;
ne.prototype.multiplyLowerTo = j3;
ne.prototype.multiplyUpperTo = L3;
ne.prototype.modInt = W3;
ne.prototype.millerRabin = X3;
ne.prototype.clone = G4;
ne.prototype.intValue = J4;
ne.prototype.byteValue = Y4;
ne.prototype.shortValue = X4;
ne.prototype.signum = Q4;
ne.prototype.toByteArray = n3;
ne.prototype.equals = i3;
ne.prototype.min = s3;
ne.prototype.max = a3;
ne.prototype.and = f3;
ne.prototype.or = c3;
ne.prototype.xor = l3;
ne.prototype.andNot = h3;
ne.prototype.not = d3;
ne.prototype.shiftLeft = p3;
ne.prototype.shiftRight = v3;
ne.prototype.getLowestSetBit = y3;
ne.prototype.bitCount = b3;
ne.prototype.testBit = w3;
ne.prototype.setBit = S3;
ne.prototype.clearBit = E3;
ne.prototype.flipBit = A3;
ne.prototype.add = T3;
ne.prototype.subtract = P3;
ne.prototype.multiply = F3;
ne.prototype.divide = C3;
ne.prototype.remainder = R3;
ne.prototype.divideAndRemainder = O3;
ne.prototype.modPow = $3;
ne.prototype.modInverse = G3;
ne.prototype.pow = k3;
ne.prototype.gcd = z3;
ne.prototype.isProbablePrime = Y3;
ne.prototype.square = I3;
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function mc() {
  this.i = 0, this.j = 0, this.S = new Array();
}
function Z3(e) {
  var t, r, n;
  for (t = 0; t < 256; ++t)
    this.S[t] = t;
  for (r = 0, t = 0; t < 256; ++t)
    r = r + this.S[t] + e[t % e.length] & 255, n = this.S[t], this.S[t] = this.S[r], this.S[r] = n;
  this.i = 0, this.j = 0;
}
function Q3() {
  var e;
  return this.i = this.i + 1 & 255, this.j = this.j + this.S[this.i] & 255, e = this.S[this.i], this.S[this.i] = this.S[this.j], this.S[this.j] = e, this.S[e + this.S[this.i] & 255];
}
mc.prototype.init = Z3;
mc.prototype.next = Q3;
function e5() {
  return new mc();
}
var nf = 256;
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
var Gs, rr, Rt;
function t5(e) {
  rr[Rt++] ^= e & 255, rr[Rt++] ^= e >> 8 & 255, rr[Rt++] ^= e >> 16 & 255, rr[Rt++] ^= e >> 24 & 255, Rt >= nf && (Rt -= nf);
}
function f1() {
  t5(new Date().getTime());
}
if (rr == null) {
  rr = new Array(), Rt = 0;
  var Pr;
  if (ni !== void 0 && (ni.crypto !== void 0 || ni.msCrypto !== void 0)) {
    var Ih = ni.crypto || ni.msCrypto;
    if (Ih.getRandomValues) {
      var Ch = new Uint8Array(32);
      for (Ih.getRandomValues(Ch), Pr = 0; Pr < 32; ++Pr)
        rr[Rt++] = Ch[Pr];
    } else if (ys.appName == "Netscape" && ys.appVersion < "5") {
      var Rh = ni.crypto.random(32);
      for (Pr = 0; Pr < Rh.length; ++Pr)
        rr[Rt++] = Rh.charCodeAt(Pr) & 255;
    }
  }
  for (; Rt < nf; )
    Pr = Math.floor(65536 * Math.random()), rr[Rt++] = Pr >>> 8, rr[Rt++] = Pr & 255;
  Rt = 0, f1();
}
function r5() {
  if (Gs == null) {
    for (f1(), Gs = e5(), Gs.init(rr), Rt = 0; Rt < rr.length; ++Rt)
      rr[Rt] = 0;
    Rt = 0;
  }
  return Gs.next();
}
function n5(e) {
  var t;
  for (t = 0; t < e.length; ++t)
    e[t] = r5();
}
function Zn() {
}
Zn.prototype.nextBytes = n5;
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function Ut(e, t) {
  return new ne(e, t);
}
function i5(e, t) {
  if (t < e.length + 11)
    throw "Message too long for RSA";
  for (var r = new Array(), n = e.length - 1; n >= 0 && t > 0; ) {
    var i = e.charCodeAt(n--);
    i < 128 ? r[--t] = i : i > 127 && i < 2048 ? (r[--t] = i & 63 | 128, r[--t] = i >> 6 | 192) : (r[--t] = i & 63 | 128, r[--t] = i >> 6 & 63 | 128, r[--t] = i >> 12 | 224);
  }
  r[--t] = 0;
  for (var s = new Zn(), a = new Array(); t > 2; ) {
    for (a[0] = 0; a[0] == 0; )
      s.nextBytes(a);
    r[--t] = a[0];
  }
  return r[--t] = 2, r[--t] = 0, new ne(r);
}
function Oh(e, t, r) {
  for (var n = "", i = 0; n.length < t; )
    n += r(String.fromCharCode.apply(String, e.concat([(i & 4278190080) >> 24, (i & 16711680) >> 16, (i & 65280) >> 8, i & 255]))), i += 1;
  return n;
}
function s5(e, t, r, n) {
  var i = g.crypto.MessageDigest, s = g.crypto.Util, a = null;
  if (r || (r = "sha1"), typeof r == "string" && (a = i.getCanonicalAlgName(r), n = i.getHashLength(a), r = function(v) {
    return mr(s.hashHex(Or(v), a));
  }), e.length + 2 * n + 2 > t)
    throw "Message too long for RSA";
  var o = "", u;
  for (u = 0; u < t - e.length - 2 * n - 2; u += 1)
    o += "\0";
  var f = r("") + o + "" + e, l = new Array(n);
  new Zn().nextBytes(l);
  var h = Oh(l, f.length, r), c = [];
  for (u = 0; u < f.length; u += 1)
    c[u] = f.charCodeAt(u) ^ h.charCodeAt(u);
  var d = Oh(c, l.length, r), p = [0];
  for (u = 0; u < l.length; u += 1)
    p[u + 1] = l[u] ^ d.charCodeAt(u);
  return new ne(p.concat(c));
}
function Pe() {
  this.n = null, this.e = 0, this.d = null, this.p = null, this.q = null, this.dmp1 = null, this.dmq1 = null, this.coeff = null;
}
function a5(e, t) {
  if (this.isPublic = !0, this.isPrivate = !1, typeof e != "string")
    this.n = e, this.e = t;
  else if (e != null && t != null && e.length > 0 && t.length > 0)
    this.n = Ut(e, 16), this.e = parseInt(t, 16);
  else
    throw "Invalid RSA public key";
}
function o5(e) {
  return e.modPowInt(this.e, this.n);
}
function u5(e) {
  var t = i5(e, this.n.bitLength() + 7 >> 3);
  if (t == null)
    return null;
  var r = this.doPublic(t);
  if (r == null)
    return null;
  var n = r.toString(16);
  return n.length & 1 ? "0" + n : n;
}
function f5(e, t, r) {
  var n = this.n.bitLength() + 7 >> 3, i = s5(e, n, t, r);
  if (i == null)
    return null;
  var s = this.doPublic(i);
  if (s == null)
    return null;
  for (var a = s.toString(16); a.length < n * 2; )
    a = "0" + a;
  return a;
}
Pe.prototype.doPublic = o5;
Pe.prototype.setPublic = a5;
Pe.prototype.encrypt = u5;
Pe.prototype.encryptOAEP = f5;
Pe.prototype.type = "RSA";
/*! (c) Tom Wu, Kenji Urushima | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function c5(e, t) {
  for (var r = e.toByteArray(), n = 0; n < r.length && r[n] == 0; )
    ++n;
  if (r.length - n != t - 1 || r[n] != 2)
    return null;
  for (++n; r[n] != 0; )
    if (++n >= r.length)
      return null;
  for (var i = ""; ++n < r.length; ) {
    var s = r[n] & 255;
    s < 128 ? i += String.fromCharCode(s) : s > 191 && s < 224 ? (i += String.fromCharCode((s & 31) << 6 | r[n + 1] & 63), ++n) : (i += String.fromCharCode((s & 15) << 12 | (r[n + 1] & 63) << 6 | r[n + 2] & 63), n += 2);
  }
  return i;
}
function Dh(e, t, r) {
  for (var n = "", i = 0; n.length < t; )
    n += r(e + String.fromCharCode.apply(String, [(i & 4278190080) >> 24, (i & 16711680) >> 16, (i & 65280) >> 8, i & 255])), i += 1;
  return n;
}
function l5(e, t, r, n) {
  var i = g.crypto.MessageDigest, s = g.crypto.Util, a = null;
  r || (r = "sha1"), typeof r == "string" && (a = i.getCanonicalAlgName(r), n = i.getHashLength(a), r = function(m) {
    return mr(s.hashHex(Or(m), a));
  }), e = e.toByteArray();
  var h;
  for (h = 0; h < e.length; h += 1)
    e[h] &= 255;
  for (; e.length < t; )
    e.unshift(0);
  if (e = String.fromCharCode.apply(String, e), e.length < 2 * n + 2)
    throw "Cipher too short";
  var o = e.substr(1, n), u = e.substr(n + 1), f = Dh(u, n, r), l = [], h;
  for (h = 0; h < o.length; h += 1)
    l[h] = o.charCodeAt(h) ^ f.charCodeAt(h);
  var c = Dh(String.fromCharCode.apply(String, l), e.length - n, r), d = [];
  for (h = 0; h < u.length; h += 1)
    d[h] = u.charCodeAt(h) ^ c.charCodeAt(h);
  if (d = String.fromCharCode.apply(String, d), d.substr(0, n) !== r(""))
    throw "Hash mismatch";
  d = d.substr(n);
  var p = d.indexOf(""), v = p != -1 ? d.substr(0, p).lastIndexOf("\0") : -1;
  if (v + 1 != p)
    throw "Malformed data";
  return d.substr(p + 1);
}
function h5(e, t, r) {
  if (this.isPrivate = !0, typeof e != "string")
    this.n = e, this.e = t, this.d = r;
  else if (e != null && t != null && e.length > 0 && t.length > 0)
    this.n = Ut(e, 16), this.e = parseInt(t, 16), this.d = Ut(r, 16);
  else
    throw "Invalid RSA private key";
}
function d5(e, t, r, n, i, s, a, o) {
  if (this.isPrivate = !0, this.isPublic = !1, e == null)
    throw "RSASetPrivateEx N == null";
  if (t == null)
    throw "RSASetPrivateEx E == null";
  if (e.length == 0)
    throw "RSASetPrivateEx N.length == 0";
  if (t.length == 0)
    throw "RSASetPrivateEx E.length == 0";
  if (e != null && t != null && e.length > 0 && t.length > 0)
    this.n = Ut(e, 16), this.e = parseInt(t, 16), this.d = Ut(r, 16), this.p = Ut(n, 16), this.q = Ut(i, 16), this.dmp1 = Ut(s, 16), this.dmq1 = Ut(a, 16), this.coeff = Ut(o, 16);
  else
    throw "Invalid RSA private key in RSASetPrivateEx";
}
function p5(e, t) {
  var r = new Zn(), n = e >> 1;
  this.e = parseInt(t, 16);
  for (var i = new ne(t, 16), s = e / 2 - 100, a = ne.ONE.shiftLeft(s); ; ) {
    for (; this.p = new ne(e - n, 1, r), !(this.p.subtract(ne.ONE).gcd(i).compareTo(ne.ONE) == 0 && this.p.isProbablePrime(10)); )
      ;
    for (; this.q = new ne(n, 1, r), !(this.q.subtract(ne.ONE).gcd(i).compareTo(ne.ONE) == 0 && this.q.isProbablePrime(10)); )
      ;
    if (this.p.compareTo(this.q) <= 0) {
      var o = this.p;
      this.p = this.q, this.q = o;
    }
    var u = this.q.subtract(this.p).abs();
    if (!(u.bitLength() < s || u.compareTo(a) <= 0)) {
      var f = this.p.subtract(ne.ONE), l = this.q.subtract(ne.ONE), h = f.multiply(l);
      if (h.gcd(i).compareTo(ne.ONE) == 0 && (this.n = this.p.multiply(this.q), this.n.bitLength() == e)) {
        this.d = i.modInverse(h), this.dmp1 = this.d.mod(f), this.dmq1 = this.d.mod(l), this.coeff = this.q.modInverse(this.p);
        break;
      }
    }
  }
  this.isPrivate = !0;
}
function v5(e) {
  if (this.p == null || this.q == null)
    return e.modPow(this.d, this.n);
  for (var t = e.mod(this.p).modPow(this.dmp1, this.p), r = e.mod(this.q).modPow(this.dmq1, this.q); t.compareTo(r) < 0; )
    t = t.add(this.p);
  return t.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r);
}
function g5(e) {
  if (e.length != Math.ceil(this.n.bitLength() / 4))
    throw new Error("wrong ctext length");
  var t = Ut(e, 16), r = this.doPrivate(t);
  return r == null ? null : c5(r, this.n.bitLength() + 7 >> 3);
}
function y5(e, t, r) {
  if (e.length != Math.ceil(this.n.bitLength() / 4))
    throw new Error("wrong ctext length");
  var n = Ut(e, 16), i = this.doPrivate(n);
  return i == null ? null : l5(i, this.n.bitLength() + 7 >> 3, t, r);
}
Pe.prototype.doPrivate = v5;
Pe.prototype.setPrivate = h5;
Pe.prototype.setPrivateEx = d5;
Pe.prototype.generate = p5;
Pe.prototype.decrypt = g5;
Pe.prototype.decryptOAEP = y5;
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function Nt(e, t) {
  this.x = t, this.q = e;
}
function m5(e) {
  return e == this ? !0 : this.q.equals(e.q) && this.x.equals(e.x);
}
function b5() {
  return this.x;
}
function w5() {
  return new Nt(this.q, this.x.negate().mod(this.q));
}
function x5(e) {
  return new Nt(this.q, this.x.add(e.toBigInteger()).mod(this.q));
}
function S5(e) {
  return new Nt(this.q, this.x.subtract(e.toBigInteger()).mod(this.q));
}
function E5(e) {
  return new Nt(this.q, this.x.multiply(e.toBigInteger()).mod(this.q));
}
function A5() {
  return new Nt(this.q, this.x.square().mod(this.q));
}
function _5(e) {
  return new Nt(this.q, this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q));
}
Nt.prototype.equals = m5;
Nt.prototype.toBigInteger = b5;
Nt.prototype.negate = w5;
Nt.prototype.add = x5;
Nt.prototype.subtract = S5;
Nt.prototype.multiply = E5;
Nt.prototype.square = A5;
Nt.prototype.divide = _5;
Nt.prototype.sqrt = function() {
  return new Nt(this.q, this.x.sqrt().mod(this.q));
};
function ze(e, t, r, n) {
  this.curve = e, this.x = t, this.y = r, n == null ? this.z = ne.ONE : this.z = n, this.zinv = null;
}
function T5() {
  return this.zinv == null && (this.zinv = this.z.modInverse(this.curve.q)), this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q));
}
function P5() {
  return this.zinv == null && (this.zinv = this.z.modInverse(this.curve.q)), this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q));
}
function F5(e) {
  if (e == this)
    return !0;
  if (this.isInfinity())
    return e.isInfinity();
  if (e.isInfinity())
    return this.isInfinity();
  var t, r;
  return t = e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q), t.equals(ne.ZERO) ? (r = e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q), r.equals(ne.ZERO)) : !1;
}
function I5() {
  return this.x == null && this.y == null ? !0 : this.z.equals(ne.ZERO) && !this.y.toBigInteger().equals(ne.ZERO);
}
function C5() {
  return new ze(this.curve, this.x, this.y.negate(), this.z);
}
function R5(e) {
  if (this.isInfinity())
    return e;
  if (e.isInfinity())
    return this;
  var t = e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q), r = e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);
  if (ne.ZERO.equals(r))
    return ne.ZERO.equals(t) ? this.twice() : this.curve.getInfinity();
  var n = new ne("3"), i = this.x.toBigInteger(), s = this.y.toBigInteger();
  e.x.toBigInteger(), e.y.toBigInteger();
  var a = r.square(), o = a.multiply(r), u = i.multiply(a), f = t.square().multiply(this.z), l = f.subtract(u.shiftLeft(1)).multiply(e.z).subtract(o).multiply(r).mod(this.curve.q), h = u.multiply(n).multiply(t).subtract(s.multiply(o)).subtract(f.multiply(t)).multiply(e.z).add(t.multiply(o)).mod(this.curve.q), c = o.multiply(this.z).multiply(e.z).mod(this.curve.q);
  return new ze(this.curve, this.curve.fromBigInteger(l), this.curve.fromBigInteger(h), c);
}
function O5() {
  if (this.isInfinity())
    return this;
  if (this.y.toBigInteger().signum() == 0)
    return this.curve.getInfinity();
  var e = new ne("3"), t = this.x.toBigInteger(), r = this.y.toBigInteger(), n = r.multiply(this.z), i = n.multiply(r).mod(this.curve.q), s = this.curve.a.toBigInteger(), a = t.square().multiply(e);
  ne.ZERO.equals(s) || (a = a.add(this.z.square().multiply(s))), a = a.mod(this.curve.q);
  var o = a.square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(n).mod(this.curve.q), u = a.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(a.square().multiply(a)).mod(this.curve.q), f = n.square().multiply(n).shiftLeft(3).mod(this.curve.q);
  return new ze(this.curve, this.curve.fromBigInteger(o), this.curve.fromBigInteger(u), f);
}
function D5(e) {
  if (this.isInfinity())
    return this;
  if (e.signum() == 0)
    return this.curve.getInfinity();
  var t = e, r = t.multiply(new ne("3")), n = this.negate(), i = this, s = this.curve.q.subtract(e), a = s.multiply(new ne("3")), o = new ze(this.curve, this.x, this.y), u = o.negate(), f;
  for (f = r.bitLength() - 2; f > 0; --f) {
    i = i.twice();
    var l = r.testBit(f), h = t.testBit(f);
    l != h && (i = i.add(l ? this : n));
  }
  for (f = a.bitLength() - 2; f > 0; --f) {
    o = o.twice();
    var c = a.testBit(f), d = s.testBit(f);
    c != d && (o = o.add(c ? o : u));
  }
  return i;
}
function M5(e, t, r) {
  var n;
  e.bitLength() > r.bitLength() ? n = e.bitLength() - 1 : n = r.bitLength() - 1;
  for (var i = this.curve.getInfinity(), s = this.add(t); n >= 0; )
    i = i.twice(), e.testBit(n) ? r.testBit(n) ? i = i.add(s) : i = i.add(this) : r.testBit(n) && (i = i.add(t)), --n;
  return i;
}
ze.prototype.getX = T5;
ze.prototype.getY = P5;
ze.prototype.equals = F5;
ze.prototype.isInfinity = I5;
ze.prototype.negate = C5;
ze.prototype.add = R5;
ze.prototype.twice = O5;
ze.prototype.multiply = D5;
ze.prototype.multiplyTwo = M5;
function On(e, t, r) {
  this.q = e, this.a = this.fromBigInteger(t), this.b = this.fromBigInteger(r), this.infinity = new ze(this, null, null);
}
function B5() {
  return this.q;
}
function N5() {
  return this.a;
}
function k5() {
  return this.b;
}
function j5(e) {
  return e == this ? !0 : this.q.equals(e.q) && this.a.equals(e.a) && this.b.equals(e.b);
}
function L5() {
  return this.infinity;
}
function V5(e) {
  return new Nt(this.q, e);
}
function H5(e) {
  switch (parseInt(e.substr(0, 2), 16)) {
    case 0:
      return this.infinity;
    case 2:
    case 3:
      var t = e.substr(0, 2);
      e.substr(2);
      var r = this.fromBigInteger(new ne(u, 16)), n = this.getA(), i = this.getB(), s = r.square().add(n).multiply(r).add(i), a = s.sqrt();
      return t == "03" && (a = a.negate()), new ze(this, r, a);
    case 4:
    case 6:
    case 7:
      var o = (e.length - 2) / 2, u = e.substr(2, o), f = e.substr(o + 2, o);
      return new ze(this, this.fromBigInteger(new ne(u, 16)), this.fromBigInteger(new ne(f, 16)));
    default:
      return null;
  }
}
On.prototype.getQ = B5;
On.prototype.getA = N5;
On.prototype.getB = k5;
On.prototype.equals = j5;
On.prototype.getInfinity = L5;
On.prototype.fromBigInteger = V5;
On.prototype.decodePointHex = H5;
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
 */
Nt.prototype.getByteLength = function() {
  return Math.floor((this.toBigInteger().bitLength() + 7) / 8);
};
ze.prototype.getEncoded = function(e) {
  var t = function(s, a) {
    var o = s.toByteArrayUnsigned();
    if (a < o.length)
      o = o.slice(o.length - a);
    else
      for (; a > o.length; )
        o.unshift(0);
    return o;
  }, r = this.getX().toBigInteger(), n = this.getY().toBigInteger(), i = t(r, 32);
  return e ? n.isEven() ? i.unshift(2) : i.unshift(3) : (i.unshift(4), i = i.concat(t(n, 32))), i;
};
ze.decodeFrom = function(e, t) {
  t[0];
  var r = t.length - 1, n = t.slice(1, 1 + r / 2), i = t.slice(1 + r / 2, 1 + r);
  n.unshift(0), i.unshift(0);
  var s = new ne(n), a = new ne(i);
  return new ze(e, e.fromBigInteger(s), e.fromBigInteger(a));
};
ze.decodeFromHex = function(e, t) {
  t.substr(0, 2);
  var r = t.length - 2, n = t.substr(2, r / 2), i = t.substr(2 + r / 2, r / 2), s = new ne(n, 16), a = new ne(i, 16);
  return new ze(e, e.fromBigInteger(s), e.fromBigInteger(a));
};
ze.prototype.add2D = function(e) {
  if (this.isInfinity())
    return e;
  if (e.isInfinity())
    return this;
  if (this.x.equals(e.x))
    return this.y.equals(e.y) ? this.twice() : this.curve.getInfinity();
  var t = e.x.subtract(this.x), r = e.y.subtract(this.y), n = r.divide(t), i = n.square().subtract(this.x).subtract(e.x), s = n.multiply(this.x.subtract(i)).subtract(this.y);
  return new ze(this.curve, i, s);
};
ze.prototype.twice2D = function() {
  if (this.isInfinity())
    return this;
  if (this.y.toBigInteger().signum() == 0)
    return this.curve.getInfinity();
  var e = this.curve.fromBigInteger(ne.valueOf(2)), t = this.curve.fromBigInteger(ne.valueOf(3)), r = this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)), n = r.square().subtract(this.x.multiply(e)), i = r.multiply(this.x.subtract(n)).subtract(this.y);
  return new ze(this.curve, n, i);
};
ze.prototype.multiply2D = function(e) {
  if (this.isInfinity())
    return this;
  if (e.signum() == 0)
    return this.curve.getInfinity();
  var t = e, r = t.multiply(new ne("3")), n = this.negate(), i = this, s;
  for (s = r.bitLength() - 2; s > 0; --s) {
    i = i.twice();
    var a = r.testBit(s), o = t.testBit(s);
    a != o && (i = i.add2D(a ? this : n));
  }
  return i;
};
ze.prototype.isOnCurve = function() {
  var e = this.getX().toBigInteger(), t = this.getY().toBigInteger(), r = this.curve.getA().toBigInteger(), n = this.curve.getB().toBigInteger(), i = this.curve.getQ(), s = t.multiply(t).mod(i), a = e.multiply(e).multiply(e).add(r.multiply(e)).add(n).mod(i);
  return s.equals(a);
};
ze.prototype.toString = function() {
  return "(" + this.getX().toBigInteger().toString() + "," + this.getY().toBigInteger().toString() + ")";
};
ze.prototype.validate = function() {
  var e = this.curve.getQ();
  if (this.isInfinity())
    throw new Error("Point is at infinity.");
  var t = this.getX().toBigInteger(), r = this.getY().toBigInteger();
  if (t.compareTo(ne.ONE) < 0 || t.compareTo(e.subtract(ne.ONE)) > 0)
    throw new Error("x coordinate out of bounds");
  if (r.compareTo(ne.ONE) < 0 || r.compareTo(e.subtract(ne.ONE)) > 0)
    throw new Error("y coordinate out of bounds");
  if (!this.isOnCurve())
    throw new Error("Point is not on the curve.");
  if (this.multiply(e).isInfinity())
    throw new Error("Point is not a scalar multiple of G.");
  return !0;
};
/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */
var c1 = function() {
  var e = "(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)", t = '(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))', r = '(?:"' + t + '*")', n = new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|" + e + "|" + r + ")", "g"), i = new RegExp("\\\\(?:([^u])|u(.{4}))", "g"), s = { '"': '"', "/": "/", "\\": "\\", b: "\b", f: "\f", n: `
`, r: "\r", t: "	" };
  function a(l, h, c) {
    return h ? s[h] : String.fromCharCode(parseInt(c, 16));
  }
  var o = new String(""), u = "\\", f = Object.hasOwnProperty;
  return function(l, h) {
    var c = l.match(n), d, p = c[0], v = !1;
    p === "{" ? d = {} : p === "[" ? d = [] : (d = [], v = !0);
    for (var m, b = [d], A = 1 - v, D = c.length; A < D; ++A) {
      p = c[A];
      var k;
      switch (p.charCodeAt(0)) {
        default:
          k = b[0], k[m || k.length] = +p, m = void 0;
          break;
        case 34:
          if (p = p.substring(1, p.length - 1), p.indexOf(u) !== -1 && (p = p.replace(i, a)), k = b[0], !m)
            if (k instanceof Array)
              m = k.length;
            else {
              m = p || o;
              break;
            }
          k[m] = p, m = void 0;
          break;
        case 91:
          k = b[0], b.unshift(k[m || k.length] = []), m = void 0;
          break;
        case 93:
          b.shift();
          break;
        case 102:
          k = b[0], k[m || k.length] = !1, m = void 0;
          break;
        case 110:
          k = b[0], k[m || k.length] = null, m = void 0;
          break;
        case 116:
          k = b[0], k[m || k.length] = !0, m = void 0;
          break;
        case 123:
          k = b[0], b.unshift(k[m || k.length] = {}), m = void 0;
          break;
        case 125:
          b.shift();
          break;
      }
    }
    if (v) {
      if (b.length !== 1)
        throw new Error();
      d = d[0];
    } else if (b.length)
      throw new Error();
    if (h) {
      var L = function(_, F) {
        var O = _[F];
        if (O && typeof O == "object") {
          var P = null;
          for (var M in O)
            if (f.call(O, M) && O !== _) {
              var C = L(O, M);
              C !== void 0 ? O[M] = C : (P || (P = []), P.push(M));
            }
          if (P)
            for (var y = P.length; --y >= 0; )
              delete O[P[y]];
        }
        return h.call(_, F, O);
      };
      d = L({ "": d }, "");
    }
    return d;
  };
}();
(typeof g > "u" || !g) && (g = {});
(typeof g.asn1 > "u" || !g.asn1) && (g.asn1 = {});
g.asn1.ASN1Util = new function() {
  this.integerToByteHex = function(e) {
    var t = e.toString(16);
    return t.length % 2 == 1 && (t = "0" + t), t;
  }, this.bigIntToMinTwosComplementsHex = function(e) {
    var t = e.toString(16);
    if (t.substr(0, 1) != "-")
      t.length % 2 == 1 ? t = "0" + t : t.match(/^[0-7]/) || (t = "00" + t);
    else {
      var r = t.substr(1), n = r.length;
      n % 2 == 1 ? n += 1 : t.match(/^[0-7]/) || (n += 2);
      for (var i = "", s = 0; s < n; s++)
        i += "f";
      var a = new ne(i, 16), o = a.xor(e).add(ne.ONE);
      t = o.toString(16).replace(/^-/, "");
    }
    return t;
  }, this.getPEMStringFromHex = function(e, t) {
    return jt(e, t);
  }, this.newObject = function(e) {
    var t = g, r = t.asn1, n = r.ASN1Object, i = r.DERBoolean, s = r.DERInteger, a = r.DERBitString, o = r.DEROctetString, u = r.DERNull, f = r.DERObjectIdentifier, l = r.DEREnumerated, h = r.DERUTF8String, c = r.DERNumericString, d = r.DERPrintableString, p = r.DERTeletexString, v = r.DERIA5String, m = r.DERUTCTime, b = r.DERGeneralizedTime, A = r.DERVisibleString, D = r.DERBMPString, k = r.DERSequence, L = r.DERSet, _ = r.DERTaggedObject, F = r.ASN1Util.newObject;
    if (e instanceof r.ASN1Object)
      return e;
    var O = Object.keys(e);
    if (O.length != 1)
      throw new Error("key of param shall be only one.");
    var P = O[0];
    if (":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":" + P + ":") == -1)
      throw new Error("undefined key: " + P);
    if (P == "bool")
      return new i(e[P]);
    if (P == "int")
      return new s(e[P]);
    if (P == "bitstr")
      return new a(e[P]);
    if (P == "octstr")
      return new o(e[P]);
    if (P == "null")
      return new u(e[P]);
    if (P == "oid")
      return new f(e[P]);
    if (P == "enum")
      return new l(e[P]);
    if (P == "utf8str")
      return new h(e[P]);
    if (P == "numstr")
      return new c(e[P]);
    if (P == "prnstr")
      return new d(e[P]);
    if (P == "telstr")
      return new p(e[P]);
    if (P == "ia5str")
      return new v(e[P]);
    if (P == "utctime")
      return new m(e[P]);
    if (P == "gentime")
      return new b(e[P]);
    if (P == "visstr")
      return new A(e[P]);
    if (P == "bmpstr")
      return new D(e[P]);
    if (P == "asn1")
      return new n(e[P]);
    if (P == "seq") {
      for (var M = e[P], C = [], y = 0; y < M.length; y++) {
        var E = F(M[y]);
        C.push(E);
      }
      return new k({ array: C });
    }
    if (P == "set") {
      for (var M = e[P], C = [], y = 0; y < M.length; y++) {
        var E = F(M[y]);
        C.push(E);
      }
      return new L({ array: C });
    }
    if (P == "tag") {
      var T = e[P];
      if (Object.prototype.toString.call(T) === "[object Array]" && T.length == 3) {
        var R = F(T[2]);
        return new _({ tag: T[0], explicit: T[1], obj: R });
      } else
        return new _(T);
    }
  }, this.jsonToASN1HEX = function(e) {
    var t = this.newObject(e);
    return t.tohex();
  };
}();
g.asn1.ASN1Util.oidHexToInt = function(e) {
  for (var i = "", t = parseInt(e.substr(0, 2), 16), r = Math.floor(t / 40), n = t % 40, i = r + "." + n, s = "", a = 2; a < e.length; a += 2) {
    var o = parseInt(e.substr(a, 2), 16), u = ("00000000" + o.toString(2)).slice(-8);
    if (s = s + u.substr(1, 7), u.substr(0, 1) == "0") {
      var f = new ne(s, 2);
      i = i + "." + f.toString(10), s = "";
    }
  }
  return i;
};
g.asn1.ASN1Util.oidIntToHex = function(e) {
  var t = function(o) {
    var u = o.toString(16);
    return u.length == 1 && (u = "0" + u), u;
  }, r = function(o) {
    var u = "", f = new ne(o, 10), l = f.toString(2), h = 7 - l.length % 7;
    h == 7 && (h = 0);
    for (var c = "", d = 0; d < h; d++)
      c += "0";
    l = c + l;
    for (var d = 0; d < l.length - 1; d += 7) {
      var p = l.substr(d, 7);
      d != l.length - 7 && (p = "1" + p), u += t(parseInt(p, 2));
    }
    return u;
  };
  if (!e.match(/^[0-9.]+$/))
    throw "malformed oid string: " + e;
  var n = "", i = e.split("."), s = parseInt(i[0]) * 40 + parseInt(i[1]);
  n += t(s), i.splice(0, 2);
  for (var a = 0; a < i.length; a++)
    n += r(i[a]);
  return n;
};
g.asn1.ASN1Object = function(e) {
  var t = "";
  this.params = null, this.getLengthHexFromValue = function() {
    if (typeof this.hV > "u" || this.hV == null)
      throw new Error("this.hV is null or undefined");
    if (this.hV.length % 2 == 1)
      throw new Error("value hex must be even length: n=" + t.length + ",v=" + this.hV);
    var r = this.hV.length / 2, n = r.toString(16);
    if (n.length % 2 == 1 && (n = "0" + n), r < 128)
      return n;
    var i = n.length / 2;
    if (i > 15)
      throw new Error("ASN.1 length too long to represent by 8x: n = " + r.toString(16));
    var s = 128 + i;
    return s.toString(16) + n;
  }, this.tohex = function() {
    return (this.hTLV == null || this.isModified) && (this.hV = this.getFreshValueHex(), this.hL = this.getLengthHexFromValue(), this.hTLV = this.hT + this.hL + this.hV, this.isModified = !1), this.hTLV;
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, this.getValueHex = function() {
    return this.tohex(), this.hV;
  }, this.getFreshValueHex = function() {
    return "";
  }, this.setByParam = function(r) {
    this.params = r;
  }, e != null && e.tlv != null && (this.hTLV = e.tlv, this.isModified = !1);
};
g.asn1.DERAbstractString = function(e) {
  g.asn1.DERAbstractString.superclass.constructor.call(this), this.getString = function() {
    return this.s;
  }, this.setString = function(t) {
    this.hTLV = null, this.isModified = !0, this.s = t, this.hV = xc(this.s).toLowerCase();
  }, this.setStringHex = function(t) {
    this.hTLV = null, this.isModified = !0, this.s = null, this.hV = t;
  }, this.getFreshValueHex = function() {
    return this.hV;
  }, typeof e < "u" && (typeof e == "string" ? this.setString(e) : typeof e.str < "u" ? this.setString(e.str) : typeof e.hex < "u" && this.setStringHex(e.hex));
};
he(g.asn1.DERAbstractString, g.asn1.ASN1Object);
g.asn1.DERAbstractTime = function(e) {
  g.asn1.DERAbstractTime.superclass.constructor.call(this), this.localDateToUTC = function(t) {
    var r = t.getTime() + t.getTimezoneOffset() * 6e4, n = new Date(r);
    return n;
  }, this.formatDate = function(t, r, n) {
    var i = this.zeroPadding, s = this.localDateToUTC(t), a = String(s.getFullYear());
    r == "utc" && (a = a.substr(2, 2));
    var o = i(String(s.getMonth() + 1), 2), u = i(String(s.getDate()), 2), f = i(String(s.getHours()), 2), l = i(String(s.getMinutes()), 2), h = i(String(s.getSeconds()), 2), c = a + o + u + f + l + h;
    if (n === !0) {
      var d = s.getMilliseconds();
      if (d != 0) {
        var p = i(String(d), 3);
        p = p.replace(/[0]+$/, ""), c = c + "." + p;
      }
    }
    return c + "Z";
  }, this.zeroPadding = function(t, r) {
    return t.length >= r ? t : new Array(r - t.length + 1).join("0") + t;
  }, this.setByParam = function(t) {
    this.hV = null, this.hTLV = null, this.params = t;
  }, this.getString = function() {
  }, this.setString = function(t) {
    this.hTLV = null, this.isModified = !0, this.params == null && (this.params = {}), this.params.str = t;
  }, this.setByDate = function(t) {
    this.hTLV = null, this.isModified = !0, this.params == null && (this.params = {}), this.params.date = t;
  }, this.setByDateValue = function(t, r, n, i, s, a) {
    var o = new Date(Date.UTC(t, r - 1, n, i, s, a, 0));
    this.setByDate(o);
  }, this.getFreshValueHex = function() {
    return this.hV;
  };
};
he(g.asn1.DERAbstractTime, g.asn1.ASN1Object);
g.asn1.DERAbstractStructured = function(e) {
  g.asn1.DERAbstractString.superclass.constructor.call(this), this.setByASN1ObjectArray = function(t) {
    this.hTLV = null, this.isModified = !0, this.asn1Array = t;
  }, this.appendASN1Object = function(t) {
    this.hTLV = null, this.isModified = !0, this.asn1Array.push(t);
  }, this.asn1Array = new Array(), typeof e < "u" && typeof e.array < "u" && (this.asn1Array = e.array);
};
he(g.asn1.DERAbstractStructured, g.asn1.ASN1Object);
g.asn1.DERBoolean = function(e) {
  g.asn1.DERBoolean.superclass.constructor.call(this), this.hT = "01", e == !1 ? this.hTLV = "010100" : this.hTLV = "0101ff";
};
he(g.asn1.DERBoolean, g.asn1.ASN1Object);
g.asn1.DERInteger = function(e) {
  g.asn1.DERInteger.superclass.constructor.call(this), this.hT = "02", this.params = null;
  var t = g.asn1.ASN1Util.bigIntToMinTwosComplementsHex;
  this.setByBigInteger = function(r) {
    this.isModified = !0, this.params = { bigint: r };
  }, this.setByInteger = function(r) {
    this.isModified = !0, this.params = r;
  }, this.setValueHex = function(r) {
    this.isModified = !0, this.params = { hex: r };
  }, this.getFreshValueHex = function() {
    var r = this.params, n = null;
    if (r == null)
      throw new Error("value not set");
    if (typeof r == "object" && r.hex != null)
      return this.hV = r.hex, this.hV;
    if (typeof r == "number")
      n = new ne(String(r), 10);
    else if (r.int != null)
      n = new ne(String(r.int), 10);
    else if (r.bigint != null)
      n = r.bigint;
    else
      throw new Error("wrong parameter");
    return this.hV = t(n), this.hV;
  }, e != null && (this.params = e);
};
he(g.asn1.DERInteger, g.asn1.ASN1Object);
g.asn1.DERBitString = function(e) {
  if (e !== void 0 && typeof e.obj < "u") {
    var t = g.asn1.ASN1Util.newObject(e.obj);
    e.hex = "00" + t.tohex();
  }
  g.asn1.DERBitString.superclass.constructor.call(this), this.hT = "03", this.setHexValueIncludingUnusedBits = function(r) {
    this.hTLV = null, this.isModified = !0, this.hV = r;
  }, this.setUnusedBitsAndHexValue = function(r, n) {
    if (r < 0 || 7 < r)
      throw "unused bits shall be from 0 to 7: u = " + r;
    var i = "0" + r;
    this.hTLV = null, this.isModified = !0, this.hV = i + n;
  }, this.setByBinaryString = function(r) {
    r = r.replace(/0+$/, "");
    var n = 8 - r.length % 8;
    n == 8 && (n = 0), r += "0000000".substr(0, n);
    for (var i = "", s = 0; s < r.length - 1; s += 8) {
      var a = r.substr(s, 8), o = parseInt(a, 2).toString(16);
      o.length == 1 && (o = "0" + o), i += o;
    }
    this.hTLV = null, this.isModified = !0, this.hV = "0" + n + i;
  }, this.setByBooleanArray = function(r) {
    for (var n = "", i = 0; i < r.length; i++)
      r[i] == !0 ? n += "1" : n += "0";
    this.setByBinaryString(n);
  }, this.newFalseArray = function(r) {
    for (var n = new Array(r), i = 0; i < r; i++)
      n[i] = !1;
    return n;
  }, this.getFreshValueHex = function() {
    return this.hV;
  }, typeof e < "u" && (typeof e == "string" && e.toLowerCase().match(/^[0-9a-f]+$/) ? this.setHexValueIncludingUnusedBits(e) : typeof e.hex < "u" ? this.setHexValueIncludingUnusedBits(e.hex) : typeof e.bin < "u" ? this.setByBinaryString(e.bin) : typeof e.array < "u" && this.setByBooleanArray(e.array));
};
he(g.asn1.DERBitString, g.asn1.ASN1Object);
g.asn1.DEROctetString = function(e) {
  if (e !== void 0 && typeof e.obj < "u") {
    var t = g.asn1.ASN1Util.newObject(e.obj);
    e.hex = t.tohex();
  }
  g.asn1.DEROctetString.superclass.constructor.call(this, e), this.hT = "04";
};
he(g.asn1.DEROctetString, g.asn1.DERAbstractString);
g.asn1.DERNull = function() {
  g.asn1.DERNull.superclass.constructor.call(this), this.hT = "05", this.hTLV = "0500";
};
he(g.asn1.DERNull, g.asn1.ASN1Object);
g.asn1.DERObjectIdentifier = function(e) {
  g.asn1.DERObjectIdentifier.superclass.constructor.call(this), this.hT = "06", this.setValueHex = function(t) {
    this.hTLV = null, this.isModified = !0, this.s = null, this.hV = t;
  }, this.setValueOidString = function(t) {
    var r = X5(t);
    if (r == null)
      throw new Error("malformed oid string: " + t);
    this.hTLV = null, this.isModified = !0, this.s = null, this.hV = r;
  }, this.setValueName = function(t) {
    var r = g.asn1.x509.OID.name2oid(t);
    if (r !== "")
      this.setValueOidString(r);
    else
      throw new Error("DERObjectIdentifier oidName undefined: " + t);
  }, this.setValueNameOrOid = function(t) {
    t.match(/^[0-2].[0-9.]+$/) ? this.setValueOidString(t) : this.setValueName(t);
  }, this.getFreshValueHex = function() {
    return this.hV;
  }, this.setByParam = function(t) {
    typeof t == "string" ? this.setValueNameOrOid(t) : t.oid !== void 0 ? this.setValueNameOrOid(t.oid) : t.name !== void 0 ? this.setValueNameOrOid(t.name) : t.hex !== void 0 && this.setValueHex(t.hex);
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.DERObjectIdentifier, g.asn1.ASN1Object);
g.asn1.DEREnumerated = function(e) {
  g.asn1.DEREnumerated.superclass.constructor.call(this), this.hT = "0a", this.setByBigInteger = function(t) {
    this.hTLV = null, this.isModified = !0, this.hV = g.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t);
  }, this.setByInteger = function(t) {
    var r = new ne(String(t), 10);
    this.setByBigInteger(r);
  }, this.setValueHex = function(t) {
    this.hV = t;
  }, this.getFreshValueHex = function() {
    return this.hV;
  }, typeof e < "u" && (typeof e.int < "u" ? this.setByInteger(e.int) : typeof e == "number" ? this.setByInteger(e) : typeof e.hex < "u" && this.setValueHex(e.hex));
};
he(g.asn1.DEREnumerated, g.asn1.ASN1Object);
g.asn1.DERUTF8String = function(e) {
  g.asn1.DERUTF8String.superclass.constructor.call(this, e), this.hT = "0c";
};
he(g.asn1.DERUTF8String, g.asn1.DERAbstractString);
g.asn1.DERNumericString = function(e) {
  g.asn1.DERNumericString.superclass.constructor.call(this, e), this.hT = "12";
};
he(g.asn1.DERNumericString, g.asn1.DERAbstractString);
g.asn1.DERPrintableString = function(e) {
  g.asn1.DERPrintableString.superclass.constructor.call(this, e), this.hT = "13";
};
he(g.asn1.DERPrintableString, g.asn1.DERAbstractString);
g.asn1.DERTeletexString = function(e) {
  g.asn1.DERTeletexString.superclass.constructor.call(this, e), this.hT = "14";
};
he(g.asn1.DERTeletexString, g.asn1.DERAbstractString);
g.asn1.DERIA5String = function(e) {
  g.asn1.DERIA5String.superclass.constructor.call(this, e), this.hT = "16";
};
he(g.asn1.DERIA5String, g.asn1.DERAbstractString);
g.asn1.DERVisibleString = function(e) {
  g.asn1.DERIA5String.superclass.constructor.call(this, e), this.hT = "1a";
};
he(g.asn1.DERVisibleString, g.asn1.DERAbstractString);
g.asn1.DERBMPString = function(e) {
  g.asn1.DERBMPString.superclass.constructor.call(this, e), this.hT = "1e";
};
he(g.asn1.DERBMPString, g.asn1.DERAbstractString);
g.asn1.DERUTCTime = function(e) {
  g.asn1.DERUTCTime.superclass.constructor.call(this, e), this.hT = "17", this.params = void 0, this.getFreshValueHex = function() {
    var t = this.params;
    if (this.params == null && (t = { date: new Date() }), typeof t == "string")
      if (t.match(/^[0-9]{12}Z$/) || t.match(/^[0-9]{12}\.[0-9]+Z$/))
        this.hV = Ir(t);
      else
        throw new Error("malformed string for UTCTime: " + t);
    else if (t.str != null)
      this.hV = Ir(t.str);
    else if (t.date == null && t.millis == !0) {
      var r = new Date();
      this.hV = Ir(this.formatDate(r, "utc", !0));
    } else if (t.date != null && t.date instanceof Date) {
      var n = t.millis === !0;
      this.hV = Ir(this.formatDate(t.date, "utc", n));
    } else
      t instanceof Date && (this.hV = Ir(this.formatDate(t, "utc")));
    if (this.hV == null)
      throw new Error("parameter not specified properly for UTCTime");
    return this.hV;
  }, e != null && this.setByParam(e);
};
he(g.asn1.DERUTCTime, g.asn1.DERAbstractTime);
g.asn1.DERGeneralizedTime = function(e) {
  g.asn1.DERGeneralizedTime.superclass.constructor.call(this, e), this.hT = "18", this.params = e, this.getFreshValueHex = function() {
    var t = this.params;
    if (this.params == null && (t = { date: new Date() }), typeof t == "string")
      if (t.match(/^[0-9]{14}Z$/) || t.match(/^[0-9]{14}\.[0-9]+Z$/))
        this.hV = Ir(t);
      else
        throw new Error("malformed string for GeneralizedTime: " + t);
    else if (t.str != null)
      this.hV = Ir(t.str);
    else if (t.date == null && t.millis == !0) {
      var r = new Date();
      this.hV = Ir(this.formatDate(r, "gen", !0));
    } else if (t.date != null && t.date instanceof Date) {
      var n = t.millis === !0;
      this.hV = Ir(this.formatDate(t.date, "gen", n));
    } else
      t instanceof Date && (this.hV = Ir(this.formatDate(t, "gen")));
    if (this.hV == null)
      throw new Error("parameter not specified properly for GeneralizedTime");
    return this.hV;
  }, e != null && this.setByParam(e);
};
he(g.asn1.DERGeneralizedTime, g.asn1.DERAbstractTime);
g.asn1.DERSequence = function(e) {
  g.asn1.DERSequence.superclass.constructor.call(this, e), this.hT = "30", this.getFreshValueHex = function() {
    for (var t = "", r = 0; r < this.asn1Array.length; r++) {
      var n = this.asn1Array[r];
      t += n.tohex();
    }
    return this.hV = t, this.hV;
  };
};
he(g.asn1.DERSequence, g.asn1.DERAbstractStructured);
g.asn1.DERSet = function(e) {
  g.asn1.DERSet.superclass.constructor.call(this, e), this.hT = "31", this.sortFlag = !0, this.getFreshValueHex = function() {
    for (var t = new Array(), r = 0; r < this.asn1Array.length; r++) {
      var n = this.asn1Array[r];
      t.push(n.tohex());
    }
    return this.sortFlag == !0 && t.sort(), this.hV = t.join(""), this.hV;
  }, typeof e < "u" && typeof e.sortflag < "u" && e.sortflag == !1 && (this.sortFlag = !1);
};
he(g.asn1.DERSet, g.asn1.DERAbstractStructured);
g.asn1.DERTaggedObject = function(e) {
  g.asn1.DERTaggedObject.superclass.constructor.call(this);
  var t = g.asn1, r = ye, n = r.getV;
  r.isASN1HEX;
  var i = t.ASN1Util.newObject;
  this.hT = "a0", this.hV = "", this.isExplicit = !0, this.asn1Object = null, this.params = { tag: "a0", explicit: !0 }, this.setASN1Object = function(s, a, o) {
    this.params = { tag: a, explicit: s, obj: o };
  }, this.getFreshValueHex = function() {
    var s = this.params;
    if (s.explicit == null && (s.explicit = !0), s.tage != null && (s.tag = s.tage, s.explicit = !0), s.tagi != null && (s.tag = s.tagi, s.explicit = !1), s.str != null)
      this.hV = xc(s.str);
    else if (s.hex != null)
      this.hV = s.hex;
    else if (s.obj != null) {
      var a;
      s.obj instanceof t.ASN1Object ? a = s.obj.tohex() : typeof s.obj == "object" && (a = i(s.obj).tohex()), s.explicit ? this.hV = a : this.hV = n(a, 0);
    } else
      throw new Error("str, hex nor obj not specified");
    return s.tag == null && (s.tag = "a0"), this.hT = s.tag, this.hTLV = null, this.isModified = !0, this.hV;
  }, this.setByParam = function(s) {
    this.params = s;
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.DERTaggedObject, g.asn1.ASN1Object);
var ye = new function() {
}();
ye.getLblen = function(e, t) {
  if (e.substr(t + 2, 1) != "8")
    return 1;
  var r = parseInt(e.substr(t + 3, 1));
  return r == 0 ? -1 : 0 < r && r < 10 ? r + 1 : -2;
};
ye.getL = function(e, t) {
  var r = ye.getLblen(e, t);
  return r < 1 ? "" : e.substr(t + 2, r * 2);
};
ye.getVblen = function(e, t) {
  var r, n;
  return r = ye.getL(e, t), r == "" ? -1 : (r.substr(0, 1) === "8" ? n = new ne(r.substr(2), 16) : n = new ne(r, 16), n.intValue());
};
ye.getVidx = function(e, t) {
  var r = ye.getLblen(e, t);
  return r < 0 ? r : t + (r + 1) * 2;
};
ye.getV = function(e, t) {
  var r = ye.getVidx(e, t), n = ye.getVblen(e, t);
  return e.substr(r, n * 2);
};
ye.getTLV = function(e, t) {
  return e.substr(t, 2) + ye.getL(e, t) + ye.getV(e, t);
};
ye.getTLVblen = function(e, t) {
  return 2 + ye.getLblen(e, t) * 2 + ye.getVblen(e, t) * 2;
};
ye.getNextSiblingIdx = function(e, t) {
  var r = ye.getVidx(e, t), n = ye.getVblen(e, t);
  return r + n * 2;
};
ye.getChildIdx = function(e, t) {
  var r = ye, n = [], i, s, a;
  i = r.getVidx(e, t), s = r.getVblen(e, t) * 2, e.substr(t, 2) == "03" && (i += 2, s -= 2), a = 0;
  for (var o = i; a <= s; ) {
    var u = r.getTLVblen(e, o);
    if (a += u, a <= s && n.push(o), o += u, a >= s)
      break;
  }
  return n;
};
ye.getNthChildIdx = function(e, t, r) {
  var n = ye.getChildIdx(e, t);
  return n[r];
};
ye.getIdxbyList = function(e, t, r, n) {
  var i = ye, s, a;
  return r.length == 0 ? n !== void 0 && e.substr(t, 2) !== n ? -1 : t : (s = r.shift(), a = i.getChildIdx(e, t), s >= a.length ? -1 : i.getIdxbyList(e, a[s], r, n));
};
ye.getIdxbyListEx = function(e, t, r, n) {
  var i = ye, s, a;
  if (r.length == 0)
    return n !== void 0 && e.substr(t, 2) !== n ? -1 : t;
  s = r.shift(), a = i.getChildIdx(e, t);
  for (var o = 0, u = 0; u < a.length; u++) {
    var f = e.substr(a[u], 2);
    if (typeof s == "number" && !i.isContextTag(f) && o == s || typeof s == "string" && i.isContextTag(f, s))
      return i.getIdxbyListEx(e, a[u], r, n);
    i.isContextTag(f) || o++;
  }
  return -1;
};
ye.getTLVbyList = function(e, t, r, n) {
  var i = ye, s = i.getIdxbyList(e, t, r, n);
  return s == -1 || s >= e.length ? null : i.getTLV(e, s);
};
ye.getTLVbyListEx = function(e, t, r, n) {
  var i = ye, s = i.getIdxbyListEx(e, t, r, n);
  return s == -1 ? null : i.getTLV(e, s);
};
ye.getVbyList = function(e, t, r, n, i) {
  var s = ye, a, o;
  return a = s.getIdxbyList(e, t, r, n), a == -1 || a >= e.length ? null : (o = s.getV(e, a), i === !0 && (o = o.substr(2)), o);
};
ye.getVbyListEx = function(e, t, r, n, i) {
  var s = ye, a, o;
  return a = s.getIdxbyListEx(e, t, r, n), a == -1 ? null : (o = s.getV(e, a), e.substr(a, 2) == "03" && i !== !1 && (o = o.substr(2)), o);
};
ye.getInt = function(e, t, r) {
  r == null && (r = -1);
  try {
    var n = e.substr(t, 2);
    if (n != "02" && n != "03")
      return r;
    var i = ye.getV(e, t);
    return n == "02" ? parseInt(i, 16) : Z5(i);
  } catch {
    return r;
  }
};
ye.getOID = function(e, t, r) {
  r == null && (r = null);
  try {
    if (e.substr(t, 2) != "06")
      return r;
    var n = ye.getV(e, t);
    return Sc(n);
  } catch {
    return r;
  }
};
ye.getOIDName = function(e, t, r) {
  r == null && (r = null);
  try {
    var n = ye.getOID(e, t, r);
    if (n == r)
      return r;
    var i = g.asn1.x509.OID.oid2name(n);
    return i == "" ? n : i;
  } catch {
    return r;
  }
};
ye.getString = function(e, t, r) {
  r == null && (r = null);
  try {
    var n = ye.getV(e, t);
    return mr(n);
  } catch {
    return r;
  }
};
ye.hextooidstr = function(e) {
  var t = function(h, c) {
    return h.length >= c ? h : new Array(c - h.length + 1).join("0") + h;
  }, r = [], n = e.substr(0, 2), i = parseInt(n, 16);
  r[0] = new String(Math.floor(i / 40)), r[1] = new String(i % 40);
  for (var s = e.substr(2), a = [], o = 0; o < s.length / 2; o++)
    a.push(parseInt(s.substr(o * 2, 2), 16));
  for (var u = [], f = "", o = 0; o < a.length; o++)
    a[o] & 128 ? f = f + t((a[o] & 127).toString(2), 7) : (f = f + t((a[o] & 127).toString(2), 7), u.push(new String(parseInt(f, 2))), f = "");
  var l = r.join(".");
  return u.length > 0 && (l = l + "." + u.join(".")), l;
};
ye.dump = function(e, t, r, n) {
  var i = ye, s = i.getV, a = i.dump, o = i.getChildIdx, u = e;
  e instanceof g.asn1.ASN1Object && (u = e.tohex());
  var f = function(F, O) {
    if (F.length <= O * 2)
      return F;
    var P = F.substr(0, O) + "..(total " + F.length / 2 + "bytes).." + F.substr(F.length - O, O);
    return P;
  };
  t === void 0 && (t = { ommit_long_octet: 32 }), r === void 0 && (r = 0), n === void 0 && (n = "");
  var l = t.ommit_long_octet, L = u.substr(r, 2);
  if (L == "01") {
    var h = s(u, r);
    return h == "00" ? n + `BOOLEAN FALSE
` : n + `BOOLEAN TRUE
`;
  }
  if (L == "02") {
    var h = s(u, r);
    return n + "INTEGER " + f(h, l) + `
`;
  }
  if (L == "03") {
    var h = s(u, r);
    if (i.isASN1HEX(h.substr(2))) {
      var c = n + `BITSTRING, encapsulates
`;
      return c = c + a(h.substr(2), t, 0, n + "  "), c;
    } else
      return n + "BITSTRING " + f(h, l) + `
`;
  }
  if (L == "04") {
    var h = s(u, r);
    if (i.isASN1HEX(h)) {
      var c = n + `OCTETSTRING, encapsulates
`;
      return c = c + a(h, t, 0, n + "  "), c;
    } else
      return n + "OCTETSTRING " + f(h, l) + `
`;
  }
  if (L == "05")
    return n + `NULL
`;
  if (L == "06") {
    var d = s(u, r), p = g.asn1.ASN1Util.oidHexToInt(d), v = g.asn1.x509.OID.oid2name(p), m = p.replace(/\./g, " ");
    return v != "" ? n + "ObjectIdentifier " + v + " (" + m + `)
` : n + "ObjectIdentifier (" + m + `)
`;
  }
  if (L == "0a")
    return n + "ENUMERATED " + parseInt(s(u, r)) + `
`;
  if (L == "0c")
    return n + "UTF8String '" + Ze(s(u, r)) + `'
`;
  if (L == "13")
    return n + "PrintableString '" + Ze(s(u, r)) + `'
`;
  if (L == "14")
    return n + "TeletexString '" + Ze(s(u, r)) + `'
`;
  if (L == "16")
    return n + "IA5String '" + Ze(s(u, r)) + `'
`;
  if (L == "17")
    return n + "UTCTime " + Ze(s(u, r)) + `
`;
  if (L == "18")
    return n + "GeneralizedTime " + Ze(s(u, r)) + `
`;
  if (L == "1a")
    return n + "VisualString '" + Ze(s(u, r)) + `'
`;
  if (L == "1e")
    return n + "BMPString '" + p1(s(u, r)) + `'
`;
  if (L == "30") {
    if (u.substr(r, 4) == "3000")
      return n + `SEQUENCE {}
`;
    var c = n + `SEQUENCE
`, b = o(u, r), A = t;
    if ((b.length == 2 || b.length == 3) && u.substr(b[0], 2) == "06" && u.substr(b[b.length - 1], 2) == "04") {
      var v = i.oidname(s(u, b[0])), D = JSON.parse(JSON.stringify(t));
      D.x509ExtName = v, A = D;
    }
    for (var k = 0; k < b.length; k++)
      c = c + a(u, A, b[k], n + "  ");
    return c;
  }
  if (L == "31") {
    for (var c = n + `SET
`, b = o(u, r), k = 0; k < b.length; k++)
      c = c + a(u, t, b[k], n + "  ");
    return c;
  }
  var L = parseInt(L, 16);
  if (L & 128) {
    var _ = L & 31;
    if (L & 32) {
      for (var c = n + "[" + _ + `]
`, b = o(u, r), k = 0; k < b.length; k++)
        c = c + a(u, t, b[k], n + "  ");
      return c;
    } else {
      var h = s(u, r);
      if (ye.isASN1HEX(h)) {
        var c = n + "[" + _ + `]
`;
        return c = c + a(h, t, 0, n + "  "), c;
      } else
        (h.substr(0, 8) == "68747470" || t.x509ExtName === "subjectAltName" && _ == 2) && (h = Ze(h));
      var c = n + "[" + _ + "] " + h + `
`;
      return c;
    }
  }
  return n + "UNKNOWN(" + L + ") " + s(u, r) + `
`;
};
ye.parse = function(e) {
  var t = ye, r = t.parse, n = t.isASN1HEX, i = t.getV, s = t.getTLV, a = t.getChildIdx, o = g.asn1, u = o.ASN1Util.oidHexToInt, f = o.x509.OID.oid2name, l = Ze, h = p1, c = q5, d = { "0c": "utf8str", 12: "numstr", 13: "prnstr", 14: "telstr", 16: "ia5str", 17: "utctime", 18: "gentime", "1a": "visstr", "1e": "bmpstr", 30: "seq", 31: "set" }, p = function(P) {
    for (var M = [], C = a(P, 0), y = 0; y < C.length; y++) {
      var E = C[y], T = s(P, E), R = r(T);
      M.push(R);
    }
    return M;
  }, v = e.substr(0, 2), m = {}, b = i(e, 0);
  if (v == "01")
    return e == "0101ff" ? { bool: !0 } : { bool: !1 };
  if (v == "02")
    return { int: { hex: b } };
  if (v == "03")
    try {
      if (b.substr(0, 2) != "00")
        throw "not encap";
      var A = b.substr(2);
      if (!n(A))
        throw "not encap";
      return { bitstr: { obj: r(A) } };
    } catch {
      var D = null;
      return b.length <= 10 && (D = Q5(b)), D == null ? { bitstr: { hex: b } } : { bitstr: { bin: D } };
    }
  else if (v == "04")
    try {
      if (!n(b))
        throw "not encap";
      return { octstr: { obj: r(b) } };
    } catch {
      return { octstr: { hex: b } };
    }
  else {
    if (v == "05")
      return { null: "" };
    if (v == "06") {
      var k = u(b), L = f(k);
      return L == "" ? { oid: k } : { oid: L };
    } else {
      if (v == "0a")
        return b.length > 4 ? { enum: { hex: b } } : { enum: parseInt(b, 16) };
      if (v == "30" || v == "31")
        return m[d[v]] = p(e), m;
      if (v == "14") {
        var _ = c(b);
        return m[d[v]] = { str: _ }, m;
      } else if (v == "1e") {
        var _ = h(b);
        return m[d[v]] = { str: _ }, m;
      } else if (":0c:12:13:16:17:18:1a:".indexOf(v) != -1) {
        var _ = l(b);
        return m[d[v]] = { str: _ }, m;
      } else if (v.match(/^8[0-9]$/)) {
        var _ = l(b);
        return _ == null | _ == "" ? { tag: { tag: v, explicit: !1, hex: b } } : _.match(/[\x00-\x1F\x7F-\x9F]/) != null || _.match(/[\u0000-\u001F\u0080–\u009F]/) != null ? { tag: { tag: v, explicit: !1, hex: b } } : { tag: { tag: v, explicit: !1, str: _ } };
      } else if (v.match(/^a[0-9]$/))
        try {
          if (!n(b))
            throw new Error("not encap");
          return { tag: { tag: v, explicit: !0, obj: r(b) } };
        } catch {
          return { tag: { tag: v, explicit: !0, hex: b } };
        }
      else {
        var F = new g.asn1.ASN1Object();
        F.hV = b;
        var O = F.getLengthHexFromValue();
        return { asn1: { tlv: v + O + b } };
      }
    }
  }
};
ye.isContextTag = function(e, t) {
  e = e.toLowerCase();
  var r, n;
  try {
    r = parseInt(e, 16);
  } catch {
    return -1;
  }
  if (t === void 0)
    return (r & 192) == 128;
  try {
    var i = t.match(/^\[[0-9]+\]$/);
    return i == null || (n = parseInt(t.substr(1, t.length - 1), 10), n > 31) ? !1 : (r & 192) == 128 && (r & 31) == n;
  } catch {
    return !1;
  }
};
ye.isASN1HEX = function(e) {
  var t = ye;
  if (e.length % 2 == 1)
    return !1;
  var r = t.getVblen(e, 0), n = e.substr(0, 2), i = t.getL(e, 0), s = e.length - n.length - i.length;
  return s == r * 2;
};
ye.checkStrictDER = function(e, t, r, n, i) {
  var s = ye;
  if (r === void 0) {
    if (typeof e != "string")
      throw new Error("not hex string");
    if (e = e.toLowerCase(), !g.lang.String.isHex(e))
      throw new Error("not hex string");
    r = e.length, n = e.length / 2, n < 128 ? i = 1 : i = Math.ceil(n.toString(16)) + 1;
  }
  var a = s.getL(e, t);
  if (a.length > i * 2)
    throw new Error("L of TLV too long: idx=" + t);
  var o = s.getVblen(e, t);
  if (o > n)
    throw new Error("value of L too long than hex: idx=" + t);
  var u = s.getTLV(e, t), f = u.length - 2 - s.getL(e, t).length;
  if (f !== o * 2)
    throw new Error("V string length and L's value not the same:" + f + "/" + o * 2);
  if (t === 0 && e.length != u.length)
    throw new Error("total length and TLV length unmatch:" + e.length + "!=" + u.length);
  var l = e.substr(t, 2);
  if (l === "02") {
    var h = s.getVidx(e, t);
    if (e.substr(h, 2) == "00" && e.charCodeAt(h + 2) < 56)
      throw new Error("not least zeros for DER INTEGER");
  }
  if (parseInt(l, 16) & 32) {
    for (var c = s.getVblen(e, t), d = 0, p = s.getChildIdx(e, t), v = 0; v < p.length; v++) {
      var m = s.getTLV(e, p[v]);
      d += m.length, s.checkStrictDER(e, p[v], r, n, i);
    }
    if (c * 2 != d)
      throw new Error("sum of children's TLV length and L unmatch: " + c * 2 + "!=" + d);
  }
};
ye.oidname = function(e) {
  var t = g.asn1;
  g.lang.String.isHex(e) && (e = t.ASN1Util.oidHexToInt(e));
  var r = t.x509.OID.oid2name(e);
  return r === "" && (r = e), r;
};
(typeof g > "u" || !g) && (g = {});
(typeof g.asn1 > "u" || !g.asn1) && (g.asn1 = {});
(typeof g.asn1.x509 > "u" || !g.asn1.x509) && (g.asn1.x509 = {});
g.asn1.x509.Certificate = function(e) {
  g.asn1.x509.Certificate.superclass.constructor.call(this);
  var t = g, r = t.asn1, n = r.DERBitString, i = r.DERSequence, s = r.x509, a = s.TBSCertificate, o = s.AlgorithmIdentifier;
  this.params = void 0, this.setByParam = function(u) {
    this.params = u;
  }, this.sign = function() {
    var u = this.params, f = u.sigalg;
    u.sigalg.name != null && (f = u.sigalg.name);
    var l = u.tbsobj.tohex(), h = new g.crypto.Signature({ alg: f });
    h.init(u.cakey), h.updateHex(l), u.sighex = h.sign();
  }, this.getPEM = function() {
    return jt(this.tohex(), "CERTIFICATE");
  }, this.tohex = function() {
    var u = this.params;
    if ((u.tbsobj == null || u.tbsobj == null) && (u.tbsobj = new a(u)), u.sighex == null && u.cakey != null && this.sign(), u.sighex == null)
      throw new Error("sighex or cakey parameter not defined");
    var f = [];
    f.push(u.tbsobj), f.push(new o({ name: u.sigalg })), f.push(new n({ hex: "00" + u.sighex }));
    var l = new i({ array: f });
    return l.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && (this.params = e);
};
he(g.asn1.x509.Certificate, g.asn1.ASN1Object);
g.asn1.x509.TBSCertificate = function(e) {
  g.asn1.x509.TBSCertificate.superclass.constructor.call(this);
  var t = g, r = t.asn1, n = r.x509, i = r.DERTaggedObject, s = r.DERInteger, a = r.DERSequence, o = n.AlgorithmIdentifier, u = n.Time, f = n.X500Name, l = n.Extensions, h = n.SubjectPublicKeyInfo;
  this.params = null, this.setByParam = function(c) {
    this.params = c;
  }, this.tohex = function() {
    var c = [], d = this.params;
    if (d.version != null || d.version != 1) {
      var p = 2;
      d.version != null && (p = d.version - 1);
      var v = new i({ obj: new s({ int: p }) });
      c.push(v);
    }
    c.push(new s(d.serial)), c.push(new o({ name: d.sigalg })), c.push(new f(d.issuer)), c.push(new a({ array: [new u(d.notbefore), new u(d.notafter)] })), c.push(new f(d.subject)), c.push(new h($e.getKey(d.sbjpubkey))), d.ext !== void 0 && d.ext.length > 0 && c.push(new i({ tag: "a3", obj: new l(d.ext) }));
    var m = new g.asn1.DERSequence({ array: c });
    return m.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.x509.TBSCertificate, g.asn1.ASN1Object);
g.asn1.x509.Extensions = function(e) {
  g.asn1.x509.Extensions.superclass.constructor.call(this);
  var t = g, r = t.asn1, n = r.DERSequence, i = r.x509;
  this.aParam = [], this.setByParam = function(s) {
    this.aParam = s;
  }, this.tohex = function() {
    for (var s = [], a = 0; a < this.aParam.length; a++) {
      var o = this.aParam[a], u = o.extname, f = null;
      if (o.extn != null)
        f = new i.PrivateExtension(o);
      else if (u == "subjectKeyIdentifier")
        f = new i.SubjectKeyIdentifier(o);
      else if (u == "keyUsage")
        f = new i.KeyUsage(o);
      else if (u == "subjectAltName")
        f = new i.SubjectAltName(o);
      else if (u == "issuerAltName")
        f = new i.IssuerAltName(o);
      else if (u == "basicConstraints")
        f = new i.BasicConstraints(o);
      else if (u == "nameConstraints")
        f = new i.NameConstraints(o);
      else if (u == "cRLDistributionPoints")
        f = new i.CRLDistributionPoints(o);
      else if (u == "certificatePolicies")
        f = new i.CertificatePolicies(o);
      else if (u == "policyMappings")
        f = new i.PolicyMappings(o);
      else if (u == "policyConstraints")
        f = new i.PolicyConstraints(o);
      else if (u == "inhibitAnyPolicy")
        f = new i.InhibitAnyPolicy(o);
      else if (u == "authorityKeyIdentifier")
        f = new i.AuthorityKeyIdentifier(o);
      else if (u == "extKeyUsage")
        f = new i.ExtKeyUsage(o);
      else if (u == "authorityInfoAccess")
        f = new i.AuthorityInfoAccess(o);
      else if (u == "cRLNumber")
        f = new i.CRLNumber(o);
      else if (u == "cRLReason")
        f = new i.CRLReason(o);
      else if (u == "ocspNonce")
        f = new i.OCSPNonce(o);
      else if (u == "ocspNoCheck")
        f = new i.OCSPNoCheck(o);
      else if (u == "adobeTimeStamp")
        f = new i.AdobeTimeStamp(o);
      else if (u == "subjectDirectoryAttributes")
        f = new i.SubjectDirectoryAttributes(o);
      else
        throw new Error("extension not supported:" + JSON.stringify(o));
      f != null && s.push(f);
    }
    var l = new n({ array: s });
    return l.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.x509.Extensions, g.asn1.ASN1Object);
g.asn1.x509.Extension = function(e) {
  g.asn1.x509.Extension.superclass.constructor.call(this);
  var t = g, r = t.asn1, n = r.DERObjectIdentifier, i = r.DEROctetString;
  r.DERBitString;
  var s = r.DERBoolean, a = r.DERSequence;
  this.tohex = function() {
    var o = new n({ oid: this.oid }), u = new i({ hex: this.getExtnValueHex() }), f = new Array();
    f.push(o), this.critical && f.push(new s()), f.push(u);
    var l = new a({ array: f });
    return l.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, this.critical = !1, e !== void 0 && e.critical !== void 0 && (this.critical = e.critical);
};
he(g.asn1.x509.Extension, g.asn1.ASN1Object);
g.asn1.x509.KeyUsage = function(e) {
  g.asn1.x509.KeyUsage.superclass.constructor.call(this, e);
  var t = Error, r = { digitalSignature: 0, nonRepudiation: 1, keyEncipherment: 2, dataEncipherment: 3, keyAgreement: 4, keyCertSign: 5, cRLSign: 6, encipherOnly: 7, decipherOnly: 8 };
  this.getExtnValueHex = function() {
    var n = this.getBinValue();
    return this.asn1ExtnValue = new g.asn1.DERBitString({ bin: n }), this.asn1ExtnValue.tohex();
  }, this.getBinValue = function() {
    var n = this.params;
    if (typeof n != "object" || typeof n.names != "object" && typeof n.bin != "string")
      throw new t("parameter not yet set");
    if (n.names != null)
      return af(n.names, r);
    if (n.bin != null)
      return n.bin;
    throw new t("parameter not set properly");
  }, this.oid = "2.5.29.15", e !== void 0 && (this.params = e);
};
he(g.asn1.x509.KeyUsage, g.asn1.x509.Extension);
g.asn1.x509.BasicConstraints = function(e) {
  g.asn1.x509.BasicConstraints.superclass.constructor.call(this, e);
  var t = g.asn1, r = t.DERBoolean, n = t.DERInteger, i = t.DERSequence;
  this.getExtnValueHex = function() {
    var s = new Array();
    this.cA && s.push(new r()), this.pathLen > -1 && s.push(new n({ int: this.pathLen }));
    var a = new i({ array: s });
    return this.asn1ExtnValue = a, this.asn1ExtnValue.tohex();
  }, this.oid = "2.5.29.19", this.cA = !1, this.pathLen = -1, e !== void 0 && (e.cA !== void 0 && (this.cA = e.cA), e.pathLen !== void 0 && (this.pathLen = e.pathLen));
};
he(g.asn1.x509.BasicConstraints, g.asn1.x509.Extension);
g.asn1.x509.CRLDistributionPoints = function(e) {
  g.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this, e);
  var t = g, r = t.asn1, n = r.x509;
  this.getExtnValueHex = function() {
    return this.asn1ExtnValue.tohex();
  }, this.setByDPArray = function(i) {
    for (var s = [], a = 0; a < i.length; a++)
      if (i[a] instanceof g.asn1.ASN1Object)
        s.push(i[a]);
      else {
        var o = new n.DistributionPoint(i[a]);
        s.push(o);
      }
    this.asn1ExtnValue = new r.DERSequence({ array: s });
  }, this.setByOneURI = function(i) {
    var s = new n.DistributionPoint({ fulluri: i });
    this.setByDPArray([s]);
  }, this.oid = "2.5.29.31", e !== void 0 && (e.array !== void 0 ? this.setByDPArray(e.array) : e.uri !== void 0 && this.setByOneURI(e.uri));
};
he(g.asn1.x509.CRLDistributionPoints, g.asn1.x509.Extension);
g.asn1.x509.DistributionPoint = function(e) {
  g.asn1.x509.DistributionPoint.superclass.constructor.call(this);
  var t = g, r = t.asn1, n = r.x509.DistributionPointName;
  this.tohex = function() {
    var i = new r.DERSequence();
    if (this.asn1DP != null) {
      var s = new r.DERTaggedObject({ explicit: !0, tag: "a0", obj: this.asn1DP });
      i.appendASN1Object(s);
    }
    return this.hTLV = i.tohex(), this.hTLV;
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && (e.dpobj !== void 0 ? this.asn1DP = e.dpobj : e.dpname !== void 0 ? this.asn1DP = new n(e.dpname) : e.fulluri !== void 0 && (this.asn1DP = new n({ full: [{ uri: e.fulluri }] })));
};
he(g.asn1.x509.DistributionPoint, g.asn1.ASN1Object);
g.asn1.x509.DistributionPointName = function(e) {
  g.asn1.x509.DistributionPointName.superclass.constructor.call(this);
  var t = g, r = t.asn1, n = r.DERTaggedObject;
  if (this.tohex = function() {
    if (this.type != "full")
      throw new Error("currently type shall be 'full': " + this.type);
    return this.asn1Obj = new n({ explicit: !1, tag: this.tag, obj: this.asn1V }), this.hTLV = this.asn1Obj.tohex(), this.hTLV;
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0)
    if (r.x509.GeneralNames.prototype.isPrototypeOf(e))
      this.type = "full", this.tag = "a0", this.asn1V = e;
    else if (e.full !== void 0)
      this.type = "full", this.tag = "a0", this.asn1V = new r.x509.GeneralNames(e.full);
    else
      throw new Error("This class supports GeneralNames only as argument");
};
he(g.asn1.x509.DistributionPointName, g.asn1.ASN1Object);
g.asn1.x509.CertificatePolicies = function(e) {
  g.asn1.x509.CertificatePolicies.superclass.constructor.call(this, e);
  var t = g, r = t.asn1, n = r.x509, i = r.DERSequence, s = n.PolicyInformation;
  this.params = null, this.getExtnValueHex = function() {
    for (var a = [], o = 0; o < this.params.array.length; o++)
      a.push(new s(this.params.array[o]));
    var u = new i({ array: a });
    return this.asn1ExtnValue = u, this.asn1ExtnValue.tohex();
  }, this.oid = "2.5.29.32", e !== void 0 && (this.params = e);
};
he(g.asn1.x509.CertificatePolicies, g.asn1.x509.Extension);
g.asn1.x509.PolicyInformation = function(e) {
  g.asn1.x509.PolicyInformation.superclass.constructor.call(this, e);
  var t = g.asn1, r = t.DERSequence, n = t.DERObjectIdentifier, i = t.x509.PolicyQualifierInfo;
  this.params = null, this.tohex = function() {
    if (this.params.policyoid === void 0 && this.params.array === void 0)
      throw new Error("parameter oid and array missing");
    var s = [new n(this.params.policyoid)];
    if (this.params.array !== void 0) {
      for (var a = [], o = 0; o < this.params.array.length; o++)
        a.push(new i(this.params.array[o]));
      a.length > 0 && s.push(new r({ array: a }));
    }
    var u = new r({ array: s });
    return u.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && (this.params = e);
};
he(g.asn1.x509.PolicyInformation, g.asn1.ASN1Object);
g.asn1.x509.PolicyQualifierInfo = function(e) {
  g.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this, e);
  var t = g.asn1, r = t.DERSequence, n = t.DERIA5String, i = t.DERObjectIdentifier, s = t.x509.UserNotice;
  this.params = null, this.tohex = function() {
    if (this.params.cps !== void 0) {
      var a = new r({ array: [new i({ oid: "1.3.6.1.5.5.7.2.1" }), new n({ str: this.params.cps })] });
      return a.tohex();
    }
    if (this.params.unotice != null) {
      var a = new r({ array: [new i({ oid: "1.3.6.1.5.5.7.2.2" }), new s(this.params.unotice)] });
      return a.tohex();
    }
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && (this.params = e);
};
he(g.asn1.x509.PolicyQualifierInfo, g.asn1.ASN1Object);
g.asn1.x509.UserNotice = function(e) {
  g.asn1.x509.UserNotice.superclass.constructor.call(this, e);
  var t = g.asn1.DERSequence;
  g.asn1.DERInteger;
  var r = g.asn1.x509.DisplayText, n = g.asn1.x509.NoticeReference;
  this.params = null, this.tohex = function() {
    var i = [];
    this.params.noticeref !== void 0 && i.push(new n(this.params.noticeref)), this.params.exptext !== void 0 && i.push(new r(this.params.exptext));
    var s = new t({ array: i });
    return s.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && (this.params = e);
};
he(g.asn1.x509.UserNotice, g.asn1.ASN1Object);
g.asn1.x509.NoticeReference = function(e) {
  g.asn1.x509.NoticeReference.superclass.constructor.call(this, e);
  var t = g.asn1.DERSequence, r = g.asn1.DERInteger, n = g.asn1.x509.DisplayText;
  this.params = null, this.tohex = function() {
    var i = [];
    if (this.params.org !== void 0 && i.push(new n(this.params.org)), this.params.noticenum !== void 0) {
      for (var s = [], a = this.params.noticenum, o = 0; o < a.length; o++)
        s.push(new r(a[o]));
      i.push(new t({ array: s }));
    }
    if (i.length == 0)
      throw new Error("parameter is empty");
    var u = new t({ array: i });
    return u.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && (this.params = e);
};
he(g.asn1.x509.NoticeReference, g.asn1.ASN1Object);
g.asn1.x509.DisplayText = function(e) {
  g.asn1.x509.DisplayText.superclass.constructor.call(this, e), this.hT = "0c", e !== void 0 && (e.type === "ia5" ? this.hT = "16" : e.type === "vis" ? this.hT = "1a" : e.type === "bmp" && (this.hT = "1e"));
};
he(g.asn1.x509.DisplayText, g.asn1.DERAbstractString);
g.asn1.x509.PolicyMappings = function(e) {
  g.asn1.x509.PolicyMappings.superclass.constructor.call(this, e);
  var t = g, r = t.asn1;
  r.x509;
  var n = r.ASN1Util.newObject;
  this.params = null, this.getExtnValueHex = function() {
    for (var i = this.params, s = [], a = 0; a < i.array.length; a++) {
      var o = i.array[a];
      s.push({ seq: [{ oid: o[0] }, { oid: o[1] }] });
    }
    return this.asn1ExtnValue = n({ seq: s }), this.asn1ExtnValue.tohex();
  }, this.oid = "2.5.29.33", e !== void 0 && (this.params = e);
};
he(g.asn1.x509.PolicyMappings, g.asn1.x509.Extension);
g.asn1.x509.PolicyConstraints = function(e) {
  g.asn1.x509.PolicyConstraints.superclass.constructor.call(this, e);
  var t = g, r = t.asn1;
  r.x509;
  var n = r.ASN1Util.newObject;
  this.params = null, this.getExtnValueHex = function() {
    var i = this.params, s = [];
    return i.reqexp != null && s.push({ tag: { tagi: "80", obj: { int: i.reqexp } } }), i.inhibit != null && s.push({ tag: { tagi: "81", obj: { int: i.inhibit } } }), this.asn1ExtnValue = n({ seq: s }), this.asn1ExtnValue.tohex();
  }, this.oid = "2.5.29.36", e !== void 0 && (this.params = e);
};
he(g.asn1.x509.PolicyConstraints, g.asn1.x509.Extension);
g.asn1.x509.InhibitAnyPolicy = function(e) {
  g.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this, e);
  var t = g, r = t.asn1;
  r.x509;
  var n = r.ASN1Util.newObject;
  this.params = null, this.getExtnValueHex = function() {
    return this.asn1ExtnValue = n({ int: this.params.skip }), this.asn1ExtnValue.tohex();
  }, this.oid = "2.5.29.54", e !== void 0 && (this.params = e);
};
he(g.asn1.x509.InhibitAnyPolicy, g.asn1.x509.Extension);
g.asn1.x509.NameConstraints = function(e) {
  g.asn1.x509.NameConstraints.superclass.constructor.call(this, e);
  var t = g, r = t.asn1, n = r.x509, i = r.ASN1Util.newObject, s = n.GeneralSubtree;
  this.params = null, this.getExtnValueHex = function() {
    var a = this.params, o = [];
    if (a.permit != null && a.permit.length != null) {
      for (var u = [], f = 0; f < a.permit.length; f++)
        u.push(new s(a.permit[f]));
      o.push({ tag: { tagi: "a0", obj: { seq: u } } });
    }
    if (a.exclude != null && a.exclude.length != null) {
      for (var l = [], f = 0; f < a.exclude.length; f++)
        l.push(new s(a.exclude[f]));
      o.push({ tag: { tagi: "a1", obj: { seq: l } } });
    }
    return this.asn1ExtnValue = i({ seq: o }), this.asn1ExtnValue.tohex();
  }, this.oid = "2.5.29.30", e !== void 0 && (this.params = e);
};
he(g.asn1.x509.NameConstraints, g.asn1.x509.Extension);
g.asn1.x509.GeneralSubtree = function(e) {
  g.asn1.x509.GeneralSubtree.superclass.constructor.call(this);
  var t = g.asn1, r = t.x509, n = r.GeneralName, i = t.ASN1Util.newObject;
  this.params = null, this.setByParam = function(s) {
    this.params = s;
  }, this.tohex = function() {
    var s = this.params, a = [new n(s)];
    s.min != null && a.push({ tag: { tagi: "80", obj: { int: s.min } } }), s.max != null && a.push({ tag: { tagi: "81", obj: { int: s.max } } });
    var o = i({ seq: a });
    return o.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.x509.GeneralSubtree, g.asn1.ASN1Object);
g.asn1.x509.ExtKeyUsage = function(e) {
  g.asn1.x509.ExtKeyUsage.superclass.constructor.call(this, e);
  var t = g, r = t.asn1;
  this.setPurposeArray = function(n) {
    this.asn1ExtnValue = new r.DERSequence();
    for (var i = 0; i < n.length; i++) {
      var s = new r.DERObjectIdentifier(n[i]);
      this.asn1ExtnValue.appendASN1Object(s);
    }
  }, this.getExtnValueHex = function() {
    return this.asn1ExtnValue.tohex();
  }, this.oid = "2.5.29.37", e !== void 0 && e.array !== void 0 && this.setPurposeArray(e.array);
};
he(g.asn1.x509.ExtKeyUsage, g.asn1.x509.Extension);
g.asn1.x509.AuthorityKeyIdentifier = function(e) {
  g.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this, e);
  var t = g, r = t.asn1, n = r.DERTaggedObject, i = r.x509.GeneralNames;
  t.crypto.Util.isKey, this.asn1KID = null, this.asn1CertIssuer = null, this.asn1CertSN = null, this.getExtnValueHex = function() {
    var s = new Array();
    this.asn1KID && s.push(new n({ explicit: !1, tag: "80", obj: this.asn1KID })), this.asn1CertIssuer && s.push(new n({ explicit: !1, tag: "a1", obj: new i([{ dn: this.asn1CertIssuer }]) })), this.asn1CertSN && s.push(new n({ explicit: !1, tag: "82", obj: this.asn1CertSN }));
    var a = new r.DERSequence({ array: s });
    return this.asn1ExtnValue = a, this.asn1ExtnValue.tohex();
  }, this.setKIDByParam = function(s) {
    if (s.str !== void 0 || s.hex !== void 0)
      this.asn1KID = new g.asn1.DEROctetString(s);
    else if (typeof s == "object" && g.crypto.Util.isKey(s) || typeof s == "string" && s.indexOf("BEGIN ") != -1) {
      var a = s;
      typeof s == "string" && (a = $e.getKey(s));
      var o = $e.getKeyID(a);
      this.asn1KID = new g.asn1.DEROctetString({ hex: o });
    }
  }, this.setCertIssuerByParam = function(s) {
    s.str !== void 0 || s.ldapstr !== void 0 || s.hex !== void 0 || s.certsubject !== void 0 || s.certissuer !== void 0 ? this.asn1CertIssuer = new g.asn1.x509.X500Name(s) : typeof s == "string" && s.indexOf("BEGIN ") != -1 && s.indexOf("CERTIFICATE") != -1 && (this.asn1CertIssuer = new g.asn1.x509.X500Name({ certissuer: s }));
  }, this.setCertSNByParam = function(s) {
    if (s.str !== void 0 || s.bigint !== void 0 || s.hex !== void 0)
      this.asn1CertSN = new g.asn1.DERInteger(s);
    else if (typeof s == "string" && s.indexOf("BEGIN ") != -1 && s.indexOf("CERTIFICATE")) {
      var a = new Be();
      a.readCertPEM(s);
      var o = a.getSerialNumberHex();
      this.asn1CertSN = new g.asn1.DERInteger({ hex: o });
    }
  }, this.oid = "2.5.29.35", e !== void 0 && (e.kid !== void 0 && this.setKIDByParam(e.kid), e.issuer !== void 0 && this.setCertIssuerByParam(e.issuer), e.sn !== void 0 && this.setCertSNByParam(e.sn), e.issuersn !== void 0 && typeof e.issuersn == "string" && e.issuersn.indexOf("BEGIN ") != -1 && e.issuersn.indexOf("CERTIFICATE") && (this.setCertSNByParam(e.issuersn), this.setCertIssuerByParam(e.issuersn)));
};
he(g.asn1.x509.AuthorityKeyIdentifier, g.asn1.x509.Extension);
g.asn1.x509.SubjectKeyIdentifier = function(e) {
  g.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this, e);
  var t = g, r = t.asn1, n = r.DEROctetString;
  this.asn1KID = null, this.getExtnValueHex = function() {
    return this.asn1ExtnValue = this.asn1KID, this.asn1ExtnValue.tohex();
  }, this.setKIDByParam = function(i) {
    if (i.str !== void 0 || i.hex !== void 0)
      this.asn1KID = new n(i);
    else if (typeof i == "object" && g.crypto.Util.isKey(i) || typeof i == "string" && i.indexOf("BEGIN") != -1) {
      var s = i;
      typeof i == "string" && (s = $e.getKey(i));
      var a = $e.getKeyID(s);
      this.asn1KID = new g.asn1.DEROctetString({ hex: a });
    }
  }, this.oid = "2.5.29.14", e !== void 0 && e.kid !== void 0 && this.setKIDByParam(e.kid);
};
he(g.asn1.x509.SubjectKeyIdentifier, g.asn1.x509.Extension);
g.asn1.x509.AuthorityInfoAccess = function(e) {
  g.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this, e), this.setAccessDescriptionArray = function(t) {
    for (var r = new Array(), n = g, i = n.asn1, s = i.DERSequence, a = i.DERObjectIdentifier, o = i.x509.GeneralName, u = 0; u < t.length; u++) {
      var f, l = t[u];
      if (l.ocsp !== void 0)
        f = new s({ array: [new a({ oid: "1.3.6.1.5.5.7.48.1" }), new o({ uri: l.ocsp })] });
      else if (l.caissuer !== void 0)
        f = new s({ array: [new a({ oid: "1.3.6.1.5.5.7.48.2" }), new o({ uri: l.caissuer })] });
      else
        throw new Error("unknown AccessMethod parameter: " + JSON.stringify(l));
      r.push(f);
    }
    this.asn1ExtnValue = new s({ array: r });
  }, this.getExtnValueHex = function() {
    return this.asn1ExtnValue.tohex();
  }, this.oid = "1.3.6.1.5.5.7.1.1", e !== void 0 && e.array !== void 0 && this.setAccessDescriptionArray(e.array);
};
he(g.asn1.x509.AuthorityInfoAccess, g.asn1.x509.Extension);
g.asn1.x509.SubjectAltName = function(e) {
  g.asn1.x509.SubjectAltName.superclass.constructor.call(this, e), this.setNameArray = function(t) {
    this.asn1ExtnValue = new g.asn1.x509.GeneralNames(t);
  }, this.getExtnValueHex = function() {
    return this.asn1ExtnValue.tohex();
  }, this.oid = "2.5.29.17", e !== void 0 && e.array !== void 0 && this.setNameArray(e.array);
};
he(g.asn1.x509.SubjectAltName, g.asn1.x509.Extension);
g.asn1.x509.IssuerAltName = function(e) {
  g.asn1.x509.IssuerAltName.superclass.constructor.call(this, e), this.setNameArray = function(t) {
    this.asn1ExtnValue = new g.asn1.x509.GeneralNames(t);
  }, this.getExtnValueHex = function() {
    return this.asn1ExtnValue.tohex();
  }, this.oid = "2.5.29.18", e !== void 0 && e.array !== void 0 && this.setNameArray(e.array);
};
he(g.asn1.x509.IssuerAltName, g.asn1.x509.Extension);
g.asn1.x509.SubjectDirectoryAttributes = function(e) {
  g.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this, e);
  var t = g.asn1, r = t.DERSequence, n = t.ASN1Util.newObject, i = t.x509.OID.name2oid;
  this.params = null, this.getExtnValueHex = function() {
    for (var s = [], a = 0; a < this.params.array.length; a++) {
      var o = this.params.array[a];
      if (o.attr != null && o.array != null) {
        var u = { seq: [{ oid: o.attr }, { set: o.array }] };
        s.push(n(u));
        continue;
      }
      var f = { seq: [{ oid: "1.2.3.4" }, { set: [{ utf8str: "DE" }] }] };
      if (o.attr == "dateOfBirth")
        f.seq[0].oid = i(o.attr), f.seq[1].set[0] = { gentime: o.str };
      else if (o.attr == "placeOfBirth")
        f.seq[0].oid = i(o.attr), f.seq[1].set[0] = { utf8str: o.str };
      else if (o.attr == "gender")
        f.seq[0].oid = i(o.attr), f.seq[1].set[0] = { prnstr: o.str };
      else if (o.attr == "countryOfCitizenship")
        f.seq[0].oid = i(o.attr), f.seq[1].set[0] = { prnstr: o.str };
      else if (o.attr == "countryOfResidence")
        f.seq[0].oid = i(o.attr), f.seq[1].set[0] = { prnstr: o.str };
      else
        throw new Error("unsupported attribute: " + o.attr);
      s.push(new n(f));
    }
    var l = new r({ array: s });
    return this.asn1ExtnValue = l, this.asn1ExtnValue.tohex();
  }, this.oid = "2.5.29.9", e !== void 0 && (this.params = e);
};
he(g.asn1.x509.SubjectDirectoryAttributes, g.asn1.x509.Extension);
g.asn1.x509.PrivateExtension = function(e) {
  g.asn1.x509.PrivateExtension.superclass.constructor.call(this, e);
  var t = g, r = t.lang.String.isHex, n = t.asn1, i = n.x509.OID.name2oid, s = n.ASN1Util.newObject;
  this.params = null, this.setByParam = function(a) {
    this.oid = i(a.extname), this.params = a;
  }, this.getExtnValueHex = function() {
    if (this.params.extname == null || this.params.extn == null)
      throw new Error("extname or extnhex not specified");
    var a = this.params.extn;
    if (typeof a == "string" && r(a))
      return a;
    if (typeof a == "object")
      try {
        return s(a).tohex();
      } catch {
      }
    throw new Error("unsupported extn value");
  }, e != null && this.setByParam(e);
};
he(g.asn1.x509.PrivateExtension, g.asn1.x509.Extension);
g.asn1.x509.CRL = function(e) {
  g.asn1.x509.CRL.superclass.constructor.call(this);
  var t = g, r = t.asn1, n = r.DERSequence, i = r.DERBitString, s = r.x509, a = s.AlgorithmIdentifier, o = s.TBSCertList;
  this.params = void 0, this.setByParam = function(u) {
    this.params = u;
  }, this.sign = function() {
    var u = new o(this.params).tohex(), f = new g.crypto.Signature({ alg: this.params.sigalg });
    f.init(this.params.cakey), f.updateHex(u);
    var l = f.sign();
    this.params.sighex = l;
  }, this.getPEM = function() {
    return jt(this.tohex(), "X509 CRL");
  }, this.tohex = function() {
    var u = this.params;
    if (u.tbsobj == null && (u.tbsobj = new o(u)), u.sighex == null && u.cakey != null && this.sign(), u.sighex == null)
      throw new Error("sighex or cakey parameter not defined");
    var f = [];
    f.push(u.tbsobj), f.push(new a({ name: u.sigalg })), f.push(new i({ hex: "00" + u.sighex }));
    var l = new n({ array: f });
    return l.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && (this.params = e);
};
he(g.asn1.x509.CRL, g.asn1.ASN1Object);
g.asn1.x509.TBSCertList = function(e) {
  g.asn1.x509.TBSCertList.superclass.constructor.call(this);
  var t = g, r = t.asn1, n = r.DERInteger, i = r.DERSequence, s = r.DERTaggedObject;
  r.DERObjectIdentifier;
  var a = r.x509, o = a.AlgorithmIdentifier, u = a.Time, f = a.Extensions, l = a.X500Name;
  this.params = null, this.setByParam = function(h) {
    this.params = h;
  }, this.getRevCertSequence = function() {
    for (var h = [], c = this.params.revcert, d = 0; d < c.length; d++) {
      var p = [new n(c[d].sn), new u(c[d].date)];
      c[d].ext != null && p.push(new f(c[d].ext)), h.push(new i({ array: p }));
    }
    return new i({ array: h });
  }, this.tohex = function() {
    var h = [], c = this.params;
    if (c.version != null) {
      var d = c.version - 1, p = new n({ int: d });
      h.push(p);
    }
    if (h.push(new o({ name: c.sigalg })), h.push(new l(c.issuer)), h.push(new u(c.thisupdate)), c.nextupdate != null && h.push(new u(c.nextupdate)), c.revcert != null && h.push(this.getRevCertSequence()), c.ext != null) {
      var v = new f(c.ext);
      h.push(new s({ tag: "a0", explicit: !0, obj: v }));
    }
    var m = new i({ array: h });
    return m.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.x509.TBSCertList, g.asn1.ASN1Object);
g.asn1.x509.CRLEntry = function(e) {
  g.asn1.x509.CRLEntry.superclass.constructor.call(this);
  var t = g, r = t.asn1;
  this.setCertSerial = function(n) {
    this.sn = new r.DERInteger(n);
  }, this.setRevocationDate = function(n) {
    this.time = new r.x509.Time(n);
  }, this.tohex = function() {
    var n = new r.DERSequence({ array: [this.sn, this.time] });
    return this.TLV = n.tohex(), this.TLV;
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && (e.time !== void 0 && this.setRevocationDate(e.time), e.sn !== void 0 && this.setCertSerial(e.sn));
};
he(g.asn1.x509.CRLEntry, g.asn1.ASN1Object);
g.asn1.x509.CRLNumber = function(e) {
  g.asn1.x509.CRLNumber.superclass.constructor.call(this, e), this.params = void 0, this.getExtnValueHex = function() {
    return this.asn1ExtnValue = new g.asn1.DERInteger(this.params.num), this.asn1ExtnValue.tohex();
  }, this.oid = "2.5.29.20", e != null && (this.params = e);
};
he(g.asn1.x509.CRLNumber, g.asn1.x509.Extension);
g.asn1.x509.CRLReason = function(e) {
  g.asn1.x509.CRLReason.superclass.constructor.call(this, e), this.params = void 0, this.getExtnValueHex = function() {
    return this.asn1ExtnValue = new g.asn1.DEREnumerated(this.params.code), this.asn1ExtnValue.tohex();
  }, this.oid = "2.5.29.21", e != null && (this.params = e);
};
he(g.asn1.x509.CRLReason, g.asn1.x509.Extension);
g.asn1.x509.OCSPNonce = function(e) {
  g.asn1.x509.OCSPNonce.superclass.constructor.call(this, e), this.params = void 0, this.getExtnValueHex = function() {
    return this.asn1ExtnValue = new g.asn1.DEROctetString(this.params), this.asn1ExtnValue.tohex();
  }, this.oid = "1.3.6.1.5.5.7.48.1.2", e != null && (this.params = e);
};
he(g.asn1.x509.OCSPNonce, g.asn1.x509.Extension);
g.asn1.x509.OCSPNoCheck = function(e) {
  g.asn1.x509.OCSPNoCheck.superclass.constructor.call(this, e), this.params = void 0, this.getExtnValueHex = function() {
    return this.asn1ExtnValue = new g.asn1.DERNull(), this.asn1ExtnValue.tohex();
  }, this.oid = "1.3.6.1.5.5.7.48.1.5", e != null && (this.params = e);
};
he(g.asn1.x509.OCSPNoCheck, g.asn1.x509.Extension);
g.asn1.x509.AdobeTimeStamp = function(e) {
  g.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this, e);
  var t = g, r = t.asn1, n = r.DERInteger, i = r.DERBoolean, s = r.DERSequence, a = r.x509.GeneralName;
  this.params = null, this.getExtnValueHex = function() {
    var o = this.params, u = [new n(1)];
    return u.push(new a({ uri: o.uri })), o.reqauth != null && u.push(new i(o.reqauth)), this.asn1ExtnValue = new s({ array: u }), this.asn1ExtnValue.tohex();
  }, this.oid = "1.2.840.113583.1.1.9.1", e !== void 0 && this.setByParam(e);
};
he(g.asn1.x509.AdobeTimeStamp, g.asn1.x509.Extension);
g.asn1.x509.X500Name = function(e) {
  g.asn1.x509.X500Name.superclass.constructor.call(this), this.asn1Array = [], this.paramArray = [], this.sRule = "utf8";
  var t = g, r = t.asn1, n = r.x509, i = n.RDN;
  this.setByString = function(s, a) {
    a !== void 0 && (this.sRule = a);
    var o = s.split("/");
    o.shift();
    for (var u = [], f = 0; f < o.length; f++)
      if (o[f].match(/^[^=]+=.+$/))
        u.push(o[f]);
      else {
        var l = u.length - 1;
        u[l] = u[l] + "/" + o[f];
      }
    for (var f = 0; f < u.length; f++)
      this.asn1Array.push(new i({ str: u[f], rule: this.sRule }));
  }, this.setByLdapString = function(s, a) {
    a !== void 0 && (this.sRule = a);
    var o = n.X500Name.ldapToCompat(s);
    this.setByString(o, a);
  }, this.setByObject = function(s, a) {
    a !== void 0 && (this.sRule = a);
    for (var o in s)
      if (s.hasOwnProperty(o)) {
        var u = new i({ str: o + "=" + s[o], rule: this.sRule });
        this.asn1Array ? this.asn1Array.push(u) : this.asn1Array = [u];
      }
  }, this.setByParam = function(s) {
    if (s.rule !== void 0 && (this.sRule = s.rule), s.array !== void 0)
      this.paramArray = s.array;
    else if (s.str !== void 0)
      this.setByString(s.str);
    else if (s.ldapstr !== void 0)
      this.setByLdapString(s.ldapstr);
    else if (s.hex !== void 0)
      this.hTLV = s.hex;
    else if (s.certissuer !== void 0) {
      var a = new Be();
      a.readCertPEM(s.certissuer), this.hTLV = a.getIssuerHex();
    } else if (s.certsubject !== void 0) {
      var a = new Be();
      a.readCertPEM(s.certsubject), this.hTLV = a.getSubjectHex();
    } else
      typeof s == "object" && s.certsubject === void 0 && s.certissuer === void 0 && this.setByObject(s);
  }, this.tohex = function() {
    if (typeof this.hTLV == "string")
      return this.hTLV;
    if (this.asn1Array.length == 0 && this.paramArray.length > 0)
      for (var s = 0; s < this.paramArray.length; s++) {
        var a = { array: this.paramArray[s] };
        this.sRule != "utf8" && (a.rule = this.sRule);
        var o = new i(a);
        this.asn1Array.push(o);
      }
    var u = new r.DERSequence({ array: this.asn1Array });
    return this.hTLV = u.tohex(), this.hTLV;
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.x509.X500Name, g.asn1.ASN1Object);
g.asn1.x509.X500Name.compatToLDAP = function(e) {
  if (e.substr(0, 1) !== "/")
    throw "malformed input";
  e = e.substr(1);
  var t = e.split("/");
  return t.reverse(), t = t.map(function(r) {
    return r.replace(/,/, "\\,");
  }), t.join(",");
};
g.asn1.x509.X500Name.onelineToLDAP = function(e) {
  return g.asn1.x509.X500Name.compatToLDAP(e);
};
g.asn1.x509.X500Name.ldapToCompat = function(e) {
  for (var t = e.split(","), r = !1, n = [], i = 0; t.length > 0; i++) {
    var s = t.shift();
    if (r === !0) {
      var a = n.pop(), o = (a + "," + s).replace(/\\,/g, ",");
      n.push(o), r = !1;
    } else
      n.push(s);
    s.substr(-1, 1) === "\\" && (r = !0);
  }
  return n = n.map(function(u) {
    return u.replace("/", "\\/");
  }), n.reverse(), "/" + n.join("/");
};
g.asn1.x509.X500Name.ldapToOneline = function(e) {
  return g.asn1.x509.X500Name.ldapToCompat(e);
};
g.asn1.x509.RDN = function(e) {
  g.asn1.x509.RDN.superclass.constructor.call(this), this.asn1Array = [], this.paramArray = [], this.sRule = "utf8";
  var t = g.asn1.x509.AttributeTypeAndValue;
  this.setByParam = function(r) {
    r.rule !== void 0 && (this.sRule = r.rule), r.str !== void 0 && this.addByMultiValuedString(r.str), r.array !== void 0 && (this.paramArray = r.array);
  }, this.addByString = function(r) {
    this.asn1Array.push(new g.asn1.x509.AttributeTypeAndValue({ str: r, rule: this.sRule }));
  }, this.addByMultiValuedString = function(r) {
    for (var n = g.asn1.x509.RDN.parseString(r), i = 0; i < n.length; i++)
      this.addByString(n[i]);
  }, this.tohex = function() {
    if (this.asn1Array.length == 0 && this.paramArray.length > 0)
      for (var r = 0; r < this.paramArray.length; r++) {
        var n = this.paramArray[r];
        n.rule !== void 0 && this.sRule != "utf8" && (n.rule = this.sRule);
        var i = new t(n);
        this.asn1Array.push(i);
      }
    var s = new g.asn1.DERSet({ array: this.asn1Array });
    return this.TLV = s.tohex(), this.TLV;
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.x509.RDN, g.asn1.ASN1Object);
g.asn1.x509.RDN.parseString = function(e) {
  for (var t = e.split(/\+/), r = !1, n = [], i = 0; t.length > 0; i++) {
    var s = t.shift();
    if (r === !0) {
      var a = n.pop(), o = (a + "+" + s).replace(/\\\+/g, "+");
      n.push(o), r = !1;
    } else
      n.push(s);
    s.substr(-1, 1) === "\\" && (r = !0);
  }
  for (var u = !1, f = [], i = 0; n.length > 0; i++) {
    var s = n.shift();
    if (u === !0) {
      var l = f.pop();
      if (s.match(/"$/)) {
        var o = (l + "+" + s).replace(/^([^=]+)="(.*)"$/, "$1=$2");
        f.push(o), u = !1;
      } else
        f.push(l + "+" + s);
    } else
      f.push(s);
    s.match(/^[^=]+="/) && (u = !0);
  }
  return f;
};
g.asn1.x509.AttributeTypeAndValue = function(e) {
  g.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this), this.sRule = "utf8", this.sType = null, this.sValue = null, this.dsType = null;
  var t = g, r = t.asn1, n = r.DERSequence, i = r.DERUTF8String, s = r.DERPrintableString, a = r.DERTeletexString, o = r.DERIA5String, u = r.DERVisibleString, f = r.DERBMPString, l = t.lang.String.isMail, h = t.lang.String.isPrintable;
  this.setByParam = function(c) {
    if (c.rule !== void 0 && (this.sRule = c.rule), c.ds !== void 0 && (this.dsType = c.ds), c.value === void 0 && c.str !== void 0) {
      var d = c.str, p = d.match(/^([^=]+)=(.+)$/);
      if (p)
        this.sType = p[1], this.sValue = p[2];
      else
        throw new Error("malformed attrTypeAndValueStr: " + attrTypeAndValueStr);
    } else
      this.sType = c.type, this.sValue = c.value;
  }, this.setByString = function(c, d) {
    d !== void 0 && (this.sRule = d);
    var p = c.match(/^([^=]+)=(.+)$/);
    if (p)
      this.setByAttrTypeAndValueStr(p[1], p[2]);
    else
      throw new Error("malformed attrTypeAndValueStr: " + attrTypeAndValueStr);
  }, this._getDsType = function() {
    var c = this.sType, d = this.sValue, p = this.sRule;
    return p === "prn" ? c == "CN" && l(d) ? "ia5" : h(d) ? "prn" : "utf8" : p === "utf8" ? c == "CN" && l(d) ? "ia5" : c == "C" ? "prn" : "utf8" : "utf8";
  }, this.setByAttrTypeAndValueStr = function(c, d, p) {
    p !== void 0 && (this.sRule = p), this.sType = c, this.sValue = d;
  }, this.getValueObj = function(c, d) {
    if (c == "utf8")
      return new i({ str: d });
    if (c == "prn")
      return new s({ str: d });
    if (c == "tel")
      return new a({ str: d });
    if (c == "ia5")
      return new o({ str: d });
    if (c == "vis")
      return new u({ str: d });
    if (c == "bmp")
      return new f({ str: d });
    throw new Error("unsupported directory string type: type=" + c + " value=" + d);
  }, this.tohex = function() {
    this.dsType == null && (this.dsType = this._getDsType());
    var c = g.asn1.x509.OID.atype2obj(this.sType), d = this.getValueObj(this.dsType, this.sValue), p = new n({ array: [c, d] });
    return this.TLV = p.tohex(), this.TLV;
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.x509.AttributeTypeAndValue, g.asn1.ASN1Object);
g.asn1.x509.SubjectPublicKeyInfo = function(e) {
  g.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);
  var t = g, r = t.asn1, n = r.DERInteger, i = r.DERBitString, s = r.DERObjectIdentifier, a = r.DERSequence, o = r.ASN1Util.newObject, u = r.x509, f = u.AlgorithmIdentifier, l = t.crypto;
  l.ECDSA, l.DSA, this.getASN1Object = function() {
    if (this.asn1AlgId == null || this.asn1SubjPKey == null)
      throw "algId and/or subjPubKey not set";
    var h = new a({ array: [this.asn1AlgId, this.asn1SubjPKey] });
    return h;
  }, this.tohex = function() {
    var h = this.getASN1Object();
    return this.hTLV = h.tohex(), this.hTLV;
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, this.setPubKey = function(h) {
    try {
      if (h instanceof Pe) {
        var c = o({ seq: [{ int: { bigint: h.n } }, { int: { int: h.e } }] }), d = c.tohex();
        this.asn1AlgId = new f({ name: "rsaEncryption" }), this.asn1SubjPKey = new i({ hex: "00" + d });
      }
    } catch {
    }
    try {
      if (h instanceof g.crypto.ECDSA) {
        var p = new s({ name: h.curveName });
        this.asn1AlgId = new f({ name: "ecPublicKey", asn1params: p }), this.asn1SubjPKey = new i({ hex: "00" + h.pubKeyHex });
      }
    } catch {
    }
    try {
      if (h instanceof g.crypto.DSA) {
        var p = new o({ seq: [{ int: { bigint: h.p } }, { int: { bigint: h.q } }, { int: { bigint: h.g } }] });
        this.asn1AlgId = new f({ name: "dsa", asn1params: p });
        var v = new n({ bigint: h.y });
        this.asn1SubjPKey = new i({ hex: "00" + v.tohex() });
      }
    } catch {
    }
  }, e !== void 0 && this.setPubKey(e);
};
he(g.asn1.x509.SubjectPublicKeyInfo, g.asn1.ASN1Object);
g.asn1.x509.Time = function(e) {
  g.asn1.x509.Time.superclass.constructor.call(this);
  var t = g, r = t.asn1, n = r.DERUTCTime, i = r.DERGeneralizedTime;
  this.params = null, this.type = null, this.setTimeParams = function(s) {
    this.timeParams = s;
  }, this.setByParam = function(s) {
    this.params = s;
  }, this.getType = function(s) {
    return s.match(/^[0-9]{12}Z$/) ? "utc" : s.match(/^[0-9]{14}Z$/) ? "gen" : s.match(/^[0-9]{12}\.[0-9]+Z$/) ? "utc" : s.match(/^[0-9]{14}\.[0-9]+Z$/) ? "gen" : null;
  }, this.tohex = function() {
    var s = this.params, a = null;
    if (typeof s == "string" && (s = { str: s }), s != null && s.str && (s.type == null || s.type == null) && (s.type = this.getType(s.str)), s != null && s.str ? (s.type == "utc" && (a = new n(s.str)), s.type == "gen" && (a = new i(s.str))) : this.type == "gen" ? a = new i() : a = new n(), a == null)
      throw new Error("wrong setting for Time");
    return this.TLV = a.tohex(), this.TLV;
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
g.asn1.x509.Time_bak = function(e) {
  g.asn1.x509.Time_bak.superclass.constructor.call(this);
  var t = g, r = t.asn1, n = r.DERUTCTime, i = r.DERGeneralizedTime;
  this.setTimeParams = function(s) {
    this.timeParams = s;
  }, this.tohex = function() {
    var s = null;
    return this.timeParams != null ? this.type == "utc" ? s = new n(this.timeParams) : s = new i(this.timeParams) : this.type == "utc" ? s = new n() : s = new i(), this.TLV = s.tohex(), this.TLV;
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, this.type = "utc", e !== void 0 && (e.type !== void 0 ? this.type = e.type : e.str !== void 0 && (e.str.match(/^[0-9]{12}Z$/) && (this.type = "utc"), e.str.match(/^[0-9]{14}Z$/) && (this.type = "gen")), this.timeParams = e);
};
he(g.asn1.x509.Time, g.asn1.ASN1Object);
g.asn1.x509.AlgorithmIdentifier = function(e) {
  g.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this), this.nameAlg = null, this.asn1Alg = null, this.asn1Params = null, this.paramEmpty = !1;
  var t = g, r = t.asn1, n = r.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;
  if (this.tohex = function() {
    if (this.nameAlg === null && this.asn1Alg === null)
      throw new Error("algorithm not specified");
    if (this.nameAlg !== null) {
      var s = null;
      for (var a in n)
        a === this.nameAlg && (s = n[a]);
      if (s !== null)
        return this.hTLV = s, this.hTLV;
    }
    this.nameAlg !== null && this.asn1Alg === null && (this.asn1Alg = r.x509.OID.name2obj(this.nameAlg));
    var o = [this.asn1Alg];
    this.asn1Params !== null && o.push(this.asn1Params);
    var u = new r.DERSequence({ array: o });
    return this.hTLV = u.tohex(), this.hTLV;
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && (e.name !== void 0 && (this.nameAlg = e.name), e.asn1params !== void 0 && (this.asn1Params = e.asn1params), e.paramempty !== void 0 && (this.paramEmpty = e.paramempty)), this.asn1Params === null && this.paramEmpty === !1 && this.nameAlg !== null) {
    this.nameAlg.name !== void 0 && (this.nameAlg = this.nameAlg.name);
    var i = this.nameAlg.toLowerCase();
    i.substr(-7, 7) !== "withdsa" && i.substr(-9, 9) !== "withecdsa" && (this.asn1Params = new r.DERNull());
  }
};
he(g.asn1.x509.AlgorithmIdentifier, g.asn1.ASN1Object);
g.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV = { SHAwithRSAandMGF1: "300d06092a864886f70d01010a3000", SHA256withRSAandMGF1: "303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120", SHA384withRSAandMGF1: "303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130", SHA512withRSAandMGF1: "303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140" };
g.asn1.x509.GeneralName = function(e) {
  g.asn1.x509.GeneralName.superclass.constructor.call(this);
  var t = g, r = t.asn1, n = r.x509, i = n.X500Name, s = n.OtherName, a = r.DERIA5String;
  r.DERPrintableString;
  var o = r.DEROctetString, u = r.DERTaggedObject, f = r.ASN1Object, l = Error;
  this.params = null, this.setByParam = function(h) {
    this.params = h;
  }, this.tohex = function() {
    var h = this.params, c, p, d, p = !1;
    if (h.other !== void 0)
      c = "a0", d = new s(h.other);
    else if (h.rfc822 !== void 0)
      c = "81", d = new a({ str: h.rfc822 });
    else if (h.dns !== void 0)
      c = "82", d = new a({ str: h.dns });
    else if (h.dn !== void 0)
      c = "a4", p = !0, typeof h.dn == "string" ? d = new i({ str: h.dn }) : h.dn instanceof g.asn1.x509.X500Name ? d = h.dn : d = new i(h.dn);
    else if (h.ldapdn !== void 0)
      c = "a4", p = !0, d = new i({ ldapstr: h.ldapdn });
    else if (h.certissuer !== void 0 || h.certsubj !== void 0) {
      c = "a4", p = !0;
      var v, m, b = null;
      if (h.certsubj !== void 0 ? (v = !1, m = h.certsubj) : (v = !0, m = h.certissuer), m.match(/^[0-9A-Fa-f]+$/), m.indexOf("-----BEGIN ") != -1 && (b = Ft(m)), b == null)
        throw new Error("certsubj/certissuer not cert");
      var A = new Be();
      A.hex = b;
      var D;
      v ? D = A.getIssuerHex() : D = A.getSubjectHex(), d = new f(), d.hTLV = D;
    } else if (h.uri !== void 0)
      c = "86", d = new a({ str: h.uri });
    else if (h.ip !== void 0) {
      c = "87";
      var k, L = h.ip;
      try {
        if (L.match(/^[0-9a-f]+$/)) {
          var _ = L.length;
          if (_ == 8 || _ == 16 || _ == 32 || _ == 64)
            k = L;
          else
            throw "err";
        } else
          k = d1(L);
      } catch (O) {
        throw new l("malformed IP address: " + h.ip + ":" + O.message);
      }
      d = new o({ hex: k });
    } else
      throw new l("improper params");
    var F = new u({ tag: c, explicit: p, obj: d });
    return F.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.x509.GeneralName, g.asn1.ASN1Object);
g.asn1.x509.GeneralNames = function(e) {
  g.asn1.x509.GeneralNames.superclass.constructor.call(this);
  var t = g, r = t.asn1;
  this.setByParamArray = function(n) {
    for (var i = 0; i < n.length; i++) {
      var s = new r.x509.GeneralName(n[i]);
      this.asn1Array.push(s);
    }
  }, this.tohex = function() {
    var n = new r.DERSequence({ array: this.asn1Array });
    return n.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, this.asn1Array = new Array(), typeof e < "u" && this.setByParamArray(e);
};
he(g.asn1.x509.GeneralNames, g.asn1.ASN1Object);
g.asn1.x509.OtherName = function(e) {
  g.asn1.x509.OtherName.superclass.constructor.call(this);
  var t = g, r = t.asn1, n = r.DERObjectIdentifier, i = r.DERSequence, s = r.ASN1Util.newObject;
  this.params = null, this.setByParam = function(a) {
    this.params = a;
  }, this.tohex = function() {
    var a = this.params;
    if (a.oid == null || a.value == null)
      throw new Error("oid or value not specified");
    var o = new n({ oid: a.oid }), u = s({ tag: { tag: "a0", explicit: !0, obj: a.value } }), f = new i({ array: [o, u] });
    return f.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.x509.OtherName, g.asn1.ASN1Object);
g.asn1.x509.OID = new function() {
  var e = g.asn1.DERObjectIdentifier;
  this.name2oidList = { sha1: "1.3.14.3.2.26", sha256: "2.16.840.1.101.3.4.2.1", sha384: "2.16.840.1.101.3.4.2.2", sha512: "2.16.840.1.101.3.4.2.3", sha224: "2.16.840.1.101.3.4.2.4", md5: "1.2.840.113549.2.5", md2: "1.3.14.7.2.2.1", ripemd160: "1.3.36.3.2.1", MD2withRSA: "1.2.840.113549.1.1.2", MD4withRSA: "1.2.840.113549.1.1.3", MD5withRSA: "1.2.840.113549.1.1.4", SHA1withRSA: "1.2.840.113549.1.1.5", "pkcs1-MGF": "1.2.840.113549.1.1.8", rsaPSS: "1.2.840.113549.1.1.10", SHA224withRSA: "1.2.840.113549.1.1.14", SHA256withRSA: "1.2.840.113549.1.1.11", SHA384withRSA: "1.2.840.113549.1.1.12", SHA512withRSA: "1.2.840.113549.1.1.13", SHA1withECDSA: "1.2.840.10045.4.1", SHA224withECDSA: "1.2.840.10045.4.3.1", SHA256withECDSA: "1.2.840.10045.4.3.2", SHA384withECDSA: "1.2.840.10045.4.3.3", SHA512withECDSA: "1.2.840.10045.4.3.4", dsa: "1.2.840.10040.4.1", SHA1withDSA: "1.2.840.10040.4.3", SHA224withDSA: "2.16.840.1.101.3.4.3.1", SHA256withDSA: "2.16.840.1.101.3.4.3.2", rsaEncryption: "1.2.840.113549.1.1.1", commonName: "2.5.4.3", countryName: "2.5.4.6", localityName: "2.5.4.7", stateOrProvinceName: "2.5.4.8", streetAddress: "2.5.4.9", organizationName: "2.5.4.10", organizationalUnitName: "2.5.4.11", domainComponent: "0.9.2342.19200300.100.1.25", userId: "0.9.2342.19200300.100.1.1", surname: "2.5.4.4", givenName: "2.5.4.42", title: "2.5.4.12", distinguishedName: "2.5.4.49", emailAddress: "1.2.840.113549.1.9.1", description: "2.5.4.13", businessCategory: "2.5.4.15", postalCode: "2.5.4.17", uniqueIdentifier: "2.5.4.45", organizationIdentifier: "2.5.4.97", jurisdictionOfIncorporationL: "1.3.6.1.4.1.311.60.2.1.1", jurisdictionOfIncorporationSP: "1.3.6.1.4.1.311.60.2.1.2", jurisdictionOfIncorporationC: "1.3.6.1.4.1.311.60.2.1.3", subjectDirectoryAttributes: "2.5.29.9", subjectKeyIdentifier: "2.5.29.14", keyUsage: "2.5.29.15", subjectAltName: "2.5.29.17", issuerAltName: "2.5.29.18", basicConstraints: "2.5.29.19", cRLNumber: "2.5.29.20", cRLReason: "2.5.29.21", nameConstraints: "2.5.29.30", cRLDistributionPoints: "2.5.29.31", certificatePolicies: "2.5.29.32", anyPolicy: "2.5.29.32.0", policyMappings: "2.5.29.33", authorityKeyIdentifier: "2.5.29.35", policyConstraints: "2.5.29.36", extKeyUsage: "2.5.29.37", inhibitAnyPolicy: "2.5.29.54", authorityInfoAccess: "1.3.6.1.5.5.7.1.1", ocsp: "1.3.6.1.5.5.7.48.1", ocspBasic: "1.3.6.1.5.5.7.48.1.1", ocspNonce: "1.3.6.1.5.5.7.48.1.2", ocspNoCheck: "1.3.6.1.5.5.7.48.1.5", caIssuers: "1.3.6.1.5.5.7.48.2", anyExtendedKeyUsage: "2.5.29.37.0", serverAuth: "1.3.6.1.5.5.7.3.1", clientAuth: "1.3.6.1.5.5.7.3.2", codeSigning: "1.3.6.1.5.5.7.3.3", emailProtection: "1.3.6.1.5.5.7.3.4", timeStamping: "1.3.6.1.5.5.7.3.8", ocspSigning: "1.3.6.1.5.5.7.3.9", smtpUTF8Mailbox: "1.3.6.1.5.5.7.8.9", dateOfBirth: "1.3.6.1.5.5.7.9.1", placeOfBirth: "1.3.6.1.5.5.7.9.2", gender: "1.3.6.1.5.5.7.9.3", countryOfCitizenship: "1.3.6.1.5.5.7.9.4", countryOfResidence: "1.3.6.1.5.5.7.9.5", ecPublicKey: "1.2.840.10045.2.1", "P-256": "1.2.840.10045.3.1.7", secp256r1: "1.2.840.10045.3.1.7", secp256k1: "1.3.132.0.10", secp384r1: "1.3.132.0.34", secp521r1: "1.3.132.0.35", pkcs5PBES2: "1.2.840.113549.1.5.13", pkcs5PBKDF2: "1.2.840.113549.1.5.12", "des-EDE3-CBC": "1.2.840.113549.3.7", data: "1.2.840.113549.1.7.1", "signed-data": "1.2.840.113549.1.7.2", "enveloped-data": "1.2.840.113549.1.7.3", "digested-data": "1.2.840.113549.1.7.5", "encrypted-data": "1.2.840.113549.1.7.6", "authenticated-data": "1.2.840.113549.1.9.16.1.2", tstinfo: "1.2.840.113549.1.9.16.1.4", signingCertificate: "1.2.840.113549.1.9.16.2.12", timeStampToken: "1.2.840.113549.1.9.16.2.14", signaturePolicyIdentifier: "1.2.840.113549.1.9.16.2.15", etsArchiveTimeStamp: "1.2.840.113549.1.9.16.2.27", signingCertificateV2: "1.2.840.113549.1.9.16.2.47", etsArchiveTimeStampV2: "1.2.840.113549.1.9.16.2.48", extensionRequest: "1.2.840.113549.1.9.14", contentType: "1.2.840.113549.1.9.3", messageDigest: "1.2.840.113549.1.9.4", signingTime: "1.2.840.113549.1.9.5", counterSignature: "1.2.840.113549.1.9.6", archiveTimeStampV3: "0.4.0.1733.2.4", pdfRevocationInfoArchival: "1.2.840.113583.1.1.8", adobeTimeStamp: "1.2.840.113583.1.1.9.1", smimeMailboxLegacy: "2.23.140.1.5.1.1", smimeMailboxMulti: "2.23.140.1.5.1.2", smimeMailboxStrict: "2.23.140.1.5.1.3", smimeOrganizationLegacy: "2.23.140.1.5.2.1", smimeOrganizationMulti: "2.23.140.1.5.2.2", smimeOrganizationStrict: "2.23.140.1.5.2.3", smimeSponsorLegacy: "2.23.140.1.5.3.1", smimeSponsorMulti: "2.23.140.1.5.3.2", smimeSponsorStrict: "2.23.140.1.5.3.3", smimeIndividualLegacy: "2.23.140.1.5.4.1", smimeIndividualMulti: "2.23.140.1.5.4.2", smimeIndividualStrict: "2.23.140.1.5.4.3" }, this.atype2oidList = { CN: "2.5.4.3", L: "2.5.4.7", ST: "2.5.4.8", O: "2.5.4.10", OU: "2.5.4.11", C: "2.5.4.6", STREET: "2.5.4.9", DC: "0.9.2342.19200300.100.1.25", UID: "0.9.2342.19200300.100.1.1", SN: "2.5.4.4", T: "2.5.4.12", GN: "2.5.4.42", DN: "2.5.4.49", E: "1.2.840.113549.1.9.1", description: "2.5.4.13", businessCategory: "2.5.4.15", postalCode: "2.5.4.17", serialNumber: "2.5.4.5", uniqueIdentifier: "2.5.4.45", organizationIdentifier: "2.5.4.97", jurisdictionOfIncorporationL: "1.3.6.1.4.1.311.60.2.1.1", jurisdictionOfIncorporationSP: "1.3.6.1.4.1.311.60.2.1.2", jurisdictionOfIncorporationC: "1.3.6.1.4.1.311.60.2.1.3" }, this.objCache = {}, this.name2obj = function(t) {
    if (typeof this.objCache[t] < "u")
      return this.objCache[t];
    if (typeof this.name2oidList[t] > "u")
      throw "Name of ObjectIdentifier not defined: " + t;
    var r = this.name2oidList[t], n = new e({ oid: r });
    return this.objCache[t] = n, n;
  }, this.atype2obj = function(t) {
    if (this.objCache[t] !== void 0)
      return this.objCache[t];
    var r;
    if (t.match(/^\d+\.\d+\.[0-9.]+$/))
      r = t;
    else if (this.atype2oidList[t] !== void 0)
      r = this.atype2oidList[t];
    else if (this.name2oidList[t] !== void 0)
      r = this.name2oidList[t];
    else
      throw new Error("AttributeType name undefined: " + t);
    var n = new e({ oid: r });
    return this.objCache[t] = n, n;
  }, this.registerOIDs = function(t) {
    if (this.checkOIDs(t))
      for (var r in t)
        this.name2oidList[r] = t[r];
  }, this.checkOIDs = function(t) {
    try {
      var r = Object.keys(t);
      return r.length == 0 ? !1 : (r.map(function(n, i, s) {
        var a = this[n];
        if (!a.match(/^[0-2]\.[0-9.]+$/))
          throw new Error("value is not OID");
      }, t), !0);
    } catch {
      return !1;
    }
  };
}();
g.asn1.x509.OID.oid2name = function(e) {
  var t = g.asn1.x509.OID.name2oidList;
  for (var r in t)
    if (t[r] == e)
      return r;
  return "";
};
g.asn1.x509.OID.oid2atype = function(e) {
  var t = g.asn1.x509.OID.atype2oidList;
  for (var r in t)
    if (t[r] == e)
      return r;
  return e;
};
g.asn1.x509.OID.name2oid = function(e) {
  if (e.match(/^[0-9.]+$/))
    return e;
  var t = g.asn1.x509.OID.name2oidList;
  return t[e] === void 0 ? "" : t[e];
};
g.asn1.x509.X509Util = {};
g.asn1.x509.X509Util.newCertPEM = function(e) {
  var t = g.asn1.x509;
  t.TBSCertificate;
  var r = t.Certificate, n = new r(e);
  return n.getPEM();
};
(typeof g > "u" || !g) && (g = {});
(typeof g.asn1 > "u" || !g.asn1) && (g.asn1 = {});
(typeof g.asn1.cms > "u" || !g.asn1.cms) && (g.asn1.cms = {});
g.asn1.cms.Attribute = function(e) {
  var t = Error, r = g, n = r.asn1, i = n.DERSequence, s = n.DERSet, a = n.DERObjectIdentifier;
  this.params = null, this.typeOid = null, this.setByParam = function(o) {
    this.params = o;
  }, this.getValueArray = function() {
    throw new t("not yet implemented abstract");
  }, this.tohex = function() {
    var o = new a({ oid: this.typeOid }), u = new s({ array: this.getValueArray() }), f = new i({ array: [o, u] });
    return f.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  };
};
he(g.asn1.cms.Attribute, g.asn1.ASN1Object);
g.asn1.cms.ContentType = function(e) {
  var t = g, r = t.asn1;
  r.cms.ContentType.superclass.constructor.call(this), this.typeOid = "1.2.840.113549.1.9.3", this.getValueArray = function() {
    var n = new r.DERObjectIdentifier(this.params.type);
    return [n];
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.ContentType, g.asn1.cms.Attribute);
g.asn1.cms.MessageDigest = function(e) {
  var t = g, r = t.asn1, n = r.DEROctetString, i = r.cms;
  i.MessageDigest.superclass.constructor.call(this), this.typeOid = "1.2.840.113549.1.9.4", this.getValueArray = function() {
    var s = new n(this.params);
    return [s];
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.MessageDigest, g.asn1.cms.Attribute);
g.asn1.cms.SigningTime = function(e) {
  var t = g, r = t.asn1;
  r.cms.SigningTime.superclass.constructor.call(this), this.typeOid = "1.2.840.113549.1.9.5", this.getValueArray = function() {
    var n = new r.x509.Time(this.params);
    return [n];
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.SigningTime, g.asn1.cms.Attribute);
g.asn1.cms.SigningCertificate = function(e) {
  var t = Error, r = g, n = r.asn1, i = n.DERSequence, s = n.cms, a = s.ESSCertID;
  r.crypto, s.SigningCertificate.superclass.constructor.call(this), this.typeOid = "1.2.840.113549.1.9.16.2.12", this.getValueArray = function() {
    if (this.params == null || this.params == null || this.params.array == null)
      throw new t("parameter 'array' not specified");
    for (var o = this.params.array, u = [], f = 0; f < o.length; f++) {
      var l = o[f];
      e.hasis == !1 && typeof l == "string" && (l.indexOf("-----BEGIN") != -1 || ye.isASN1HEX(l)) && (l = { cert: l }), l.hasis != !1 && e.hasis == !1 && (l.hasis = !1), u.push(new a(l));
    }
    var h = new i({ array: u }), c = new i({ array: [h] });
    return [c];
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.SigningCertificate, g.asn1.cms.Attribute);
g.asn1.cms.ESSCertID = function(e) {
  g.asn1.cms.ESSCertID.superclass.constructor.call(this);
  var t = Error, r = g, n = r.asn1, i = n.DEROctetString, s = n.DERSequence, a = n.cms.IssuerSerial;
  this.params = null, this.getCertHash = function(o, u) {
    if (o.hash != null)
      return o.hash;
    if (typeof o == "string" && o.indexOf("-----BEGIN") == -1 && !ye.isASN1HEX(o))
      return o;
    var f;
    if (typeof o == "string")
      f = o;
    else if (o.cert != null)
      f = o.cert;
    else
      throw new t("hash nor cert unspecified");
    var l;
    f.indexOf("-----BEGIN") != -1 ? l = Ft(f) : l = f, typeof o == "string" && (o.indexOf("-----BEGIN") != -1 ? l = Ft(o) : ye.isASN1HEX(o) && (l = o));
    var h;
    if (o.alg != null)
      h = o.alg;
    else if (u != null)
      h = u;
    else
      throw new t("hash alg unspecified");
    return r.crypto.Util.hashHex(l, h);
  }, this.tohex = function() {
    var o = this.params, u = this.getCertHash(o, "sha1"), f = [];
    f.push(new i({ hex: u })), (typeof o == "string" && o.indexOf("-----BEGIN") != -1 || o.cert != null && o.hasis != !1 || o.issuer != null && o.serial != null) && f.push(new a(o));
    var l = new s({ array: f });
    return l.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.ESSCertID, g.asn1.ASN1Object);
g.asn1.cms.SigningCertificateV2 = function(e) {
  var t = Error, r = g, n = r.asn1, i = n.DERSequence;
  n.x509;
  var s = n.cms, a = s.ESSCertIDv2;
  r.crypto, s.SigningCertificateV2.superclass.constructor.call(this), this.typeOid = "1.2.840.113549.1.9.16.2.47", this.getValueArray = function() {
    if (this.params == null || this.params == null || this.params.array == null)
      throw new t("parameter 'array' not specified");
    for (var o = this.params.array, u = [], f = 0; f < o.length; f++) {
      var l = o[f];
      (e.alg != null || e.hasis == !1) && typeof l == "string" && (l.indexOf("-----BEGIN") != -1 || ye.isASN1HEX(l)) && (l = { cert: l }), l.alg == null && e.alg != null && (l.alg = e.alg), l.hasis != !1 && e.hasis == !1 && (l.hasis = !1), u.push(new a(l));
    }
    var h = new i({ array: u }), c = new i({ array: [h] });
    return [c];
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.SigningCertificateV2, g.asn1.cms.Attribute);
g.asn1.cms.ESSCertIDv2 = function(e) {
  g.asn1.cms.ESSCertIDv2.superclass.constructor.call(this);
  var t = g, r = t.asn1, n = r.DEROctetString, i = r.DERSequence, s = r.cms.IssuerSerial, a = r.x509.AlgorithmIdentifier;
  this.params = null, this.tohex = function() {
    var o = this.params, u = this.getCertHash(o, "sha256"), f = [];
    o.alg != null && o.alg != "sha256" && f.push(new a({ name: o.alg })), f.push(new n({ hex: u })), (typeof o == "string" && o.indexOf("-----BEGIN") != -1 || o.cert != null && o.hasis != !1 || o.issuer != null && o.serial != null) && f.push(new s(o));
    var l = new i({ array: f });
    return l.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.ESSCertIDv2, g.asn1.cms.ESSCertID);
g.asn1.cms.IssuerSerial = function(e) {
  var t = Error, r = g, n = r.asn1, i = n.DERInteger, s = n.DERSequence, a = n.cms, o = n.x509, u = o.GeneralNames, f = Be;
  a.IssuerSerial.superclass.constructor.call(this), this.setByParam = function(l) {
    this.params = l;
  }, this.tohex = function() {
    var l = this.params, h, c;
    if (typeof l == "string" && l.indexOf("-----BEGIN") != -1 || l.cert != null) {
      var d;
      l.cert != null ? d = l.cert : d = l;
      var p = new f();
      p.readCertPEM(d), h = p.getIssuer(), c = { hex: p.getSerialNumberHex() };
    } else if (l.issuer != null && l.serial)
      h = l.issuer, c = l.serial;
    else
      throw new t("cert or issuer and serial parameter not specified");
    var v = new u([{ dn: h }]), m = new i(c), b = new s({ array: [v, m] });
    return b.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.IssuerSerial, g.asn1.ASN1Object);
g.asn1.cms.SignerIdentifier = function(e) {
  var t = g, r = t.asn1;
  r.DERInteger, r.DERSequence;
  var n = r.cms, i = n.IssuerAndSerialNumber, s = n.SubjectKeyIdentifier, a = r.x509;
  a.X500Name, n.SignerIdentifier.superclass.constructor.call(this), this.params = null, this.tohex = function() {
    var o = this.params;
    if (o.type == "isssn") {
      var u = new i(o);
      return u.tohex();
    } else if (o.type == "skid") {
      var f = new s(o);
      return f.tohex();
    } else
      throw new Error("wrong property for isssn or skid");
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.SignerIdentifier, g.asn1.ASN1Object);
g.asn1.cms.IssuerAndSerialNumber = function(e) {
  var t = g, r = t.asn1, n = r.DERInteger, i = r.DERSequence, s = r.cms, a = r.x509, o = a.X500Name, u = Be, f = Error;
  s.IssuerAndSerialNumber.superclass.constructor.call(this), this.params = null, this.tohex = function() {
    var l = this.params, h, c;
    if (typeof l == "string" && l.indexOf("-----BEGIN") != -1 || l.cert != null) {
      var d;
      l.cert != null ? d = l.cert : d = l;
      var p = new u();
      p.readCertPEM(d), h = p.getIssuer(), c = { hex: p.getSerialNumberHex() };
    } else if (l.issuer != null && l.serial)
      h = l.issuer, c = l.serial;
    else
      throw new f("cert or issuer and serial parameter not specified");
    var v = new o(h), m = new n(c), b = new i({ array: [v, m] });
    return b.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, this.setByParam = function(l) {
    this.params = l;
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.IssuerAndSerialNumber, g.asn1.ASN1Object);
g.asn1.cms.SubjectKeyIdentifier = function(e) {
  var t = g, r = t.asn1;
  r.DERInteger, r.DERSequence;
  var n = r.ASN1Util.newObject, i = r.cms;
  i.IssuerAndSerialName, i.SubjectKeyIdentifier;
  var s = r.x509;
  s.X500Name;
  var a = Be, o = Error;
  i.SubjectKeyIdentifier.superclass.constructor.call(this), this.tohex = function() {
    var u = this.params;
    if (u.cert == null && u.skid == null)
      throw new o("property cert nor skid undefined");
    var f;
    if (u.cert != null) {
      var l = new a(u.cert), h = l.getExtSubjectKeyIdentifier();
      f = h.kid.hex;
    } else
      u.skid != null && (f = u.skid);
    var c = n({ tag: { tage: "a0", obj: { octstr: { hex: f } } } });
    return c.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.SubjectKeyIdentifier, g.asn1.ASN1Object);
g.asn1.cms.AttributeList = function(e) {
  var t = Error, r = g, n = r.asn1, i = n.DERSet, s = n.cms;
  s.AttributeList.superclass.constructor.call(this), this.params = null, this.hTLV = null, this.setByParam = function(a) {
    this.params = a;
  }, this.tohex = function() {
    var a = this.params;
    if (this.hTLV != null)
      return this.hTLV;
    var o = !0;
    a.sortflag != null && (o = a.sortflag);
    for (var u = a.array, f = [], l = 0; l < u.length; l++) {
      var h = u[l], c = h.attr;
      if (c == "contentType")
        f.push(new s.ContentType(h));
      else if (c == "messageDigest")
        f.push(new s.MessageDigest(h));
      else if (c == "signingTime")
        f.push(new s.SigningTime(h));
      else if (c == "signingCertificate")
        f.push(new s.SigningCertificate(h));
      else if (c == "signingCertificateV2")
        f.push(new s.SigningCertificateV2(h));
      else if (c == "signaturePolicyIdentifier")
        f.push(new g.asn1.cades.SignaturePolicyIdentifier(h));
      else if (c == "signatureTimeStamp" || c == "timeStampToken")
        f.push(new g.asn1.cades.SignatureTimeStamp(h));
      else
        throw new t("unknown attr: " + c);
    }
    var d = new i({ array: f, sortflag: o });
    return this.hTLV = d.tohex(), this.hTLV;
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.AttributeList, g.asn1.ASN1Object);
g.asn1.cms.SignerInfo = function(e) {
  var t = Error, r = g, n = r.asn1, i = n.DERInteger, s = n.DEROctetString, a = n.DERSequence, o = n.DERTaggedObject, u = n.cms, f = u.SignerIdentifier, l = u.AttributeList;
  u.ContentType, u.EncapsulatedContentInfo, u.MessageDigest, u.SignedData;
  var h = n.x509, c = h.AlgorithmIdentifier, d = r.crypto, p = $e;
  u.SignerInfo.superclass.constructor.call(this), this.params = null, this.sign = function() {
    var v = this.params, m = v.sigalg, b = new l(v.sattrs).tohex(), A = p.getKey(v.signkey), D = new d.Signature({ alg: m });
    D.init(A), D.updateHex(b);
    var k = D.sign();
    v.sighex = k;
  }, this.tohex = function() {
    var v = this.params, m = [];
    if (m.push(new i({ int: v.version })), m.push(new f(v.id)), m.push(new c({ name: v.hashalg })), v.sattrs != null) {
      var b = new l(v.sattrs);
      try {
        m.push(new o({ tag: "a0", explicit: !1, obj: b }));
      } catch (D) {
        throw new t("si sattr error: " + D);
      }
    }
    if (v.sigalgfield != null ? m.push(new c({ name: v.sigalgfield })) : m.push(new c({ name: v.sigalg })), v.sighex == null && v.signkey != null && this.sign(), m.push(new s({ hex: v.sighex })), v.uattrs != null) {
      var b = new l(v.uattrs);
      try {
        m.push(new o({ tag: "a1", explicit: !1, obj: b }));
      } catch (k) {
        throw new t("si uattr error: " + k);
      }
    }
    var A = new a({ array: m });
    return A.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.SignerInfo, g.asn1.ASN1Object);
g.asn1.cms.EncapsulatedContentInfo = function(e) {
  var t = g, r = t.asn1, n = r.DERTaggedObject, i = r.DERSequence, s = r.DERObjectIdentifier, a = r.DEROctetString, o = r.cms;
  o.EncapsulatedContentInfo.superclass.constructor.call(this), this.params = null, this.tohex = function() {
    var u = this.params, f = [];
    if (f.push(new s(u.type)), u.content != null && (u.content.hex != null || u.content.str != null) && u.isDetached != !0) {
      var l = new a(u.content), h = new n({ tag: "a0", explicit: !0, obj: l });
      f.push(h);
    }
    var c = new i({ array: f });
    return c.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, this.setByParam = function(u) {
    this.params = u;
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.EncapsulatedContentInfo, g.asn1.ASN1Object);
g.asn1.cms.ContentInfo = function(e) {
  var t = g, r = t.asn1, n = r.DERTaggedObject, i = r.DERSequence, s = r.DERObjectIdentifier, a = r.x509;
  a.OID.name2obj, g.asn1.cms.ContentInfo.superclass.constructor.call(this), this.params = null, this.tohex = function() {
    var o = this.params, u = [];
    u.push(new s(o.type));
    var f = new n({ tag: "a0", explicit: !0, obj: o.obj });
    u.push(f);
    var l = new i({ array: u });
    return l.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, this.setByParam = function(o) {
    this.params = o;
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.ContentInfo, g.asn1.ASN1Object);
g.asn1.cms.SignedData = function(e) {
  var t = g, r = t.asn1;
  r.ASN1Object;
  var n = r.DERInteger, i = r.DERSet, s = r.DERSequence;
  r.DERTaggedObject;
  var a = r.cms, o = a.EncapsulatedContentInfo, u = a.SignerInfo, f = a.ContentInfo, l = a.CertificateSet, h = a.RevocationInfoChoices, c = r.x509, d = c.AlgorithmIdentifier;
  g.asn1.cms.SignedData.superclass.constructor.call(this), this.params = null, this.checkAndFixParam = function() {
    var p = this.params;
    this._setDigestAlgs(p), this._setContentTypeByEContent(p), this._setMessageDigestByEContent(p), this._setSignerInfoVersion(p), this._setSignedDataVersion(p);
  }, this._setDigestAlgs = function(p) {
    for (var v = {}, m = p.sinfos, b = 0; b < m.length; b++) {
      var A = m[b];
      v[A.hashalg] = 1;
    }
    p.hashalgs = Object.keys(v).sort();
  }, this._setContentTypeByEContent = function(p) {
    for (var v = p.econtent.type, m = p.sinfos, b = 0; b < m.length; b++) {
      var A = m[b], D = this._getAttrParamByName(A, "contentType");
      D.type = v;
    }
  }, this._setMessageDigestByEContent = function(p) {
    var v = p.econtent;
    p.econtent.type;
    var m = v.content.hex;
    m == null && v.type == "data" && v.content.str != null && (m = Or(v.content.str));
    for (var b = p.sinfos, A = 0; A < b.length; A++) {
      var D = b[A], k = D.hashalg, L = this._getAttrParamByName(D, "messageDigest"), _ = g.crypto.Util.hashHex(m, k);
      L.hex = _;
    }
  }, this._getAttrParamByName = function(p, v) {
    for (var m = p.sattrs.array, b = 0; b < m.length; b++)
      if (m[b].attr == v)
        return m[b];
  }, this._setSignerInfoVersion = function(p) {
    for (var v = p.sinfos, m = 0; m < v.length; m++) {
      var b = v[m], A = 1;
      b.id.type == "skid" && (A = 3), b.version = A;
    }
  }, this._setSignedDataVersion = function(p) {
    var v = this._getSignedDataVersion(p);
    p.version = v;
  }, this._getSignedDataVersion = function(p) {
    if (p.revinfos != null)
      for (var v = p.revinfos, m = 0; m < v.length; m++) {
        var b = v[m];
        if (b.ocsp != null)
          return 5;
      }
    for (var A = p.sinfos, m = 0; m < A.length; m++) {
      var D = p.sinfos[m];
      if (D.version == 3)
        return 3;
    }
    return p.econtent.type != "data" ? 3 : 1;
  }, this.tohex = function() {
    var p = this.params;
    this.getEncodedHexPrepare != null && this.getEncodedHexPrepare(), p.fixed != !0 && this.checkAndFixParam();
    var v = [];
    v.push(new n({ int: p.version }));
    for (var m = [], b = 0; b < p.hashalgs.length; b++) {
      var A = p.hashalgs[b];
      m.push(new d({ name: A }));
    }
    v.push(new i({ array: m })), v.push(new o(p.econtent)), p.certs != null && v.push(new l(p.certs)), p.revinfos != null && v.push(new h(p.revinfos));
    for (var D = [], b = 0; b < p.sinfos.length; b++) {
      var k = p.sinfos[b];
      D.push(new u(k));
    }
    v.push(new i({ array: D }));
    var L = new s({ array: v });
    return L.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, this.getContentInfo = function() {
    var p = new f({ type: "signed-data", obj: this });
    return p;
  }, this.getContentInfoEncodedHex = function() {
    return this.getContentInfo().tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.SignedData, g.asn1.ASN1Object);
g.asn1.cms.CertificateSet = function(e) {
  g.asn1.cms.CertificateSet.superclass.constructor.call(this);
  var t = Error, r = g.asn1, n = r.DERTaggedObject, i = r.DERSet, s = r.ASN1Object;
  this.params = null, this.tohex = function() {
    var a = this.params, o = [], u;
    if (a instanceof Array)
      u = a;
    else if (a.array != null)
      u = a.array;
    else
      throw new t("cert array not specified");
    for (var f = 0; f < u.length; f++) {
      var l = u[f], h = Ft(l), c = new s();
      c.hTLV = h, o.push(c);
    }
    var d = { array: o };
    a.sortflag == !1 && (d.sortflag = !1);
    var p = new i(d), v = new n({ tag: "a0", explicit: !1, obj: p });
    return v.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.CertificateSet, g.asn1.ASN1Object);
g.asn1.cms.RevocationInfoChoices = function(e) {
  g.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this), this.params = null, this.tohex = function() {
    var t = this.params;
    if (!t instanceof Array)
      throw new Error("params is not array");
    for (var r = [], n = 0; n < t.length; n++)
      r.push(new g.asn1.cms.RevocationInfoChoice(t[n]));
    var i = g.asn1.ASN1Util.newObject({ tag: { tagi: "a1", obj: { set: r } } });
    return i.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.RevocationInfoChoices, g.asn1.ASN1Object);
g.asn1.cms.RevocationInfoChoice = function(e) {
  g.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this), this.params = null, this.tohex = function() {
    var t = this.params;
    if (t.crl != null && typeof t.crl == "string") {
      var r = t.crl;
      return t.crl.indexOf("-----BEGIN") != -1 && (r = Ft(t.crl)), r;
    } else if (t.ocsp != null) {
      var n = g.asn1.ASN1Util.newObject({ tag: { tagi: "a1", obj: new g.asn1.cms.OtherRevocationFormat(t) } });
      return n.tohex();
    } else
      throw new Error("property crl or ocsp undefined");
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.RevocationInfoChoice, g.asn1.ASN1Object);
g.asn1.cms.OtherRevocationFormat = function(e) {
  g.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);
  var t = Error, r = g, n = r.asn1, i = n.ASN1Util.newObject, s = r.lang.String.isHex;
  this.params = null, this.tohex = function() {
    var a = this.params;
    if (a.ocsp == null)
      throw new t("property ocsp not specified");
    if (!s(a.ocsp) || !ye.isASN1HEX(a.ocsp))
      throw new t("ocsp value not ASN.1 hex string");
    var o = i({ seq: [{ oid: "1.3.6.1.5.5.7.16.2" }, { asn1: { tlv: a.ocsp } }] });
    return o.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.cms.OtherRevocationFormat, g.asn1.ASN1Object);
g.asn1.cms.CMSUtil = new function() {
}();
g.asn1.cms.CMSUtil.newSignedData = function(e) {
  return new g.asn1.cms.SignedData(e);
};
g.asn1.cms.CMSUtil.verifySignedData = function(e) {
  var t = g, r = t.asn1, n = r.cms;
  n.SignerInfo, n.SignedData, n.SigningTime, n.SigningCertificate, n.SigningCertificateV2;
  var i = r.cades;
  i.SignaturePolicyIdentifier;
  var s = t.lang.String.isHex, a = ye, o = a.getVbyList, u = a.getTLVbyList, f = a.getIdxbyList, l = a.getChildIdx, h = a.getTLV, c = a.oidname, d = t.crypto.Util.hashHex;
  e.cms === void 0 && s(e.cms);
  var p = e.cms, v = function(O, P) {
    for (var M, C = 3; C < 6; C++)
      if (M = f(O, 0, [1, 0, C]), M !== void 0) {
        var y = O.substr(M, 2);
        y === "a0" && (P.certsIdx = M), y === "a1" && (P.revinfosIdx = M), y === "31" && (P.signerinfosIdx = M);
      }
  }, m = function(O, P) {
    var M = P.signerinfosIdx;
    if (M !== void 0) {
      var C = l(O, M);
      P.signerInfoIdxList = C;
      for (var y = 0; y < C.length; y++) {
        var E = C[y], T = { idx: E };
        b(O, T), P.signerInfos.push(T);
      }
    }
  }, b = function(O, P) {
    var M = P.idx;
    P.signerid_issuer1 = u(O, M, [1, 0], "30"), P.signerid_serial1 = o(O, M, [1, 1], "02"), P.hashalg = c(o(O, M, [2, 0], "06"));
    var C = f(O, M, [3], "a0");
    P.idxSignedAttrs = C, A(O, P, C);
    var y = l(O, M), E = y.length;
    if (E < 6)
      throw "malformed SignerInfo";
    P.sigalg = c(o(O, M, [E - 2, 0], "06")), P.sigval = o(O, M, [E - 1], "04");
  }, A = function(O, P, M) {
    var C = l(O, M);
    P.signedAttrIdxList = C;
    for (var y = 0; y < C.length; y++) {
      var E = C[y], T = o(O, E, [0], "06"), R;
      T === "2a864886f70d010905" ? (R = Ze(o(O, E, [1, 0])), P.saSigningTime = R) : T === "2a864886f70d010904" && (R = o(O, E, [1, 0], "04"), P.saMessageDigest = R);
    }
  }, D = function(O, P) {
    if (o(O, 0, [0], "06") !== "2a864886f70d010702")
      return P;
    P.cmsType = "signedData", P.econtent = o(O, 0, [1, 0, 2, 1, 0]), v(O, P), P.signerInfos = [], m(O, P);
  }, k = function(O, P) {
    for (var M = P.parse.signerInfos, C = M.length, y = !0, E = 0; E < C; E++) {
      var T = M[E];
      _(O, P, T), T.isValid || (y = !1);
    }
    P.isValid = y;
  }, L = function(O, P, M, C) {
    var y = P.parse.certsIdx, E;
    if (P.certs === void 0) {
      E = [], P.certkeys = [];
      for (var T = l(O, y), R = 0; R < T.length; R++) {
        var N = h(O, T[R]), H = new Be();
        H.readCertHex(N), E[R] = H, P.certkeys[R] = H.getPublicKey();
      }
      P.certs = E;
    } else
      E = P.certs;
    P.cccc = E.length, P.cccci = T.length;
    for (var R = 0; R < E.length; R++) {
      var Z = H.getIssuerHex(), K = H.getSerialNumberHex();
      M.signerid_issuer1 === Z && M.signerid_serial1 === K && (M.certkey_idx = R);
    }
  }, _ = function(O, P, M, C) {
    M.verifyDetail = {};
    var y = M.verifyDetail, E = P.parse.econtent, T = M.hashalg, R = M.saMessageDigest;
    y.validMessageDigest = !1, d(E, T) === R && (y.validMessageDigest = !0), L(O, P, M), y.validSignatureValue = !1;
    var N = M.sigalg, H = "31" + h(O, M.idxSignedAttrs).substr(2);
    M.signedattrshex = H;
    var Z = P.certs[M.certkey_idx].getPublicKey(), K = new g.crypto.Signature({ alg: N });
    K.init(Z), K.updateHex(H);
    var x = K.verify(M.sigval);
    y.validSignatureValue_isValid = x, x === !0 && (y.validSignatureValue = !0), M.isValid = !1, y.validMessageDigest && y.validSignatureValue && (M.isValid = !0);
  }, F = { isValid: !1, parse: {} };
  return D(p, F.parse), k(p, F), F;
};
g.asn1.cms.CMSParser = function() {
  var e = Error, t = Be, r = new t(), n = ye, i = n.getV, s = n.getTLV;
  n.getIdxbyList;
  var a = n.getTLVbyList, o = n.getTLVbyListEx, u = n.getVbyList, f = n.getVbyListEx, l = n.getChildIdx;
  this.getCMSSignedData = function(h) {
    var c = a(h, 0, [1, 0]), d = this.getSignedData(c);
    return d;
  }, this.getSignedData = function(h) {
    var c = l(h, 0), d = {}, p = i(h, c[0]), v = parseInt(p, 16);
    d.version = v;
    var m = s(h, c[1]);
    d.hashalgs = this.getHashAlgArray(m);
    var b = s(h, c[2]);
    d.econtent = this.getEContent(b);
    var A = o(h, 0, ["[0]"]);
    A != null && (d.certs = this.getCertificateSet(A)), o(h, 0, ["[1]"]);
    var D = o(h, 0, [3]);
    return d.sinfos = this.getSignerInfos(D), d;
  }, this.getHashAlgArray = function(h) {
    for (var c = l(h, 0), d = new t(), p = [], v = 0; v < c.length; v++) {
      var m = s(h, c[v]), b = d.getAlgorithmIdentifierName(m);
      p.push(b);
    }
    return p;
  }, this.getEContent = function(h) {
    var c = {}, d = u(h, 0, [0]), p = u(h, 0, [1, 0]);
    return c.type = g.asn1.x509.OID.oid2name(ye.hextooidstr(d)), c.content = { hex: p }, c;
  }, this.getSignerInfos = function(h) {
    for (var c = [], d = l(h, 0), p = 0; p < d.length; p++) {
      var v = s(h, d[p]), m = this.getSignerInfo(v);
      c.push(m);
    }
    return c;
  }, this.getSignerInfo = function(h) {
    var c = {}, d = l(h, 0), p = n.getInt(h, d[0], -1);
    p != -1 && (c.version = p);
    var v = s(h, d[1]), m = this.getIssuerAndSerialNumber(v);
    c.id = m;
    var b = s(h, d[2]), A = r.getAlgorithmIdentifierName(b);
    c.hashalg = A;
    var D = o(h, 0, ["[0]"]);
    if (D != null) {
      var k = this.getAttributeList(D);
      c.sattrs = k;
    }
    var L = o(h, 0, [3]), _ = r.getAlgorithmIdentifierName(L);
    c.sigalg = _;
    var F = f(h, 0, [4]);
    c.sighex = F;
    var O = o(h, 0, ["[1]"]);
    if (O != null) {
      var P = this.getAttributeList(O);
      c.uattrs = P;
    }
    return c;
  }, this.getSignerIdentifier = function(h) {
    if (h.substr(0, 2) == "30")
      return this.getIssuerAndSerialNumber(h);
    throw new Error("SKID of signerIdentifier not supported");
  }, this.getIssuerAndSerialNumber = function(h) {
    var c = { type: "isssn" }, d = l(h, 0), p = s(h, d[0]);
    c.issuer = r.getX500Name(p);
    var v = i(h, d[1]);
    return c.serial = { hex: v }, c;
  }, this.getAttributeList = function(h) {
    for (var c = [], d = l(h, 0), p = 0; p < d.length; p++) {
      var v = s(h, d[p]), m = this.getAttribute(v);
      c.push(m);
    }
    return { array: c };
  }, this.getAttribute = function(h) {
    var c = {}, d = l(h, 0), p = n.getOID(h, d[0]), v = g.asn1.x509.OID.oid2name(p);
    c.attr = v;
    var m = s(h, d[1]), b = l(m, 0);
    if (b.length == 1)
      c.valhex = s(m, b[0]);
    else {
      for (var A = [], D = 0; D < b.length; D++)
        A.push(s(m, b[D]));
      c.valhex = A;
    }
    return v == "contentType" ? this.setContentType(c) : v == "messageDigest" ? this.setMessageDigest(c) : v == "signingTime" ? this.setSigningTime(c) : v == "signingCertificate" ? this.setSigningCertificate(c) : v == "signingCertificateV2" ? this.setSigningCertificateV2(c) : v == "signaturePolicyIdentifier" && this.setSignaturePolicyIdentifier(c), c;
  }, this.setContentType = function(h) {
    var c = n.getOIDName(h.valhex, 0, null);
    c != null && (h.type = c, delete h.valhex);
  }, this.setSigningTime = function(h) {
    var c = i(h.valhex, 0), d = Ze(c);
    h.str = d, delete h.valhex;
  }, this.setMessageDigest = function(h) {
    var c = i(h.valhex, 0);
    h.hex = c, delete h.valhex;
  }, this.setSigningCertificate = function(h) {
    var c = l(h.valhex, 0);
    if (c.length > 0) {
      for (var d = s(h.valhex, c[0]), p = l(d, 0), v = [], m = 0; m < p.length; m++) {
        var b = s(d, p[m]), A = this.getESSCertID(b);
        v.push(A);
      }
      h.array = v;
    }
    if (c.length > 1) {
      var D = s(h.valhex, c[1]);
      h.polhex = D;
    }
    delete h.valhex;
  }, this.setSignaturePolicyIdentifier = function(h) {
    var c = l(h.valhex, 0);
    if (c.length > 0) {
      var d = n.getOID(h.valhex, c[0]);
      h.oid = d;
    }
    if (c.length > 1) {
      var p = new t(), v = l(h.valhex, c[1]), m = s(h.valhex, v[0]), b = p.getAlgorithmIdentifierName(m);
      h.alg = b;
      var A = i(h.valhex, v[1]);
      h.hash = A;
    }
    delete h.valhex;
  }, this.setSigningCertificateV2 = function(h) {
    var c = l(h.valhex, 0);
    if (c.length > 0) {
      for (var d = s(h.valhex, c[0]), p = l(d, 0), v = [], m = 0; m < p.length; m++) {
        var b = s(d, p[m]), A = this.getESSCertIDv2(b);
        v.push(A);
      }
      h.array = v;
    }
    if (c.length > 1) {
      var D = s(h.valhex, c[1]);
      h.polhex = D;
    }
    delete h.valhex;
  }, this.getESSCertID = function(h) {
    var c = {}, d = l(h, 0);
    if (d.length > 0) {
      var p = i(h, d[0]);
      c.hash = p;
    }
    if (d.length > 1) {
      var v = s(h, d[1]), m = this.getIssuerSerial(v);
      m.serial != null && (c.serial = m.serial), m.issuer != null && (c.issuer = m.issuer);
    }
    return c;
  }, this.getESSCertIDv2 = function(h) {
    var c = {}, d = l(h, 0);
    if (d.length < 1 || 3 < d.length)
      throw new e("wrong number of elements");
    var p = 0;
    if (h.substr(d[0], 2) == "30") {
      var v = s(h, d[0]);
      c.alg = r.getAlgorithmIdentifierName(v), p++;
    } else
      c.alg = "sha256";
    var m = i(h, d[p]);
    if (c.hash = m, d.length > p + 1) {
      var b = s(h, d[p + 1]), A = this.getIssuerSerial(b);
      c.issuer = A.issuer, c.serial = A.serial;
    }
    return c;
  }, this.getIssuerSerial = function(h) {
    var c = {}, d = l(h, 0), p = s(h, d[0]), v = r.getGeneralNames(p), m = v[0].dn;
    c.issuer = m;
    var b = i(h, d[1]);
    return c.serial = { hex: b }, c;
  }, this.getCertificateSet = function(h) {
    for (var c = l(h, 0), d = [], p = 0; p < c.length; p++) {
      var v = s(h, c[p]);
      if (v.substr(0, 2) == "30") {
        var m = jt(v, "CERTIFICATE");
        d.push(m);
      }
    }
    return { array: d, sortflag: !1 };
  };
};
(typeof g > "u" || !g) && (g = {});
(typeof g.asn1 > "u" || !g.asn1) && (g.asn1 = {});
(typeof g.asn1.tsp > "u" || !g.asn1.tsp) && (g.asn1.tsp = {});
g.asn1.tsp.TimeStampToken = function(e) {
  var t = g, r = t.asn1, n = r.tsp;
  n.TimeStampToken.superclass.constructor.call(this), this.params = null, this.getEncodedHexPrepare = function() {
    var i = new n.TSTInfo(this.params.econtent.content);
    this.params.econtent.content.hex = i.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.tsp.TimeStampToken, g.asn1.cms.SignedData);
g.asn1.tsp.TSTInfo = function(e) {
  var t = g, r = t.asn1, n = r.DERSequence, i = r.DERInteger, s = r.DERBoolean, a = r.DERGeneralizedTime, o = r.DERObjectIdentifier, u = r.DERTaggedObject, f = r.tsp, l = f.MessageImprint, h = f.Accuracy;
  r.x509.X500Name;
  var c = r.x509.GeneralName;
  if (f.TSTInfo.superclass.constructor.call(this), this.dVersion = new i({ int: 1 }), this.dPolicy = null, this.dMessageImprint = null, this.dSerial = null, this.dGenTime = null, this.dAccuracy = null, this.dOrdering = null, this.dNonce = null, this.dTsa = null, this.tohex = function() {
    var d = [this.dVersion];
    if (this.dPolicy == null)
      throw new Error("policy shall be specified.");
    if (d.push(this.dPolicy), this.dMessageImprint == null)
      throw new Error("messageImprint shall be specified.");
    if (d.push(this.dMessageImprint), this.dSerial == null)
      throw new Error("serialNumber shall be specified.");
    if (d.push(this.dSerial), this.dGenTime == null)
      throw new Error("genTime shall be specified.");
    d.push(this.dGenTime), this.dAccuracy != null && d.push(this.dAccuracy), this.dOrdering != null && d.push(this.dOrdering), this.dNonce != null && d.push(this.dNonce), this.dTsa != null && d.push(this.dTsa);
    var p = new n({ array: d });
    return this.hTLV = p.tohex(), this.hTLV;
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0) {
    if (typeof e.policy == "string") {
      if (!e.policy.match(/^[0-9.]+$/))
        throw "policy shall be oid like 0.1.4.134";
      this.dPolicy = new o({ oid: e.policy });
    }
    e.messageImprint !== void 0 && (this.dMessageImprint = new l(e.messageImprint)), e.serial !== void 0 && (this.dSerial = new i(e.serial)), e.genTime !== void 0 && (this.dGenTime = new a(e.genTime)), e.accuracy !== void 0 && (this.dAccuracy = new h(e.accuracy)), e.ordering !== void 0 && e.ordering == !0 && (this.dOrdering = new s()), e.nonce !== void 0 && (this.dNonce = new i(e.nonce)), e.tsa !== void 0 && (this.dTsa = new u({ tag: "a0", explicit: !0, obj: new c({ dn: e.tsa }) }));
  }
};
he(g.asn1.tsp.TSTInfo, g.asn1.ASN1Object);
g.asn1.tsp.Accuracy = function(e) {
  var t = g, r = t.asn1, n = r.ASN1Util.newObject;
  r.tsp.Accuracy.superclass.constructor.call(this), this.params = null, this.tohex = function() {
    var i = this.params, s = [];
    return i.seconds != null && typeof i.seconds == "number" && s.push({ int: i.seconds }), i.millis != null && typeof i.millis == "number" && s.push({ tag: { tagi: "80", obj: { int: i.millis } } }), i.micros != null && typeof i.micros == "number" && s.push({ tag: { tagi: "81", obj: { int: i.micros } } }), n({ seq: s }).tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.tsp.Accuracy, g.asn1.ASN1Object);
g.asn1.tsp.MessageImprint = function(e) {
  var t = g, r = t.asn1, n = r.DERSequence, i = r.DEROctetString, s = r.x509, a = s.AlgorithmIdentifier;
  r.tsp.MessageImprint.superclass.constructor.call(this), this.params = null, this.tohex = function() {
    var o = this.params, u = new a({ name: o.alg }), f = new i({ hex: o.hash }), l = new n({ array: [u, f] });
    return l.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.tsp.MessageImprint, g.asn1.ASN1Object);
g.asn1.tsp.TimeStampReq = function(e) {
  var t = g, r = t.asn1, n = r.DERSequence, i = r.DERInteger, s = r.DERBoolean;
  r.ASN1Object;
  var a = r.DERObjectIdentifier, o = r.tsp, u = o.MessageImprint;
  o.TimeStampReq.superclass.constructor.call(this), this.params = null, this.tohex = function() {
    var f = this.params, l = [];
    l.push(new i({ int: 1 })), f.messageImprint instanceof g.asn1.ASN1Object ? l.push(f.messageImprint) : l.push(new u(f.messageImprint)), f.policy != null && l.push(new a(f.policy)), f.nonce != null && l.push(new i(f.nonce)), f.certreq == !0 && l.push(new s());
    var h = new n({ array: l });
    return h.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.tsp.TimeStampReq, g.asn1.ASN1Object);
g.asn1.tsp.TimeStampResp = function(e) {
  var t = g, r = t.asn1, n = r.DERSequence;
  r.ASN1Object;
  var i = r.tsp, s = i.PKIStatusInfo;
  i.TimeStampResp.superclass.constructor.call(this), this.params = null, this.tohex = function() {
    var a = this.params, o = [];
    if (a.econtent != null || a.tst != null)
      if (a.statusinfo != null ? o.push(new s(a.statusinfo)) : o.push(new s("granted")), a.econtent != null)
        o.push(new i.TimeStampToken(a).getContentInfo());
      else if (a.tst instanceof r.ASN1Object)
        o.push(a.tst);
      else
        throw new Error("improper member tst value");
    else if (a.statusinfo != null)
      o.push(new s(a.statusinfo));
    else
      throw new Error("parameter for token nor statusinfo not specified");
    var u = new n({ array: o });
    return u.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.tsp.TimeStampResp, g.asn1.ASN1Object);
g.asn1.tsp.PKIStatusInfo = function(e) {
  var t = Error, r = g, n = r.asn1, i = n.DERSequence, s = n.tsp, a = s.PKIStatus, o = s.PKIFreeText, u = s.PKIFailureInfo;
  s.PKIStatusInfo.superclass.constructor.call(this), this.params = null, this.tohex = function() {
    var f = this.params, l = [];
    if (typeof f == "string")
      l.push(new a(f));
    else {
      if (f.status == null)
        throw new t("property 'status' unspecified");
      l.push(new a(f.status)), f.statusstr != null && l.push(new o(f.statusstr)), f.failinfo != null && l.push(new u(f.failinfo));
    }
    var h = new i({ array: l });
    return h.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.tsp.PKIStatusInfo, g.asn1.ASN1Object);
g.asn1.tsp.PKIStatus = function(e) {
  var t = Error, r = g, n = r.asn1, i = n.DERInteger, s = n.tsp;
  s.PKIStatus.superclass.constructor.call(this);
  var a = { granted: 0, grantedWithMods: 1, rejection: 2, waiting: 3, revocationWarning: 4, revocationNotification: 5 };
  this.params = null, this.tohex = function() {
    var o = this.params, u;
    if (typeof o == "string")
      try {
        u = a[o];
      } catch {
        throw new t("undefined name: " + o);
      }
    else if (typeof o == "number")
      u = o;
    else
      throw new t("unsupported params");
    return new i({ int: u }).tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.tsp.PKIStatus, g.asn1.ASN1Object);
g.asn1.tsp.PKIFreeText = function(e) {
  var t = Error, r = g, n = r.asn1, i = n.DERSequence, s = n.DERUTF8String, a = n.tsp;
  a.PKIFreeText.superclass.constructor.call(this), this.params = null, this.tohex = function() {
    var o = this.params;
    if (!o instanceof Array)
      throw new t("wrong params: not array");
    for (var u = [], f = 0; f < o.length; f++)
      u.push(new s({ str: o[f] }));
    var l = new i({ array: u });
    return l.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.tsp.PKIFreeText, g.asn1.ASN1Object);
g.asn1.tsp.PKIFailureInfo = function(e) {
  var t = Error, r = g, n = r.asn1, i = n.DERBitString, s = n.tsp, a = s.PKIFailureInfo, o = { badAlg: 0, badRequest: 2, badDataFormat: 5, timeNotAvailable: 14, unacceptedPolicy: 15, unacceptedExtension: 16, addInfoNotAvailable: 17, systemFailure: 25 };
  a.superclass.constructor.call(this), this.params = null, this.getBinValue = function() {
    var u = this.params, f = 0;
    if (typeof u == "number" && 0 <= u && u <= 25) {
      f |= 1 << u;
      for (var l = f.toString(2), h = "", c = l.length - 1; c >= 0; c--)
        h += l[c];
      return h;
    } else {
      if (typeof u == "string" && o[u] != null)
        return af([u], o);
      if (typeof u == "object" && u.length != null)
        return af(u, o);
      throw new t("wrong params");
    }
  }, this.tohex = function() {
    this.params;
    var u = this.getBinValue();
    return new i({ bin: u }).tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.tsp.PKIFailureInfo, g.asn1.ASN1Object);
g.asn1.tsp.AbstractTSAAdapter = function(e) {
  this.getTSTHex = function(t, r) {
    throw "not implemented yet";
  };
};
g.asn1.tsp.SimpleTSAAdapter = function(e) {
  var t = g, r = t.asn1, n = r.tsp, i = t.crypto.Util.hashHex;
  n.SimpleTSAAdapter.superclass.constructor.call(this), this.params = null, this.serial = 0, this.getTSTHex = function(s, a) {
    var o = i(s, a);
    this.params.econtent.content.messageImprint = { alg: a, hash: o }, this.params.econtent.content.serial = { int: this.serial++ };
    var u = Math.floor(Math.random() * 1e9);
    this.params.econtent.content.nonce = { int: u };
    var f = new n.TimeStampToken(this.params);
    return f.getContentInfoEncodedHex();
  }, e !== void 0 && (this.params = e);
};
he(g.asn1.tsp.SimpleTSAAdapter, g.asn1.tsp.AbstractTSAAdapter);
g.asn1.tsp.FixedTSAAdapter = function(e) {
  var t = g, r = t.asn1, n = r.tsp, i = t.crypto.Util.hashHex;
  n.FixedTSAAdapter.superclass.constructor.call(this), this.params = null, this.getTSTHex = function(s, a) {
    var o = i(s, a);
    this.params.econtent.content.messageImprint = { alg: a, hash: o };
    var u = new n.TimeStampToken(this.params);
    return u.getContentInfoEncodedHex();
  }, e !== void 0 && (this.params = e);
};
he(g.asn1.tsp.FixedTSAAdapter, g.asn1.tsp.AbstractTSAAdapter);
g.asn1.tsp.TSPUtil = new function() {
}();
g.asn1.tsp.TSPUtil.newTimeStampToken = function(e) {
  return new g.asn1.tsp.TimeStampToken(e);
};
g.asn1.tsp.TSPUtil.parseTimeStampReq = function(e) {
  var t = new g.asn1.tsp.TSPParser();
  return t.getTimeStampReq(e);
};
g.asn1.tsp.TSPUtil.parseMessageImprint = function(e) {
  var t = new g.asn1.tsp.TSPParser();
  return t.getMessageImprint(e);
};
g.asn1.tsp.TSPParser = function() {
  var e = Be, t = new e(), r = ye, n = r.getV, i = r.getTLV, s = r.getIdxbyList;
  r.getTLVbyListEx;
  var a = r.getChildIdx, o = ["granted", "grantedWithMods", "rejection", "waiting", "revocationWarning", "revocationNotification"], u = { 0: "badAlg", 2: "badRequest", 5: "badDataFormat", 14: "timeNotAvailable", 15: "unacceptedPolicy", 16: "unacceptedExtension", 17: "addInfoNotAvailable", 25: "systemFailure" };
  this.getResponse = function(f) {
    var l = a(f, 0);
    if (l.length == 1)
      return this.getPKIStatusInfo(i(f, l[0]));
    if (l.length > 1) {
      var h = this.getPKIStatusInfo(i(f, l[0])), c = i(f, l[1]), d = this.getToken(c);
      return d.statusinfo = h, d;
    }
  }, this.getToken = function(f) {
    var l = new g.asn1.cms.CMSParser(), h = l.getCMSSignedData(f);
    return this.setTSTInfo(h), h;
  }, this.setTSTInfo = function(f) {
    var l = f.econtent;
    if (l.type == "tstinfo") {
      var h = l.content.hex, c = this.getTSTInfo(h);
      l.content = c;
    }
  }, this.getTSTInfo = function(f) {
    var l = {}, h = a(f, 0), c = n(f, h[1]);
    l.policy = Sc(c);
    var d = i(f, h[2]);
    l.messageImprint = this.getMessageImprint(d);
    var p = n(f, h[3]);
    l.serial = { hex: p };
    var v = n(f, h[4]);
    l.genTime = { str: Ze(v) };
    var m = 0;
    if (h.length > 5 && f.substr(h[5], 2) == "30") {
      var b = i(f, h[5]);
      l.accuracy = this.getAccuracy(b), m++;
    }
    if (h.length > 5 + m && f.substr(h[5 + m], 2) == "01") {
      var A = n(f, h[5 + m]);
      A == "ff" && (l.ordering = !0), m++;
    }
    if (h.length > 5 + m && f.substr(h[5 + m], 2) == "02") {
      var D = n(f, h[5 + m]);
      l.nonce = { hex: D }, m++;
    }
    if (h.length > 5 + m && f.substr(h[5 + m], 2) == "a0") {
      var k = i(f, h[5 + m]);
      k = "30" + k.substr(2), pGeneralNames = t.getGeneralNames(k);
      var L = pGeneralNames[0].dn;
      l.tsa = L, m++;
    }
    if (h.length > 5 + m && f.substr(h[5 + m], 2) == "a1") {
      var _ = i(f, h[5 + m]);
      _ = "30" + _.substr(2);
      var F = t.getExtParamArray(_);
      l.ext = F, m++;
    }
    return l;
  }, this.getAccuracy = function(f) {
    for (var l = {}, h = a(f, 0), c = 0; c < h.length; c++) {
      var d = f.substr(h[c], 2), p = n(f, h[c]), v = parseInt(p, 16);
      d == "02" ? l.seconds = v : d == "80" ? l.millis = v : d == "81" && (l.micros = v);
    }
    return l;
  }, this.getMessageImprint = function(f) {
    if (f.substr(0, 2) != "30")
      throw new Error("head of messageImprint hex shall be x30");
    var l = {};
    a(f, 0);
    var h = s(f, 0, [0, 0]), c = n(f, h), d = r.hextooidstr(c), p = g.asn1.x509.OID.oid2name(d);
    if (p == "")
      throw new Error("hashAlg name undefined: " + d);
    var v = p, m = s(f, 0, [1]);
    return l.alg = v, l.hash = n(f, m), l;
  }, this.getPKIStatusInfo = function(f) {
    var l = {}, h = a(f, 0), c = 0;
    try {
      var d = n(f, h[0]), p = parseInt(d, 16);
      l.status = o[p];
    } catch {
    }
    if (h.length > 1 && f.substr(h[1], 2) == "30") {
      var v = i(f, h[1]);
      l.statusstr = this.getPKIFreeText(v), c++;
    }
    if (h.length > c && f.substr(h[1 + c], 2) == "03") {
      var m = i(f, h[1 + c]);
      l.failinfo = this.getPKIFailureInfo(m);
    }
    return l;
  }, this.getPKIFreeText = function(f) {
    for (var l = [], h = a(f, 0), c = 0; c < h.length; c++)
      l.push(r.getString(f, h[c]));
    return l;
  }, this.getPKIFailureInfo = function(f) {
    var l = r.getInt(f, 0);
    return u[l] != null ? u[l] : l;
  }, this.getTimeStampReq = function(f) {
    var l = {};
    l.certreq = !1;
    var h = a(f, 0);
    if (h.length < 2)
      throw new Error("TimeStampReq must have at least 2 items");
    var c = i(f, h[1]);
    l.messageImprint = g.asn1.tsp.TSPUtil.parseMessageImprint(c);
    for (var d = 2; d < h.length; d++) {
      var p = h[d], v = f.substr(p, 2);
      if (v == "06") {
        var m = n(f, p);
        l.policy = r.hextooidstr(m);
      }
      v == "02" && (l.nonce = n(f, p)), v == "01" && (l.certreq = !0);
    }
    return l;
  };
};
(typeof g > "u" || !g) && (g = {});
(typeof g.asn1 > "u" || !g.asn1) && (g.asn1 = {});
(typeof g.asn1.cades > "u" || !g.asn1.cades) && (g.asn1.cades = {});
g.asn1.cades.SignaturePolicyIdentifier = function(e) {
  var t = g, r = t.asn1, n = r.cades, i = n.SignaturePolicyId;
  n.SignaturePolicyIdentifier.superclass.constructor.call(this), this.typeOid = "1.2.840.113549.1.9.16.2.15", this.params = null, this.getValueArray = function() {
    return [new i(this.params)];
  }, this.setByParam = function(s) {
    this.params = s;
  }, e != null && this.setByParam(e);
};
he(g.asn1.cades.SignaturePolicyIdentifier, g.asn1.cms.Attribute);
g.asn1.cades.SignaturePolicyId = function(e) {
  var t = g, r = t.asn1, n = r.DERSequence, i = r.DERObjectIdentifier, s = r.x509;
  s.AlgorithmIdentifier;
  var a = r.cades, o = a.SignaturePolicyId, u = a.OtherHashAlgAndValue;
  o.superclass.constructor.call(this), this.params = null, this.tohex = function() {
    var f = this.params, l = [];
    l.push(new i(f.oid)), l.push(new u(f));
    var h = new n({ array: l });
    return h.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, this.setByParam = function(f) {
    this.params = f;
  }, e != null && this.setByParam(e);
};
he(g.asn1.cades.SignaturePolicyId, g.asn1.ASN1Object);
g.asn1.cades.OtherHashAlgAndValue = function(e) {
  var t = Error, r = g, n = r.asn1, i = n.DERSequence, s = n.DEROctetString, a = n.x509, o = a.AlgorithmIdentifier, u = n.cades, f = u.OtherHashAlgAndValue;
  f.superclass.constructor.call(this), this.params = null, this.tohex = function() {
    var l = this.params;
    if (l.alg == null)
      throw new t("property 'alg' not specified");
    if (l.hash == null && l.cert == null)
      throw new t("property 'hash' nor 'cert' not specified");
    var h = null;
    if (l.hash != null)
      h = l.hash;
    else if (l.cert != null) {
      if (typeof l.cert != "string")
        throw new t("cert not string");
      var c = l.cert;
      l.cert.indexOf("-----BEGIN") != -1 && (c = Ft(l.cert)), h = g.crypto.Util.hashHex(c, l.alg);
    }
    var d = [];
    d.push(new o({ name: l.alg })), d.push(new s({ hex: h }));
    var p = new i({ array: d });
    return p.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.cades.OtherHashAlgAndValue, g.asn1.ASN1Object);
g.asn1.cades.OtherHashValue = function(e) {
  g.asn1.cades.OtherHashValue.superclass.constructor.call(this);
  var t = Error, r = g;
  r.lang.String.isHex;
  var n = r.asn1, i = n.DEROctetString;
  r.crypto.Util.hashHex, this.params = null, this.tohex = function() {
    var s = this.params;
    if (s.hash == null && s.cert == null)
      throw new t("hash or cert not specified");
    var a = null;
    if (s.hash != null)
      a = s.hash;
    else if (s.cert != null) {
      if (typeof s.cert != "string")
        throw new t("cert not string");
      var o = s.cert;
      s.cert.indexOf("-----BEGIN") != -1 && (o = Ft(s.cert)), a = g.crypto.Util.hashHex(o, "sha1");
    }
    return new i({ hex: a }).tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.cades.OtherHashValue, g.asn1.ASN1Object);
g.asn1.cades.SignatureTimeStamp = function(e) {
  var t = Error, r = g, n = r.lang.String.isHex, i = r.asn1, s = i.ASN1Object;
  i.x509;
  var a = i.cades;
  a.SignatureTimeStamp.superclass.constructor.call(this), this.typeOid = "1.2.840.113549.1.9.16.2.14", this.params = null, this.getValueArray = function() {
    var o = this.params;
    if (o.tst != null)
      if (n(o.tst)) {
        var u = new s();
        return u.hTLV = o.tst, [u];
      } else {
        if (o.tst instanceof s)
          return [o.tst];
        throw new t("params.tst has wrong value");
      }
    else if (o.res != null) {
      var f = o.res;
      if (f instanceof s && (f = f.tohex()), typeof f != "string" || !n(f))
        throw new t("params.res has wrong value");
      ye.getTLVbyList(f, 0, [1]);
      var u = new s();
      return u.hTLV = o.tst, [u];
    }
  }, e != null && this.setByParam(e);
};
he(g.asn1.cades.SignatureTimeStamp, g.asn1.cms.Attribute);
g.asn1.cades.CompleteCertificateRefs = function(e) {
  var t = Error, r = g, n = r.asn1, i = n.DERSequence, s = n.cades, a = s.OtherCertID, o = r.lang.String.isHex;
  s.CompleteCertificateRefs.superclass.constructor.call(this), this.typeOid = "1.2.840.113549.1.9.16.2.21", this.params = null, this.getValueArray = function() {
    for (var u = this.params, f = [], l = 0; l < u.array.length; l++) {
      var h = u.array[l];
      if (typeof h == "string")
        if (h.indexOf("-----BEGIN") != -1)
          h = { cert: h };
        else if (o(h))
          h = { hash: h };
        else
          throw new t("unsupported value: " + h);
      u.alg != null && h.alg == null && (h.alg = u.alg), u.hasis != null && h.hasis == null && (h.hasis = u.hasis);
      var c = new a(h);
      f.push(c);
    }
    var d = new i({ array: f });
    return [d];
  }, e != null && this.setByParam(e);
};
he(g.asn1.cades.CompleteCertificateRefs, g.asn1.cms.Attribute);
g.asn1.cades.OtherCertID = function(e) {
  var t = g, r = t.asn1, n = r.DERSequence, i = r.cms, s = i.IssuerSerial, a = r.cades, o = a.OtherHashValue, u = a.OtherHashAlgAndValue;
  a.OtherCertID.superclass.constructor.call(this), this.params = e, this.tohex = function() {
    var f = this.params;
    typeof f == "string" && (f.indexOf("-----BEGIN") != -1 ? f = { cert: f } : _isHex(f) && (f = { hash: f }));
    var l = [], h = null;
    if (f.alg != null ? h = new u(f) : h = new o(f), l.push(h), f.cert != null && f.hasis == !0 || f.issuer != null && f.serial != null) {
      var c = new s(f);
      l.push(c);
    }
    var d = new n({ array: l });
    return d.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.cades.OtherCertID, g.asn1.ASN1Object);
g.asn1.cades.OtherHash = function(e) {
  var t = g, r = t.asn1;
  r.cms;
  var n = r.cades, i = n.OtherHashAlgAndValue, s = n.OtherHashValue;
  t.crypto.Util.hashHex;
  var a = t.lang.String.isHex;
  n.OtherHash.superclass.constructor.call(this), this.params = null, this.tohex = function() {
    var o = this.params;
    typeof o == "string" && (o.indexOf("-----BEGIN") != -1 ? o = { cert: o } : a(o) && (o = { hash: o }));
    var u = null;
    return o.alg != null ? u = new i(o) : u = new s(o), u.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e != null && this.setByParam(e);
};
he(g.asn1.cades.OtherHash, g.asn1.ASN1Object);
g.asn1.cades.CAdESUtil = new function() {
}();
g.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned = function(e) {
  var t = new g.asn1.cms.CMSParser(), r = t.getCMSSignedData(e);
  return r;
};
g.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned = function(e, t, r) {
  var n = ye, i = n.getChildIdx, s = n.getTLV, a = n.getV, o = g, u = o.asn1, f = u.ASN1Object, l = u.cms, h = l.AttributeList, c = l.SignerInfo, d = {}, p = i(e, t);
  if (p.length != 6)
    throw "not supported items for SignerInfo (!=6)";
  var v = p.shift();
  d.version = s(e, v);
  var m = p.shift();
  d.si = s(e, m);
  var b = p.shift();
  d.digalg = s(e, b);
  var A = p.shift();
  d.sattrs = s(e, A);
  var D = p.shift();
  d.sigalg = s(e, D);
  var k = p.shift();
  d.sig = s(e, k), d.sigval = a(e, k);
  var L = null;
  return d.obj = new c(), L = new f(), L.hTLV = d.version, d.obj.dCMSVersion = L, L = new f(), L.hTLV = d.si, d.obj.dSignerIdentifier = L, L = new f(), L.hTLV = d.digalg, d.obj.dDigestAlgorithm = L, L = new f(), L.hTLV = d.sattrs, d.obj.dSignedAttrs = L, L = new f(), L.hTLV = d.sigalg, d.obj.dSigAlg = L, L = new f(), L.hTLV = d.sig, d.obj.dSig = L, d.obj.dUnsignedAttrs = new h(), d;
};
(typeof g.asn1.csr > "u" || !g.asn1.csr) && (g.asn1.csr = {});
g.asn1.csr.CertificationRequest = function(e) {
  var t = g, r = t.asn1, n = r.DERBitString, i = r.DERSequence, s = r.csr;
  r.x509;
  var a = s.CertificationRequestInfo;
  s.CertificationRequest.superclass.constructor.call(this), this.setByParam = function(o) {
    this.params = o;
  }, this.sign = function() {
    var o = new a(this.params).tohex(), u = new g.crypto.Signature({ alg: this.params.sigalg });
    u.init(this.params.sbjprvkey), u.updateHex(o);
    var f = u.sign();
    this.params.sighex = f;
  }, this.getPEM = function() {
    return jt(this.tohex(), "CERTIFICATE REQUEST");
  }, this.tohex = function() {
    var o = this.params, u = new g.asn1.csr.CertificationRequestInfo(this.params), f = new g.asn1.x509.AlgorithmIdentifier({ name: o.sigalg });
    if (o.sighex == null && o.sbjprvkey != null && this.sign(), o.sighex == null)
      throw new Error("sighex or sbjprvkey parameter not defined");
    var l = new n({ hex: "00" + o.sighex }), h = new i({ array: [u, f, l] });
    return h.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.csr.CertificationRequest, g.asn1.ASN1Object);
g.asn1.csr.CertificationRequestInfo = function(e) {
  var t = g, r = t.asn1;
  r.DERBitString;
  var n = r.DERSequence, i = r.DERInteger, s = r.DERUTF8String, a = r.DERTaggedObject, o = r.ASN1Util.newObject, u = r.csr, f = r.x509, l = f.X500Name, h = f.Extensions, c = f.SubjectPublicKeyInfo;
  u.AttributeList, u.CertificationRequestInfo.superclass.constructor.call(this), this.params = null, this.setByParam = function(p) {
    p != null && (this.params = p);
  }, this.tohex = function() {
    var p = this.params, v = [];
    if (v.push(new i({ int: 0 })), v.push(new l(p.subject)), v.push(new c($e.getKey(p.sbjpubkey))), p.attrs != null) {
      var m = d(p.attrs), b = o({ tag: { tage: "a0", obj: m } });
      v.push(b);
    } else if (p.extreq != null) {
      var A = new h(p.extreq), b = o({ tag: { tage: "a0", obj: { seq: [{ oid: "1.2.840.113549.1.9.14" }, { set: [A] }] } } });
      v.push(b);
    } else
      v.push(new a({ tag: "a0", explicit: !1, obj: new s({ str: "" }) }));
    var D = new n({ array: v });
    return D.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  };
  function d(p) {
    for (var v = Error, m = g.asn1.x509.Extensions, b = [], A = 0; A < p.length; A++) {
      var D = p[A], k = D.attr;
      if (k == "extensionRequest") {
        var L = new m(D.ext), _ = { seq: [{ oid: "1.2.840.113549.1.9.14" }, { set: [L] }] };
        b.push(_);
      } else if (k == "unstructuredName") {
        var _ = { seq: [{ oid: "1.2.840.113549.1.9.2" }, { set: D.names }] };
        b.push(_);
      } else if (k == "challengePassword") {
        var _ = { seq: [{ oid: "1.2.840.113549.1.9.7" }, { set: [{ utf8str: D.password }] }] };
        b.push(_);
      } else
        throw new v("unknown CSR attribute");
    }
    return { set: b };
  }
  e != null && this.setByParam(e);
};
he(g.asn1.csr.CertificationRequestInfo, g.asn1.ASN1Object);
g.asn1.csr.AttributeList = function(e) {
};
he(g.asn1.csr.AttributeList, g.asn1.ASN1Object);
g.asn1.csr.CSRUtil = new function() {
}();
g.asn1.csr.CSRUtil.newCSRPEM = function(e) {
  var t = g.asn1.csr, r = new t.CertificationRequest(e), n = r.getPEM();
  return n;
};
g.asn1.csr.CSRUtil.getParam = function(e, t) {
  var r = ye, n = r.getV, i = r.getIdxbyList, s = r.getTLVbyList, a = r.getTLVbyListEx, o = r.getVbyListEx, u = function(A) {
    var D = i(A, 0, [0, 3, 0, 0], "06");
    return n(A, D) != "2a864886f70d01090e" ? null : s(A, 0, [0, 3, 0, 1, 0], "30");
  }, f = {};
  if (e.indexOf("-----BEGIN CERTIFICATE REQUEST") == -1)
    throw new Error("argument is not PEM file");
  var l = Ft(e, "CERTIFICATE REQUEST");
  t && (f.tbs = s(l, 0, [0]));
  try {
    var h = a(l, 0, [0, 1]);
    if (h == "3000")
      f.subject = {};
    else {
      var v = new Be();
      f.subject = v.getX500Name(h);
    }
  } catch {
  }
  var c = a(l, 0, [0, 2]), d = $e.getKey(c, null, "pkcs8pub");
  f.sbjpubkey = $e.getPEM(d, "PKCS8PUB");
  var p = u(l), v = new Be();
  p != null && (f.extreq = v.getExtParamArray(p));
  try {
    var m = a(l, 0, [1], "30"), v = new Be();
    f.sigalg = v.getAlgorithmIdentifierName(m);
  } catch {
  }
  try {
    var b = o(l, 0, [2]);
    f.sighex = b;
  } catch {
  }
  return f;
};
g.asn1.csr.CSRUtil.verifySignature = function(e) {
  try {
    var t = null;
    if (typeof e == "string" && e.indexOf("-----BEGIN CERTIFICATE REQUEST") != -1 ? t = g.asn1.csr.CSRUtil.getParam(e, !0) : typeof e == "object" && e.sbjpubkey != null && e.sigalg != null && e.sighex != null && e.tbs != null && (t = e), t == null)
      return !1;
    var r = new g.crypto.Signature({ alg: t.sigalg });
    return r.init(t.sbjpubkey), r.updateHex(t.tbs), r.verify(t.sighex);
  } catch (n) {
    return alert(n), !1;
  }
};
(typeof g > "u" || !g) && (g = {});
(typeof g.asn1 > "u" || !g.asn1) && (g.asn1 = {});
(typeof g.asn1.ocsp > "u" || !g.asn1.ocsp) && (g.asn1.ocsp = {});
g.asn1.ocsp.DEFAULT_HASH = "sha1";
g.asn1.ocsp.OCSPResponse = function(e) {
  g.asn1.ocsp.OCSPResponse.superclass.constructor.call(this), g.asn1.DEREnumerated;
  var t = g.asn1.ASN1Util.newObject, r = g.asn1.ocsp.ResponseBytes, n = ["successful", "malformedRequest", "internalError", "tryLater", "_not_used_", "sigRequired", "unauthorized"];
  this.params = null, this._getStatusCode = function() {
    var i = this.params.resstatus;
    return typeof i == "number" ? i : typeof i != "string" ? -1 : n.indexOf(i);
  }, this.setByParam = function(i) {
    this.params = i;
  }, this.tohex = function() {
    var i = this.params, s = this._getStatusCode();
    if (s == -1)
      throw new Error("responseStatus not supported: " + i.resstatus);
    if (s != 0)
      return t({ seq: [{ enum: { int: s } }] }).tohex();
    var a = new r(i);
    return t({ seq: [{ enum: { int: 0 } }, { tag: { tag: "a0", explicit: !0, obj: a } }] }).tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.ocsp.OCSPResponse, g.asn1.ASN1Object);
g.asn1.ocsp.ResponseBytes = function(e) {
  g.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);
  var t = g.asn1, r = t.DERSequence, n = t.DERObjectIdentifier, i = t.DEROctetString, s = t.ocsp.BasicOCSPResponse;
  this.params = null, this.setByParam = function(a) {
    this.params = a;
  }, this.tohex = function() {
    var a = this.params;
    if (a.restype != "ocspBasic")
      throw new Error("not supported responseType: " + a.restype);
    var o = new s(a), u = [];
    u.push(new n({ name: "ocspBasic" })), u.push(new i({ hex: o.tohex() }));
    var f = new r({ array: u });
    return f.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.ocsp.ResponseBytes, g.asn1.ASN1Object);
g.asn1.ocsp.BasicOCSPResponse = function(e) {
  g.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);
  var t = Error, r = g.asn1, n = r.ASN1Object, i = r.DERSequence;
  r.DERGeneralizedTime;
  var s = r.DERTaggedObject, a = r.DERBitString;
  r.x509.Extensions;
  var o = r.x509.AlgorithmIdentifier, u = r.ocsp;
  u.ResponderID, _SingleResponseList = u.SingleResponseList, _ResponseData = u.ResponseData, this.params = null, this.setByParam = function(f) {
    this.params = f;
  }, this.sign = function() {
    var f = this.params, l = f.tbsresp.tohex(), h = new g.crypto.Signature({ alg: f.sigalg });
    h.init(f.reskey), h.updateHex(l), f.sighex = h.sign();
  }, this.tohex = function() {
    var f = this.params;
    f.tbsresp == null && (f.tbsresp = new _ResponseData(f)), f.sighex == null && f.reskey != null && this.sign();
    var l = [];
    if (l.push(f.tbsresp), l.push(new o({ name: f.sigalg })), l.push(new a({ hex: "00" + f.sighex })), f.certs != null && f.certs.length != null) {
      for (var h = [], c = 0; c < f.certs.length; c++) {
        var d = f.certs[c], p = null;
        if (ye.isASN1HEX(d))
          p = d;
        else if (d.match(/-----BEGIN/))
          p = Ft(d);
        else
          throw new t("certs[" + c + "] not hex or PEM");
        h.push(new n({ tlv: p }));
      }
      var v = new i({ array: h });
      l.push(new s({ tag: "a0", explicit: !0, obj: v }));
    }
    var m = new i({ array: l });
    return m.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.ocsp.BasicOCSPResponse, g.asn1.ASN1Object);
g.asn1.ocsp.ResponseData = function(e) {
  g.asn1.ocsp.ResponseData.superclass.constructor.call(this);
  var t = g.asn1, r = t.DERSequence, n = t.DERGeneralizedTime, i = t.DERTaggedObject, s = t.x509.Extensions, a = t.ocsp, o = a.ResponderID;
  _SingleResponseList = a.SingleResponseList, this.params = null, this.tohex = function() {
    var u = this.params;
    u.respid != null, u.prodat != null, u.array != null;
    var f = [];
    if (f.push(new o(u.respid)), f.push(new n(u.prodat)), f.push(new _SingleResponseList(u.array)), u.ext != null) {
      var l = new s(u.ext);
      f.push(new i({ tag: "a1", explicit: !0, obj: l }));
    }
    var h = new r({ array: f });
    return h.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, this.setByParam = function(u) {
    this.params = u;
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.ocsp.ResponseData, g.asn1.ASN1Object);
g.asn1.ocsp.ResponderID = function(e) {
  g.asn1.ocsp.ResponderID.superclass.constructor.call(this);
  var t = g, r = t.asn1, n = r.ASN1Util.newObject, i = r.x509.X500Name, s = t.lang.String.isHex, a = Error;
  this.params = null, this.tohex = function() {
    var o = this.params;
    if (o.key != null) {
      var u = null;
      if (typeof o.key == "string") {
        if (s(o.key) && (u = o.key), o.key.match(/-----BEGIN CERTIFICATE/)) {
          var f = new Be(o.key), l = f.getExtSubjectKeyIdentifier();
          l != null && (u = l.kid.hex);
        }
      } else if (o.key instanceof Be) {
        var l = o.key.getExtSubjectKeyIdentifier();
        l != null && (u = l.kid.hex);
      }
      if (u == null)
        throw new a("wrong key member value");
      var h = n({ tag: { tag: "a2", explicit: !0, obj: { octstr: { hex: u } } } });
      return h.tohex();
    } else if (o.name != null) {
      var c = null;
      if (typeof o.name == "string" && o.name.match(/-----BEGIN CERTIFICATE/)) {
        var f = new Be(o.name);
        c = f.getSubject();
      } else
        o.name instanceof Be ? c = o.name.getSubject() : typeof o.name == "object" && (o.name.array != null || o.name.str != null) && (c = o.name);
      if (c == null)
        throw new a("wrong name member value");
      var h = n({ tag: { tag: "a1", explicit: !0, obj: new i(c) } });
      return h.tohex();
    }
    throw new a("key or name not specified");
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, this.setByParam = function(o) {
    this.params = o;
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.ocsp.ResponderID, g.asn1.ASN1Object);
g.asn1.ocsp.SingleResponseList = function(e) {
  g.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);
  var t = g.asn1, r = t.DERSequence, n = t.ocsp.SingleResponse;
  this.params = null, this.tohex = function() {
    var i = this.params;
    if (typeof i != "object" || i.length == null)
      throw new Error("params not specified properly");
    for (var s = [], a = 0; a < i.length; a++)
      s.push(new n(i[a]));
    var o = new r({ array: s });
    return o.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, this.setByParam = function(i) {
    this.params = i;
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.ocsp.SingleResponseList, g.asn1.ASN1Object);
g.asn1.ocsp.SingleResponse = function(e) {
  var t = Error, r = g, n = r.asn1, i = n.DERSequence, s = n.DERGeneralizedTime, a = n.DERTaggedObject, o = n.ocsp, u = o.CertID, f = o.CertStatus, l = n.x509, h = l.Extensions;
  o.SingleResponse.superclass.constructor.call(this), this.params = null, this.tohex = function() {
    var c = this.params, d = [];
    if (c.certid == null)
      throw new t("certid unspecified");
    if (c.status == null)
      throw new t("status unspecified");
    if (c.thisupdate == null)
      throw new t("thisupdate unspecified");
    if (d.push(new u(c.certid)), d.push(new f(c.status)), d.push(new s(c.thisupdate)), c.nextupdate != null) {
      var p = new s(c.nextupdate);
      d.push(new a({ tag: "a0", explicit: !0, obj: p }));
    }
    if (c.ext != null) {
      var v = new h(c.ext);
      d.push(new a({ tag: "a1", explicit: !0, obj: v }));
    }
    var m = new i({ array: d });
    return m.tohex();
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, this.setByParam = function(c) {
    this.params = c;
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.ocsp.SingleResponse, g.asn1.ASN1Object);
g.asn1.ocsp.CertID = function(e) {
  var t = g, r = t.asn1, n = r.DEROctetString, i = r.DERInteger, s = r.DERSequence, a = r.x509, o = a.AlgorithmIdentifier, u = r.ocsp;
  u.DEFAULT_HASH;
  var f = t.crypto, l = f.Util.hashHex, h = Be, c = ye, d = c.getVbyList;
  u.CertID.superclass.constructor.call(this), this.DEFAULT_HASH = "sha1", this.params = null, this.setByValue = function(p, v, m, b) {
    b == null && (b = this.DEFAULT_HASH), this.params = { alg: b, issname: p, isskey: v, sbjsn: m };
  }, this.setByCert = function(p, v, m) {
    m == null && (m = this.DEFAULT_HASH), this.params = { alg: m, issuerCert: p, subjectCert: v };
  }, this.getParamByCerts = function(p, v, m) {
    m == null && (m = this.DEFAULT_HASH);
    var b = new h(p), A = new h(v), D = l(b.getSubjectHex(), m), k = b.getPublicKeyHex(), L = l(d(k, 0, [1], "03", !0), m), _ = A.getSerialNumberHex(), F = { alg: m, issname: D, isskey: L, sbjsn: _ };
    return F;
  }, this.tohex = function() {
    if (typeof this.params != "object")
      throw new Error("params not set");
    var p = this.params, v, m, b, A;
    if (p.alg == null ? A = this.DEFAULT_HASH : A = p.alg, p.issuerCert != null && p.subjectCert != null) {
      var D = this.getParamByCerts(p.issuerCert, p.subjectCert, A);
      v = D.issname, m = D.isskey, b = D.sbjsn;
    } else if (p.issname != null && p.isskey != null && p.sbjsn != null)
      v = p.issname, m = p.isskey, b = p.sbjsn;
    else
      throw new Error("required param members not defined");
    var k = new o({ name: A }), L = new n({ hex: v }), _ = new n({ hex: m }), F = new i({ hex: b }), O = new s({ array: [k, L, _, F] });
    return this.hTLV = O.tohex(), this.hTLV;
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.ocsp.CertID, g.asn1.ASN1Object);
g.asn1.ocsp.CertStatus = function(e) {
  g.asn1.ocsp.CertStatus.superclass.constructor.call(this), this.params = null, this.tohex = function() {
    var t = this.params;
    if (t.status == "good")
      return "8000";
    if (t.status == "unknown")
      return "8200";
    if (t.status == "revoked") {
      var r = [{ gentime: { str: t.time } }];
      t.reason != null && r.push({ tag: { tag: "a0", explicit: !0, obj: { enum: { int: t.reason } } } });
      var n = { tag: "a1", explicit: !1, obj: { seq: r } };
      return g.asn1.ASN1Util.newObject({ tag: n }).tohex();
    }
    throw new Error("bad status");
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, this.setByParam = function(t) {
    this.params = t;
  }, e !== void 0 && this.setByParam(e);
};
he(g.asn1.ocsp.CertStatus, g.asn1.ASN1Object);
g.asn1.ocsp.Request = function(e) {
  var t = g, r = t.asn1, n = r.DERSequence, i = r.ocsp;
  if (i.Request.superclass.constructor.call(this), this.dReqCert = null, this.dExt = null, this.tohex = function() {
    var a = [];
    if (this.dReqCert === null)
      throw "reqCert not set";
    a.push(this.dReqCert);
    var o = new n({ array: a });
    return this.hTLV = o.tohex(), this.hTLV;
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, typeof e < "u") {
    var s = new i.CertID(e);
    this.dReqCert = s;
  }
};
he(g.asn1.ocsp.Request, g.asn1.ASN1Object);
g.asn1.ocsp.TBSRequest = function(e) {
  var t = g, r = t.asn1, n = r.DERSequence, i = r.ocsp;
  i.TBSRequest.superclass.constructor.call(this), this.version = 0, this.dRequestorName = null, this.dRequestList = [], this.dRequestExt = null, this.setRequestListByParam = function(s) {
    for (var a = [], o = 0; o < s.length; o++) {
      var u = new i.Request(s[0]);
      a.push(u);
    }
    this.dRequestList = a;
  }, this.tohex = function() {
    var s = [];
    if (this.version !== 0)
      throw "not supported version: " + this.version;
    if (this.dRequestorName !== null)
      throw "requestorName not supported";
    var a = new n({ array: this.dRequestList });
    if (s.push(a), this.dRequestExt !== null)
      throw "requestExtensions not supported";
    var o = new n({ array: s });
    return this.hTLV = o.tohex(), this.hTLV;
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && e.reqList !== void 0 && this.setRequestListByParam(e.reqList);
};
he(g.asn1.ocsp.TBSRequest, g.asn1.ASN1Object);
g.asn1.ocsp.OCSPRequest = function(e) {
  var t = g, r = t.asn1, n = r.DERSequence, i = r.ocsp;
  if (i.OCSPRequest.superclass.constructor.call(this), this.dTbsRequest = null, this.dOptionalSignature = null, this.tohex = function() {
    var a = [];
    if (this.dTbsRequest !== null)
      a.push(this.dTbsRequest);
    else
      throw "tbsRequest not set";
    if (this.dOptionalSignature !== null)
      throw "optionalSignature not supported";
    var o = new n({ array: a });
    return this.hTLV = o.tohex(), this.hTLV;
  }, this.getEncodedHex = function() {
    return this.tohex();
  }, e !== void 0 && e.reqList !== void 0) {
    var s = new i.TBSRequest(e);
    this.dTbsRequest = s;
  }
};
he(g.asn1.ocsp.OCSPRequest, g.asn1.ASN1Object);
g.asn1.ocsp.OCSPUtil = {};
g.asn1.ocsp.OCSPUtil.getRequestHex = function(e, t, r) {
  var n = g, i = n.asn1, s = i.ocsp;
  r === void 0 && (r = s.DEFAULT_HASH);
  var a = { alg: r, issuerCert: e, subjectCert: t }, o = new s.OCSPRequest({ reqList: [a] });
  return o.tohex();
};
g.asn1.ocsp.OCSPUtil.getOCSPResponseInfo = function(e) {
  var t = ye, r = t.getVbyList, n = t.getVbyListEx, i = t.getIdxbyList;
  t.getIdxbyListEx;
  var s = t.getV, a = {};
  try {
    var o = n(e, 0, [0], "0a");
    a.responseStatus = parseInt(o, 16);
  } catch {
  }
  if (a.responseStatus !== 0)
    return a;
  try {
    var u = i(e, 0, [1, 0, 1, 0, 0, 2, 0, 1]);
    e.substr(u, 2) === "80" ? a.certStatus = "good" : e.substr(u, 2) === "a1" ? (a.certStatus = "revoked", a.revocationTime = Ze(r(e, u, [0]))) : e.substr(u, 2) === "82" && (a.certStatus = "unknown");
  } catch {
  }
  try {
    var f = i(e, 0, [1, 0, 1, 0, 0, 2, 0, 2]);
    a.thisUpdate = Ze(s(e, f));
  } catch {
  }
  try {
    var l = i(e, 0, [1, 0, 1, 0, 0, 2, 0, 3]);
    e.substr(l, 2) === "a0" && (a.nextUpdate = Ze(r(e, l, [0])));
  } catch {
  }
  return a;
};
g.asn1.ocsp.OCSPParser = function() {
  var e = Error, t = Be, r = new t(), n = ye, i = n.getV, s = n.getTLV, a = n.getIdxbyList, o = n.getVbyList, u = n.getTLVbyList, f = n.getVbyListEx, l = n.getTLVbyListEx, h = n.getChildIdx;
  this.getOCSPRequest = function(c) {
    var d = h(c, 0);
    if (d.length != 1 && d.length != 2)
      throw new e("wrong number elements: " + d.length);
    var p = this.getTBSRequest(s(c, d[0]));
    return p;
  }, this.getTBSRequest = function(c) {
    var d = {}, p = l(c, 0, [0], "30");
    d.array = this.getRequestList(p);
    var v = l(c, 0, ["[2]", 0], "30");
    return v != null && (d.ext = r.getExtParamArray(v)), d;
  }, this.getRequestList = function(c) {
    for (var d = [], p = h(c, 0), v = 0; v < p.length; v++) {
      var c = s(c, p[v]);
      d.push(this.getRequest(c));
    }
    return d;
  }, this.getRequest = function(c) {
    var d = h(c, 0);
    if (d.length != 1 && d.length != 2)
      throw new e("wrong number elements: " + d.length);
    var p = this.getCertID(s(c, d[0]));
    if (d.length == 2) {
      var v = a(c, 0, [1, 0]);
      p.ext = r.getExtParamArray(s(c, v));
    }
    return p;
  }, this.getCertID = function(c) {
    var d = h(c, 0);
    if (d.length != 4)
      throw new e("wrong number elements: " + d.length);
    var p = new t(), v = {};
    return v.alg = p.getAlgorithmIdentifierName(s(c, d[0])), v.issname = i(c, d[1]), v.isskey = i(c, d[2]), v.sbjsn = i(c, d[3]), v;
  }, this.getOCSPResponse = function(c) {
    var d = h(c, 0), p, v = i(c, d[0]), m = parseInt(v);
    if (d.length == 1)
      return { resstatus: m };
    var b = u(c, 0, [1, 0]);
    return p = this.getResponseBytes(b), p.resstatus = m, p;
  }, this.getResponseBytes = function(c) {
    var d = h(c, 0), p, v = u(c, 0, [1, 0]);
    p = this.getBasicOCSPResponse(v);
    var m = i(c, d[0]);
    return p.restype = g.asn1.x509.OID.oid2name(Sc(m)), p;
  }, this.getBasicOCSPResponse = function(c) {
    var d = h(c, 0), p;
    p = this.getResponseData(s(c, d[0]));
    var v = new Be();
    p.alg = v.getAlgorithmIdentifierName(s(c, d[1]));
    var m = i(c, d[2]);
    p.sighex = m.substr(2);
    var b = f(c, 0, ["[0]"]);
    if (b != null) {
      for (var A = h(b, 0), D = [], k = 0; k < A.length; k++) {
        var L = s(b, A[k]);
        D.push(L);
      }
      p.certs = D;
    }
    return p;
  }, this.getResponseData = function(c) {
    var d = h(c, 0), p = d.length, v = {}, m = 0;
    c.substr(d[0], 2) == "a0" && m++, v.respid = this.getResponderID(s(c, d[m++]));
    var b = i(c, d[m++]);
    if (v.prodat = Ze(b), v.array = this.getSingleResponseList(s(c, d[m++])), c.substr(d[p - 1], 2) == "a1") {
      var A = u(c, d[p - 1], [0]), D = new Be();
      v.ext = D.getExtParamArray(A);
    }
    return v;
  }, this.getResponderID = function(c) {
    var d = {};
    if (c.substr(0, 2) == "a2") {
      var p = o(c, 0, [0]);
      d.key = p;
    }
    if (c.substr(0, 2) == "a1") {
      var v = u(c, 0, [0]), m = new Be();
      d.name = m.getX500Name(v);
    }
    return d;
  }, this.getSingleResponseList = function(c) {
    for (var d = h(c, 0), p = [], v = 0; v < d.length; v++) {
      var m = this.getSingleResponse(s(c, d[v]));
      p.push(m);
    }
    return p;
  }, this.getSingleResponse = function(c) {
    var d = h(c, 0), p = {}, v = this.getCertID(s(c, d[0]));
    p.certid = v;
    var m = this.getCertStatus(s(c, d[1]));
    if (p.status = m, c.substr(d[2], 2) == "18") {
      var b = i(c, d[2]);
      p.thisupdate = Ze(b);
    }
    for (var A = 3; A < d.length; A++) {
      if (c.substr(d[A], 2) == "a0") {
        var D = o(c, d[A], [0], "18");
        p.nextupdate = Ze(D);
      }
      if (c.substr(d[A], 2) == "a1") {
        var k = new Be(), L = u(c, 0, [A, 0]);
        p.ext = k.getExtParamArray(L);
      }
    }
    return p;
  }, this.getCertStatus = function(c) {
    var d = {};
    if (c == "8000")
      return { status: "good" };
    if (c == "8200")
      return { status: "unknown" };
    if (c.substr(0, 2) == "a1") {
      d.status = "revoked";
      var p = o(c, 0, [0]), v = Ze(p);
      d.time = v;
    }
    return d;
  };
};
var g;
(typeof g > "u" || !g) && (g = {});
(typeof g.lang > "u" || !g.lang) && (g.lang = {});
g.lang.String = function() {
};
function U5(e) {
  for (var t = new Array(), r = 0; r < e.length; r++)
    t[r] = e.charCodeAt(r);
  return t;
}
function bc(e) {
  for (var t = "", r = 0; r < e.length; r++) {
    var n = e[r].toString(16);
    n.length == 1 && (n = "0" + n), t = t + n;
  }
  return t;
}
function Ir(e) {
  return bc(U5(e));
}
function wa(e) {
  return e = e.replace(/\=/g, ""), e = e.replace(/\+/g, "-"), e = e.replace(/\//g, "_"), e;
}
function wc(e) {
  return e.length % 4 == 2 ? e = e + "==" : e.length % 4 == 3 && (e = e + "="), e = e.replace(/-/g, "+"), e = e.replace(/_/g, "/"), e;
}
function Ct(e) {
  return e.length % 2 == 1 && (e = "0" + e), wa(ss(e));
}
function ft(e) {
  return vc(wc(e));
}
var xa, $r;
typeof Buffer == "function" ? (xa = function(e) {
  return wa(Buffer.from(e, "utf8").toString("base64"));
}, $r = function(e) {
  return Buffer.from(wc(e), "base64").toString("utf8");
}) : (xa = function(e) {
  return Ct(l1(v1(e)));
}, $r = function(e) {
  return decodeURIComponent(h1(ft(e)));
});
function xc(e) {
  return l1(v1(e)).toLowerCase();
}
function Ze(e) {
  try {
    return decodeURIComponent(h1(e));
  } catch {
    return null;
  }
}
function q5(e) {
  return Ze(K5(e));
}
function K5(e) {
  for (var t = e.match(/.{1,2}/g), r = [], n = 0; n < t.length; n++) {
    var i = parseInt(t[n], 16);
    161 <= i && i <= 191 ? (r.push("c2"), r.push(t[n])) : 192 <= i && i <= 255 ? (r.push("c3"), r.push((i - 64).toString(16))) : r.push(t[n]);
  }
  return r.join("");
}
function mr(e) {
  for (var t = "", r = 0; r < e.length - 1; r += 2)
    t += String.fromCharCode(parseInt(e.substr(r, 2), 16));
  return t;
}
function Or(e) {
  for (var t = "", r = 0; r < e.length; r++)
    t += ("0" + e.charCodeAt(r).toString(16)).slice(-2);
  return t;
}
function $5(e) {
  return ss(e);
}
function z5(e, t) {
  return e = e.replace(new RegExp("(.{" + t + "})", "g"), `$1\r
`), e = e.replace(/\s+$/, ""), e;
}
function W5(e) {
  var t = e.replace(/[^0-9A-Za-z\/+=]*/g, ""), r = vc(t);
  return r;
}
function jt(e, t) {
  return "-----BEGIN " + t + `-----\r
` + z5($5(e), 64) + `\r
-----END ` + t + `-----\r
`;
}
function Ft(e, t) {
  if (e.indexOf("-----BEGIN ") == -1)
    throw new Error("can't find PEM header");
  return t !== void 0 ? (e = e.replace(new RegExp("^[^]*-----BEGIN " + t + "-----"), ""), e = e.replace(new RegExp("-----END " + t + "-----[^]*$"), "")) : (e = e.replace(/^[^]*-----BEGIN [^-]+-----/, ""), e = e.replace(/-----END [^-]+-----[^]*$/, "")), W5(e);
}
function G5(e) {
  var t, r, n, i, s, a, o, u, f, l;
  if (e = Y5(e), l = e.match(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/), l)
    return t = parseInt(l[1]), r = parseInt(l[2]) - 1, n = parseInt(l[3]), i = parseInt(l[4]), s = parseInt(l[5]), a = parseInt(l[6]), o = 0, u = l[7], u !== "" && (f = (u.substr(1) + "00").substr(0, 3), o = parseInt(f)), Date.UTC(t, r, n, i, s, a, o);
  throw new Error("unsupported zulu format: " + e);
}
function J5(e) {
  return Math.round(G5(e) / 1e3);
}
function Y5(e) {
  return e.match(/^[0-9]{12}Z$/) || e.match(/^[0-9]{12}[.][0-9]*Z$/) ? e.match(/^[0-4]/) ? "20" + e : "19" + e : e;
}
function l1(e) {
  return e.replace(/%/g, "");
}
function h1(e) {
  return e.replace(/(..)/g, "%$1");
}
function Mh(e) {
  var t = "malformed IPv6 address";
  if (!e.match(/^[0-9A-Fa-f:]+$/))
    throw t;
  e = e.toLowerCase();
  var r = e.split(":").length - 1;
  if (r < 2)
    throw t;
  var n = ":".repeat(7 - r + 2);
  e = e.replace("::", n);
  var i = e.split(":");
  if (i.length != 8)
    throw t;
  for (var s = 0; s < 8; s++)
    i[s] = ("0000" + i[s]).slice(-4);
  return i.join("");
}
function Bh(e) {
  if (!e.match(/^[0-9A-Fa-f]{32}$/))
    throw new Error("malformed IPv6 address: " + e);
  e = e.toLowerCase();
  var t = e.match(/.{1,4}/g);
  t = t.map(function(i) {
    return i.replace(/^0+/, "");
  }), t = t.map(function(i) {
    return i == "" ? "0" : i;
  }), e = ":" + t.join(":") + ":";
  var r = e.match(/:(0:){2,}/g);
  if (r == null)
    return e.slice(1, -1);
  var n = r.sort().slice(-1)[0];
  return e = e.replace(n.substr(0, n.length - 1), ":"), e.substr(0, 2) != "::" && (e = e.substr(1)), e.substr(-2, 2) != "::" && (e = e.substr(0, e.length - 1)), e;
}
function sf(e) {
  var t = new Error("malformed hex value");
  if (!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))
    throw t;
  if (e.length == 8) {
    var r;
    try {
      return r = parseInt(e.substr(0, 2), 16) + "." + parseInt(e.substr(2, 2), 16) + "." + parseInt(e.substr(4, 2), 16) + "." + parseInt(e.substr(6, 2), 16), r;
    } catch {
      throw t;
    }
  } else if (e.length == 16)
    try {
      return sf(e.substr(0, 8)) + "/" + Nh(e.substr(8));
    } catch {
      throw t;
    }
  else {
    if (e.length == 32)
      return Bh(e);
    if (e.length == 64) {
      try {
        return Bh(e.substr(0, 32)) + "/" + Nh(e.substr(32));
      } catch {
        throw t;
      }
      return;
    } else
      return e;
  }
}
function Nh(e) {
  var t = new Error("malformed mask"), r;
  try {
    r = new ne(e, 16).toString(2);
  } catch {
    throw t;
  }
  if (!r.match(/^1*0*$/))
    throw t;
  return r.replace(/0+$/, "").length;
}
function d1(e) {
  var t = new Error("malformed IP address");
  if (e = e.toLowerCase(e), !e.match(/^[0-9a-f.:/]+$/))
    throw t;
  if (e.match(/^[0-9.]+$/)) {
    var r = e.split(".");
    if (r.length !== 4)
      throw t;
    var n = "";
    try {
      for (var i = 0; i < 4; i++) {
        var s = parseInt(r[i]);
        n += ("0" + s.toString(16)).slice(-2);
      }
      return n;
    } catch {
      throw t;
    }
  } else if (e.match(/^[0-9.]+\/[0-9]+$/)) {
    var a = e.split("/");
    return d1(a[0]) + kh(parseInt(a[1]), 32);
  } else {
    if (e.match(/^[0-9a-f:]+$/) && e.indexOf(":") !== -1)
      return Mh(e);
    if (e.match(/^[0-9a-f:]+\/[0-9]+$/) && e.indexOf(":") !== -1) {
      var a = e.split("/");
      return Mh(a[0]) + kh(parseInt(a[1]), 128);
    } else
      throw t;
  }
}
function kh(e, t) {
  if (t == 32 && e == 0)
    return "00000000";
  if (t == 128 && e == 0)
    return "00000000000000000000000000000000";
  var r = Array(e + 1).join("1") + Array(t - e + 1).join("0");
  return new ne(r, 2).toString(16);
}
function p1(e) {
  function t(i) {
    var s = parseInt(i.substr(0, 2), 16), a = parseInt(i.substr(2), 16);
    if (s == 0 & a < 128)
      return String.fromCharCode(a);
    if (s < 8) {
      var o = 192 | (s & 7) << 3 | (a & 192) >> 6, u = 128 | a & 63;
      return Ze(o.toString(16) + u.toString(16));
    }
    var o = 224 | (s & 240) >> 4, u = 128 | (s & 15) << 2 | (a & 192) >> 6, f = 128 | a & 63;
    return Ze(o.toString(16) + u.toString(16) + f.toString(16));
  }
  var r = e.match(/.{4}/g), n = r.map(t);
  return n.join("");
}
function v1(e) {
  for (var t = encodeURIComponent(e), r = "", n = 0; n < t.length; n++)
    t[n] == "%" ? (r = r + t.substr(n, 3), n = n + 2) : r = r + "%" + Ir(t[n]);
  return r;
}
g.lang.String.isInteger = function(e) {
  return e.match(/^[0-9]+$/) ? !0 : !!e.match(/^-[0-9]+$/);
};
g.lang.String.isHex = function(e) {
  return g1(e);
};
function g1(e) {
  return !!(e.length % 2 == 0 && (e.match(/^[0-9a-f]+$/) || e.match(/^[0-9A-F]+$/)));
}
g.lang.String.isBase64 = function(e) {
  return e = e.replace(/\s+/g, ""), !!(e.match(/^[0-9A-Za-z+\/]+={0,3}$/) && e.length % 4 == 0);
};
g.lang.String.isBase64URL = function(e) {
  return e.match(/[+/=]/) ? !1 : (e = wc(e), g.lang.String.isBase64(e));
};
function y1(e) {
  return !!e.match(/^[0-9A-Za-z-_.]+$/);
}
g.lang.String.isIntegerArray = function(e) {
  return e = e.replace(/\s+/g, ""), !!e.match(/^\[[0-9,]+\]$/);
};
g.lang.String.isPrintable = function(e) {
  return e.match(/^[0-9A-Za-z '()+,-./:=?]*$/) !== null;
};
g.lang.String.isIA5 = function(e) {
  return e.match(/^[\x20-\x21\x23-\x7f]*$/) !== null;
};
g.lang.String.isMail = function(e) {
  return e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/) !== null;
};
function jh(e) {
  return e.length % 2 == 1 ? "0" + e : e.substr(0, 1) > "7" ? "00" + e : e;
}
function X5(e) {
  var t = function(o) {
    var u = o.toString(16);
    return u.length == 1 && (u = "0" + u), u;
  }, r = function(o) {
    var u = "", f = parseInt(o, 10), l = f.toString(2), h = 7 - l.length % 7;
    h == 7 && (h = 0);
    for (var c = "", d = 0; d < h; d++)
      c += "0";
    l = c + l;
    for (var d = 0; d < l.length - 1; d += 7) {
      var p = l.substr(d, 7);
      d != l.length - 7 && (p = "1" + p), u += t(parseInt(p, 2));
    }
    return u;
  };
  try {
    if (!e.match(/^[0-9.]+$/))
      return null;
    var n = "", i = e.split("."), s = parseInt(i[0], 10) * 40 + parseInt(i[1], 10);
    n += t(s), i.splice(0, 2);
    for (var a = 0; a < i.length; a++)
      n += r(i[a]);
    return n;
  } catch {
    return null;
  }
}
function Sc(e) {
  if (!g1(e))
    return null;
  try {
    var t = [], r = e.substr(0, 2), n = parseInt(r, 16);
    t[0] = new String(Math.floor(n / 40)), t[1] = new String(n % 40);
    for (var i = e.substr(2), s = [], a = 0; a < i.length / 2; a++)
      s.push(parseInt(i.substr(a * 2, 2), 16));
    for (var o = [], u = "", a = 0; a < s.length; a++)
      s[a] & 128 ? u = u + Lh((s[a] & 127).toString(2), 7) : (u = u + Lh((s[a] & 127).toString(2), 7), o.push(new String(parseInt(u, 2))), u = "");
    var f = t.join(".");
    return o.length > 0 && (f = f + "." + o.join(".")), f;
  } catch {
    return null;
  }
}
var Lh = function(e, t, r) {
  return r == null && (r = "0"), e.length >= t ? e : new Array(t - e.length + 1).join(r) + e;
};
function Z5(e) {
  if (e.length % 2 != 0 || (e = e.toLowerCase(), e.match(/^[0-9a-f]+$/) == null))
    return -1;
  try {
    var t = e.substr(0, 2);
    if (t == "00")
      return parseInt(e.substr(2), 16);
    var r = parseInt(t, 16);
    if (r > 7)
      return -1;
    var n = e.substr(2), i = parseInt(n, 16).toString(2);
    i == "0" && (i = "00000000"), i = i.slice(0, 0 - r);
    var s = parseInt(i, 2);
    return s == NaN ? -1 : s;
  } catch {
    return -1;
  }
}
function Q5(e) {
  if (typeof e != "string" || e.length % 2 != 0 || !e.match(/^[0-9a-f]+$/))
    return null;
  try {
    var t = parseInt(e.substr(0, 2), 16);
    if (t < 0 || 7 < t)
      return null;
    for (var r = e.substr(2), n = "", i = 0; i < r.length; i += 2) {
      var s = r.substr(i, 2), a = parseInt(s, 16).toString(2);
      a = ("0000000" + a).slice(-8), n += a;
    }
    return n.substr(0, n.length - t);
  } catch {
    return null;
  }
}
function af(e, t) {
  for (var r = 0, n = 0; n < e.length; n++)
    r |= 1 << t[e[n]];
  for (var i = r.toString(2), s = "", n = i.length - 1; n >= 0; n--)
    s += i[n];
  return s;
}
function ii(e, n, r) {
  if (typeof e == "object") {
    for (var n = String(n).split("."), i = 0; i < n.length && e; i++) {
      var s = n[i];
      s.match(/^[0-9]+$/) && (s = parseInt(s)), e = e[s];
    }
    return e || e === !1 ? e : r;
  }
}
function he(e, t) {
  var r = function() {
  };
  r.prototype = t.prototype, e.prototype = new r(), e.prototype.constructor = e, e.superclass = t.prototype, t.prototype.constructor == Object.prototype.constructor && (t.prototype.constructor = t);
}
(typeof g > "u" || !g) && (g = {});
(typeof g.crypto > "u" || !g.crypto) && (g.crypto = {});
g.crypto.Util = new function() {
  this.DIGESTINFOHEAD = { sha1: "3021300906052b0e03021a05000414", sha224: "302d300d06096086480165030402040500041c", sha256: "3031300d060960864801650304020105000420", sha384: "3041300d060960864801650304020205000430", sha512: "3051300d060960864801650304020305000440", md2: "3020300c06082a864886f70d020205000410", md5: "3020300c06082a864886f70d020505000410", ripemd160: "3021300906052b2403020105000414" }, this.DEFAULTPROVIDER = { md5: "cryptojs", sha1: "cryptojs", sha224: "cryptojs", sha256: "cryptojs", sha384: "cryptojs", sha512: "cryptojs", ripemd160: "cryptojs", hmacmd5: "cryptojs", hmacsha1: "cryptojs", hmacsha224: "cryptojs", hmacsha256: "cryptojs", hmacsha384: "cryptojs", hmacsha512: "cryptojs", hmacripemd160: "cryptojs", MD5withRSA: "cryptojs/jsrsa", SHA1withRSA: "cryptojs/jsrsa", SHA224withRSA: "cryptojs/jsrsa", SHA256withRSA: "cryptojs/jsrsa", SHA384withRSA: "cryptojs/jsrsa", SHA512withRSA: "cryptojs/jsrsa", RIPEMD160withRSA: "cryptojs/jsrsa", MD5withECDSA: "cryptojs/jsrsa", SHA1withECDSA: "cryptojs/jsrsa", SHA224withECDSA: "cryptojs/jsrsa", SHA256withECDSA: "cryptojs/jsrsa", SHA384withECDSA: "cryptojs/jsrsa", SHA512withECDSA: "cryptojs/jsrsa", RIPEMD160withECDSA: "cryptojs/jsrsa", SHA1withDSA: "cryptojs/jsrsa", SHA224withDSA: "cryptojs/jsrsa", SHA256withDSA: "cryptojs/jsrsa", MD5withRSAandMGF1: "cryptojs/jsrsa", SHAwithRSAandMGF1: "cryptojs/jsrsa", SHA1withRSAandMGF1: "cryptojs/jsrsa", SHA224withRSAandMGF1: "cryptojs/jsrsa", SHA256withRSAandMGF1: "cryptojs/jsrsa", SHA384withRSAandMGF1: "cryptojs/jsrsa", SHA512withRSAandMGF1: "cryptojs/jsrsa", RIPEMD160withRSAandMGF1: "cryptojs/jsrsa" }, this.CRYPTOJSMESSAGEDIGESTNAME = { md5: Ee.algo.MD5, sha1: Ee.algo.SHA1, sha224: Ee.algo.SHA224, sha256: Ee.algo.SHA256, sha384: Ee.algo.SHA384, sha512: Ee.algo.SHA512, ripemd160: Ee.algo.RIPEMD160 }, this.getDigestInfoHex = function(e, t) {
    if (typeof this.DIGESTINFOHEAD[t] > "u")
      throw "alg not supported in Util.DIGESTINFOHEAD: " + t;
    return this.DIGESTINFOHEAD[t] + e;
  }, this.getPaddedDigestInfoHex = function(e, t, r) {
    var n = this.getDigestInfoHex(e, t), i = r / 4;
    if (n.length + 22 > i)
      throw "key is too short for SigAlg: keylen=" + r + "," + t;
    for (var s = "0001", a = "00" + n, o = "", u = i - s.length - a.length, f = 0; f < u; f += 2)
      o += "ff";
    var l = s + o + a;
    return l;
  }, this.hashString = function(e, t) {
    var r = new g.crypto.MessageDigest({ alg: t });
    return r.digestString(e);
  }, this.hashHex = function(e, t) {
    var r = new g.crypto.MessageDigest({ alg: t });
    return r.digestHex(e);
  }, this.sha1 = function(e) {
    return this.hashString(e, "sha1");
  }, this.sha256 = function(e) {
    return this.hashString(e, "sha256");
  }, this.sha256Hex = function(e) {
    return this.hashHex(e, "sha256");
  }, this.sha512 = function(e) {
    return this.hashString(e, "sha512");
  }, this.sha512Hex = function(e) {
    return this.hashHex(e, "sha512");
  }, this.isKey = function(e) {
    return e instanceof Pe || e instanceof g.crypto.DSA || e instanceof g.crypto.ECDSA;
  };
}();
g.crypto.Util.md5 = function(e) {
  var t = new g.crypto.MessageDigest({ alg: "md5", prov: "cryptojs" });
  return t.digestString(e);
};
g.crypto.Util.ripemd160 = function(e) {
  var t = new g.crypto.MessageDigest({ alg: "ripemd160", prov: "cryptojs" });
  return t.digestString(e);
};
g.crypto.Util.SECURERANDOMGEN = new Zn();
g.crypto.Util.getRandomHexOfNbytes = function(e) {
  var t = new Array(e);
  return g.crypto.Util.SECURERANDOMGEN.nextBytes(t), bc(t);
};
g.crypto.Util.getRandomBigIntegerOfNbytes = function(e) {
  return new ne(g.crypto.Util.getRandomHexOfNbytes(e), 16);
};
g.crypto.Util.getRandomHexOfNbits = function(e) {
  var t = e % 8, r = (e - t) / 8, n = new Array(r + 1);
  return g.crypto.Util.SECURERANDOMGEN.nextBytes(n), n[0] = (255 << t & 255 ^ 255) & n[0], bc(n);
};
g.crypto.Util.getRandomBigIntegerOfNbits = function(e) {
  return new ne(g.crypto.Util.getRandomHexOfNbits(e), 16);
};
g.crypto.Util.getRandomBigIntegerZeroToMax = function(e) {
  for (var t = e.bitLength(); ; ) {
    var r = g.crypto.Util.getRandomBigIntegerOfNbits(t);
    if (e.compareTo(r) != -1)
      return r;
  }
};
g.crypto.Util.getRandomBigIntegerMinToMax = function(e, t) {
  var r = e.compareTo(t);
  if (r == 1)
    throw "biMin is greater than biMax";
  if (r == 0)
    return e;
  var n = t.subtract(e), i = g.crypto.Util.getRandomBigIntegerZeroToMax(n);
  return i.add(e);
};
g.crypto.MessageDigest = function(e) {
  this.setAlgAndProvider = function(t, r) {
    if (t = g.crypto.MessageDigest.getCanonicalAlgName(t), t !== null && r === void 0 && (r = g.crypto.Util.DEFAULTPROVIDER[t]), ":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t) != -1 && r == "cryptojs") {
      try {
        this.md = g.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create();
      } catch (n) {
        throw "setAlgAndProvider hash alg set fail alg=" + t + "/" + n;
      }
      this.updateString = function(n) {
        this.md.update(n);
      }, this.updateHex = function(n) {
        var i = Ee.enc.Hex.parse(n);
        this.md.update(i);
      }, this.digest = function() {
        var n = this.md.finalize();
        return n.toString(Ee.enc.Hex);
      }, this.digestString = function(n) {
        return this.updateString(n), this.digest();
      }, this.digestHex = function(n) {
        return this.updateHex(n), this.digest();
      };
    }
    if (":sha256:".indexOf(t) != -1 && r == "sjcl") {
      try {
        this.md = new sjcl.hash.sha256();
      } catch (n) {
        throw "setAlgAndProvider hash alg set fail alg=" + t + "/" + n;
      }
      this.updateString = function(n) {
        this.md.update(n);
      }, this.updateHex = function(n) {
        var i = sjcl.codec.hex.toBits(n);
        this.md.update(i);
      }, this.digest = function() {
        var n = this.md.finalize();
        return sjcl.codec.hex.fromBits(n);
      }, this.digestString = function(n) {
        return this.updateString(n), this.digest();
      }, this.digestHex = function(n) {
        return this.updateHex(n), this.digest();
      };
    }
  }, this.updateString = function(t) {
    throw "updateString(str) not supported for this alg/prov: " + this.algName + "/" + this.provName;
  }, this.updateHex = function(t) {
    throw "updateHex(hex) not supported for this alg/prov: " + this.algName + "/" + this.provName;
  }, this.digest = function() {
    throw "digest() not supported for this alg/prov: " + this.algName + "/" + this.provName;
  }, this.digestString = function(t) {
    throw "digestString(str) not supported for this alg/prov: " + this.algName + "/" + this.provName;
  }, this.digestHex = function(t) {
    throw "digestHex(hex) not supported for this alg/prov: " + this.algName + "/" + this.provName;
  }, e !== void 0 && e.alg !== void 0 && (this.algName = e.alg, e.prov === void 0 && (this.provName = g.crypto.Util.DEFAULTPROVIDER[this.algName]), this.setAlgAndProvider(this.algName, this.provName));
};
g.crypto.MessageDigest.getCanonicalAlgName = function(e) {
  return typeof e == "string" && (e = e.toLowerCase(), e = e.replace(/-/, "")), e;
};
g.crypto.MessageDigest.getHashLength = function(e) {
  var t = g.crypto.MessageDigest, r = t.getCanonicalAlgName(e);
  if (t.HASHLENGTH[r] === void 0)
    throw "not supported algorithm: " + e;
  return t.HASHLENGTH[r];
};
g.crypto.MessageDigest.HASHLENGTH = { md5: 16, sha1: 20, sha224: 28, sha256: 32, sha384: 48, sha512: 64, ripemd160: 20 };
g.crypto.Mac = function(e) {
  this.setAlgAndProvider = function(t, r) {
    if (t = t.toLowerCase(), t == null && (t = "hmacsha1"), t = t.toLowerCase(), t.substr(0, 4) != "hmac")
      throw "setAlgAndProvider unsupported HMAC alg: " + t;
    r === void 0 && (r = g.crypto.Util.DEFAULTPROVIDER[t]), this.algProv = t + "/" + r;
    var n = t.substr(4);
    if (":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n) != -1 && r == "cryptojs") {
      try {
        var i = g.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];
        this.mac = Ee.algo.HMAC.create(i, this.pass);
      } catch (s) {
        throw "setAlgAndProvider hash alg set fail hashAlg=" + n + "/" + s;
      }
      this.updateString = function(s) {
        this.mac.update(s);
      }, this.updateHex = function(s) {
        var a = Ee.enc.Hex.parse(s);
        this.mac.update(a);
      }, this.doFinal = function() {
        var s = this.mac.finalize();
        return s.toString(Ee.enc.Hex);
      }, this.doFinalString = function(s) {
        return this.updateString(s), this.doFinal();
      }, this.doFinalHex = function(s) {
        return this.updateHex(s), this.doFinal();
      };
    }
  }, this.updateString = function(t) {
    throw "updateString(str) not supported for this alg/prov: " + this.algProv;
  }, this.updateHex = function(t) {
    throw "updateHex(hex) not supported for this alg/prov: " + this.algProv;
  }, this.doFinal = function() {
    throw "digest() not supported for this alg/prov: " + this.algProv;
  }, this.doFinalString = function(t) {
    throw "digestString(str) not supported for this alg/prov: " + this.algProv;
  }, this.doFinalHex = function(t) {
    throw "digestHex(hex) not supported for this alg/prov: " + this.algProv;
  }, this.setPassword = function(t) {
    if (typeof t == "string") {
      var r = t;
      (t.length % 2 == 1 || !t.match(/^[0-9A-Fa-f]+$/)) && (r = Or(t)), this.pass = Ee.enc.Hex.parse(r);
      return;
    }
    if (typeof t != "object")
      throw "KJUR.crypto.Mac unsupported password type: " + t;
    var r = null;
    if (t.hex !== void 0) {
      if (t.hex.length % 2 != 0 || !t.hex.match(/^[0-9A-Fa-f]+$/))
        throw "Mac: wrong hex password: " + t.hex;
      r = t.hex;
    }
    if (t.utf8 !== void 0 && (r = xc(t.utf8)), t.rstr !== void 0 && (r = Or(t.rstr)), t.b64 !== void 0 && (r = vc(t.b64)), t.b64u !== void 0 && (r = ft(t.b64u)), r == null)
      throw "KJUR.crypto.Mac unsupported password type: " + t;
    this.pass = Ee.enc.Hex.parse(r);
  }, e !== void 0 && (e.pass !== void 0 && this.setPassword(e.pass), e.alg !== void 0 && (this.algName = e.alg, e.prov === void 0 && (this.provName = g.crypto.Util.DEFAULTPROVIDER[this.algName]), this.setAlgAndProvider(this.algName, this.provName)));
};
g.crypto.Signature = function(e) {
  var t = null;
  if (this._setAlgNames = function() {
    var r = this.algName.match(/^(.+)with(.+)$/);
    r && (this.mdAlgName = r[1].toLowerCase(), this.pubkeyAlgName = r[2].toLowerCase(), this.pubkeyAlgName == "rsaandmgf1" && this.mdAlgName == "sha" && (this.mdAlgName = "sha1"));
  }, this._zeroPaddingOfSignature = function(r, n) {
    for (var i = "", s = n / 4 - r.length, a = 0; a < s; a++)
      i = i + "0";
    return i + r;
  }, this.setAlgAndProvider = function(r, n) {
    if (this._setAlgNames(), n != "cryptojs/jsrsa")
      throw new Error("provider not supported: " + n);
    if (":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName) != -1) {
      try {
        this.md = new g.crypto.MessageDigest({ alg: this.mdAlgName });
      } catch (i) {
        throw new Error("setAlgAndProvider hash alg set fail alg=" + this.mdAlgName + "/" + i);
      }
      this.init = function(i, s) {
        var a = null;
        try {
          s === void 0 ? a = $e.getKey(i) : a = $e.getKey(i, s);
        } catch (o) {
          throw "init failed:" + o;
        }
        if (a.isPrivate === !0)
          this.prvKey = a, this.state = "SIGN";
        else if (a.isPublic === !0)
          this.pubKey = a, this.state = "VERIFY";
        else
          throw "init failed.:" + a;
      }, this.updateString = function(i) {
        this.md.updateString(i);
      }, this.updateHex = function(i) {
        this.md.updateHex(i);
      }, this.sign = function() {
        if (this.sHashHex = this.md.digest(), this.prvKey === void 0 && this.ecprvhex !== void 0 && this.eccurvename !== void 0 && g.crypto.ECDSA !== void 0 && (this.prvKey = new g.crypto.ECDSA({ curve: this.eccurvename, prv: this.ecprvhex })), this.prvKey instanceof Pe && this.pubkeyAlgName === "rsaandmgf1")
          this.hSign = this.prvKey.signWithMessageHashPSS(this.sHashHex, this.mdAlgName, this.pssSaltLen);
        else if (this.prvKey instanceof Pe && this.pubkeyAlgName === "rsa")
          this.hSign = this.prvKey.signWithMessageHash(this.sHashHex, this.mdAlgName);
        else if (this.prvKey instanceof g.crypto.ECDSA)
          this.hSign = this.prvKey.signWithMessageHash(this.sHashHex);
        else if (this.prvKey instanceof g.crypto.DSA)
          this.hSign = this.prvKey.signWithMessageHash(this.sHashHex);
        else
          throw "Signature: unsupported private key alg: " + this.pubkeyAlgName;
        return this.hSign;
      }, this.signString = function(i) {
        return this.updateString(i), this.sign();
      }, this.signHex = function(i) {
        return this.updateHex(i), this.sign();
      }, this.verify = function(i) {
        if (this.sHashHex = this.md.digest(), this.pubKey === void 0 && this.ecpubhex !== void 0 && this.eccurvename !== void 0 && g.crypto.ECDSA !== void 0 && (this.pubKey = new g.crypto.ECDSA({ curve: this.eccurvename, pub: this.ecpubhex })), this.pubKey instanceof Pe && this.pubkeyAlgName === "rsaandmgf1")
          return this.pubKey.verifyWithMessageHashPSS(this.sHashHex, i, this.mdAlgName, this.pssSaltLen);
        if (this.pubKey instanceof Pe && this.pubkeyAlgName === "rsa")
          return this.pubKey.verifyWithMessageHash(this.sHashHex, i);
        if (g.crypto.ECDSA !== void 0 && this.pubKey instanceof g.crypto.ECDSA)
          return this.pubKey.verifyWithMessageHash(this.sHashHex, i);
        if (g.crypto.DSA !== void 0 && this.pubKey instanceof g.crypto.DSA)
          return this.pubKey.verifyWithMessageHash(this.sHashHex, i);
        throw "Signature: unsupported public key alg: " + this.pubkeyAlgName;
      };
    }
  }, this.init = function(r, n) {
    throw "init(key, pass) not supported for this alg:prov=" + this.algProvName;
  }, this.updateString = function(r) {
    throw "updateString(str) not supported for this alg:prov=" + this.algProvName;
  }, this.updateHex = function(r) {
    throw "updateHex(hex) not supported for this alg:prov=" + this.algProvName;
  }, this.sign = function() {
    throw "sign() not supported for this alg:prov=" + this.algProvName;
  }, this.signString = function(r) {
    throw "digestString(str) not supported for this alg:prov=" + this.algProvName;
  }, this.signHex = function(r) {
    throw "digestHex(hex) not supported for this alg:prov=" + this.algProvName;
  }, this.verify = function(r) {
    throw "verify(hSigVal) not supported for this alg:prov=" + this.algProvName;
  }, this.initParams = e, e !== void 0 && (e.alg !== void 0 && (this.algName = e.alg, e.prov === void 0 ? this.provName = g.crypto.Util.DEFAULTPROVIDER[this.algName] : this.provName = e.prov, this.algProvName = this.algName + ":" + this.provName, this.setAlgAndProvider(this.algName, this.provName), this._setAlgNames()), e.psssaltlen !== void 0 && (this.pssSaltLen = e.psssaltlen), e.prvkeypem !== void 0)) {
    if (e.prvkeypas !== void 0)
      throw "both prvkeypem and prvkeypas parameters not supported";
    try {
      var t = $e.getKey(e.prvkeypem);
      this.init(t);
    } catch (r) {
      throw "fatal error to load pem private key: " + r;
    }
  }
};
g.crypto.Cipher = function(e) {
};
g.crypto.Cipher.encrypt = function(e, t, r) {
  if (t instanceof Pe && t.isPublic) {
    var n = g.crypto.Cipher.getAlgByKeyAndName(t, r);
    if (n === "RSA")
      return t.encrypt(e);
    if (n === "RSAOAEP")
      return t.encryptOAEP(e, "sha1");
    var i = n.match(/^RSAOAEP(\d+)$/);
    if (i !== null)
      return t.encryptOAEP(e, "sha" + i[1]);
    throw "Cipher.encrypt: unsupported algorithm for RSAKey: " + r;
  } else
    throw "Cipher.encrypt: unsupported key or algorithm";
};
g.crypto.Cipher.decrypt = function(e, t, r) {
  if (t instanceof Pe && t.isPrivate) {
    var n = g.crypto.Cipher.getAlgByKeyAndName(t, r);
    if (n === "RSA")
      return t.decrypt(e);
    if (n === "RSAOAEP")
      return t.decryptOAEP(e, "sha1");
    var i = n.match(/^RSAOAEP(\d+)$/);
    if (i !== null)
      return t.decryptOAEP(e, "sha" + i[1]);
    throw "Cipher.decrypt: unsupported algorithm for RSAKey: " + r;
  } else
    throw "Cipher.decrypt: unsupported key or algorithm";
};
g.crypto.Cipher.getAlgByKeyAndName = function(e, t) {
  if (e instanceof Pe) {
    if (":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t) != -1)
      return t;
    if (t == null)
      return "RSA";
    throw "getAlgByKeyAndName: not supported algorithm name for RSAKey: " + t;
  }
  throw "getAlgByKeyAndName: not supported algorithm name: " + t;
};
g.crypto.OID = new function() {
  this.oidhex2name = { "2a864886f70d010101": "rsaEncryption", "2a8648ce3d0201": "ecPublicKey", "2a8648ce380401": "dsa", "2a8648ce3d030107": "secp256r1", "2b8104001f": "secp192k1", "2b81040021": "secp224r1", "2b8104000a": "secp256k1", "2b81040022": "secp384r1", "2b81040023": "secp521r1", "2a8648ce380403": "SHA1withDSA", "608648016503040301": "SHA224withDSA", "608648016503040302": "SHA256withDSA" };
}();
(typeof g > "u" || !g) && (g = {});
(typeof g.crypto > "u" || !g.crypto) && (g.crypto = {});
g.crypto.ECDSA = function(e) {
  var t = "secp256r1", r = Error, n = ne, i = ze, s = g.crypto.ECDSA, a = g.crypto.ECParameterDB, o = s.getName, u = ye, f = u.getVbyListEx, l = u.isASN1HEX, h = new Zn();
  this.type = "EC", this.isPrivate = !1, this.isPublic = !1, this.getBigRandom = function(c) {
    return new n(c.bitLength(), h).mod(c.subtract(n.ONE)).add(n.ONE);
  }, this.setNamedCurve = function(c) {
    this.ecparams = a.getByName(c), this.prvKeyHex = null, this.pubKeyHex = null, this.curveName = c;
  }, this.setPrivateKeyHex = function(c) {
    this.isPrivate = !0, this.prvKeyHex = c;
  }, this.setPublicKeyHex = function(c) {
    this.isPublic = !0, this.pubKeyHex = c;
  }, this.getPublicKeyXYHex = function() {
    var c = this.pubKeyHex;
    if (c.substr(0, 2) !== "04")
      throw "this method supports uncompressed format(04) only";
    var d = this.ecparams.keycharlen;
    if (c.length !== 2 + d * 2)
      throw "malformed public key hex length";
    var p = {};
    return p.x = c.substr(2, d), p.y = c.substr(2 + d), p;
  }, this.getShortNISTPCurveName = function() {
    var c = this.curveName;
    return c === "secp256r1" || c === "NIST P-256" || c === "P-256" || c === "prime256v1" ? "P-256" : c === "secp384r1" || c === "NIST P-384" || c === "P-384" ? "P-384" : c === "secp521r1" || c === "NIST P-521" || c === "P-521" ? "P-521" : null;
  }, this.generateKeyPairHex = function() {
    var c = this.ecparams.n, d = this.getBigRandom(c), p = this.ecparams.keycharlen, v = ("0000000000" + d.toString(16)).slice(-p);
    this.setPrivateKeyHex(v);
    var m = this.generatePublicKeyHex();
    return { ecprvhex: v, ecpubhex: m };
  }, this.generatePublicKeyHex = function() {
    var c = new n(this.prvKeyHex, 16), d = this.ecparams.G.multiply(c), p = d.getX().toBigInteger(), v = d.getY().toBigInteger(), m = this.ecparams.keycharlen, b = ("0000000000" + p.toString(16)).slice(-m), A = ("0000000000" + v.toString(16)).slice(-m), D = "04" + b + A;
    return this.setPublicKeyHex(D), D;
  }, this.signWithMessageHash = function(c) {
    return this.signHex(c, this.prvKeyHex);
  }, this.signHex = function(c, d) {
    var p = new n(d, 16), v = this.ecparams.n, m = new n(c.substring(0, this.ecparams.keycharlen), 16);
    do
      var b = this.getBigRandom(v), A = this.ecparams.G, D = A.multiply(b), k = D.getX().toBigInteger().mod(v);
    while (k.compareTo(n.ZERO) <= 0);
    var L = b.modInverse(v).multiply(m.add(p.multiply(k))).mod(v);
    return s.biRSSigToASN1Sig(k, L);
  }, this.sign = function(c, d) {
    var p = d, v = this.ecparams.n, m = n.fromByteArrayUnsigned(c);
    do
      var b = this.getBigRandom(v), A = this.ecparams.G, D = A.multiply(b), k = D.getX().toBigInteger().mod(v);
    while (k.compareTo(ne.ZERO) <= 0);
    var L = b.modInverse(v).multiply(m.add(p.multiply(k))).mod(v);
    return this.serializeSig(k, L);
  }, this.verifyWithMessageHash = function(c, d) {
    return this.verifyHex(c, d, this.pubKeyHex);
  }, this.verifyHex = function(c, d, p) {
    try {
      var v, m, b = s.parseSigHex(d);
      v = b.r, m = b.s;
      var A = i.decodeFromHex(this.ecparams.curve, p), D = new n(c.substring(0, this.ecparams.keycharlen), 16);
      return this.verifyRaw(D, v, m, A);
    } catch {
      return !1;
    }
  }, this.verify = function(c, d, p) {
    var v, m;
    if (Bitcoin.Util.isArray(d)) {
      var b = this.parseSig(d);
      v = b.r, m = b.s;
    } else if (typeof d == "object" && d.r && d.s)
      v = d.r, m = d.s;
    else
      throw "Invalid value for signature";
    var A;
    if (p instanceof ze)
      A = p;
    else if (Bitcoin.Util.isArray(p))
      A = i.decodeFrom(this.ecparams.curve, p);
    else
      throw "Invalid format for pubkey value, must be byte array or ECPointFp";
    var D = n.fromByteArrayUnsigned(c);
    return this.verifyRaw(D, v, m, A);
  }, this.verifyRaw = function(c, d, p, v) {
    var m = this.ecparams.n, b = this.ecparams.G;
    if (d.compareTo(n.ONE) < 0 || d.compareTo(m) >= 0 || p.compareTo(n.ONE) < 0 || p.compareTo(m) >= 0)
      return !1;
    var A = p.modInverse(m), D = c.multiply(A).mod(m), k = d.multiply(A).mod(m), L = b.multiply(D).add(v.multiply(k)), _ = L.getX().toBigInteger().mod(m);
    return _.equals(d);
  }, this.serializeSig = function(c, d) {
    var p = c.toByteArraySigned(), v = d.toByteArraySigned(), m = [];
    return m.push(2), m.push(p.length), m = m.concat(p), m.push(2), m.push(v.length), m = m.concat(v), m.unshift(m.length), m.unshift(48), m;
  }, this.parseSig = function(c) {
    var d;
    if (c[0] != 48)
      throw new Error("Signature not a valid DERSequence");
    if (d = 2, c[d] != 2)
      throw new Error("First element in signature must be a DERInteger");
    var p = c.slice(d + 2, d + 2 + c[d + 1]);
    if (d += 2 + c[d + 1], c[d] != 2)
      throw new Error("Second element in signature must be a DERInteger");
    var v = c.slice(d + 2, d + 2 + c[d + 1]);
    d += 2 + c[d + 1];
    var m = n.fromByteArrayUnsigned(p), b = n.fromByteArrayUnsigned(v);
    return { r: m, s: b };
  }, this.parseSigCompact = function(c) {
    if (c.length !== 65)
      throw "Signature has the wrong length";
    var d = c[0] - 27;
    if (d < 0 || d > 7)
      throw "Invalid signature type";
    var p = this.ecparams.n, v = n.fromByteArrayUnsigned(c.slice(1, 33)).mod(p), m = n.fromByteArrayUnsigned(c.slice(33, 65)).mod(p);
    return { r: v, s: m, i: d };
  }, this.readPKCS5PrvKeyHex = function(c) {
    if (l(c) === !1)
      throw new Error("not ASN.1 hex string");
    var d, p, v;
    try {
      d = f(c, 0, ["[0]", 0], "06"), p = f(c, 0, [1], "04");
      try {
        v = f(c, 0, ["[1]", 0], "03");
      } catch {
      }
    } catch {
      throw new Error("malformed PKCS#1/5 plain ECC private key");
    }
    if (this.curveName = o(d), this.curveName === void 0)
      throw "unsupported curve name";
    this.setNamedCurve(this.curveName), this.setPublicKeyHex(v), this.setPrivateKeyHex(p), this.isPublic = !1;
  }, this.readPKCS8PrvKeyHex = function(c) {
    if (l(c) === !1)
      throw new r("not ASN.1 hex string");
    var d, p, v, m;
    try {
      d = f(c, 0, [1, 0], "06"), p = f(c, 0, [1, 1], "06"), v = f(c, 0, [2, 0, 1], "04");
      try {
        m = f(c, 0, [2, 0, "[1]", 0], "03");
      } catch {
      }
    } catch {
      throw new r("malformed PKCS#8 plain ECC private key");
    }
    if (this.curveName = o(p), this.curveName === void 0)
      throw new r("unsupported curve name");
    this.setNamedCurve(this.curveName), this.setPublicKeyHex(m), this.setPrivateKeyHex(v), this.isPublic = !1;
  }, this.readPKCS8PubKeyHex = function(c) {
    if (l(c) === !1)
      throw new r("not ASN.1 hex string");
    var d, p, v;
    try {
      d = f(c, 0, [0, 0], "06"), p = f(c, 0, [0, 1], "06"), v = f(c, 0, [1], "03");
    } catch {
      throw new r("malformed PKCS#8 ECC public key");
    }
    if (this.curveName = o(p), this.curveName === null)
      throw new r("unsupported curve name");
    this.setNamedCurve(this.curveName), this.setPublicKeyHex(v);
  }, this.readCertPubKeyHex = function(c, d) {
    if (l(c) === !1)
      throw new r("not ASN.1 hex string");
    var p, v;
    try {
      p = f(c, 0, [0, 5, 0, 1], "06"), v = f(c, 0, [0, 5, 1], "03");
    } catch {
      throw new r("malformed X.509 certificate ECC public key");
    }
    if (this.curveName = o(p), this.curveName === null)
      throw new r("unsupported curve name");
    this.setNamedCurve(this.curveName), this.setPublicKeyHex(v);
  }, e !== void 0 && e.curve !== void 0 && (this.curveName = e.curve), this.curveName === void 0 && (this.curveName = t), this.setNamedCurve(this.curveName), e !== void 0 && (e.prv !== void 0 && this.setPrivateKeyHex(e.prv), e.pub !== void 0 && this.setPublicKeyHex(e.pub));
};
g.crypto.ECDSA.parseSigHex = function(e) {
  var t = g.crypto.ECDSA.parseSigHexInHexRS(e), r = new ne(t.r, 16), n = new ne(t.s, 16);
  return { r, s: n };
};
g.crypto.ECDSA.parseSigHexInHexRS = function(e) {
  var t = ye, r = t.getChildIdx, n = t.getV;
  if (t.checkStrictDER(e, 0), e.substr(0, 2) != "30")
    throw new Error("signature is not a ASN.1 sequence");
  var i = r(e, 0);
  if (i.length != 2)
    throw new Error("signature shall have two elements");
  var s = i[0], a = i[1];
  if (e.substr(s, 2) != "02")
    throw new Error("1st item not ASN.1 integer");
  if (e.substr(a, 2) != "02")
    throw new Error("2nd item not ASN.1 integer");
  var o = n(e, s), u = n(e, a);
  return { r: o, s: u };
};
g.crypto.ECDSA.asn1SigToConcatSig = function(e) {
  var t = g.crypto.ECDSA.parseSigHexInHexRS(e), r = t.r, n = t.s;
  if (r.length >= 130 && r.length <= 134) {
    if (r.length % 2 != 0)
      throw Error("unknown ECDSA sig r length error");
    if (n.length % 2 != 0)
      throw Error("unknown ECDSA sig s length error");
    r.substr(0, 2) == "00" && (r = r.substr(2)), n.substr(0, 2) == "00" && (n = n.substr(2));
    var i = Math.max(r.length, n.length);
    return r = ("000000" + r).slice(-i), n = ("000000" + n).slice(-i), r + n;
  }
  if (r.substr(0, 2) == "00" && r.length % 32 == 2 && (r = r.substr(2)), n.substr(0, 2) == "00" && n.length % 32 == 2 && (n = n.substr(2)), r.length % 32 == 30 && (r = "00" + r), n.length % 32 == 30 && (n = "00" + n), r.length % 32 != 0)
    throw Error("unknown ECDSA sig r length error");
  if (n.length % 32 != 0)
    throw Error("unknown ECDSA sig s length error");
  return r + n;
};
g.crypto.ECDSA.concatSigToASN1Sig = function(e) {
  if (e.length % 4 != 0)
    throw Error("unknown ECDSA concatinated r-s sig length error");
  var t = e.substr(0, e.length / 2), r = e.substr(e.length / 2);
  return g.crypto.ECDSA.hexRSSigToASN1Sig(t, r);
};
g.crypto.ECDSA.hexRSSigToASN1Sig = function(e, t) {
  var r = new ne(e, 16), n = new ne(t, 16);
  return g.crypto.ECDSA.biRSSigToASN1Sig(r, n);
};
g.crypto.ECDSA.biRSSigToASN1Sig = function(e, t) {
  var r = g.asn1, n = new r.DERInteger({ bigint: e }), i = new r.DERInteger({ bigint: t }), s = new r.DERSequence({ array: [n, i] });
  return s.tohex();
};
g.crypto.ECDSA.getName = function(e) {
  return e === "2b8104001f" ? "secp192k1" : e === "2a8648ce3d030107" ? "secp256r1" : e === "2b8104000a" ? "secp256k1" : e === "2b81040021" ? "secp224r1" : e === "2b81040022" ? "secp384r1" : e === "2b81040023" ? "secp521r1" : "|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e) !== -1 ? "secp256r1" : "|secp256k1|".indexOf(e) !== -1 ? "secp256k1" : "|secp224r1|NIST P-224|P-224|".indexOf(e) !== -1 ? "secp224r1" : "|secp384r1|NIST P-384|P-384|".indexOf(e) !== -1 ? "secp384r1" : "|secp521r1|NIST P-521|P-521|".indexOf(e) !== -1 ? "secp521r1" : null;
};
(typeof g > "u" || !g) && (g = {});
(typeof g.crypto > "u" || !g.crypto) && (g.crypto = {});
g.crypto.ECParameterDB = new function() {
  var e = {}, t = {};
  function r(n) {
    return new ne(n, 16);
  }
  this.getByName = function(n) {
    var i = n;
    if (typeof t[i] < "u" && (i = t[n]), typeof e[i] < "u")
      return e[i];
    throw "unregistered EC curve name: " + i;
  }, this.regist = function(n, i, s, a, o, u, f, l, h, c, d, p) {
    e[n] = {};
    var v = r(s), m = r(a), b = r(o), A = r(u), D = r(f), k = new On(v, m, b), L = k.decodePointHex("04" + l + h);
    e[n].name = n, e[n].keylen = i, e[n].keycharlen = Math.ceil(i / 8) * 2, e[n].curve = k, e[n].G = L, e[n].n = A, e[n].h = D, e[n].oid = d, e[n].info = p;
    for (var _ = 0; _ < c.length; _++)
      t[c[_]] = n;
  };
}();
g.crypto.ECParameterDB.regist("secp128r1", 128, "FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF", "FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC", "E87579C11079F43DD824993C2CEE5ED3", "FFFFFFFE0000000075A30D1B9038A115", "1", "161FF7528B899B2D0C28607CA52C5B86", "CF5AC8395BAFEB13C02DA292DDED7A83", [], "", "secp128r1 : SECG curve over a 128 bit prime field");
g.crypto.ECParameterDB.regist("secp160k1", 160, "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73", "0", "7", "0100000000000000000001B8FA16DFAB9ACA16B6B3", "1", "3B4C382CE37AA192A4019E763036F4F5DD4D7EBB", "938CF935318FDCED6BC28286531733C3F03C4FEE", [], "", "secp160k1 : SECG curve over a 160 bit prime field");
g.crypto.ECParameterDB.regist("secp160r1", 160, "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF", "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC", "1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45", "0100000000000000000001F4C8F927AED3CA752257", "1", "4A96B5688EF573284664698968C38BB913CBFC82", "23A628553168947D59DCC912042351377AC5FB32", [], "", "secp160r1 : SECG curve over a 160 bit prime field");
g.crypto.ECParameterDB.regist("secp192k1", 192, "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37", "0", "3", "FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D", "1", "DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D", "9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D", []);
g.crypto.ECParameterDB.regist("secp192r1", 192, "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF", "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC", "64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1", "FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831", "1", "188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012", "07192B95FFC8DA78631011ED6B24CDD573F977A11E794811", []);
g.crypto.ECParameterDB.regist("secp224r1", 224, "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001", "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE", "B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4", "FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D", "1", "B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21", "BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34", []);
g.crypto.ECParameterDB.regist("secp256k1", 256, "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F", "0", "7", "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141", "1", "79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798", "483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8", []);
g.crypto.ECParameterDB.regist("secp256r1", 256, "FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF", "FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC", "5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B", "FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551", "1", "6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296", "4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5", ["NIST P-256", "P-256", "prime256v1"]);
g.crypto.ECParameterDB.regist("secp384r1", 384, "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF", "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC", "B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF", "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973", "1", "AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7", "3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f", ["NIST P-384", "P-384"]);
g.crypto.ECParameterDB.regist("secp521r1", 521, "1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF", "1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC", "051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00", "1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409", "1", "00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66", "011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650", ["NIST P-521", "P-521"]);
(typeof g > "u" || !g) && (g = {});
(typeof g.crypto > "u" || !g.crypto) && (g.crypto = {});
g.crypto.DSA = function() {
  var e = ye;
  e.getVbyList;
  var t = e.getVbyListEx, r = e.isASN1HEX, n = ne;
  this.p = null, this.q = null, this.g = null, this.y = null, this.x = null, this.type = "DSA", this.isPrivate = !1, this.isPublic = !1, this.setPrivate = function(i, s, a, o, u) {
    this.isPrivate = !0, this.p = i, this.q = s, this.g = a, this.y = o, this.x = u;
  }, this.setPrivateHex = function(i, s, a, o, u) {
    var f, l, h, c, d;
    f = new ne(i, 16), l = new ne(s, 16), h = new ne(a, 16), typeof o == "string" && o.length > 1 ? c = new ne(o, 16) : c = null, d = new ne(u, 16), this.setPrivate(f, l, h, c, d);
  }, this.setPublic = function(i, s, a, o) {
    this.isPublic = !0, this.p = i, this.q = s, this.g = a, this.y = o, this.x = null;
  }, this.setPublicHex = function(i, s, a, o) {
    var u, f, l, h;
    u = new ne(i, 16), f = new ne(s, 16), l = new ne(a, 16), h = new ne(o, 16), this.setPublic(u, f, l, h);
  }, this.signWithMessageHash = function(i) {
    var s = this.p, a = this.q, o = this.g;
    this.y;
    var u = this.x, f = g.crypto.Util.getRandomBigIntegerMinToMax(ne.ONE.add(ne.ONE), a.subtract(ne.ONE)), l = i.substr(0, a.bitLength() / 4), h = new ne(l, 16), c = o.modPow(f, s).mod(a), d = f.modInverse(a).multiply(h.add(u.multiply(c))).mod(a), p = g.asn1.ASN1Util.jsonToASN1HEX({ seq: [{ int: { bigint: c } }, { int: { bigint: d } }] });
    return p;
  }, this.verifyWithMessageHash = function(i, s) {
    var a = this.p, o = this.q, u = this.g, f = this.y, l = this.parseASN1Signature(s), h = l[0], c = l[1], d = i.substr(0, o.bitLength() / 4), p = new ne(d, 16);
    if (ne.ZERO.compareTo(h) > 0 || h.compareTo(o) > 0 || ne.ZERO.compareTo(c) >= 0 || c.compareTo(o) > 0)
      throw "invalid DSA signature";
    var v = c.modInverse(o), m = p.multiply(v).mod(o), b = h.multiply(v).mod(o), A = u.modPow(m, a).multiply(f.modPow(b, a)).mod(a).mod(o);
    return A.compareTo(h) == 0;
  }, this.parseASN1Signature = function(i) {
    try {
      var s = new n(t(i, 0, [0], "02"), 16), a = new n(t(i, 0, [1], "02"), 16);
      return [s, a];
    } catch {
      throw new Error("malformed ASN.1 DSA signature");
    }
  }, this.readPKCS5PrvKeyHex = function(i) {
    var s, a, o, u, f;
    if (r(i) === !1)
      throw new Error("not ASN.1 hex string");
    try {
      s = t(i, 0, [1], "02"), a = t(i, 0, [2], "02"), o = t(i, 0, [3], "02"), u = t(i, 0, [4], "02"), f = t(i, 0, [5], "02");
    } catch {
      throw new Error("malformed PKCS#1/5 plain DSA private key");
    }
    this.setPrivateHex(s, a, o, u, f);
  }, this.readPKCS8PrvKeyHex = function(i) {
    var s, a, o, u;
    if (r(i) === !1)
      throw new Error("not ASN.1 hex string");
    try {
      s = t(i, 0, [1, 1, 0], "02"), a = t(i, 0, [1, 1, 1], "02"), o = t(i, 0, [1, 1, 2], "02"), u = t(i, 0, [2, 0], "02");
    } catch {
      throw new Error("malformed PKCS#8 plain DSA private key");
    }
    this.setPrivateHex(s, a, o, null, u);
  }, this.readPKCS8PubKeyHex = function(i) {
    var s, a, o, u;
    if (r(i) === !1)
      throw new Error("not ASN.1 hex string");
    try {
      s = t(i, 0, [0, 1, 0], "02"), a = t(i, 0, [0, 1, 1], "02"), o = t(i, 0, [0, 1, 2], "02"), u = t(i, 0, [1, 0], "02");
    } catch {
      throw new Error("malformed PKCS#8 DSA public key");
    }
    this.setPublicHex(s, a, o, u);
  }, this.readCertPubKeyHex = function(i, s) {
    var a, o, u, f;
    if (r(i) === !1)
      throw new Error("not ASN.1 hex string");
    try {
      a = t(i, 0, [0, 5, 0, 1, 0], "02"), o = t(i, 0, [0, 5, 0, 1, 1], "02"), u = t(i, 0, [0, 5, 0, 1, 2], "02"), f = t(i, 0, [0, 5, 1, 0], "02");
    } catch {
      throw new Error("malformed X.509 certificate DSA public key");
    }
    this.setPublicHex(a, o, u, f);
  };
};
var $e = function() {
  var e = function(p, v, m) {
    return n(Ee.AES, p, v, m);
  }, t = function(p, v, m) {
    return n(Ee.TripleDES, p, v, m);
  }, r = function(p, v, m) {
    return n(Ee.DES, p, v, m);
  }, n = function(p, v, m, b) {
    var A = Ee.enc.Hex.parse(v), D = Ee.enc.Hex.parse(m), k = Ee.enc.Hex.parse(b), L = {};
    L.key = D, L.iv = k, L.ciphertext = A;
    var _ = p.decrypt(L, D, { iv: k });
    return Ee.enc.Hex.stringify(_);
  }, i = function(p, v, m) {
    return o(Ee.AES, p, v, m);
  }, s = function(p, v, m) {
    return o(Ee.TripleDES, p, v, m);
  }, a = function(p, v, m) {
    return o(Ee.DES, p, v, m);
  }, o = function(p, v, m, b) {
    var A = Ee.enc.Hex.parse(v), D = Ee.enc.Hex.parse(m), k = Ee.enc.Hex.parse(b), L = p.encrypt(A, D, { iv: k }), _ = Ee.enc.Hex.parse(L.toString()), F = Ee.enc.Base64.stringify(_);
    return F;
  }, u = { "AES-256-CBC": { proc: e, eproc: i, keylen: 32, ivlen: 16 }, "AES-192-CBC": { proc: e, eproc: i, keylen: 24, ivlen: 16 }, "AES-128-CBC": { proc: e, eproc: i, keylen: 16, ivlen: 16 }, "DES-EDE3-CBC": { proc: t, eproc: s, keylen: 24, ivlen: 8 }, "DES-CBC": { proc: r, eproc: a, keylen: 8, ivlen: 8 } }, f = function(p) {
    var v = Ee.lib.WordArray.random(p), m = Ee.enc.Hex.stringify(v);
    return m;
  }, l = function(p) {
    var v = {}, m = p.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)", "m"));
    m && (v.cipher = m[1], v.ivsalt = m[2]);
    var b = p.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));
    b && (v.type = b[1]);
    var A = -1, D = 0;
    p.indexOf(`\r
\r
`) != -1 && (A = p.indexOf(`\r
\r
`), D = 2), p.indexOf(`

`) != -1 && (A = p.indexOf(`

`), D = 1);
    var k = p.indexOf("-----END");
    if (A != -1 && k != -1) {
      var L = p.substring(A + D * 2, k - D);
      L = L.replace(/\s+/g, ""), v.data = L;
    }
    return v;
  }, h = function(p, v, m) {
    for (var b = m.substring(0, 16), A = Ee.enc.Hex.parse(b), D = Ee.enc.Utf8.parse(v), k = u[p].keylen + u[p].ivlen, L = "", _ = null; ; ) {
      var F = Ee.algo.MD5.create();
      if (_ != null && F.update(_), F.update(D), F.update(A), _ = F.finalize(), L = L + Ee.enc.Hex.stringify(_), L.length >= k * 2)
        break;
    }
    var O = {};
    return O.keyhex = L.substr(0, u[p].keylen * 2), O.ivhex = L.substr(u[p].keylen * 2, u[p].ivlen * 2), O;
  }, c = function(p, v, m, b) {
    var A = Ee.enc.Base64.parse(p), D = Ee.enc.Hex.stringify(A), k = u[v].proc, L = k(D, m, b);
    return L;
  }, d = function(p, v, m, b) {
    var A = u[v].eproc, D = A(p, m, b);
    return D;
  };
  return { version: "1.0.0", parsePKCS5PEM: function(p) {
    return l(p);
  }, getKeyAndUnusedIvByPasscodeAndIvsalt: function(p, v, m) {
    return h(p, v, m);
  }, decryptKeyB64: function(p, v, m, b) {
    return c(p, v, m, b);
  }, getDecryptedKeyHex: function(p, v) {
    var m = l(p), b = m.cipher, A = m.ivsalt, D = m.data, k = h(b, v, A), L = k.keyhex, _ = c(D, b, L, A);
    return _;
  }, getEncryptedPKCS5PEMFromPrvKeyHex: function(p, v, m, b, A) {
    var P = "";
    if ((typeof b > "u" || b == null) && (b = "AES-256-CBC"), typeof u[b] > "u")
      throw new Error("KEYUTIL unsupported algorithm: " + b);
    if (typeof A > "u" || A == null) {
      var D = u[b].ivlen, k = f(D);
      A = k.toUpperCase();
    }
    var L = h(b, m, A), _ = L.keyhex, F = d(v, b, _, A), O = F.replace(/(.{64})/g, `$1\r
`), P = "-----BEGIN " + p + ` PRIVATE KEY-----\r
`;
    return P += `Proc-Type: 4,ENCRYPTED\r
`, P += "DEK-Info: " + b + "," + A + `\r
`, P += `\r
`, P += O, P += `\r
-----END ` + p + ` PRIVATE KEY-----\r
`, P;
  }, parseHexOfEncryptedPKCS8: function(p) {
    var v = ye, m = v.getChildIdx, b = v.getV, A = {}, D = m(p, 0);
    if (D.length != 2)
      throw new Error("malformed format: SEQUENCE(0).items != 2: " + D.length);
    A.ciphertext = b(p, D[1]);
    var k = m(p, D[0]);
    if (k.length != 2)
      throw new Error("malformed format: SEQUENCE(0.0).items != 2: " + k.length);
    if (b(p, k[0]) != "2a864886f70d01050d")
      throw new Error("this only supports pkcs5PBES2");
    var L = m(p, k[1]);
    if (k.length != 2)
      throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: " + L.length);
    var _ = m(p, L[1]);
    if (_.length != 2)
      throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: " + _.length);
    if (b(p, _[0]) != "2a864886f70d0307")
      throw "this only supports TripleDES";
    A.encryptionSchemeAlg = "TripleDES", A.encryptionSchemeIV = b(p, _[1]);
    var F = m(p, L[0]);
    if (F.length != 2)
      throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: " + F.length);
    if (b(p, F[0]) != "2a864886f70d01050c")
      throw new Error("this only supports pkcs5PBKDF2");
    var O = m(p, F[1]);
    if (O.length < 2)
      throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: " + O.length);
    A.pbkdf2Salt = b(p, O[0]);
    var P = b(p, O[1]);
    try {
      A.pbkdf2Iter = parseInt(P, 16);
    } catch {
      throw new Error("malformed format pbkdf2Iter: " + P);
    }
    return A;
  }, getPBKDF2KeyHexFromParam: function(p, v) {
    var m = Ee.enc.Hex.parse(p.pbkdf2Salt), b = p.pbkdf2Iter, A = Ee.PBKDF2(v, m, { keySize: 192 / 32, iterations: b }), D = Ee.enc.Hex.stringify(A);
    return D;
  }, _getPlainPKCS8HexFromEncryptedPKCS8PEM: function(p, v) {
    var m = Ft(p, "ENCRYPTED PRIVATE KEY"), b = this.parseHexOfEncryptedPKCS8(m), A = $e.getPBKDF2KeyHexFromParam(b, v), D = {};
    D.ciphertext = Ee.enc.Hex.parse(b.ciphertext);
    var k = Ee.enc.Hex.parse(A), L = Ee.enc.Hex.parse(b.encryptionSchemeIV), _ = Ee.TripleDES.decrypt(D, k, { iv: L }), F = Ee.enc.Hex.stringify(_);
    return F;
  }, getKeyFromEncryptedPKCS8PEM: function(p, v) {
    var m = this._getPlainPKCS8HexFromEncryptedPKCS8PEM(p, v), b = this.getKeyFromPlainPrivatePKCS8Hex(m);
    return b;
  }, parsePlainPrivatePKCS8Hex: function(p) {
    var v = ye, m = v.getChildIdx, b = v.getV, A = {};
    if (A.algparam = null, p.substr(0, 2) != "30")
      throw new Error("malformed plain PKCS8 private key(code:001)");
    var D = m(p, 0);
    if (D.length < 3)
      throw new Error("malformed plain PKCS8 private key(code:002)");
    if (p.substr(D[1], 2) != "30")
      throw new Error("malformed PKCS8 private key(code:003)");
    var k = m(p, D[1]);
    if (k.length != 2)
      throw new Error("malformed PKCS8 private key(code:004)");
    if (p.substr(k[0], 2) != "06")
      throw new Error("malformed PKCS8 private key(code:005)");
    if (A.algoid = b(p, k[0]), p.substr(k[1], 2) == "06" && (A.algparam = b(p, k[1])), p.substr(D[2], 2) != "04")
      throw new Error("malformed PKCS8 private key(code:006)");
    return A.keyidx = v.getVidx(p, D[2]), A;
  }, getKeyFromPlainPrivatePKCS8PEM: function(p) {
    var v = Ft(p, "PRIVATE KEY"), m = this.getKeyFromPlainPrivatePKCS8Hex(v);
    return m;
  }, getKeyFromPlainPrivatePKCS8Hex: function(p) {
    var v = this.parsePlainPrivatePKCS8Hex(p), m;
    if (v.algoid == "2a864886f70d010101")
      m = new Pe();
    else if (v.algoid == "2a8648ce380401")
      m = new g.crypto.DSA();
    else if (v.algoid == "2a8648ce3d0201")
      m = new g.crypto.ECDSA();
    else
      throw new Error("unsupported private key algorithm");
    return m.readPKCS8PrvKeyHex(p), m;
  }, _getKeyFromPublicPKCS8Hex: function(p) {
    var v, m = ye.getVbyList(p, 0, [0, 0], "06");
    if (m === "2a864886f70d010101")
      v = new Pe();
    else if (m === "2a8648ce380401")
      v = new g.crypto.DSA();
    else if (m === "2a8648ce3d0201")
      v = new g.crypto.ECDSA();
    else
      throw new Error("unsupported PKCS#8 public key hex");
    return v.readPKCS8PubKeyHex(p), v;
  }, parsePublicRawRSAKeyHex: function(p) {
    var v = ye, m = v.getChildIdx, b = v.getV, A = {};
    if (p.substr(0, 2) != "30")
      throw new Error("malformed RSA key(code:001)");
    var D = m(p, 0);
    if (D.length != 2)
      throw new Error("malformed RSA key(code:002)");
    if (p.substr(D[0], 2) != "02")
      throw new Error("malformed RSA key(code:003)");
    if (A.n = b(p, D[0]), p.substr(D[1], 2) != "02")
      throw new Error("malformed RSA key(code:004)");
    return A.e = b(p, D[1]), A;
  }, parsePublicPKCS8Hex: function(p) {
    var v = ye, m = v.getChildIdx, b = v.getV, A = {};
    A.algparam = null;
    var D = m(p, 0);
    if (D.length != 2)
      throw new Error("outer DERSequence shall have 2 elements: " + D.length);
    var k = D[0];
    if (p.substr(k, 2) != "30")
      throw new Error("malformed PKCS8 public key(code:001)");
    var L = m(p, k);
    if (L.length != 2)
      throw new Error("malformed PKCS8 public key(code:002)");
    if (p.substr(L[0], 2) != "06")
      throw new Error("malformed PKCS8 public key(code:003)");
    if (A.algoid = b(p, L[0]), p.substr(L[1], 2) == "06" ? A.algparam = b(p, L[1]) : p.substr(L[1], 2) == "30" && (A.algparam = {}, A.algparam.p = v.getVbyList(p, L[1], [0], "02"), A.algparam.q = v.getVbyList(p, L[1], [1], "02"), A.algparam.g = v.getVbyList(p, L[1], [2], "02")), p.substr(D[1], 2) != "03")
      throw new Error("malformed PKCS8 public key(code:004)");
    return A.key = b(p, D[1]).substr(2), A;
  } };
}();
$e.getKey = function(e, t, r) {
  var n = ye, i = n.getChildIdx;
  n.getV;
  var s = n.getVbyList, a = g.crypto, o = a.ECDSA, u = a.DSA, f = Pe, l = Ft, h = $e;
  if (typeof f < "u" && e instanceof f || typeof o < "u" && e instanceof o || typeof u < "u" && e instanceof u)
    return e;
  if (e.curve !== void 0 && e.xy !== void 0 && e.d === void 0)
    return new o({ pub: e.xy, curve: e.curve });
  if (e.curve !== void 0 && e.d !== void 0)
    return new o({ prv: e.d, curve: e.curve });
  if (e.kty === void 0 && e.n !== void 0 && e.e !== void 0 && e.d === void 0) {
    var c = new f();
    return c.setPublic(e.n, e.e), c;
  }
  if (e.kty === void 0 && e.n !== void 0 && e.e !== void 0 && e.d !== void 0 && e.p !== void 0 && e.q !== void 0 && e.dp !== void 0 && e.dq !== void 0 && e.co !== void 0 && e.qi === void 0) {
    var c = new f();
    return c.setPrivateEx(e.n, e.e, e.d, e.p, e.q, e.dp, e.dq, e.co), c;
  }
  if (e.kty === void 0 && e.n !== void 0 && e.e !== void 0 && e.d !== void 0 && e.p === void 0) {
    var c = new f();
    return c.setPrivate(e.n, e.e, e.d), c;
  }
  if (e.p !== void 0 && e.q !== void 0 && e.g !== void 0 && e.y !== void 0 && e.x === void 0) {
    var c = new u();
    return c.setPublic(e.p, e.q, e.g, e.y), c;
  }
  if (e.p !== void 0 && e.q !== void 0 && e.g !== void 0 && e.y !== void 0 && e.x !== void 0) {
    var c = new u();
    return c.setPrivate(e.p, e.q, e.g, e.y, e.x), c;
  }
  if (e.kty === "RSA" && e.n !== void 0 && e.e !== void 0 && e.d === void 0) {
    var c = new f();
    return c.setPublic(ft(e.n), ft(e.e)), c;
  }
  if (e.kty === "RSA" && e.n !== void 0 && e.e !== void 0 && e.d !== void 0 && e.p !== void 0 && e.q !== void 0 && e.dp !== void 0 && e.dq !== void 0 && e.qi !== void 0) {
    var c = new f();
    return c.setPrivateEx(ft(e.n), ft(e.e), ft(e.d), ft(e.p), ft(e.q), ft(e.dp), ft(e.dq), ft(e.qi)), c;
  }
  if (e.kty === "RSA" && e.n !== void 0 && e.e !== void 0 && e.d !== void 0) {
    var c = new f();
    return c.setPrivate(ft(e.n), ft(e.e), ft(e.d)), c;
  }
  if (e.kty === "EC" && e.crv !== void 0 && e.x !== void 0 && e.y !== void 0 && e.d === void 0) {
    var d = new o({ curve: e.crv }), p = d.ecparams.keycharlen, v = ("0000000000" + ft(e.x)).slice(-p), m = ("0000000000" + ft(e.y)).slice(-p), b = "04" + v + m;
    return d.setPublicKeyHex(b), d;
  }
  if (e.kty === "EC" && e.crv !== void 0 && e.x !== void 0 && e.y !== void 0 && e.d !== void 0) {
    var d = new o({ curve: e.crv }), p = d.ecparams.keycharlen, v = ("0000000000" + ft(e.x)).slice(-p), m = ("0000000000" + ft(e.y)).slice(-p), b = "04" + v + m, A = ("0000000000" + ft(e.d)).slice(-p);
    return d.setPublicKeyHex(b), d.setPrivateKeyHex(A), d;
  }
  if (r === "pkcs5prv") {
    var D = e, n = ye, k, c;
    if (k = i(D, 0), k.length === 9)
      c = new f(), c.readPKCS5PrvKeyHex(D);
    else if (k.length === 6)
      c = new u(), c.readPKCS5PrvKeyHex(D);
    else if (k.length > 2 && D.substr(k[1], 2) === "04")
      c = new o(), c.readPKCS5PrvKeyHex(D);
    else
      throw new Error("unsupported PKCS#1/5 hexadecimal key");
    return c;
  }
  if (r === "pkcs8prv") {
    var c = h.getKeyFromPlainPrivatePKCS8Hex(e);
    return c;
  }
  if (r === "pkcs8pub")
    return h._getKeyFromPublicPKCS8Hex(e);
  if (r === "x509pub")
    return Be.getPublicKeyFromCertHex(e);
  if (e.indexOf("-END CERTIFICATE-", 0) != -1 || e.indexOf("-END X509 CERTIFICATE-", 0) != -1 || e.indexOf("-END TRUSTED CERTIFICATE-", 0) != -1)
    return Be.getPublicKeyFromCertPEM(e);
  if (e.indexOf("-END PUBLIC KEY-") != -1) {
    var L = Ft(e, "PUBLIC KEY");
    return h._getKeyFromPublicPKCS8Hex(L);
  }
  if (e.indexOf("-END RSA PRIVATE KEY-") != -1 && e.indexOf("4,ENCRYPTED") == -1) {
    var _ = l(e, "RSA PRIVATE KEY");
    return h.getKey(_, null, "pkcs5prv");
  }
  if (e.indexOf("-END DSA PRIVATE KEY-") != -1 && e.indexOf("4,ENCRYPTED") == -1) {
    var F = l(e, "DSA PRIVATE KEY"), O = s(F, 0, [1], "02"), P = s(F, 0, [2], "02"), M = s(F, 0, [3], "02"), C = s(F, 0, [4], "02"), y = s(F, 0, [5], "02"), c = new u();
    return c.setPrivate(new ne(O, 16), new ne(P, 16), new ne(M, 16), new ne(C, 16), new ne(y, 16)), c;
  }
  if (e.indexOf("-END EC PRIVATE KEY-") != -1 && e.indexOf("4,ENCRYPTED") == -1) {
    var _ = l(e, "EC PRIVATE KEY");
    return h.getKey(_, null, "pkcs5prv");
  }
  if (e.indexOf("-END PRIVATE KEY-") != -1)
    return h.getKeyFromPlainPrivatePKCS8PEM(e);
  if (e.indexOf("-END RSA PRIVATE KEY-") != -1 && e.indexOf("4,ENCRYPTED") != -1) {
    var E = h.getDecryptedKeyHex(e, t), T = new Pe();
    return T.readPKCS5PrvKeyHex(E), T;
  }
  if (e.indexOf("-END EC PRIVATE KEY-") != -1 && e.indexOf("4,ENCRYPTED") != -1) {
    var F = h.getDecryptedKeyHex(e, t), c = s(F, 0, [1], "04"), R = s(F, 0, [2, 0], "06"), N = s(F, 0, [3, 0], "03").substr(2), H = "";
    if (g.crypto.OID.oidhex2name[R] !== void 0)
      H = g.crypto.OID.oidhex2name[R];
    else
      throw new Error("undefined OID(hex) in KJUR.crypto.OID: " + R);
    var d = new o({ curve: H });
    return d.setPublicKeyHex(N), d.setPrivateKeyHex(c), d.isPublic = !1, d;
  }
  if (e.indexOf("-END DSA PRIVATE KEY-") != -1 && e.indexOf("4,ENCRYPTED") != -1) {
    var F = h.getDecryptedKeyHex(e, t), O = s(F, 0, [1], "02"), P = s(F, 0, [2], "02"), M = s(F, 0, [3], "02"), C = s(F, 0, [4], "02"), y = s(F, 0, [5], "02"), c = new u();
    return c.setPrivate(new ne(O, 16), new ne(P, 16), new ne(M, 16), new ne(C, 16), new ne(y, 16)), c;
  }
  if (e.indexOf("-END ENCRYPTED PRIVATE KEY-") != -1)
    return h.getKeyFromEncryptedPKCS8PEM(e, t);
  throw new Error("not supported argument");
};
$e.generateKeypair = function(e, t) {
  if (e == "RSA") {
    var r = t, n = new Pe();
    n.generate(r, "10001"), n.isPrivate = !0, n.isPublic = !0;
    var i = new Pe(), s = n.n.toString(16), a = n.e.toString(16);
    i.setPublic(s, a), i.isPrivate = !1, i.isPublic = !0;
    var o = {};
    return o.prvKeyObj = n, o.pubKeyObj = i, o;
  } else if (e == "EC") {
    var u = t, f = new g.crypto.ECDSA({ curve: u }), l = f.generateKeyPairHex(), n = new g.crypto.ECDSA({ curve: u });
    n.setPublicKeyHex(l.ecpubhex), n.setPrivateKeyHex(l.ecprvhex), n.isPrivate = !0, n.isPublic = !1;
    var i = new g.crypto.ECDSA({ curve: u });
    i.setPublicKeyHex(l.ecpubhex), i.isPrivate = !1, i.isPublic = !0;
    var o = {};
    return o.prvKeyObj = n, o.pubKeyObj = i, o;
  } else
    throw new Error("unknown algorithm: " + e);
};
$e.getPEM = function(e, t, r, n, i, s) {
  var a = g, o = a.asn1, u = o.DERObjectIdentifier, f = o.DERInteger, l = o.ASN1Util.newObject, h = o.x509, c = h.SubjectPublicKeyInfo, d = a.crypto, p = d.DSA, v = d.ECDSA, m = Pe;
  function b(N) {
    var H = l({ seq: [{ int: 0 }, { int: { bigint: N.n } }, { int: N.e }, { int: { bigint: N.d } }, { int: { bigint: N.p } }, { int: { bigint: N.q } }, { int: { bigint: N.dmp1 } }, { int: { bigint: N.dmq1 } }, { int: { bigint: N.coeff } }] });
    return H;
  }
  function A(N) {
    var H = l({ seq: [{ int: 1 }, { octstr: { hex: N.prvKeyHex } }, { tag: ["a0", !0, { oid: { name: N.curveName } }] }, { tag: ["a1", !0, { bitstr: { hex: "00" + N.pubKeyHex } }] }] });
    return H;
  }
  function D(N) {
    var H = l({ seq: [{ int: 0 }, { int: { bigint: N.p } }, { int: { bigint: N.q } }, { int: { bigint: N.g } }, { int: { bigint: N.y } }, { int: { bigint: N.x } }] });
    return H;
  }
  if ((m !== void 0 && e instanceof m || p !== void 0 && e instanceof p || v !== void 0 && e instanceof v) && e.isPublic == !0 && (t === void 0 || t == "PKCS8PUB")) {
    var k = new c(e), L = k.tohex();
    return jt(L, "PUBLIC KEY");
  }
  if (t == "PKCS1PRV" && m !== void 0 && e instanceof m && (r === void 0 || r == null) && e.isPrivate == !0) {
    var k = b(e), L = k.tohex();
    return jt(L, "RSA PRIVATE KEY");
  }
  if (t == "PKCS1PRV" && v !== void 0 && e instanceof v && (r === void 0 || r == null) && e.isPrivate == !0) {
    var _ = new u({ name: e.curveName }), F = _.tohex(), O = A(e), P = O.tohex(), M = "";
    return M += jt(F, "EC PARAMETERS"), M += jt(P, "EC PRIVATE KEY"), M;
  }
  if (t == "PKCS1PRV" && p !== void 0 && e instanceof p && (r === void 0 || r == null) && e.isPrivate == !0) {
    var k = D(e), L = k.tohex();
    return jt(L, "DSA PRIVATE KEY");
  }
  if (t == "PKCS5PRV" && m !== void 0 && e instanceof m && r !== void 0 && r != null && e.isPrivate == !0) {
    var k = b(e), L = k.tohex();
    return n === void 0 && (n = "DES-EDE3-CBC"), this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA", L, r, n, s);
  }
  if (t == "PKCS5PRV" && v !== void 0 && e instanceof v && r !== void 0 && r != null && e.isPrivate == !0) {
    var k = A(e), L = k.tohex();
    return n === void 0 && (n = "DES-EDE3-CBC"), this.getEncryptedPKCS5PEMFromPrvKeyHex("EC", L, r, n, s);
  }
  if (t == "PKCS5PRV" && p !== void 0 && e instanceof p && r !== void 0 && r != null && e.isPrivate == !0) {
    var k = D(e), L = k.tohex();
    return n === void 0 && (n = "DES-EDE3-CBC"), this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA", L, r, n, s);
  }
  var C = function(N, H) {
    var Z = y(N, H), K = new l({ seq: [{ seq: [{ oid: { name: "pkcs5PBES2" } }, { seq: [{ seq: [{ oid: { name: "pkcs5PBKDF2" } }, { seq: [{ octstr: { hex: Z.pbkdf2Salt } }, { int: Z.pbkdf2Iter }] }] }, { seq: [{ oid: { name: "des-EDE3-CBC" } }, { octstr: { hex: Z.encryptionSchemeIV } }] }] }] }, { octstr: { hex: Z.ciphertext } }] });
    return K.tohex();
  }, y = function(N, H) {
    var Z = 100, K = Ee.lib.WordArray.random(8), x = "DES-EDE3-CBC", V = Ee.lib.WordArray.random(8), $ = Ee.PBKDF2(H, K, { keySize: 192 / 32, iterations: Z }), G = Ee.enc.Hex.parse(N), z = Ee.TripleDES.encrypt(G, $, { iv: V }) + "", ae = {};
    return ae.ciphertext = z, ae.pbkdf2Salt = Ee.enc.Hex.stringify(K), ae.pbkdf2Iter = Z, ae.encryptionSchemeAlg = x, ae.encryptionSchemeIV = Ee.enc.Hex.stringify(V), ae;
  };
  if (t == "PKCS8PRV" && m != null && e instanceof m && e.isPrivate == !0) {
    var E = b(e), T = E.tohex(), k = l({ seq: [{ int: 0 }, { seq: [{ oid: { name: "rsaEncryption" } }, { null: !0 }] }, { octstr: { hex: T } }] }), L = k.tohex();
    if (r === void 0 || r == null)
      return jt(L, "PRIVATE KEY");
    var P = C(L, r);
    return jt(P, "ENCRYPTED PRIVATE KEY");
  }
  if (t == "PKCS8PRV" && v !== void 0 && e instanceof v && e.isPrivate == !0) {
    var R = { seq: [{ int: 1 }, { octstr: { hex: e.prvKeyHex } }] };
    typeof e.pubKeyHex == "string" && R.seq.push({ tag: ["a1", !0, { bitstr: { hex: "00" + e.pubKeyHex } }] });
    var E = new l(R), T = E.tohex(), k = l({ seq: [{ int: 0 }, { seq: [{ oid: { name: "ecPublicKey" } }, { oid: { name: e.curveName } }] }, { octstr: { hex: T } }] }), L = k.tohex();
    if (r === void 0 || r == null)
      return jt(L, "PRIVATE KEY");
    var P = C(L, r);
    return jt(P, "ENCRYPTED PRIVATE KEY");
  }
  if (t == "PKCS8PRV" && p !== void 0 && e instanceof p && e.isPrivate == !0) {
    var E = new f({ bigint: e.x }), T = E.tohex(), k = l({ seq: [{ int: 0 }, { seq: [{ oid: { name: "dsa" } }, { seq: [{ int: { bigint: e.p } }, { int: { bigint: e.q } }, { int: { bigint: e.g } }] }] }, { octstr: { hex: T } }] }), L = k.tohex();
    if (r === void 0 || r == null)
      return jt(L, "PRIVATE KEY");
    var P = C(L, r);
    return jt(P, "ENCRYPTED PRIVATE KEY");
  }
  throw new Error("unsupported object nor format");
};
$e.getKeyFromCSRPEM = function(e) {
  var t = Ft(e, "CERTIFICATE REQUEST"), r = $e.getKeyFromCSRHex(t);
  return r;
};
$e.getKeyFromCSRHex = function(e) {
  var t = $e.parseCSRHex(e), r = $e.getKey(t.p8pubkeyhex, null, "pkcs8pub");
  return r;
};
$e.parseCSRHex = function(e) {
  var t = ye, r = t.getChildIdx, n = t.getTLV, i = {}, s = e;
  if (s.substr(0, 2) != "30")
    throw new Error("malformed CSR(code:001)");
  var a = r(s, 0);
  if (a.length < 1)
    throw new Error("malformed CSR(code:002)");
  if (s.substr(a[0], 2) != "30")
    throw new Error("malformed CSR(code:003)");
  var o = r(s, a[0]);
  if (o.length < 3)
    throw new Error("malformed CSR(code:004)");
  return i.p8pubkeyhex = n(s, o[2]), i;
};
$e.getKeyID = function(e) {
  var t = $e, r = ye;
  typeof e == "string" && e.indexOf("BEGIN ") != -1 && (e = t.getKey(e));
  var n = Ft(t.getPEM(e)), i = r.getIdxbyList(n, 0, [1]), s = r.getV(n, i).substring(2);
  return g.crypto.Util.hashHex(s, "sha1");
};
$e.getJWK = function(e, t, r, n, i) {
  var s, a = {}, o, u = g.crypto.Util.hashHex;
  if (typeof e == "string")
    s = $e.getKey(e), e.indexOf("CERTIFICATE") != -1 && (o = Ft(e));
  else if (typeof e == "object")
    e instanceof Be ? (s = e.getPublicKey(), o = e.hex) : s = e;
  else
    throw new Error("unsupported keyinfo type");
  if (s instanceof Pe && s.isPrivate)
    a.kty = "RSA", a.n = Ct(s.n.toString(16)), a.e = Ct(s.e.toString(16)), a.d = Ct(s.d.toString(16)), a.p = Ct(s.p.toString(16)), a.q = Ct(s.q.toString(16)), a.dp = Ct(s.dmp1.toString(16)), a.dq = Ct(s.dmq1.toString(16)), a.qi = Ct(s.coeff.toString(16));
  else if (s instanceof Pe && s.isPublic)
    a.kty = "RSA", a.n = Ct(s.n.toString(16)), a.e = Ct(s.e.toString(16));
  else if (s instanceof g.crypto.ECDSA && s.isPrivate) {
    var f = s.getShortNISTPCurveName();
    if (f !== "P-256" && f !== "P-384" && f !== "P-521")
      throw new Error("unsupported curve name for JWT: " + f);
    var l = s.getPublicKeyXYHex();
    a.kty = "EC", a.crv = f, a.x = Ct(l.x), a.y = Ct(l.y), a.d = Ct(s.prvKeyHex);
  } else if (s instanceof g.crypto.ECDSA && s.isPublic) {
    var f = s.getShortNISTPCurveName();
    if (f !== "P-256" && f !== "P-384" && f !== "P-521")
      throw new Error("unsupported curve name for JWT: " + f);
    var l = s.getPublicKeyXYHex();
    a.kty = "EC", a.crv = f, a.x = Ct(l.x), a.y = Ct(l.y);
  }
  if (a.kty == null)
    throw new Error("unsupported keyinfo");
  return !s.isPrivate && t != !0 && (a.kid = g.jws.JWS.getJWKthumbprint(a)), o != null && r != !0 && (a.x5c = [ss(o)]), o != null && n != !0 && (a.x5t = wa(ss(u(o, "sha1")))), o != null && i != !0 && (a["x5t#S256"] = wa(ss(u(o, "sha256")))), a;
};
$e.getJWKFromKey = function(e) {
  return $e.getJWK(e, !0, !0, !0, !0);
};
Pe.getPosArrayOfChildrenFromHex = function(e) {
  return ye.getChildIdx(e, 0);
};
Pe.getHexValueArrayOfChildrenFromHex = function(e) {
  var t = ye, r = t.getV, c = Pe.getPosArrayOfChildrenFromHex(e), n = r(e, c[0]), i = r(e, c[1]), s = r(e, c[2]), a = r(e, c[3]), o = r(e, c[4]), u = r(e, c[5]), f = r(e, c[6]), l = r(e, c[7]), h = r(e, c[8]), c = new Array();
  return c.push(n, i, s, a, o, u, f, l, h), c;
};
Pe.prototype.readPrivateKeyFromPEMString = function(e) {
  var t = Ft(e), r = Pe.getHexValueArrayOfChildrenFromHex(t);
  this.setPrivateEx(r[1], r[2], r[3], r[4], r[5], r[6], r[7], r[8]);
};
Pe.prototype.readPKCS5PrvKeyHex = function(e) {
  var t = Pe.getHexValueArrayOfChildrenFromHex(e);
  this.setPrivateEx(t[1], t[2], t[3], t[4], t[5], t[6], t[7], t[8]);
};
Pe.prototype.readPKCS8PrvKeyHex = function(e) {
  var t, r, n, i, s, a, o, u, f = ye, l = f.getVbyListEx;
  if (f.isASN1HEX(e) === !1)
    throw new Error("not ASN.1 hex string");
  try {
    t = l(e, 0, [2, 0, 1], "02"), r = l(e, 0, [2, 0, 2], "02"), n = l(e, 0, [2, 0, 3], "02"), i = l(e, 0, [2, 0, 4], "02"), s = l(e, 0, [2, 0, 5], "02"), a = l(e, 0, [2, 0, 6], "02"), o = l(e, 0, [2, 0, 7], "02"), u = l(e, 0, [2, 0, 8], "02");
  } catch {
    throw new Error("malformed PKCS#8 plain RSA private key");
  }
  this.setPrivateEx(t, r, n, i, s, a, o, u);
};
Pe.prototype.readPKCS5PubKeyHex = function(e) {
  var t = ye, r = t.getV;
  if (t.isASN1HEX(e) === !1)
    throw new Error("keyHex is not ASN.1 hex string");
  var n = t.getChildIdx(e, 0);
  if (n.length !== 2 || e.substr(n[0], 2) !== "02" || e.substr(n[1], 2) !== "02")
    throw new Error("wrong hex for PKCS#5 public key");
  var i = r(e, n[0]), s = r(e, n[1]);
  this.setPublic(i, s);
};
Pe.prototype.readPKCS8PubKeyHex = function(e) {
  var t = ye;
  if (t.isASN1HEX(e) === !1)
    throw new Error("not ASN.1 hex string");
  if (t.getTLVbyListEx(e, 0, [0, 0]) !== "06092a864886f70d010101")
    throw new Error("not PKCS8 RSA public key");
  var r = t.getTLVbyListEx(e, 0, [1, 0]);
  this.readPKCS5PubKeyHex(r);
};
Pe.prototype.readCertPubKeyHex = function(e, t) {
  var r, n;
  r = new Be(), r.readCertHex(e), n = r.getPublicKeyHex(), this.readPKCS8PubKeyHex(n);
};
function m1(e, t) {
  for (var r = "", n = t / 4 - e.length, i = 0; i < n; i++)
    r = r + "0";
  return r + e;
}
Pe.prototype.sign = function(e, t) {
  var r = function(i) {
    return g.crypto.Util.hashString(i, t);
  }, n = r(e);
  return this.signWithMessageHash(n, t);
};
Pe.prototype.signWithMessageHash = function(e, t) {
  var r = g.crypto.Util.getPaddedDigestInfoHex(e, t, this.n.bitLength()), n = Ut(r, 16), i = this.doPrivate(n), s = i.toString(16);
  return m1(s, this.n.bitLength());
};
function b1(e, t, r) {
  for (var n = "", i = 0; n.length < t; )
    n += mr(r(Or(e + String.fromCharCode.apply(String, [(i & 4278190080) >> 24, (i & 16711680) >> 16, (i & 65280) >> 8, i & 255])))), i += 1;
  return n;
}
Pe.prototype.signPSS = function(e, t, r) {
  var n = function(s) {
    return g.crypto.Util.hashHex(s, t);
  }, i = n(Or(e));
  return r === void 0 && (r = -1), this.signWithMessageHashPSS(i, t, r);
};
Pe.prototype.signWithMessageHashPSS = function(e, t, r) {
  var n = mr(e), i = n.length, s = this.n.bitLength() - 1, a = Math.ceil(s / 8), o, u = function(m) {
    return g.crypto.Util.hashHex(m, t);
  };
  if (r === -1 || r === void 0)
    r = i;
  else if (r === -2)
    r = a - i - 2;
  else if (r < -2)
    throw new Error("invalid salt length");
  if (a < i + r + 2)
    throw new Error("data too long");
  var f = "";
  r > 0 && (f = new Array(r), new Zn().nextBytes(f), f = String.fromCharCode.apply(String, f));
  var l = mr(u(Or("\0\0\0\0\0\0\0\0" + n + f))), h = [];
  for (o = 0; o < a - r - i - 2; o += 1)
    h[o] = 0;
  var c = String.fromCharCode.apply(String, h) + "" + f, d = b1(l, c.length, u), p = [];
  for (o = 0; o < c.length; o += 1)
    p[o] = c.charCodeAt(o) ^ d.charCodeAt(o);
  var v = 65280 >> 8 * a - s & 255;
  for (p[0] &= ~v, o = 0; o < i; o++)
    p.push(l.charCodeAt(o));
  return p.push(188), m1(this.doPrivate(new ne(p)).toString(16), this.n.bitLength());
};
function w1(e) {
  for (var t in g.crypto.Util.DIGESTINFOHEAD) {
    var r = g.crypto.Util.DIGESTINFOHEAD[t], n = r.length;
    if (e.substring(0, n) == r) {
      var i = [t, e.substring(n)];
      return i;
    }
  }
  return [];
}
Pe.prototype.verify = function(e, t) {
  if (t = t.toLowerCase(), t.match(/^[0-9a-f]+$/) == null)
    return !1;
  var r = Ut(t, 16), n = this.n.bitLength();
  if (r.bitLength() > n)
    return !1;
  var i = this.doPublic(r), s = i.toString(16);
  if (s.length + 3 != n / 4)
    return !1;
  var a = s.replace(/^1f+00/, ""), o = w1(a);
  if (o.length == 0)
    return !1;
  var u = o[0], f = o[1], l = function(c) {
    return g.crypto.Util.hashString(c, u);
  }, h = l(e);
  return f == h;
};
Pe.prototype.verifyWithMessageHash = function(e, t) {
  if (t.length != Math.ceil(this.n.bitLength() / 4))
    return !1;
  var r = Ut(t, 16);
  if (r.bitLength() > this.n.bitLength())
    return 0;
  var n = this.doPublic(r), i = n.toString(16).replace(/^1f+00/, ""), s = w1(i);
  if (s.length == 0)
    return !1;
  s[0];
  var a = s[1];
  return a == e;
};
Pe.prototype.verifyPSS = function(e, t, r, n) {
  var i = function(a) {
    return g.crypto.Util.hashHex(a, r);
  }, s = i(Or(e));
  return n === void 0 && (n = -1), this.verifyWithMessageHashPSS(s, t, r, n);
};
Pe.prototype.verifyWithMessageHashPSS = function(e, t, r, n) {
  if (t.length != Math.ceil(this.n.bitLength() / 4))
    return !1;
  var i = new ne(t, 16), s = function(A) {
    return g.crypto.Util.hashHex(A, r);
  }, a = mr(e), o = a.length, u = this.n.bitLength() - 1, f = Math.ceil(u / 8), l;
  if (n === -1 || n === void 0)
    n = o;
  else if (n === -2)
    n = f - o - 2;
  else if (n < -2)
    throw new Error("invalid salt length");
  if (f < o + n + 2)
    throw new Error("data too long");
  var h = this.doPublic(i).toByteArray();
  for (l = 0; l < h.length; l += 1)
    h[l] &= 255;
  for (; h.length < f; )
    h.unshift(0);
  if (h[f - 1] !== 188)
    throw new Error("encoded message does not end in 0xbc");
  h = String.fromCharCode.apply(String, h);
  var c = h.substr(0, f - o - 1), d = h.substr(c.length, o), p = 65280 >> 8 * f - u & 255;
  if (c.charCodeAt(0) & p)
    throw new Error("bits beyond keysize not zero");
  var v = b1(d, c.length, s), m = [];
  for (l = 0; l < c.length; l += 1)
    m[l] = c.charCodeAt(l) ^ v.charCodeAt(l);
  m[0] &= ~p;
  var b = f - o - n - 2;
  for (l = 0; l < b; l += 1)
    if (m[l] !== 0)
      throw new Error("leftmost octets not zero");
  if (m[b] !== 1)
    throw new Error("0x01 marker not found");
  return d === mr(s(Or("\0\0\0\0\0\0\0\0" + a + String.fromCharCode.apply(String, m.slice(-n)))));
};
Pe.SALT_LEN_HLEN = -1;
Pe.SALT_LEN_MAX = -2;
Pe.SALT_LEN_RECOVER = -2;
function Be(e) {
  var t = ye, r = t.getChildIdx, n = t.getV;
  t.dump;
  var i = t.parse, s = t.getTLV, a = t.getVbyList, o = t.getVbyListEx, u = t.getTLVbyList, f = t.getTLVbyListEx, l = t.getIdxbyList, h = t.getIdxbyListEx, c = t.getVidx, d = t.getInt, p = t.oidname, v = t.hextooidstr, m = Ft, b, A = Error;
  try {
    b = g.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;
  } catch {
  }
  this.HEX2STAG = { "0c": "utf8", 13: "prn", 16: "ia5", "1a": "vis", "1e": "bmp" }, this.hex = null, this.version = 0, this.foffset = 0, this.aExtInfo = null, this.getVersion = function() {
    if (this.hex === null || this.version !== 0)
      return this.version;
    var _ = u(this.hex, 0, [0, 0]);
    if (_.substr(0, 2) == "a0") {
      var F = u(_, 0, [0]), O = d(F, 0);
      if (O < 0 || 2 < O)
        throw new Error("malformed version field");
      return this.version = O + 1, this.version;
    } else
      return this.version = 1, this.foffset = -1, 1;
  }, this.getSerialNumberHex = function() {
    return o(this.hex, 0, [0, 0], "02");
  }, this.getSignatureAlgorithmField = function() {
    var _ = f(this.hex, 0, [0, 1]);
    return this.getAlgorithmIdentifierName(_);
  }, this.getAlgorithmIdentifierName = function(_) {
    for (var F in b)
      if (_ === b[F])
        return F;
    return p(o(_, 0, [0], "06"));
  }, this.getIssuer = function(_, F) {
    return this.getX500Name(this.getIssuerHex(), _, F);
  }, this.getIssuerHex = function() {
    return u(this.hex, 0, [0, 3 + this.foffset], "30");
  }, this.getIssuerString = function() {
    var _ = this.getIssuer();
    return _.str;
  }, this.getSubject = function(_, F) {
    return this.getX500Name(this.getSubjectHex(), _, F);
  }, this.getSubjectHex = function() {
    return u(this.hex, 0, [0, 5 + this.foffset], "30");
  }, this.getSubjectString = function() {
    var _ = this.getSubject();
    return _.str;
  }, this.getNotBefore = function() {
    var _ = a(this.hex, 0, [0, 4 + this.foffset, 0]);
    return _ = _.replace(/(..)/g, "%$1"), _ = decodeURIComponent(_), _;
  }, this.getNotAfter = function() {
    var _ = a(this.hex, 0, [0, 4 + this.foffset, 1]);
    return _ = _.replace(/(..)/g, "%$1"), _ = decodeURIComponent(_), _;
  }, this.getPublicKeyHex = function() {
    return this.getSPKI();
  }, this.getSPKI = function() {
    return u(this.hex, 0, [0, 6 + this.foffset], "30");
  }, this.getSPKIValue = function() {
    var _ = this.getSPKI();
    return _ == null ? null : a(_, 0, [1], "03", !0);
  }, this.getPublicKeyIdx = function() {
    return l(this.hex, 0, [0, 6 + this.foffset], "30");
  }, this.getPublicKeyContentIdx = function() {
    var _ = this.getPublicKeyIdx();
    return l(this.hex, _, [1, 0], "30");
  }, this.getPublicKey = function() {
    return $e.getKey(this.getPublicKeyHex(), null, "pkcs8pub");
  }, this.getSignatureAlgorithmName = function() {
    var _ = u(this.hex, 0, [1], "30");
    return this.getAlgorithmIdentifierName(_);
  }, this.getSignatureValueHex = function() {
    return a(this.hex, 0, [2], "03", !0);
  }, this.verifySignature = function(_) {
    var F = this.getSignatureAlgorithmField(), O = this.getSignatureValueHex(), P = u(this.hex, 0, [0], "30"), M = new g.crypto.Signature({ alg: F });
    return M.init(_), M.updateHex(P), M.verify(O);
  }, this.parseExt = function(_) {
    var F, O, P;
    if (_ === void 0) {
      if (P = this.hex, this.version !== 3)
        return -1;
      F = l(P, 0, [0, 7, 0], "30"), O = r(P, F);
    } else {
      P = Ft(_);
      var M = l(P, 0, [0, 3, 0, 0], "06");
      if (n(P, M) != "2a864886f70d01090e") {
        this.aExtInfo = new Array();
        return;
      }
      F = l(P, 0, [0, 3, 0, 1, 0], "30"), O = r(P, F), this.hex = P;
    }
    this.aExtInfo = new Array();
    for (var C = 0; C < O.length; C++) {
      var y = {};
      y.critical = !1;
      var E = r(P, O[C]), T = 0;
      E.length === 3 && (y.critical = !0, T = 1), y.oid = t.hextooidstr(a(P, O[C], [0], "06"));
      var R = l(P, O[C], [1 + T]);
      y.vidx = c(P, R), this.aExtInfo.push(y);
    }
  }, this.getExtInfo = function(_) {
    var F = this.aExtInfo, O = _;
    if (_.match(/^[0-9.]+$/) || (O = g.asn1.x509.OID.name2oid(_)), O !== "") {
      for (var P = 0; P < F.length; P++)
        if (F[P].oid === O)
          return F[P];
    }
  }, this.getCriticalExtV = function(_, F, O) {
    if (F != null)
      return [F, O];
    var P = this.getExtInfo(_);
    return P == null ? [null, null] : [s(this.hex, P.vidx), P.critical];
  }, this.getExtBasicConstraints = function(_, F) {
    if (_ === void 0 && F === void 0) {
      var O = this.getExtInfo("basicConstraints");
      if (O === void 0)
        return;
      _ = s(this.hex, O.vidx), F = O.critical;
    }
    var P = { extname: "basicConstraints" };
    if (F && (P.critical = !0), _ === "3000")
      return P;
    if (_ === "30030101ff")
      return P.cA = !0, P;
    if (_.substr(0, 12) === "30060101ff02") {
      var M = n(_, 10), C = parseInt(M, 16);
      return P.cA = !0, P.pathLen = C, P;
    }
    throw new Error("hExtV parse error: " + _);
  }, this.getExtNameConstraints = function(_, F) {
    var O = this.getCriticalExtV("nameConstraints", _, F);
    if (_ = O[0], F = O[1], _ != null) {
      var P = { extname: "nameConstraints" };
      F && (P.critical = !0);
      for (var M = r(_, 0), C = 0; C < M.length; C++) {
        for (var y = [], E = r(_, M[C]), T = 0; T < E.length; T++) {
          var R = s(_, E[T]), N = this.getGeneralSubtree(R);
          y.push(N);
        }
        var H = _.substr(M[C], 2);
        H == "a0" ? P.permit = y : H == "a1" && (P.exclude = y);
      }
      return P;
    }
  }, this.getGeneralSubtree = function(_) {
    var F = r(_, 0), O = F.length;
    if (O < 1 || 2 < O)
      throw new Error("wrong num elements");
    for (var P = this.getGeneralName(s(_, F[0])), M = 1; M < O; M++) {
      var C = _.substr(F[M], 2), y = n(_, F[M]), E = parseInt(y, 16);
      C == "80" && (P.min = E), C == "81" && (P.max = E);
    }
    return P;
  }, this.getExtKeyUsage = function(_, F) {
    var O = this.getCriticalExtV("keyUsage", _, F);
    if (_ = O[0], F = O[1], _ != null) {
      var P = { extname: "keyUsage" };
      return F && (P.critical = !0), P.names = this.getExtKeyUsageString(_).split(","), P;
    }
  }, this.getExtKeyUsageBin = function(_) {
    if (_ === void 0) {
      var F = this.getExtInfo("keyUsage");
      if (F === void 0)
        return "";
      _ = s(this.hex, F.vidx);
    }
    if (_.length != 8 && _.length != 10)
      throw new Error("malformed key usage value: " + _);
    var O = "000000000000000" + parseInt(_.substr(6), 16).toString(2);
    return _.length == 8 && (O = O.slice(-8)), _.length == 10 && (O = O.slice(-16)), O = O.replace(/0+$/, ""), O == "" && (O = "0"), O;
  }, this.getExtKeyUsageString = function(_) {
    for (var F = this.getExtKeyUsageBin(_), O = new Array(), P = 0; P < F.length; P++)
      F.substr(P, 1) == "1" && O.push(Be.KEYUSAGE_NAME[P]);
    return O.join(",");
  }, this.getExtSubjectKeyIdentifier = function(_, F) {
    if (_ === void 0 && F === void 0) {
      var O = this.getExtInfo("subjectKeyIdentifier");
      if (O === void 0)
        return;
      _ = s(this.hex, O.vidx), F = O.critical;
    }
    var P = { extname: "subjectKeyIdentifier" };
    F && (P.critical = !0);
    var M = n(_, 0);
    return P.kid = { hex: M }, P;
  }, this.getExtAuthorityKeyIdentifier = function(_, F) {
    if (_ === void 0 && F === void 0) {
      var O = this.getExtInfo("authorityKeyIdentifier");
      if (O === void 0)
        return;
      _ = s(this.hex, O.vidx), F = O.critical;
    }
    var P = { extname: "authorityKeyIdentifier" };
    F && (P.critical = !0);
    for (var M = r(_, 0), C = 0; C < M.length; C++) {
      var y = _.substr(M[C], 2);
      if (y === "80" && (P.kid = { hex: n(_, M[C]) }), y === "a1") {
        var E = s(_, M[C]), T = this.getGeneralNames(E);
        P.issuer = T[0].dn;
      }
      y === "82" && (P.sn = { hex: n(_, M[C]) });
    }
    return P;
  }, this.getExtExtKeyUsage = function(_, F) {
    if (_ === void 0 && F === void 0) {
      var O = this.getExtInfo("extKeyUsage");
      if (O === void 0)
        return;
      _ = s(this.hex, O.vidx), F = O.critical;
    }
    var P = { extname: "extKeyUsage", array: [] };
    F && (P.critical = !0);
    for (var M = r(_, 0), C = 0; C < M.length; C++)
      P.array.push(p(n(_, M[C])));
    return P;
  }, this.getExtExtKeyUsageName = function() {
    var _ = this.getExtInfo("extKeyUsage");
    if (_ === void 0)
      return _;
    var F = new Array(), O = s(this.hex, _.vidx);
    if (O === "")
      return F;
    for (var P = r(O, 0), M = 0; M < P.length; M++)
      F.push(p(n(O, P[M])));
    return F;
  }, this.getExtSubjectAltName = function(_, F) {
    if (_ === void 0 && F === void 0) {
      var O = this.getExtInfo("subjectAltName");
      if (O === void 0)
        return;
      _ = s(this.hex, O.vidx), F = O.critical;
    }
    var P = { extname: "subjectAltName", array: [] };
    return F && (P.critical = !0), P.array = this.getGeneralNames(_), P;
  }, this.getExtIssuerAltName = function(_, F) {
    if (_ === void 0 && F === void 0) {
      var O = this.getExtInfo("issuerAltName");
      if (O === void 0)
        return;
      _ = s(this.hex, O.vidx), F = O.critical;
    }
    var P = { extname: "issuerAltName", array: [] };
    return F && (P.critical = !0), P.array = this.getGeneralNames(_), P;
  }, this.getGeneralNames = function(_) {
    for (var F = r(_, 0), O = [], P = 0; P < F.length; P++) {
      var M = this.getGeneralName(s(_, F[P]));
      M !== void 0 && O.push(M);
    }
    return O;
  }, this.getGeneralName = function(_) {
    var F = _.substr(0, 2), O = n(_, 0), P = mr(O);
    if (F == "81")
      return { rfc822: P };
    if (F == "82")
      return { dns: P };
    if (F == "86")
      return { uri: P };
    if (F == "87")
      return { ip: sf(O) };
    if (F == "a4")
      return { dn: this.getX500Name(O) };
    if (F == "a0")
      return { other: this.getOtherName(_) };
  }, this.getExtSubjectAltName2 = function() {
    var _, F, O, P = this.getExtInfo("subjectAltName");
    if (P === void 0)
      return P;
    for (var M = new Array(), C = s(this.hex, P.vidx), y = r(C, 0), E = 0; E < y.length; E++)
      O = C.substr(y[E], 2), _ = n(C, y[E]), O === "81" && (F = Ze(_), M.push(["MAIL", F])), O === "82" && (F = Ze(_), M.push(["DNS", F])), O === "84" && (F = Be.hex2dn(_, 0), M.push(["DN", F])), O === "86" && (F = Ze(_), M.push(["URI", F])), O === "87" && (F = sf(_), M.push(["IP", F]));
    return M;
  }, this.getExtCRLDistributionPoints = function(_, F) {
    if (_ === void 0 && F === void 0) {
      var O = this.getExtInfo("cRLDistributionPoints");
      if (O === void 0)
        return;
      _ = s(this.hex, O.vidx), F = O.critical;
    }
    var P = { extname: "cRLDistributionPoints", array: [] };
    F && (P.critical = !0);
    for (var M = r(_, 0), C = 0; C < M.length; C++) {
      var y = s(_, M[C]);
      P.array.push(this.getDistributionPoint(y));
    }
    return P;
  }, this.getDistributionPoint = function(_) {
    for (var F = {}, O = r(_, 0), P = 0; P < O.length; P++) {
      var M = _.substr(O[P], 2), C = s(_, O[P]);
      M == "a0" && (F.dpname = this.getDistributionPointName(C));
    }
    return F;
  }, this.getDistributionPointName = function(_) {
    for (var F = {}, O = r(_, 0), P = 0; P < O.length; P++) {
      var M = _.substr(O[P], 2), C = s(_, O[P]);
      M == "a0" && (F.full = this.getGeneralNames(C));
    }
    return F;
  }, this.getExtCRLDistributionPointsURI = function() {
    var _ = this.getExtCRLDistributionPoints();
    if (_ == null)
      return _;
    for (var F = _.array, O = [], P = 0; P < F.length; P++)
      try {
        F[P].dpname.full[0].uri != null && O.push(F[P].dpname.full[0].uri);
      } catch {
      }
    return O;
  }, this.getExtAIAInfo = function() {
    var _ = this.getExtInfo("authorityInfoAccess");
    if (_ === void 0)
      return _;
    for (var F = { ocsp: [], caissuer: [] }, O = r(this.hex, _.vidx), P = 0; P < O.length; P++) {
      var M = a(this.hex, O[P], [0], "06"), C = a(this.hex, O[P], [1], "86");
      M === "2b06010505073001" && F.ocsp.push(Ze(C)), M === "2b06010505073002" && F.caissuer.push(Ze(C));
    }
    return F;
  }, this.getExtAuthorityInfoAccess = function(_, F) {
    if (_ === void 0 && F === void 0) {
      var O = this.getExtInfo("authorityInfoAccess");
      if (O === void 0)
        return;
      _ = s(this.hex, O.vidx), F = O.critical;
    }
    var P = { extname: "authorityInfoAccess", array: [] };
    F && (P.critical = !0);
    for (var M = r(_, 0), C = 0; C < M.length; C++) {
      var y = o(_, M[C], [0], "06"), E = a(_, M[C], [1], "86"), T = Ze(E);
      if (y == "2b06010505073001")
        P.array.push({ ocsp: T });
      else if (y == "2b06010505073002")
        P.array.push({ caissuer: T });
      else
        throw new Error("unknown method: " + y);
    }
    return P;
  }, this.getExtCertificatePolicies = function(_, F) {
    if (_ === void 0 && F === void 0) {
      var O = this.getExtInfo("certificatePolicies");
      if (O === void 0)
        return;
      _ = s(this.hex, O.vidx), F = O.critical;
    }
    var P = { extname: "certificatePolicies", array: [] };
    F && (P.critical = !0);
    for (var M = r(_, 0), C = 0; C < M.length; C++) {
      var y = s(_, M[C]), E = this.getPolicyInformation(y);
      P.array.push(E);
    }
    return P;
  }, this.getPolicyInformation = function(_) {
    var F = {}, O = a(_, 0, [0], "06");
    F.policyoid = p(O);
    var P = h(_, 0, [1], "30");
    if (P != -1) {
      F.array = [];
      for (var M = r(_, P), C = 0; C < M.length; C++) {
        var y = s(_, M[C]), E = this.getPolicyQualifierInfo(y);
        F.array.push(E);
      }
    }
    return F;
  }, this.getOtherName = function(_) {
    var F = {}, O = r(_, 0), P = a(_, O[0], [], "06"), M = a(_, O[1], []);
    return F.oid = p(P), F.value = i(M), F;
  }, this.getPolicyQualifierInfo = function(_) {
    var F = {}, O = a(_, 0, [0], "06");
    if (O === "2b06010505070201") {
      var P = o(_, 0, [1], "16");
      F.cps = mr(P);
    } else if (O === "2b06010505070202") {
      var M = u(_, 0, [1], "30");
      F.unotice = this.getUserNotice(M);
    }
    return F;
  }, this.getUserNotice = function(_) {
    var F = null;
    try {
      F = t.parse(_);
      var O = this._asn1ToUnotice(F);
      return O;
    } catch {
      return;
    }
  }, this._asn1ToUnotice = function(_) {
    try {
      for (var F = {}, O = ii(_, "seq"), P = 0; P < O.length; P++) {
        var M = this._asn1ToNoticeRef(O[P]);
        M != null && (F.noticeref = M);
        var C = this.asn1ToDisplayText(O[P]);
        C != null && (F.exptext = C);
      }
      return Object.keys(F).length > 0 ? F : void 0;
    } catch {
      return;
    }
  }, this._asn1ToNoticeRef = function(_) {
    try {
      for (var F = {}, O = ii(_, "seq"), P = 0; P < O.length; P++) {
        var M = this._asn1ToNoticeNum(O[P]);
        M != null && (F.noticenum = M);
        var C = this.asn1ToDisplayText(O[P]);
        C != null && (F.org = C);
      }
      return Object.keys(F).length > 0 ? F : void 0;
    } catch {
      return;
    }
  }, this._asn1ToNoticeNum = function(_) {
    try {
      for (var F = ii(_, "seq"), O = [], P = 0; P < F.length; P++) {
        var M = F[P];
        O.push(parseInt(ii(M, "int.hex"), 16));
      }
      return O;
    } catch {
      return;
    }
  }, this.getDisplayText = function(_) {
    var F = { "0c": "utf8", 16: "ia5", "1a": "vis", "1e": "bmp" }, O = {};
    return O.type = F[_.substr(0, 2)], O.str = mr(n(_, 0)), O;
  }, this.asn1ToDisplayText = function(_) {
    if (_.utf8str != null)
      return { type: "utf8", str: _.utf8str.str };
    if (_.ia5str != null)
      return { type: "ia5", str: _.ia5str.str };
    if (_.visstr != null)
      return { type: "vis", str: _.visstr.str };
    if (_.bmpstr != null)
      return { type: "bmp", str: _.bmpstr.str };
    if (_.prnstr != null)
      return { type: "prn", str: _.prnstr.str };
  }, this.getExtPolicyMappings = function(_, F) {
    var O = this.getCriticalExtV("policyMappings", _, F);
    if (_ = O[0], F = O[1], _ != null) {
      var P = { extname: "policyMappings" };
      F && (P.critical = !0);
      try {
        for (var M = i(_), C = M.seq, y = [], E = 0; E < C.length; E++) {
          var T = C[E].seq;
          y.push([T[0].oid, T[1].oid]);
        }
        P.array = y;
      } catch {
        throw new A("malformed policyMappings");
      }
      return P;
    }
  }, this.getExtPolicyConstraints = function(_, F) {
    var O = this.getCriticalExtV("policyConstraints", _, F);
    if (_ = O[0], F = O[1], _ != null) {
      var P = { extname: "policyConstraints" };
      F && (P.critical = !0);
      var M = i(_);
      try {
        for (var C = M.seq, y = 0; y < C.length; y++) {
          var E = C[y].tag;
          E.explicit == !1 && (E.tag == "80" && (P.reqexp = parseInt(E.hex, 16)), E.tag == "81" && (P.inhibit = parseInt(E.hex, 16)));
        }
      } catch {
        return new A("malformed policyConstraints value");
      }
      return P;
    }
  }, this.getExtInhibitAnyPolicy = function(_, F) {
    var O = this.getCriticalExtV("inhibitAnyPolicy", _, F);
    if (_ = O[0], F = O[1], _ != null) {
      var P = { extname: "inhibitAnyPolicy" };
      F && (P.critical = !0);
      var M = d(_, 0);
      return M == -1 ? new A("wrong value") : (P.skip = M, P);
    }
  }, this.getExtCRLNumber = function(_, F) {
    var O = { extname: "cRLNumber" };
    if (F && (O.critical = !0), _.substr(0, 2) == "02")
      return O.num = { hex: n(_, 0) }, O;
    throw new A("hExtV parse error: " + _);
  }, this.getExtCRLReason = function(_, F) {
    var O = { extname: "cRLReason" };
    if (F && (O.critical = !0), _.substr(0, 2) == "0a")
      return O.code = parseInt(n(_, 0), 16), O;
    throw new Error("hExtV parse error: " + _);
  }, this.getExtOcspNonce = function(_, F) {
    var O = { extname: "ocspNonce" };
    F && (O.critical = !0);
    var P = n(_, 0);
    return O.hex = P, O;
  }, this.getExtOcspNoCheck = function(_, F) {
    var O = { extname: "ocspNoCheck" };
    return F && (O.critical = !0), O;
  }, this.getExtAdobeTimeStamp = function(_, F) {
    if (_ === void 0 && F === void 0) {
      var O = this.getExtInfo("adobeTimeStamp");
      if (O === void 0)
        return;
      _ = s(this.hex, O.vidx), F = O.critical;
    }
    var P = { extname: "adobeTimeStamp" };
    F && (P.critical = !0);
    var M = r(_, 0);
    if (M.length > 1) {
      var C = s(_, M[1]), y = this.getGeneralName(C);
      y.uri != null && (P.uri = y.uri);
    }
    if (M.length > 2) {
      var E = s(_, M[2]);
      E == "0101ff" && (P.reqauth = !0), E == "010100" && (P.reqauth = !1);
    }
    return P;
  }, this.getExtSubjectDirectoryAttributes = function(_, F) {
    if (_ === void 0 && F === void 0) {
      var O = this.getExtInfo("subjectDirectoryAttributes");
      if (O === void 0)
        return;
      _ = s(this.hex, O.vidx), F = O.critical;
    }
    var P = { extname: "subjectDirectoryAttributes" };
    F && (P.critical = !0);
    try {
      for (var M = i(_), C = [], y = 0; y < M.seq.length; y++) {
        var E = M.seq[y], T = ii(E, "seq.0.oid"), R = ii(E, "seq.1.set");
        if (T == null || R == null)
          throw "error";
        C.push({ attr: T, array: R });
      }
      return P.array = C, P;
    } catch {
      throw new Error("malformed subjectDirectoryAttributes extension value");
    }
  };
  var D = function(_) {
    var F = {};
    try {
      var O = _.seq[0].oid, P = g.asn1.x509.OID.name2oid(O);
      F.type = g.asn1.x509.OID.oid2atype(P);
      var M = _.seq[1];
      if (M.utf8str != null)
        F.ds = "utf8", F.value = M.utf8str.str;
      else if (M.numstr != null)
        F.ds = "num", F.value = M.numstr.str;
      else if (M.telstr != null)
        F.ds = "tel", F.value = M.telstr.str;
      else if (M.prnstr != null)
        F.ds = "prn", F.value = M.prnstr.str;
      else if (M.ia5str != null)
        F.ds = "ia5", F.value = M.ia5str.str;
      else if (M.visstr != null)
        F.ds = "vis", F.value = M.visstr.str;
      else if (M.bmpstr != null)
        F.ds = "bmp", F.value = M.bmpstr.str;
      else
        throw "error";
      return F;
    } catch {
      throw new Erorr("improper ASN.1 parsed AttrTypeAndValue");
    }
  }, k = function(_) {
    try {
      return _.set.map(function(F) {
        return D(F);
      });
    } catch (F) {
      throw new Error("improper ASN.1 parsed RDN: " + F);
    }
  }, L = function(_) {
    try {
      return _.seq.map(function(F) {
        return k(F);
      });
    } catch (F) {
      throw new Error("improper ASN.1 parsed X500Name: " + F);
    }
  };
  this.getX500NameRule = function(_) {
    for (var F = null, O = [], P = 0; P < _.length; P++)
      for (var M = _[P], C = 0; C < M.length; C++)
        O.push(M[C]);
    for (var P = 0; P < O.length; P++) {
      var y = O[P], E = y.ds, T = y.value, R = y.type;
      if (E != "prn" && E != "utf8" && E != "ia5")
        return "mixed";
      if (E == "ia5") {
        if (R != "CN")
          return "mixed";
        if (g.lang.String.isMail(T))
          continue;
        return "mixed";
      }
      if (R == "C") {
        if (E == "prn")
          continue;
        return "mixed";
      }
      if (F == null)
        F = E;
      else if (F !== E)
        return "mixed";
    }
    return F ?? "prn";
  }, this.getAttrTypeAndValue = function(_) {
    var F = i(_);
    return D(F);
  }, this.getRDN = function(_) {
    var F = i(_);
    return k(F);
  }, this.getX500NameArray = function(_) {
    var F = i(_);
    return L(F);
  }, this.getX500Name = function(_, F, O) {
    var P = this.getX500NameArray(_), M = this.dnarraytostr(P), C = { str: M };
    return C.array = P, O == !0 && (C.hex = _), F == !0 && (C.canon = this.c14nRDNArray(P)), C;
  }, this.readCertPEM = function(_) {
    this.readCertHex(m(_));
  }, this.readCertHex = function(_) {
    this.hex = _, this.getVersion();
    try {
      l(this.hex, 0, [0, 7], "a3"), this.parseExt();
    } catch {
    }
  }, this.getParam = function(_) {
    var F = {};
    return _ == null && (_ = {}), F.version = this.getVersion(), F.serial = { hex: this.getSerialNumberHex() }, F.sigalg = this.getSignatureAlgorithmField(), F.issuer = this.getIssuer(_.dncanon, _.dnhex), F.notbefore = this.getNotBefore(), F.notafter = this.getNotAfter(), F.subject = this.getSubject(_.dncanon, _.dnhex), F.sbjpubkey = jt(this.getPublicKeyHex(), "PUBLIC KEY"), this.aExtInfo != null && this.aExtInfo.length > 0 && (F.ext = this.getExtParamArray()), F.sighex = this.getSignatureValueHex(), _.tbshex == !0 && (F.tbshex = u(this.hex, 0, [0])), _.nodnarray == !0 && (delete F.issuer.array, delete F.subject.array), F;
  }, this.getExtParamArray = function(_) {
    if (_ == null) {
      var F = h(this.hex, 0, [0, "[3]"]);
      F != -1 && (_ = f(this.hex, 0, [0, "[3]", 0], "30"));
    }
    for (var O = [], P = r(_, 0), M = 0; M < P.length; M++) {
      var C = s(_, P[M]), y = this.getExtParam(C);
      y != null && O.push(y);
    }
    return O;
  }, this.getExtParam = function(_) {
    var F = r(_, 0), O = F.length;
    if (O != 2 && O != 3)
      throw new Error("wrong number elements in Extension: " + O + " " + _);
    var P = v(a(_, 0, [0], "06")), M = !1;
    O == 3 && u(_, 0, [1]) == "0101ff" && (M = !0);
    var C = u(_, 0, [O - 1, 0]), y = void 0;
    if (P == "2.5.29.14" ? y = this.getExtSubjectKeyIdentifier(C, M) : P == "2.5.29.15" ? y = this.getExtKeyUsage(C, M) : P == "2.5.29.17" ? y = this.getExtSubjectAltName(C, M) : P == "2.5.29.18" ? y = this.getExtIssuerAltName(C, M) : P == "2.5.29.19" ? y = this.getExtBasicConstraints(C, M) : P == "2.5.29.30" ? y = this.getExtNameConstraints(C, M) : P == "2.5.29.31" ? y = this.getExtCRLDistributionPoints(C, M) : P == "2.5.29.32" ? y = this.getExtCertificatePolicies(C, M) : P == "2.5.29.33" ? y = this.getExtPolicyMappings(C, M) : P == "2.5.29.35" ? y = this.getExtAuthorityKeyIdentifier(C, M) : P == "2.5.29.36" ? y = this.getExtPolicyConstraints(C, M) : P == "2.5.29.37" ? y = this.getExtExtKeyUsage(C, M) : P == "2.5.29.54" ? y = this.getExtInhibitAnyPolicy(C, M) : P == "1.3.6.1.5.5.7.1.1" ? y = this.getExtAuthorityInfoAccess(C, M) : P == "2.5.29.20" ? y = this.getExtCRLNumber(C, M) : P == "2.5.29.21" ? y = this.getExtCRLReason(C, M) : P == "2.5.29.9" ? y = this.getExtSubjectDirectoryAttributes(C, M) : P == "1.3.6.1.5.5.7.48.1.2" ? y = this.getExtOcspNonce(C, M) : P == "1.3.6.1.5.5.7.48.1.5" ? y = this.getExtOcspNoCheck(C, M) : P == "1.2.840.113583.1.1.9.1" ? y = this.getExtAdobeTimeStamp(C, M) : Be.EXT_PARSER[P] != null && (y = Be.EXT_PARSER[P](P, M, C)), y != null)
      return y;
    var E = { extname: P, extn: C };
    try {
      E.extn = i(C);
    } catch {
    }
    return M && (E.critical = !0), E;
  }, this.findExt = function(_, F) {
    for (var O = 0; O < _.length; O++)
      if (_[O].extname == F)
        return _[O];
    return null;
  }, this.updateExtCDPFullURI = function(_, F) {
    var O = this.findExt(_, "cRLDistributionPoints");
    if (O != null && O.array != null) {
      for (var P = O.array, M = 0; M < P.length; M++)
        if (P[M].dpname != null && P[M].dpname.full != null)
          for (var C = P[M].dpname.full, y = 0; y < C.length; y++) {
            var E = C[M];
            E.uri != null && (E.uri = F);
          }
    }
  }, this.updateExtAIAOCSP = function(_, F) {
    var O = this.findExt(_, "authorityInfoAccess");
    if (O != null && O.array != null)
      for (var P = O.array, M = 0; M < P.length; M++)
        P[M].ocsp != null && (P[M].ocsp = F);
  }, this.updateExtAIACAIssuer = function(_, F) {
    var O = this.findExt(_, "authorityInfoAccess");
    if (O != null && O.array != null)
      for (var P = O.array, M = 0; M < P.length; M++)
        P[M].caissuer != null && (P[M].caissuer = F);
  }, this.dnarraytostr = function(_) {
    function F(P) {
      return P.map(function(M) {
        return O(M).replace(/\+/, "\\+");
      }).join("+");
    }
    function O(P) {
      return P.type + "=" + P.value;
    }
    return "/" + _.map(function(P) {
      return F(P).replace(/\//, "\\/");
    }).join("/");
  }, this.setCanonicalizedDN = function(_) {
    var F;
    if (_.str != null && _.array == null) {
      var O = new g.asn1.x509.X500Name({ str: _.str }), P = O.tohex();
      F = this.getX500NameArray(P);
    } else
      F = _.array;
    _.canon == null && (_.canon = this.c14nRDNArray(F));
  }, this.c14nRDNArray = function(_) {
    for (var F = [], O = 0; O < _.length; O++) {
      for (var P = _[O], M = [], C = 0; C < P.length; C++) {
        var y = P[C], E = y.value;
        E = E.replace(/^\s*/, ""), E = E.replace(/\s*$/, ""), E = E.replace(/\s+/g, " "), E = E.toLowerCase(), M.push(y.type.toLowerCase() + "=" + E);
      }
      F.push(M.join("+"));
    }
    return "/" + F.join("/");
  }, this.getInfo = function() {
    var _ = function(le) {
      for (var oe = "", ue = "    ", fe = `
`, j = le.array, W = 0; W < j.length; W++) {
        var U = j[W];
        if (U.dn != null && (oe += ue + "dn: " + U.dn.str + fe), U.ip != null && (oe += ue + "ip: " + U.ip + fe), U.rfc822 != null && (oe += ue + "rfc822: " + U.rfc822 + fe), U.dns != null && (oe += ue + "dns: " + U.dns + fe), U.uri != null && (oe += ue + "uri: " + U.uri + fe), U.other != null) {
          var Q = U.other.oid, ee = JSON.stringify(U.other.value).replace(/\"/g, "");
          oe += ue + "other: " + Q + "=" + ee + fe;
        }
      }
      return oe = oe.replace(/\n$/, ""), oe;
    }, F = function(le) {
      for (var oe = "", ue = le.array, fe = 0; fe < ue.length; fe++) {
        var j = ue[fe];
        if (oe += "    policy oid: " + j.policyoid + `
`, j.array !== void 0)
          for (var W = 0; W < j.array.length; W++) {
            var U = j.array[W];
            U.cps !== void 0 && (oe += "    cps: " + U.cps + `
`);
          }
      }
      return oe;
    }, O = function(le) {
      for (var oe = "", ue = le.array, fe = 0; fe < ue.length; fe++) {
        var j = ue[fe];
        try {
          j.dpname.full[0].uri !== void 0 && (oe += "    " + j.dpname.full[0].uri + `
`);
        } catch {
        }
        try {
          j.dname.full[0].dn.hex !== void 0 && (oe += "    " + Be.hex2dn(j.dpname.full[0].dn.hex) + `
`);
        } catch {
        }
      }
      return oe;
    }, P = function(le) {
      for (var oe = "", ue = le.array, fe = 0; fe < ue.length; fe++) {
        var j = ue[fe];
        j.caissuer !== void 0 && (oe += "    caissuer: " + j.caissuer + `
`), j.ocsp !== void 0 && (oe += "    ocsp: " + j.ocsp + `
`);
      }
      return oe;
    }, M, C, y;
    if (M = `Basic Fields
`, M += "  serial number: " + this.getSerialNumberHex() + `
`, M += "  signature algorithm: " + this.getSignatureAlgorithmField() + `
`, M += "  issuer: " + this.getIssuerString() + `
`, M += "  notBefore: " + this.getNotBefore() + `
`, M += "  notAfter: " + this.getNotAfter() + `
`, M += "  subject: " + this.getSubjectString() + `
`, M += `  subject public key info: 
`, C = this.getPublicKey(), M += "    key algorithm: " + C.type + `
`, C.type === "RSA" && (M += "    n=" + jh(C.n.toString(16)).substr(0, 16) + `...
`, M += "    e=" + jh(C.e.toString(16)) + `
`), y = this.aExtInfo, y != null) {
      M += `X509v3 Extensions:
`;
      for (var E = 0; E < y.length; E++) {
        var T = y[E], R = g.asn1.x509.OID.oid2name(T.oid);
        R === "" && (R = T.oid);
        var N = "";
        if (T.critical === !0 && (N = "CRITICAL"), M += "  " + R + " " + N + `:
`, R === "basicConstraints") {
          var H = this.getExtBasicConstraints();
          H.cA === void 0 ? M += `    {}
` : (M += "    cA=true", H.pathLen !== void 0 && (M += ", pathLen=" + H.pathLen), M += `
`);
        } else if (R == "policyMappings") {
          var Z = this.getExtPolicyMappings().array, K = Z.map(function(le) {
            var oe = le;
            return oe[0] + ":" + oe[1];
          }).join(", ");
          M += "    " + K + `
`;
        } else if (R == "policyConstraints") {
          var x = this.getExtPolicyConstraints();
          M += "    ", x.reqexp != null && (M += " reqexp=" + x.reqexp), x.inhibit != null && (M += " inhibit=" + x.inhibit), M += `
`;
        } else if (R == "inhibitAnyPolicy") {
          var x = this.getExtInhibitAnyPolicy();
          M += "    skip=" + x.skip + `
`;
        } else if (R == "keyUsage")
          M += "    " + this.getExtKeyUsageString() + `
`;
        else if (R == "subjectKeyIdentifier")
          M += "    " + this.getExtSubjectKeyIdentifier().kid.hex + `
`;
        else if (R == "authorityKeyIdentifier") {
          var V = this.getExtAuthorityKeyIdentifier();
          V.kid !== void 0 && (M += "    kid=" + V.kid.hex + `
`);
        } else if (R == "extKeyUsage") {
          var $ = this.getExtExtKeyUsage().array;
          M += "    " + $.join(", ") + `
`;
        } else if (R == "subjectAltName") {
          var G = _(this.getExtSubjectAltName());
          M += G + `
`;
        } else if (R == "cRLDistributionPoints") {
          var z = this.getExtCRLDistributionPoints();
          M += O(z);
        } else if (R == "authorityInfoAccess") {
          var ae = this.getExtAuthorityInfoAccess();
          M += P(ae);
        } else
          R == "certificatePolicies" && (M += F(this.getExtCertificatePolicies()));
      }
    }
    return M += "signature algorithm: " + this.getSignatureAlgorithmName() + `
`, M += "signature: " + this.getSignatureValueHex().substr(0, 16) + `...
`, M;
  }, typeof e == "string" && (e.indexOf("-----BEGIN") != -1 ? this.readCertPEM(e) : g.lang.String.isHex(e) && this.readCertHex(e));
}
Be.EXT_PARSER = {};
Be.registExtParser = function(e, t) {
  Be.EXT_PARSER[e] = t;
};
Be.hex2dn = function(e, t) {
  t === void 0 && (t = 0);
  var r = new Be();
  ye.getTLV(e, t);
  var n = r.getX500Name(e);
  return n.str;
};
Be.hex2rdn = function(e, t) {
  if (t === void 0 && (t = 0), e.substr(t, 2) !== "31")
    throw new Error("malformed RDN");
  for (var r = new Array(), n = ye.getChildIdx(e, t), i = 0; i < n.length; i++)
    r.push(Be.hex2attrTypeValue(e, n[i]));
  return r = r.map(function(s) {
    return s.replace("+", "\\+");
  }), r.join("+");
};
Be.hex2attrTypeValue = function(e, t) {
  var r = ye, n = r.getV;
  if (t === void 0 && (t = 0), e.substr(t, 2) !== "30")
    throw new Error("malformed attribute type and value");
  var i = r.getChildIdx(e, t);
  i.length !== 2 || e.substr(i[0], 2);
  var s = n(e, i[0]), a = g.asn1.ASN1Util.oidHexToInt(s), o = g.asn1.x509.OID.oid2atype(a), u = n(e, i[1]), f = mr(u);
  return o + "=" + f;
};
Be.getPublicKeyFromCertHex = function(e) {
  var t = new Be();
  return t.readCertHex(e), t.getPublicKey();
};
Be.getPublicKeyFromCertPEM = function(e) {
  var t = new Be();
  return t.readCertPEM(e), t.getPublicKey();
};
Be.getPublicKeyInfoPropOfCertPEM = function(e) {
  var t = ye, r = t.getVbyList, n = {}, i, s;
  return n.algparam = null, i = new Be(), i.readCertPEM(e), s = i.getPublicKeyHex(), n.keyhex = r(s, 0, [1], "03").substr(2), n.algoid = r(s, 0, [0, 0], "06"), n.algoid === "2a8648ce3d0201" && (n.algparam = r(s, 0, [0, 1], "06")), n;
};
Be.KEYUSAGE_NAME = ["digitalSignature", "nonRepudiation", "keyEncipherment", "dataEncipherment", "keyAgreement", "keyCertSign", "cRLSign", "encipherOnly", "decipherOnly"];
(typeof g > "u" || !g) && (g = {});
(typeof g.jws > "u" || !g.jws) && (g.jws = {});
g.jws.JWS = function() {
  var e = g, t = e.jws.JWS, r = t.isSafeJSONString;
  this.parseJWS = function(n, i) {
    if (!(this.parsedJWS !== void 0 && (i || this.parsedJWS.sigvalH !== void 0))) {
      var s = n.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);
      if (s == null)
        throw "JWS signature is not a form of 'Head.Payload.SigValue'.";
      var a = s[1], o = s[2], u = s[3], f = a + "." + o;
      if (this.parsedJWS = {}, this.parsedJWS.headB64U = a, this.parsedJWS.payloadB64U = o, this.parsedJWS.sigvalB64U = u, this.parsedJWS.si = f, !i) {
        var l = ft(u), h = Ut(l, 16);
        this.parsedJWS.sigvalH = l, this.parsedJWS.sigvalBI = h;
      }
      var c = $r(a), d = $r(o);
      if (this.parsedJWS.headS = c, this.parsedJWS.payloadS = d, !r(c, this.parsedJWS, "headP"))
        throw "malformed JSON string for JWS Head: " + c;
    }
  };
};
g.jws.JWS.sign = function(e, t, r, n, i) {
  var s = g, a = s.jws, o = a.JWS, u = o.readSafeJSONString, f = o.isSafeJSONString, l = s.crypto;
  l.ECDSA;
  var h = l.Mac, c = l.Signature, d = JSON, p, v, m;
  if (typeof t != "string" && typeof t != "object")
    throw "spHeader must be JSON string or object: " + t;
  if (typeof t == "object" && (v = t, p = d.stringify(v)), typeof t == "string") {
    if (p = t, !f(p))
      throw "JWS Head is not safe JSON string: " + p;
    v = u(p);
  }
  if (m = r, typeof r == "object" && (m = d.stringify(r)), (e == "" || e == null) && v.alg !== void 0 && (e = v.alg), e != "" && e != null && v.alg === void 0 && (v.alg = e, p = d.stringify(v)), e !== v.alg)
    throw "alg and sHeader.alg doesn't match: " + e + "!=" + v.alg;
  var b = null;
  if (o.jwsalg2sigalg[e] === void 0)
    throw "unsupported alg name: " + e;
  b = o.jwsalg2sigalg[e];
  var A = xa(p), D = xa(m), k = A + "." + D, L = "";
  if (b.substr(0, 4) == "Hmac") {
    if (n === void 0)
      throw "mac key shall be specified for HS* alg";
    var _ = new h({ alg: b, prov: "cryptojs", pass: n });
    _.updateString(k), L = _.doFinal();
  } else if (b.indexOf("withECDSA") != -1) {
    var F = new c({ alg: b });
    F.init(n, i), F.updateString(k);
    var O = F.sign();
    L = g.crypto.ECDSA.asn1SigToConcatSig(O);
  } else if (b != "none") {
    var F = new c({ alg: b });
    F.init(n, i), F.updateString(k), L = F.sign();
  }
  var P = Ct(L);
  return k + "." + P;
};
g.jws.JWS.verify = function(e, t, r) {
  var n = g, i = n.jws, s = i.JWS, a = s.readSafeJSONString, o = n.crypto, u = o.ECDSA, f = o.Mac, l = o.Signature, h;
  if (typeof Pe !== void 0 && (h = Pe), !y1(e))
    return !1;
  var c = e.split(".");
  if (c.length !== 3)
    return !1;
  var d = c[0], p = c[1], v = d + "." + p, m = ft(c[2]), b = a($r(c[0])), A = null, D = null;
  if (b.alg === void 0)
    throw "algorithm not specified in header";
  if (A = b.alg, D = A.substr(0, 2), r != null && Object.prototype.toString.call(r) === "[object Array]" && r.length > 0) {
    var k = ":" + r.join(":") + ":";
    if (k.indexOf(":" + A + ":") == -1)
      throw "algorithm '" + A + "' not accepted in the list";
  }
  if (A != "none" && t === null)
    throw "key shall be specified to verify.";
  if (typeof t == "string" && t.indexOf("-----BEGIN ") != -1 && (t = $e.getKey(t)), (D == "RS" || D == "PS") && !(t instanceof h))
    throw "key shall be a RSAKey obj for RS* and PS* algs";
  if (D == "ES" && !(t instanceof u))
    throw "key shall be a ECDSA obj for ES* algs";
  var L = null;
  if (s.jwsalg2sigalg[b.alg] === void 0)
    throw "unsupported alg name: " + A;
  if (L = s.jwsalg2sigalg[A], L == "none")
    throw "not supported";
  if (L.substr(0, 4) == "Hmac") {
    var _ = null;
    if (t === void 0)
      throw "hexadecimal key shall be specified for HMAC";
    var F = new f({ alg: L, pass: t });
    return F.updateString(v), _ = F.doFinal(), m == _;
  } else if (L.indexOf("withECDSA") != -1) {
    var O = null;
    try {
      O = u.concatSigToASN1Sig(m);
    } catch {
      return !1;
    }
    var P = new l({ alg: L });
    return P.init(t), P.updateString(v), P.verify(O);
  } else {
    var P = new l({ alg: L });
    return P.init(t), P.updateString(v), P.verify(m);
  }
};
g.jws.JWS.parse = function(e) {
  var t = e.split("."), r = {}, n, i, s;
  if (t.length != 2 && t.length != 3)
    throw "malformed sJWS: wrong number of '.' splitted elements";
  return n = t[0], i = t[1], t.length == 3 && (s = t[2]), r.headerObj = g.jws.JWS.readSafeJSONString($r(n)), r.payloadObj = g.jws.JWS.readSafeJSONString($r(i)), r.headerPP = JSON.stringify(r.headerObj, null, "  "), r.payloadObj == null ? r.payloadPP = $r(i) : r.payloadPP = JSON.stringify(r.payloadObj, null, "  "), s !== void 0 && (r.sigHex = ft(s)), r;
};
g.jws.JWS.verifyJWT = function(e, t, r) {
  var n = g, i = n.jws, s = i.JWS, a = s.readSafeJSONString, o = s.inArray, u = s.includedArray;
  if (!y1(e))
    return !1;
  var f = e.split(".");
  if (f.length != 3)
    return !1;
  var l = f[0], h = f[1];
  ft(f[2]);
  var c = a($r(l)), d = a($r(h));
  if (c.alg === void 0)
    return !1;
  if (r.alg === void 0)
    throw "acceptField.alg shall be specified";
  if (!o(c.alg, r.alg) || d.iss !== void 0 && typeof r.iss == "object" && !o(d.iss, r.iss) || d.sub !== void 0 && typeof r.sub == "object" && !o(d.sub, r.sub))
    return !1;
  if (d.aud !== void 0 && typeof r.aud == "object") {
    if (typeof d.aud == "string") {
      if (!o(d.aud, r.aud))
        return !1;
    } else if (typeof d.aud == "object" && !u(d.aud, r.aud))
      return !1;
  }
  var p = i.IntDate.getNow();
  return r.verifyAt !== void 0 && typeof r.verifyAt == "number" && (p = r.verifyAt), (r.gracePeriod === void 0 || typeof r.gracePeriod != "number") && (r.gracePeriod = 0), !(d.exp !== void 0 && typeof d.exp == "number" && d.exp + r.gracePeriod < p || d.nbf !== void 0 && typeof d.nbf == "number" && p < d.nbf - r.gracePeriod || d.iat !== void 0 && typeof d.iat == "number" && p < d.iat - r.gracePeriod || d.jti !== void 0 && r.jti !== void 0 && d.jti !== r.jti || !s.verify(e, t, r.alg));
};
g.jws.JWS.includedArray = function(e, t) {
  var r = g.jws.JWS.inArray;
  if (e === null || typeof e != "object" || typeof e.length != "number")
    return !1;
  for (var n = 0; n < e.length; n++)
    if (!r(e[n], t))
      return !1;
  return !0;
};
g.jws.JWS.inArray = function(e, t) {
  if (t === null || typeof t != "object" || typeof t.length != "number")
    return !1;
  for (var r = 0; r < t.length; r++)
    if (t[r] == e)
      return !0;
  return !1;
};
g.jws.JWS.jwsalg2sigalg = { HS256: "HmacSHA256", HS384: "HmacSHA384", HS512: "HmacSHA512", RS256: "SHA256withRSA", RS384: "SHA384withRSA", RS512: "SHA512withRSA", ES256: "SHA256withECDSA", ES384: "SHA384withECDSA", ES512: "SHA512withECDSA", PS256: "SHA256withRSAandMGF1", PS384: "SHA384withRSAandMGF1", PS512: "SHA512withRSAandMGF1", none: "none" };
g.jws.JWS.isSafeJSONString = function(e, t, r) {
  var n = null;
  try {
    return n = c1(e), typeof n != "object" || n.constructor === Array ? 0 : (t && (t[r] = n), 1);
  } catch {
    return 0;
  }
};
g.jws.JWS.readSafeJSONString = function(e) {
  var t = null;
  try {
    return t = c1(e), typeof t != "object" || t.constructor === Array ? null : t;
  } catch {
    return null;
  }
};
g.jws.JWS.getEncodedSignatureValueFromJWS = function(e) {
  var t = e.match(/^[^.]+\.[^.]+\.([^.]+)$/);
  if (t == null)
    throw "JWS signature is not a form of 'Head.Payload.SigValue'.";
  return t[1];
};
g.jws.JWS.getJWKthumbprint = function(e) {
  if (e.kty !== "RSA" && e.kty !== "EC" && e.kty !== "oct")
    throw "unsupported algorithm for JWK Thumprint";
  var t = "{";
  if (e.kty === "RSA") {
    if (typeof e.n != "string" || typeof e.e != "string")
      throw "wrong n and e value for RSA key";
    t += '"e":"' + e.e + '",', t += '"kty":"' + e.kty + '",', t += '"n":"' + e.n + '"}';
  } else if (e.kty === "EC") {
    if (typeof e.crv != "string" || typeof e.x != "string" || typeof e.y != "string")
      throw "wrong crv, x and y value for EC key";
    t += '"crv":"' + e.crv + '",', t += '"kty":"' + e.kty + '",', t += '"x":"' + e.x + '",', t += '"y":"' + e.y + '"}';
  } else if (e.kty === "oct") {
    if (typeof e.k != "string")
      throw "wrong k value for oct(symmetric) key";
    t += '"kty":"' + e.kty + '",', t += '"k":"' + e.k + '"}';
  }
  var r = Or(t), n = g.crypto.Util.hashHex(r, "sha256"), i = Ct(n);
  return i;
};
g.jws.IntDate = {};
g.jws.IntDate.get = function(e) {
  var t = g.jws.IntDate, r = t.getNow, n = t.getZulu;
  if (e == "now")
    return r();
  if (e == "now + 1hour")
    return r() + 60 * 60;
  if (e == "now + 1day")
    return r() + 60 * 60 * 24;
  if (e == "now + 1month")
    return r() + 60 * 60 * 24 * 30;
  if (e == "now + 1year")
    return r() + 60 * 60 * 24 * 365;
  if (e.match(/Z$/))
    return n(e);
  if (e.match(/^[0-9]+$/))
    return parseInt(e);
  throw "unsupported format: " + e;
};
g.jws.IntDate.getZulu = function(e) {
  return J5(e);
};
g.jws.IntDate.getNow = function() {
  var e = ~~(new Date() / 1e3);
  return e;
};
g.jws.IntDate.intDate2UTCString = function(e) {
  var t = new Date(e * 1e3);
  return t.toUTCString();
};
g.jws.IntDate.intDate2Zulu = function(e) {
  var t = new Date(e * 1e3), r = ("0000" + t.getUTCFullYear()).slice(-4), n = ("00" + (t.getUTCMonth() + 1)).slice(-2), i = ("00" + t.getUTCDate()).slice(-2), s = ("00" + t.getUTCHours()).slice(-2), a = ("00" + t.getUTCMinutes()).slice(-2), o = ("00" + t.getUTCSeconds()).slice(-2);
  return r + n + i + s + a + o + "Z";
};
(typeof g > "u" || !g) && (g = {});
(typeof g.jws > "u" || !g.jws) && (g.jws = {});
g.jws.JWSJS = function() {
  var e = g, t = e.jws, r = t.JWS, n = r.readSafeJSONString;
  this.aHeader = [], this.sPayload = "", this.aSignature = [], this.init = function() {
    this.aHeader = [], this.sPayload = void 0, this.aSignature = [];
  }, this.initWithJWS = function(i) {
    this.init();
    var s = i.split(".");
    if (s.length != 3)
      throw "malformed input JWS";
    this.aHeader.push(s[0]), this.sPayload = s[1], this.aSignature.push(s[2]);
  }, this.addSignature = function(i, s, a, o) {
    if (this.sPayload === void 0 || this.sPayload === null)
      throw "there's no JSON-JS signature to add.";
    var u = this.aHeader.length;
    if (this.aHeader.length != this.aSignature.length)
      throw "aHeader.length != aSignature.length";
    try {
      var f = g.jws.JWS.sign(i, s, this.sPayload, a, o), l = f.split("."), h = l[0], c = l[2];
      this.aHeader.push(l[0]), this.aSignature.push(l[2]);
    } catch (d) {
      throw this.aHeader.length > u && this.aHeader.pop(), this.aSignature.length > u && this.aSignature.pop(), "addSignature failed: " + d;
    }
  }, this.verifyAll = function(i) {
    if (this.aHeader.length !== i.length || this.aSignature.length !== i.length)
      return !1;
    for (var s = 0; s < i.length; s++) {
      var a = i[s];
      if (a.length !== 2)
        return !1;
      var o = this.verifyNth(s, a[0], a[1]);
      if (o === !1)
        return !1;
    }
    return !0;
  }, this.verifyNth = function(i, s, a) {
    if (this.aHeader.length <= i || this.aSignature.length <= i)
      return !1;
    var o = this.aHeader[i], u = this.aSignature[i], f = o + "." + this.sPayload + "." + u, l = !1;
    try {
      l = r.verify(f, s, a);
    } catch {
      return !1;
    }
    return l;
  }, this.readJWSJS = function(i) {
    if (typeof i == "string") {
      var s = n(i);
      if (s == null)
        throw "argument is not safe JSON object string";
      this.aHeader = s.headers, this.sPayload = s.payload, this.aSignature = s.signatures;
    } else
      try {
        if (i.headers.length > 0)
          this.aHeader = i.headers;
        else
          throw "malformed header";
        if (typeof i.payload == "string")
          this.sPayload = i.payload;
        else
          throw "malformed signatures";
        if (i.signatures.length > 0)
          this.aSignature = i.signatures;
        else
          throw "malformed signatures";
      } catch (a) {
        throw "malformed JWS-JS JSON object: " + a;
      }
  }, this.getJSON = function() {
    return { headers: this.aHeader, payload: this.sPayload, signatures: this.aSignature };
  }, this.isEmpty = function() {
    return this.aHeader.length == 0 ? 1 : 0;
  };
};
g.crypto.ECDSA;
g.crypto.DSA;
g.crypto.Signature;
g.crypto.MessageDigest;
g.crypto.Mac;
g.crypto.Cipher;
var e6 = g;
g.crypto;
g.asn1;
g.jws;
g.lang;
async function t6(e) {
  const t = e.API_ID, r = window.location.href;
  return fr({ method: "POST", url: "https://server.othent.io/use-othent", data: { API_ID: t, callbackURL: r } }).then((n) => {
    if (n.data.success === !1)
      throw new Error("Please specify an API ID (you can get one from Othent.io)");
    const i = () => qm({ domain: "auth.othent.io", clientId: "dyegx4dZj5yOv0v0RkoUsc48CIqaNS6C", authorizationParams: { redirect_uri: window.location.origin } });
    function s(u, f) {
      return u.getTokenSilently({ detailedResponse: !0, authorizationParams: f, cacheMode: "off" });
    }
    async function a(u) {
      let f;
      if (u instanceof File)
        f = await async function(l) {
          return new Promise((h, c) => {
            const d = new FileReader();
            d.onload = () => {
              const p = d.result, v = Buffer.from(p);
              h(v);
            }, d.onerror = c, d.readAsArrayBuffer(l);
          });
        }(u);
      else if (typeof u == "string")
        f = Buffer.from(u, "utf8");
      else if (Buffer.isBuffer(u))
        f = u;
      else if (u instanceof ArrayBuffer || u instanceof SharedArrayBuffer)
        f = Buffer.from(u);
      else {
        if (!(u instanceof Uint8Array))
          throw new Error("Invalid data, we accept: string | Buffer | ArrayBuffer | SharedArrayBuffer | Uint8Array | File");
        f = Buffer.from(u.buffer);
      }
      return f;
    }
    async function o() {
      const u = await i(), f = { transaction_input: JSON.stringify({ othentFunction: "idToken" }) }, l = (await s(u, f)).id_token, h = vn(l);
      if (h.contract_id)
        return delete h.nonce, delete h.sid, delete h.aud, delete h.iss, delete h.iat, delete h.exp, delete h.updated_at, h;
      throw new Error('{ success: false, message: "Please create a Othent account" }');
    }
    return { getAPIID: async function() {
      const u = await i(), f = { transaction_input: JSON.stringify({ othentFunction: "API_ID" }) }, l = (await s(u, f)).id_token, h = vn(l);
      if (h.contract_id)
        return { API_ID: h.API_ID };
      throw new Error('{ success: false, message: "Please create a Othent account" }');
    }, addCallbackURL: async function(u) {
      return await fr({ method: "POST", url: "https://server.othent.io/add-callback-url", data: { callbackURL: u.callbackURL } }).then((f) => f.data).catch((f) => {
        throw f;
      });
    }, queryWalletAddressTxns: async function(u) {
      return await fr({ method: "POST", url: "https://server.othent.io/query-wallet-address-txns", data: { walletAddress: u.walletAddress } }).then((f) => f.data).catch((f) => {
        throw f;
      });
    }, ping: async function() {
      return await fr({ method: "GET", url: "https://server.othent.io/" }).then((u) => u.data).catch((u) => {
        throw u;
      });
    }, logIn: async function() {
      const u = await i();
      if (await u.isAuthenticated())
        return await o();
      {
        const f = { authorizationParams: { transaction_input: JSON.stringify({ othentFunction: "idToken" }), redirect_uri: window.location.origin } };
        let l = null, h = "";
        try {
          await u.loginWithPopup(f);
          const c = { transaction_input: JSON.stringify({ othentFunction: "idToken" }) };
          h = (await s(u, c)).id_token, l = vn(h);
        } catch (c) {
          throw c instanceof Error && c.message, new Error("Your browser is blocking us! Please turn off your shields or allow cross site cookies! :)");
        }
        return l && l.contract_id ? (delete l.nonce, delete l.sid, delete l.aud, delete l.iss, delete l.iat, delete l.exp, delete l.updated_at, l) : await fr({ method: "POST", url: "https://server.othent.io/create-user", data: { JWT: h, API_ID: t } }).then((c) => {
          const d = c.data;
          return { contract_id: d.contract_id, given_name: d.given_name, family_name: d.family_name, nickname: d.nickname, name: d.name, picture: d.picture, locale: d.locale, email: d.email, email_verified: d.email_verified, sub: d.sub, success: d.success, message: d.message };
        }).catch((c) => {
          throw console.log(c.response.data), c;
        });
      }
    }, logOut: async function() {
      return await (await i()).logout({ logoutParams: { returnTo: window.location.origin } }), { response: "User logged out" };
    }, userDetails: o, readContract: async function() {
      const u = await i(), f = { transaction_input: JSON.stringify({ othentFunction: "idToken" }) }, l = (await s(u, f)).id_token;
      return await fr({ method: "POST", url: "https://server.othent.io/read-contract", data: { JWT: l } }).then((h) => h.data).catch((h) => {
        throw console.log(h.response.data), h;
      });
    }, signTransactionWarp: async function(u) {
      var f;
      (f = u.tags) !== null && f !== void 0 || (u.tags = []);
      const l = { function: u.othentFunction, data: { toContractId: u.data.toContractId, toContractFunction: u.data.toContractFunction, txnData: u.data.txnData } }, h = await i(), c = { transaction_input: JSON.stringify({ othentFunction: u.othentFunction, warpData: l }) }, d = await s(h, c), p = d.id_token;
      if (!vn(p).contract_id)
        throw new Error('{success: false, message:"Please create a Othent account"}');
      return { JWT: d.id_token, tags: u.tags };
    }, sendTransactionWarp: async function(u) {
      const f = u.JWT, l = u.tags;
      return await fr({ method: "POST", url: "https://server.othent.io/send-transaction", data: { JWT: f, tags: l, API_ID: t } }).then((h) => h.data).catch((h) => {
        throw console.log(h.response.data), h;
      });
    }, signTransactionArweave: async function(u) {
      var f;
      (f = u.tags) !== null && f !== void 0 || (u.tags = []);
      const l = await a(u.data);
      if (!l)
        throw new Error("Invalid data, we accept: string | Buffer | ArrayBuffer | SharedArrayBuffer | Uint8Array | File");
      const h = await zs(l), c = await i(), d = { transaction_input: JSON.stringify({ othentFunction: u.othentFunction, file_hash: h }) }, p = await s(c, d), v = p.id_token;
      if (!vn(v).contract_id)
        throw new Error('{ success: false, message: "Please create a Othent account" }');
      return { data: l, JWT: p.id_token, tags: u.tags };
    }, sendTransactionArweave: async function(u) {
      const f = u.data, l = new Blob([f]), h = new FormData();
      return h.append("file", l), h.append("dataHashJWT", u.JWT), h.append("API_ID", t), h.append("tags", JSON.stringify(u.tags)), await fetch("https://server.othent.io/upload-data-arweave", { method: "POST", body: h }).then((c) => c.json()).then((c) => c).catch((c) => {
        throw console.log(c), c;
      });
    }, signTransactionBundlr: async function(u) {
      var f;
      (f = u.tags) !== null && f !== void 0 || (u.tags = []);
      const l = await a(u.data);
      if (!l)
        throw new Error("Invalid data, we accept: string | Buffer | ArrayBuffer | SharedArrayBuffer | Uint8Array | File");
      const h = await zs(l), c = await i(), d = { transaction_input: JSON.stringify({ othentFunction: u.othentFunction, file_hash: h }) }, p = await s(c, d), v = p.id_token;
      if (!vn(v).contract_id)
        throw new Error('{ success: false, message: "Please create a Othent account" }');
      return { data: l, JWT: p.id_token, tags: u.tags };
    }, sendTransactionBundlr: async function(u) {
      const f = u.data, l = new Blob([f]), h = new FormData();
      return h.append("file", l), h.append("dataHashJWT", u.JWT), h.append("API_ID", t), h.append("tags", JSON.stringify(u.tags)), await fetch("https://server.othent.io/upload-data-bundlr", { method: "POST", body: h }).then((c) => c.json()).then((c) => c).catch((c) => {
        throw console.log(c), c;
      });
    }, initializeJWK: async function(u) {
      const f = u.privateKey, l = JSON.stringify(f), h = JSON.parse(l), c = Fh(h), d = await i(), p = { transaction_input: JSON.stringify({ othentFunction: "initializeJWK", warpData: { function: "initializeJWK", data: { JWK_public_key_PEM: c, JWK_public_key: null } } }) }, v = (await s(d, p)).id_token;
      return fr({ method: "POST", url: "https://server.othent.io/initialize-JWK", data: { PEM_key_JWT: v, API_ID: t } }).then((m) => m.data).catch((m) => {
        throw console.log(m.response.data), m;
      });
    }, JWKBackupTxn: async function(u) {
      const f = { iat: Math.floor(Date.now() / 1e3), sub: u.sub, contract_id: u.contract_id, tags: u.tags, contract_input: { data: u.data, othentFunction: u.othentFunction } }, l = u.privateKey, h = Fh(l, { private: !0 }), c = { alg: "RS256", typ: "JWT", exp: Math.floor(Date.now() / 1e3) + 3600 }, d = e6.jws.JWS.sign("RS256", JSON.stringify(c), JSON.stringify(f), h);
      return await fr({ method: "POST", url: "https://server.othent.io/JWK-backup-transaction", data: { JWK_signed_JWT: d, API_ID: t } }).then((p) => p.data).catch((p) => {
        throw console.log(p.response.data), p;
      });
    }, readCustomContract: async function(u) {
      return await fr({ method: "POST", url: "https://server.othent.io/read-custom-contract", data: { contract_id: u.contract_id } }).then((f) => f.data).catch((f) => {
        throw console.log(f.response.data), f;
      });
    }, verifyArweaveData: async function(u) {
      let f;
      (await (await fetch(`https://arweave.net/tx/${u.transactionId}`, { headers: { responseType: "arraybuffer" } })).json()).tags.map((p) => {
        atob(p.name) === "File-Hash-JWT" && (f = vn(atob(p.value)));
      });
      const h = f.file_hash;
      let c = (await fr.get(`https://arweave.net/${u.transactionId}`, { responseType: "arraybuffer" })).data;
      const d = await zs(c);
      return h === d ? { validData: !0, contract_id: f.contract_id, onChainHash: d, tagHash: h, iat: f.iat, userId: f.sub } : { validData: !1, onChainHash: d, tagHash: h };
    }, verifyBundlrData: async function(u) {
      let f;
      (await (await fetch(`https://gateway.bundlr.network/tx/${u.transactionId}`, { headers: { responseType: "arraybuffer" } })).json()).tags.map((p) => {
        p.name === "File-Hash-JWT" && (f = vn(p.value));
      });
      const h = f.file_hash;
      let c = (await fr.get(`https://arweave.net/${u.transactionId}`, { responseType: "arraybuffer" })).data;
      const d = await zs(c);
      return h === d ? { validData: !0, contract_id: f.contract_id, onChainHash: d, tagHash: h, iat: f.iat, userId: f.sub } : { validData: !1, onChainHash: d, tagHash: h };
    } };
  }).catch((n) => {
    throw console.error("An error occurred:", n), n;
  });
}
var _s, sn, gt, At;
class r6 {
  constructor() {
    qi(this, gt);
    ut(this, "id", "othent");
    ut(this, "name", "Google");
    ut(this, "description", "Sign in with Google through Othent Smart Contract Wallets");
    ut(this, "theme", "35, 117, 239");
    ut(this, "logo", "33nBIUNlGK4MnWtJZQy9EzkVJaAd7WoydIKfkJoMvDs");
    ut(this, "url", "https://othent.io");
    qi(this, _s, "e923634af8cc8b63bc8c74735d177aae");
    qi(this, sn, []);
  }
  /**
   * Advanced function to override the default API ID
   * Othent uses.
   */
  __overrideApiID(t) {
    Oo(this, _s, t);
  }
  async isAvailable() {
    try {
      return await Et(this, gt, At).call(this, !1), !0;
    } catch {
      return !1;
    }
  }
  async ping() {
    return await (await Et(this, gt, At).call(this, !1)).ping();
  }
  async connect(t, r, n) {
    const s = await (await Et(this, gt, At).call(this, !1)).logIn();
    for (const a of ur(this, sn))
      a(s.contract_id);
  }
  async disconnect() {
    await (await Et(this, gt, At).call(this)).logOut();
    for (const r of ur(this, sn))
      r(void 0);
  }
  async getPermissions() {
    const t = await Et(this, gt, At).call(this, !1);
    try {
      const r = await t.userDetails();
      for (const n of ur(this, sn))
        n(r.contract_id);
      return [
        "ACCESS_ADDRESS",
        "ACCESS_PUBLIC_KEY",
        "ACCESS_ALL_ADDRESSES",
        "SIGN_TRANSACTION",
        "ENCRYPT",
        "DECRYPT",
        "SIGNATURE",
        "ACCESS_ARWEAVE_CONFIG",
        "DISPATCH"
      ];
    } catch {
      return [];
    }
  }
  async getActiveAddress() {
    return (await (await Et(this, gt, At).call(this, !1)).userDetails()).contract_id;
  }
  async getAllAddresses() {
    return [await this.getActiveAddress()];
  }
  /**
   * Same as "sendTransactionArweave()" of the Othent SDK
   */
  // @ts-expect-error - Return type is different for Othent transaction signing
  async sign(t, r) {
    if (r && console.warn(
      "[Arweave Wallet Kit] Othent does not support transaction signature options"
    ), t.quantity !== "0" && t.target !== "")
      throw new Error(
        "[Arweave Wallet Kit] Signing with Othent only supports data type transactions"
      );
    return await (await Et(this, gt, At).call(this, !1)).signTransactionArweave({
      othentFunction: "uploadData",
      data: t.data,
      tags: t.tags ? t.tags : []
    });
  }
  async signTransactionBundlr(t) {
    return await (await Et(this, gt, At).call(this)).signTransactionBundlr(t);
  }
  async signTransactionWarp(t) {
    return await (await Et(this, gt, At).call(this)).signTransactionWarp(t);
  }
  async sendTransactionArweave(t) {
    return await (await Et(this, gt, At).call(this)).sendTransactionArweave(t);
  }
  async sendTransactionBundlr(t) {
    return await (await Et(this, gt, At).call(this)).sendTransactionBundlr(t);
  }
  async sendTransactionWarp(t) {
    return await (await Et(this, gt, At).call(this)).sendTransactionWarp(t);
  }
  async verifyArweaveData(t) {
    return await (await Et(this, gt, At).call(this)).verifyArweaveData(t);
  }
  async verifyBundlrData(t) {
    return await (await Et(this, gt, At).call(this)).verifyBundlrData(t);
  }
  async dispatch(t) {
    try {
      const r = await Et(this, gt, At).call(this, !1), n = await r.signTransactionBundlr({
        othentFunction: "uploadData",
        data: t.data,
        tags: t.tags ? t.tags : []
      }), i = await r.sendTransactionBundlr(n);
      if (i.success === !0)
        return { id: i.transactionId, type: "BUNDLED" };
      try {
        const s = await Et(this, gt, At).call(this, !1), a = await s.signTransactionArweave({
          othentFunction: "uploadData",
          data: t.data,
          tags: t.tags ? t.tags : []
        }), o = await s.sendTransactionArweave(a);
        if (o.success === !0)
          return { id: o.transactionId, type: "BASE" };
        throw new Error(
          "Failed to dispatch layer transaction. Please recheck request."
        );
      } catch (s) {
        throw new Error(
          `Unable to dispatch Base layer transaction: ${s}`
        );
      }
    } catch (r) {
      throw new Error(`Unable to dispatch Bundled transaction: ${r}`);
    }
  }
  async queryWalletAddressTxns(t) {
    return await (await Et(this, gt, At).call(this)).queryWalletAddressTxns(t);
  }
  async userDetails() {
    return await (await Et(this, gt, At).call(this)).userDetails();
  }
  async readContract() {
    return await (await Et(this, gt, At).call(this)).readContract();
  }
  async readCustomContract(t) {
    return await (await Et(this, gt, At).call(this)).readCustomContract(t);
  }
  addAddressEvent(t) {
    return ur(this, sn).push(t), t;
  }
  removeAddressEvent(t) {
    ur(this, sn).splice(
      ur(this, sn).indexOf(t),
      1
    );
  }
}
_s = new WeakMap(), sn = new WeakMap(), gt = new WeakSet(), At = async function(t = !0) {
  const r = await t6({
    API_ID: ur(this, _s)
  });
  if (!r)
    throw new Error("[Arweave Wallet Kit] Invalid Othent API ID");
  if (t && (await this.getPermissions()).length === 0)
    throw new Error("[Arweave Wallet Kit] You are not connected to Othent");
  return r;
};
const as = [
  new ay(),
  new sy(),
  new r6(),
  new jf()
], Ds = "wallet_kit_strategy_id";
async function n6(e, t) {
  let r = (localStorage == null ? void 0 : localStorage.getItem(Ds)) || !1;
  if (r && di(r))
    return di(r);
  for (const n of as) {
    const i = await n.getPermissions();
    if (!t && i.length > 0)
      return of(n.id), di(n.id);
    if (t && V0(e, i))
      return of(n.id), di(n.id);
  }
  return !1;
}
function of(e) {
  localStorage && localStorage.setItem(Ds, e);
}
function di(e) {
  return as.find((t) => t.id === e);
}
const Ec = {
  activeModal: !1,
  activeStrategy: !1,
  givenPermissions: [],
  config: {
    permissions: []
  }
}, x1 = Gn(void 0);
function $t() {
  const e = Dt(x1);
  return nr(
    () => e || { state: Ec, dispatch: () => {
    } },
    [e]
  );
}
function i6() {
  const { state: e } = $t();
  return nr(() => e.activeStrategy, [e]);
}
function Qr() {
  const e = i6();
  return nr(() => di(e), [e]);
}
function rT() {
  const e = Qr();
  return nr(() => {
    if (!e)
      return;
    const r = e, n = [
      "name",
      "description",
      "theme",
      "logo",
      "url",
      "resumeSession",
      "isAvailable",
      "addAddressEvent",
      "removeAddressEvent",
      "connect"
    ];
    for (const i in e)
      n.includes(i) && delete r[i];
    return r;
  }, [e]);
}
function ao() {
  const { state: e } = $t();
  return e == null ? void 0 : e.activeAddress;
}
async function s6() {
  const e = Qr(), { dispatch: t } = $t();
  Ye(() => {
    (async () => {
      var i;
      if (!e)
        return;
      const r = async () => {
        try {
          const s = await e.getActiveAddress();
          t({
            type: "UPDATE_ADDRESS",
            payload: s
          });
        } catch (s) {
          console.error(
            `[Arweave Wallet Kit] Failed to sync address
${(s == null ? void 0 : s.message) || s}`
          );
        }
      };
      await r();
      const n = (i = e.addAddressEvent) == null ? void 0 : i.call(
        e,
        (s) => t({
          type: "UPDATE_ADDRESS",
          payload: s
        })
      );
      return addEventListener("focus", r), () => {
        n && e.removeAddressEvent && e.removeAddressEvent(n), removeEventListener("focus", r);
      };
    })();
  }, [e, t]);
}
function nT() {
  const [e, t] = qt(), r = Qr(), n = ao();
  return Ye(() => {
    (async () => !r || !r.getActivePublicKey || t(await r.getActivePublicKey()))();
  }, [n, r]), e;
}
function a6() {
  const [e, t] = qt([]), r = ao(), { state: n } = $t(), i = Qr();
  return Ye(() => {
    (async () => {
      if (!i)
        return t([]);
      const s = async () => {
        try {
          t(await i.getAllAddresses());
        } catch (a) {
          console.error(
            `[Arweave Wallet Kit] Failed to sync addresses
${(a == null ? void 0 : a.message) || a}`
          );
        }
      };
      return await s(), addEventListener("focus", s), () => removeEventListener("focus", s);
    })();
  }, [r, n, i]), e;
}
function iT() {
  const [e, t] = qt({}), r = a6(), { state: n } = $t(), i = Qr();
  return Ye(() => {
    (async () => {
      if (!i || !i.getWalletNames)
        return t({});
      try {
        const s = await i.getWalletNames();
        t(s);
      } catch (s) {
        console.error(
          `[Arweave Wallet Kit] Failed to sync wallet names
${(s == null ? void 0 : s.message) || s}`
        );
      }
    })();
  }, [r, n == null ? void 0 : n.activeStrategy]), e;
}
var ms = {}, o6 = {
  get exports() {
    return ms;
  },
  set exports(e) {
    ms = e;
  }
}, Ji = {};
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Vh;
function u6() {
  if (Vh)
    return Ji;
  Vh = 1;
  var e = Ot, t = Symbol.for("react.element"), r = Symbol.for("react.fragment"), n = Object.prototype.hasOwnProperty, i = e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, s = { key: !0, ref: !0, __self: !0, __source: !0 };
  function a(o, u, f) {
    var l, h = {}, c = null, d = null;
    f !== void 0 && (c = "" + f), u.key !== void 0 && (c = "" + u.key), u.ref !== void 0 && (d = u.ref);
    for (l in u)
      n.call(u, l) && !s.hasOwnProperty(l) && (h[l] = u[l]);
    if (o && o.defaultProps)
      for (l in u = o.defaultProps, u)
        h[l] === void 0 && (h[l] = u[l]);
    return { $$typeof: t, type: o, key: c, ref: d, props: h, _owner: i.current };
  }
  return Ji.Fragment = r, Ji.jsx = a, Ji.jsxs = a, Ji;
}
var Yi = {};
/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Hh;
function f6() {
  return Hh || (Hh = 1, process.env.NODE_ENV !== "production" && function() {
    var e = Ot, t = Symbol.for("react.element"), r = Symbol.for("react.portal"), n = Symbol.for("react.fragment"), i = Symbol.for("react.strict_mode"), s = Symbol.for("react.profiler"), a = Symbol.for("react.provider"), o = Symbol.for("react.context"), u = Symbol.for("react.forward_ref"), f = Symbol.for("react.suspense"), l = Symbol.for("react.suspense_list"), h = Symbol.for("react.memo"), c = Symbol.for("react.lazy"), d = Symbol.for("react.offscreen"), p = Symbol.iterator, v = "@@iterator";
    function m(J) {
      if (J === null || typeof J != "object")
        return null;
      var de = p && J[p] || J[v];
      return typeof de == "function" ? de : null;
    }
    var b = e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
    function A(J) {
      {
        for (var de = arguments.length, xe = new Array(de > 1 ? de - 1 : 0), Ae = 1; Ae < de; Ae++)
          xe[Ae - 1] = arguments[Ae];
        D("error", J, xe);
      }
    }
    function D(J, de, xe) {
      {
        var Ae = b.ReactDebugCurrentFrame, Fe = Ae.getStackAddendum();
        Fe !== "" && (de += "%s", xe = xe.concat([Fe]));
        var Ke = xe.map(function(je) {
          return String(je);
        });
        Ke.unshift("Warning: " + de), Function.prototype.apply.call(console[J], console, Ke);
      }
    }
    var k = !1, L = !1, _ = !1, F = !1, O = !1, P;
    P = Symbol.for("react.module.reference");
    function M(J) {
      return !!(typeof J == "string" || typeof J == "function" || J === n || J === s || O || J === i || J === f || J === l || F || J === d || k || L || _ || typeof J == "object" && J !== null && (J.$$typeof === c || J.$$typeof === h || J.$$typeof === a || J.$$typeof === o || J.$$typeof === u || // This needs to include all possible module reference object
      // types supported by any Flight configuration anywhere since
      // we don't know which Flight build this will end up being used
      // with.
      J.$$typeof === P || J.getModuleId !== void 0));
    }
    function C(J, de, xe) {
      var Ae = J.displayName;
      if (Ae)
        return Ae;
      var Fe = de.displayName || de.name || "";
      return Fe !== "" ? xe + "(" + Fe + ")" : xe;
    }
    function y(J) {
      return J.displayName || "Context";
    }
    function E(J) {
      if (J == null)
        return null;
      if (typeof J.tag == "number" && A("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."), typeof J == "function")
        return J.displayName || J.name || null;
      if (typeof J == "string")
        return J;
      switch (J) {
        case n:
          return "Fragment";
        case r:
          return "Portal";
        case s:
          return "Profiler";
        case i:
          return "StrictMode";
        case f:
          return "Suspense";
        case l:
          return "SuspenseList";
      }
      if (typeof J == "object")
        switch (J.$$typeof) {
          case o:
            var de = J;
            return y(de) + ".Consumer";
          case a:
            var xe = J;
            return y(xe._context) + ".Provider";
          case u:
            return C(J, J.render, "ForwardRef");
          case h:
            var Ae = J.displayName || null;
            return Ae !== null ? Ae : E(J.type) || "Memo";
          case c: {
            var Fe = J, Ke = Fe._payload, je = Fe._init;
            try {
              return E(je(Ke));
            } catch {
              return null;
            }
          }
        }
      return null;
    }
    var T = Object.assign, R = 0, N, H, Z, K, x, V, $;
    function G() {
    }
    G.__reactDisabledLog = !0;
    function z() {
      {
        if (R === 0) {
          N = console.log, H = console.info, Z = console.warn, K = console.error, x = console.group, V = console.groupCollapsed, $ = console.groupEnd;
          var J = {
            configurable: !0,
            enumerable: !0,
            value: G,
            writable: !0
          };
          Object.defineProperties(console, {
            info: J,
            log: J,
            warn: J,
            error: J,
            group: J,
            groupCollapsed: J,
            groupEnd: J
          });
        }
        R++;
      }
    }
    function ae() {
      {
        if (R--, R === 0) {
          var J = {
            configurable: !0,
            enumerable: !0,
            writable: !0
          };
          Object.defineProperties(console, {
            log: T({}, J, {
              value: N
            }),
            info: T({}, J, {
              value: H
            }),
            warn: T({}, J, {
              value: Z
            }),
            error: T({}, J, {
              value: K
            }),
            group: T({}, J, {
              value: x
            }),
            groupCollapsed: T({}, J, {
              value: V
            }),
            groupEnd: T({}, J, {
              value: $
            })
          });
        }
        R < 0 && A("disabledDepth fell below zero. This is a bug in React. Please file an issue.");
      }
    }
    var le = b.ReactCurrentDispatcher, oe;
    function ue(J, de, xe) {
      {
        if (oe === void 0)
          try {
            throw Error();
          } catch (Fe) {
            var Ae = Fe.stack.trim().match(/\n( *(at )?)/);
            oe = Ae && Ae[1] || "";
          }
        return `
` + oe + J;
      }
    }
    var fe = !1, j;
    {
      var W = typeof WeakMap == "function" ? WeakMap : Map;
      j = new W();
    }
    function U(J, de) {
      if (!J || fe)
        return "";
      {
        var xe = j.get(J);
        if (xe !== void 0)
          return xe;
      }
      var Ae;
      fe = !0;
      var Fe = Error.prepareStackTrace;
      Error.prepareStackTrace = void 0;
      var Ke;
      Ke = le.current, le.current = null, z();
      try {
        if (de) {
          var je = function() {
            throw Error();
          };
          if (Object.defineProperty(je.prototype, "props", {
            set: function() {
              throw Error();
            }
          }), typeof Reflect == "object" && Reflect.construct) {
            try {
              Reflect.construct(je, []);
            } catch (er) {
              Ae = er;
            }
            Reflect.construct(J, [], je);
          } else {
            try {
              je.call();
            } catch (er) {
              Ae = er;
            }
            J.call(je.prototype);
          }
        } else {
          try {
            throw Error();
          } catch (er) {
            Ae = er;
          }
          J();
        }
      } catch (er) {
        if (er && Ae && typeof er.stack == "string") {
          for (var ke = er.stack.split(`
`), _t = Ae.stack.split(`
`), nt = ke.length - 1, ot = _t.length - 1; nt >= 1 && ot >= 0 && ke[nt] !== _t[ot]; )
            ot--;
          for (; nt >= 1 && ot >= 0; nt--, ot--)
            if (ke[nt] !== _t[ot]) {
              if (nt !== 1 || ot !== 1)
                do
                  if (nt--, ot--, ot < 0 || ke[nt] !== _t[ot]) {
                    var Vt = `
` + ke[nt].replace(" at new ", " at ");
                    return J.displayName && Vt.includes("<anonymous>") && (Vt = Vt.replace("<anonymous>", J.displayName)), typeof J == "function" && j.set(J, Vt), Vt;
                  }
                while (nt >= 1 && ot >= 0);
              break;
            }
        }
      } finally {
        fe = !1, le.current = Ke, ae(), Error.prepareStackTrace = Fe;
      }
      var Br = J ? J.displayName || J.name : "", ti = Br ? ue(Br) : "";
      return typeof J == "function" && j.set(J, ti), ti;
    }
    function Q(J, de, xe) {
      return U(J, !1);
    }
    function ee(J) {
      var de = J.prototype;
      return !!(de && de.isReactComponent);
    }
    function te(J, de, xe) {
      if (J == null)
        return "";
      if (typeof J == "function")
        return U(J, ee(J));
      if (typeof J == "string")
        return ue(J);
      switch (J) {
        case f:
          return ue("Suspense");
        case l:
          return ue("SuspenseList");
      }
      if (typeof J == "object")
        switch (J.$$typeof) {
          case u:
            return Q(J.render);
          case h:
            return te(J.type, de, xe);
          case c: {
            var Ae = J, Fe = Ae._payload, Ke = Ae._init;
            try {
              return te(Ke(Fe), de, xe);
            } catch {
            }
          }
        }
      return "";
    }
    var B = Object.prototype.hasOwnProperty, w = {}, S = b.ReactDebugCurrentFrame;
    function I(J) {
      if (J) {
        var de = J._owner, xe = te(J.type, J._source, de ? de.type : null);
        S.setExtraStackFrame(xe);
      } else
        S.setExtraStackFrame(null);
    }
    function q(J, de, xe, Ae, Fe) {
      {
        var Ke = Function.call.bind(B);
        for (var je in J)
          if (Ke(J, je)) {
            var ke = void 0;
            try {
              if (typeof J[je] != "function") {
                var _t = Error((Ae || "React class") + ": " + xe + " type `" + je + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof J[je] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");
                throw _t.name = "Invariant Violation", _t;
              }
              ke = J[je](de, je, Ae, xe, null, "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");
            } catch (nt) {
              ke = nt;
            }
            ke && !(ke instanceof Error) && (I(Fe), A("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).", Ae || "React class", xe, je, typeof ke), I(null)), ke instanceof Error && !(ke.message in w) && (w[ke.message] = !0, I(Fe), A("Failed %s type: %s", xe, ke.message), I(null));
          }
      }
    }
    var Y = Array.isArray;
    function se(J) {
      return Y(J);
    }
    function ge(J) {
      {
        var de = typeof Symbol == "function" && Symbol.toStringTag, xe = de && J[Symbol.toStringTag] || J.constructor.name || "Object";
        return xe;
      }
    }
    function ve(J) {
      try {
        return X(J), !1;
      } catch {
        return !0;
      }
    }
    function X(J) {
      return "" + J;
    }
    function re(J) {
      if (ve(J))
        return A("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.", ge(J)), X(J);
    }
    var ie = b.ReactCurrentOwner, ce = {
      key: !0,
      ref: !0,
      __self: !0,
      __source: !0
    }, we, Ce, Se;
    Se = {};
    function De(J) {
      if (B.call(J, "ref")) {
        var de = Object.getOwnPropertyDescriptor(J, "ref").get;
        if (de && de.isReactWarning)
          return !1;
      }
      return J.ref !== void 0;
    }
    function me(J) {
      if (B.call(J, "key")) {
        var de = Object.getOwnPropertyDescriptor(J, "key").get;
        if (de && de.isReactWarning)
          return !1;
      }
      return J.key !== void 0;
    }
    function _e(J, de) {
      if (typeof J.ref == "string" && ie.current && de && ie.current.stateNode !== de) {
        var xe = E(ie.current.type);
        Se[xe] || (A('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref', E(ie.current.type), J.ref), Se[xe] = !0);
      }
    }
    function Ie(J, de) {
      {
        var xe = function() {
          we || (we = !0, A("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)", de));
        };
        xe.isReactWarning = !0, Object.defineProperty(J, "key", {
          get: xe,
          configurable: !0
        });
      }
    }
    function Me(J, de) {
      {
        var xe = function() {
          Ce || (Ce = !0, A("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)", de));
        };
        xe.isReactWarning = !0, Object.defineProperty(J, "ref", {
          get: xe,
          configurable: !0
        });
      }
    }
    var Oe = function(J, de, xe, Ae, Fe, Ke, je) {
      var ke = {
        // This tag allows us to uniquely identify this as a React Element
        $$typeof: t,
        // Built-in properties that belong on the element
        type: J,
        key: de,
        ref: xe,
        props: je,
        // Record the component responsible for creating this element.
        _owner: Ke
      };
      return ke._store = {}, Object.defineProperty(ke._store, "validated", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: !1
      }), Object.defineProperty(ke, "_self", {
        configurable: !1,
        enumerable: !1,
        writable: !1,
        value: Ae
      }), Object.defineProperty(ke, "_source", {
        configurable: !1,
        enumerable: !1,
        writable: !1,
        value: Fe
      }), Object.freeze && (Object.freeze(ke.props), Object.freeze(ke)), ke;
    };
    function Ls(J, de, xe, Ae, Fe) {
      {
        var Ke, je = {}, ke = null, _t = null;
        xe !== void 0 && (re(xe), ke = "" + xe), me(de) && (re(de.key), ke = "" + de.key), De(de) && (_t = de.ref, _e(de, Fe));
        for (Ke in de)
          B.call(de, Ke) && !ce.hasOwnProperty(Ke) && (je[Ke] = de[Ke]);
        if (J && J.defaultProps) {
          var nt = J.defaultProps;
          for (Ke in nt)
            je[Ke] === void 0 && (je[Ke] = nt[Ke]);
        }
        if (ke || _t) {
          var ot = typeof J == "function" ? J.displayName || J.name || "Unknown" : J;
          ke && Ie(je, ot), _t && Me(je, ot);
        }
        return Oe(J, ke, _t, Fe, Ae, ie.current, je);
      }
    }
    var it = b.ReactCurrentOwner, lt = b.ReactDebugCurrentFrame;
    function en(J) {
      if (J) {
        var de = J._owner, xe = te(J.type, J._source, de ? de.type : null);
        lt.setExtraStackFrame(xe);
      } else
        lt.setExtraStackFrame(null);
    }
    var st;
    st = !1;
    function at(J) {
      return typeof J == "object" && J !== null && J.$$typeof === t;
    }
    function Ui() {
      {
        if (it.current) {
          var J = E(it.current.type);
          if (J)
            return `

Check the render method of \`` + J + "`.";
        }
        return "";
      }
    }
    function yt(J) {
      {
        if (J !== void 0) {
          var de = J.fileName.replace(/^.*[\\\/]/, ""), xe = J.lineNumber;
          return `

Check your code at ` + de + ":" + xe + ".";
        }
        return "";
      }
    }
    var ht = {};
    function Vs(J) {
      {
        var de = Ui();
        if (!de) {
          var xe = typeof J == "string" ? J : J.displayName || J.name;
          xe && (de = `

Check the top-level render call using <` + xe + ">.");
        }
        return de;
      }
    }
    function dt(J, de) {
      {
        if (!J._store || J._store.validated || J.key != null)
          return;
        J._store.validated = !0;
        var xe = Vs(de);
        if (ht[xe])
          return;
        ht[xe] = !0;
        var Ae = "";
        J && J._owner && J._owner !== it.current && (Ae = " It was passed a child from " + E(J._owner.type) + "."), en(J), A('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.', xe, Ae), en(null);
      }
    }
    function pt(J, de) {
      {
        if (typeof J != "object")
          return;
        if (se(J))
          for (var xe = 0; xe < J.length; xe++) {
            var Ae = J[xe];
            at(Ae) && dt(Ae, de);
          }
        else if (at(J))
          J._store && (J._store.validated = !0);
        else if (J) {
          var Fe = m(J);
          if (typeof Fe == "function" && Fe !== J.entries)
            for (var Ke = Fe.call(J), je; !(je = Ke.next()).done; )
              at(je.value) && dt(je.value, de);
        }
      }
    }
    function Hs(J) {
      {
        var de = J.type;
        if (de == null || typeof de == "string")
          return;
        var xe;
        if (typeof de == "function")
          xe = de.propTypes;
        else if (typeof de == "object" && (de.$$typeof === u || // Note: Memo only checks outer props here.
        // Inner props are checked in the reconciler.
        de.$$typeof === h))
          xe = de.propTypes;
        else
          return;
        if (xe) {
          var Ae = E(de);
          q(xe, J.props, "prop", Ae, J);
        } else if (de.PropTypes !== void 0 && !st) {
          st = !0;
          var Fe = E(de);
          A("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?", Fe || "Unknown");
        }
        typeof de.getDefaultProps == "function" && !de.getDefaultProps.isReactClassApproved && A("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.");
      }
    }
    function mt(J) {
      {
        for (var de = Object.keys(J.props), xe = 0; xe < de.length; xe++) {
          var Ae = de[xe];
          if (Ae !== "children" && Ae !== "key") {
            en(J), A("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.", Ae), en(null);
            break;
          }
        }
        J.ref !== null && (en(J), A("Invalid attribute `ref` supplied to `React.Fragment`."), en(null));
      }
    }
    function vt(J, de, xe, Ae, Fe, Ke) {
      {
        var je = M(J);
        if (!je) {
          var ke = "";
          (J === void 0 || typeof J == "object" && J !== null && Object.keys(J).length === 0) && (ke += " You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");
          var _t = yt(Fe);
          _t ? ke += _t : ke += Ui();
          var nt;
          J === null ? nt = "null" : se(J) ? nt = "array" : J !== void 0 && J.$$typeof === t ? (nt = "<" + (E(J.type) || "Unknown") + " />", ke = " Did you accidentally export a JSX literal instead of a component?") : nt = typeof J, A("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s", nt, ke);
        }
        var ot = Ls(J, de, xe, Fe, Ke);
        if (ot == null)
          return ot;
        if (je) {
          var Vt = de.children;
          if (Vt !== void 0)
            if (Ae)
              if (se(Vt)) {
                for (var Br = 0; Br < Vt.length; Br++)
                  pt(Vt[Br], J);
                Object.freeze && Object.freeze(Vt);
              } else
                A("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");
            else
              pt(Vt, J);
        }
        return J === n ? mt(ot) : Hs(ot), ot;
      }
    }
    function Us(J, de, xe) {
      return vt(J, de, xe, !0);
    }
    function bt(J, de, xe) {
      return vt(J, de, xe, !1);
    }
    var wt = bt, qs = Us;
    Yi.Fragment = n, Yi.jsx = wt, Yi.jsxs = qs;
  }()), Yi;
}
(function(e) {
  process.env.NODE_ENV === "production" ? e.exports = u6() : e.exports = f6();
})(o6);
const bs = ms.Fragment, Te = ms.jsx, Je = ms.jsxs;
function c6(e) {
  return /* @__PURE__ */ qe.createElement("svg", Object.assign({
    width: 24,
    height: 24,
    fill: "none",
    viewBox: "0 0 24 24"
  }, e), /* @__PURE__ */ qe.createElement("path", {
    stroke: "currentColor",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 1.5,
    d: "M15.25 10.75L12 14.25L8.75 10.75"
  }));
}
function l6(e) {
  return /* @__PURE__ */ qe.createElement("svg", Object.assign({
    width: 24,
    height: 24,
    fill: "none",
    viewBox: "0 0 24 24"
  }, e), /* @__PURE__ */ qe.createElement("path", {
    stroke: "currentColor",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 1.5,
    d: "M13.25 8.75L9.75 12L13.25 15.25"
  }));
}
function h6(e) {
  return /* @__PURE__ */ qe.createElement("svg", Object.assign({
    width: 24,
    height: 24,
    fill: "none",
    viewBox: "0 0 24 24"
  }, e), /* @__PURE__ */ qe.createElement("path", {
    stroke: "currentColor",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 1.5,
    d: "M17.25 6.75L6.75 17.25"
  }), /* @__PURE__ */ qe.createElement("path", {
    stroke: "currentColor",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 1.5,
    d: "M6.75 6.75L17.25 17.25"
  }));
}
function d6(e) {
  return /* @__PURE__ */ qe.createElement("svg", Object.assign({
    width: 24,
    height: 24,
    fill: "none",
    viewBox: "0 0 24 24"
  }, e), /* @__PURE__ */ qe.createElement("path", {
    stroke: "currentColor",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 1.5,
    d: "M6.5 15.25V15.25C5.5335 15.25 4.75 14.4665 4.75 13.5V6.75C4.75 5.64543 5.64543 4.75 6.75 4.75H13.5C14.4665 4.75 15.25 5.5335 15.25 6.5V6.5"
  }), /* @__PURE__ */ qe.createElement("rect", {
    width: 10.5,
    height: 10.5,
    x: 8.75,
    y: 8.75,
    stroke: "currentColor",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 1.5,
    rx: 2
  }));
}
function p6(e) {
  return /* @__PURE__ */ qe.createElement("svg", Object.assign({
    width: 24,
    height: 24,
    fill: "none",
    viewBox: "0 0 24 24"
  }, e), /* @__PURE__ */ qe.createElement("path", {
    stroke: "currentColor",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 1.5,
    d: "M15.75 8.75L19.25 12L15.75 15.25"
  }), /* @__PURE__ */ qe.createElement("path", {
    stroke: "currentColor",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 1.5,
    d: "M19 12H10.75"
  }), /* @__PURE__ */ qe.createElement("path", {
    stroke: "currentColor",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 1.5,
    d: "M15.25 4.75H6.75C5.64543 4.75 4.75 5.64543 4.75 6.75V17.25C4.75 18.3546 5.64543 19.25 6.75 19.25H15.25"
  }));
}
function S1(e) {
  return /* @__PURE__ */ qe.createElement("svg", Object.assign({
    width: 24,
    height: 24,
    fill: "none",
    viewBox: "0 0 24 24"
  }, e), /* @__PURE__ */ qe.createElement("circle", {
    cx: 12,
    cy: 8,
    r: 3.25,
    stroke: "currentColor",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 1.5
  }), /* @__PURE__ */ qe.createElement("path", {
    stroke: "currentColor",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 1.5,
    d: "M6.8475 19.25H17.1525C18.2944 19.25 19.174 18.2681 18.6408 17.2584C17.8563 15.7731 16.068 14 12 14C7.93201 14 6.14367 15.7731 5.35924 17.2584C4.82597 18.2681 5.70558 19.25 6.8475 19.25Z"
  }));
}
var Ac = {}, Sa = {}, v6 = {
  get exports() {
    return Sa;
  },
  set exports(e) {
    Sa = e;
  }
};
(function(e, t) {
  (function(r, n) {
    e.exports = n();
  })(be, function() {
    var r = function(A) {
      return n(A) && !i(A);
    };
    function n(b) {
      return !!b && typeof b == "object";
    }
    function i(b) {
      var A = Object.prototype.toString.call(b);
      return A === "[object RegExp]" || A === "[object Date]" || o(b);
    }
    var s = typeof Symbol == "function" && Symbol.for, a = s ? Symbol.for("react.element") : 60103;
    function o(b) {
      return b.$$typeof === a;
    }
    function u(b) {
      return Array.isArray(b) ? [] : {};
    }
    function f(b, A) {
      return A.clone !== !1 && A.isMergeableObject(b) ? v(u(b), b, A) : b;
    }
    function l(b, A, D) {
      return b.concat(A).map(function(k) {
        return f(k, D);
      });
    }
    function h(b, A) {
      if (!A.customMerge)
        return v;
      var D = A.customMerge(b);
      return typeof D == "function" ? D : v;
    }
    function c(b) {
      return Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(b).filter(function(A) {
        return b.propertyIsEnumerable(A);
      }) : [];
    }
    function d(b) {
      return Object.keys(b).concat(c(b));
    }
    function p(b, A, D) {
      var k = {};
      return D.isMergeableObject(b) && d(b).forEach(function(L) {
        k[L] = f(b[L], D);
      }), d(A).forEach(function(L) {
        !D.isMergeableObject(A[L]) || !b[L] ? k[L] = f(A[L], D) : k[L] = h(L, D)(b[L], A[L], D);
      }), k;
    }
    function v(b, A, D) {
      D = D || {}, D.arrayMerge = D.arrayMerge || l, D.isMergeableObject = D.isMergeableObject || r;
      var k = Array.isArray(A), L = Array.isArray(b), _ = k === L;
      return _ ? k ? D.arrayMerge(b, A, D) : p(b, A, D) : f(A, D);
    }
    v.all = function(A, D) {
      if (!Array.isArray(A))
        throw new Error("first argument should be an array");
      return A.reduce(function(k, L) {
        return v(k, L, D);
      }, {});
    };
    var m = v;
    return m;
  });
})(v6);
var oo = {};
oo.__esModule = !0;
oo.default = void 0;
var Uh = g6(Ot);
function g6(e) {
  if (e && e.__esModule)
    return e;
  var t = {};
  if (e != null) {
    for (var r in e)
      if (Object.prototype.hasOwnProperty.call(e, r)) {
        var n = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(e, r) : {};
        n.get || n.set ? Object.defineProperty(t, r, n) : t[r] = e[r];
      }
  }
  return t.default = e, t;
}
function y6(e, t) {
  e.prototype = Object.create(t.prototype), e.prototype.constructor = e, e.__proto__ = t;
}
function m6(e, t, r) {
  return t in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function b6(e, t) {
  var r, n;
  return n = r = /* @__PURE__ */ function(i) {
    y6(s, i);
    function s() {
      return i.apply(this, arguments) || this;
    }
    var a = s.prototype;
    return a.render = function() {
      return Uh.createElement(t.Provider, {
        value: this.props.theme
      }, this.props.children);
    }, s;
  }(Uh.Component), m6(r, "defaultProps", {
    theme: e
  }), n;
}
var w6 = b6;
oo.default = w6;
var uo = {}, Ea = {}, x6 = {
  get exports() {
    return Ea;
  },
  set exports(e) {
    Ea = e;
  }
}, We = {};
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var qh;
function S6() {
  if (qh)
    return We;
  qh = 1;
  var e = typeof Symbol == "function" && Symbol.for, t = e ? Symbol.for("react.element") : 60103, r = e ? Symbol.for("react.portal") : 60106, n = e ? Symbol.for("react.fragment") : 60107, i = e ? Symbol.for("react.strict_mode") : 60108, s = e ? Symbol.for("react.profiler") : 60114, a = e ? Symbol.for("react.provider") : 60109, o = e ? Symbol.for("react.context") : 60110, u = e ? Symbol.for("react.async_mode") : 60111, f = e ? Symbol.for("react.concurrent_mode") : 60111, l = e ? Symbol.for("react.forward_ref") : 60112, h = e ? Symbol.for("react.suspense") : 60113, c = e ? Symbol.for("react.suspense_list") : 60120, d = e ? Symbol.for("react.memo") : 60115, p = e ? Symbol.for("react.lazy") : 60116, v = e ? Symbol.for("react.block") : 60121, m = e ? Symbol.for("react.fundamental") : 60117, b = e ? Symbol.for("react.responder") : 60118, A = e ? Symbol.for("react.scope") : 60119;
  function D(L) {
    if (typeof L == "object" && L !== null) {
      var _ = L.$$typeof;
      switch (_) {
        case t:
          switch (L = L.type, L) {
            case u:
            case f:
            case n:
            case s:
            case i:
            case h:
              return L;
            default:
              switch (L = L && L.$$typeof, L) {
                case o:
                case l:
                case p:
                case d:
                case a:
                  return L;
                default:
                  return _;
              }
          }
        case r:
          return _;
      }
    }
  }
  function k(L) {
    return D(L) === f;
  }
  return We.AsyncMode = u, We.ConcurrentMode = f, We.ContextConsumer = o, We.ContextProvider = a, We.Element = t, We.ForwardRef = l, We.Fragment = n, We.Lazy = p, We.Memo = d, We.Portal = r, We.Profiler = s, We.StrictMode = i, We.Suspense = h, We.isAsyncMode = function(L) {
    return k(L) || D(L) === u;
  }, We.isConcurrentMode = k, We.isContextConsumer = function(L) {
    return D(L) === o;
  }, We.isContextProvider = function(L) {
    return D(L) === a;
  }, We.isElement = function(L) {
    return typeof L == "object" && L !== null && L.$$typeof === t;
  }, We.isForwardRef = function(L) {
    return D(L) === l;
  }, We.isFragment = function(L) {
    return D(L) === n;
  }, We.isLazy = function(L) {
    return D(L) === p;
  }, We.isMemo = function(L) {
    return D(L) === d;
  }, We.isPortal = function(L) {
    return D(L) === r;
  }, We.isProfiler = function(L) {
    return D(L) === s;
  }, We.isStrictMode = function(L) {
    return D(L) === i;
  }, We.isSuspense = function(L) {
    return D(L) === h;
  }, We.isValidElementType = function(L) {
    return typeof L == "string" || typeof L == "function" || L === n || L === f || L === s || L === i || L === h || L === c || typeof L == "object" && L !== null && (L.$$typeof === p || L.$$typeof === d || L.$$typeof === a || L.$$typeof === o || L.$$typeof === l || L.$$typeof === m || L.$$typeof === b || L.$$typeof === A || L.$$typeof === v);
  }, We.typeOf = D, We;
}
var Ge = {};
/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Kh;
function E6() {
  return Kh || (Kh = 1, process.env.NODE_ENV !== "production" && function() {
    var e = typeof Symbol == "function" && Symbol.for, t = e ? Symbol.for("react.element") : 60103, r = e ? Symbol.for("react.portal") : 60106, n = e ? Symbol.for("react.fragment") : 60107, i = e ? Symbol.for("react.strict_mode") : 60108, s = e ? Symbol.for("react.profiler") : 60114, a = e ? Symbol.for("react.provider") : 60109, o = e ? Symbol.for("react.context") : 60110, u = e ? Symbol.for("react.async_mode") : 60111, f = e ? Symbol.for("react.concurrent_mode") : 60111, l = e ? Symbol.for("react.forward_ref") : 60112, h = e ? Symbol.for("react.suspense") : 60113, c = e ? Symbol.for("react.suspense_list") : 60120, d = e ? Symbol.for("react.memo") : 60115, p = e ? Symbol.for("react.lazy") : 60116, v = e ? Symbol.for("react.block") : 60121, m = e ? Symbol.for("react.fundamental") : 60117, b = e ? Symbol.for("react.responder") : 60118, A = e ? Symbol.for("react.scope") : 60119;
    function D(U) {
      return typeof U == "string" || typeof U == "function" || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.
      U === n || U === f || U === s || U === i || U === h || U === c || typeof U == "object" && U !== null && (U.$$typeof === p || U.$$typeof === d || U.$$typeof === a || U.$$typeof === o || U.$$typeof === l || U.$$typeof === m || U.$$typeof === b || U.$$typeof === A || U.$$typeof === v);
    }
    function k(U) {
      if (typeof U == "object" && U !== null) {
        var Q = U.$$typeof;
        switch (Q) {
          case t:
            var ee = U.type;
            switch (ee) {
              case u:
              case f:
              case n:
              case s:
              case i:
              case h:
                return ee;
              default:
                var te = ee && ee.$$typeof;
                switch (te) {
                  case o:
                  case l:
                  case p:
                  case d:
                  case a:
                    return te;
                  default:
                    return Q;
                }
            }
          case r:
            return Q;
        }
      }
    }
    var L = u, _ = f, F = o, O = a, P = t, M = l, C = n, y = p, E = d, T = r, R = s, N = i, H = h, Z = !1;
    function K(U) {
      return Z || (Z = !0, console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")), x(U) || k(U) === u;
    }
    function x(U) {
      return k(U) === f;
    }
    function V(U) {
      return k(U) === o;
    }
    function $(U) {
      return k(U) === a;
    }
    function G(U) {
      return typeof U == "object" && U !== null && U.$$typeof === t;
    }
    function z(U) {
      return k(U) === l;
    }
    function ae(U) {
      return k(U) === n;
    }
    function le(U) {
      return k(U) === p;
    }
    function oe(U) {
      return k(U) === d;
    }
    function ue(U) {
      return k(U) === r;
    }
    function fe(U) {
      return k(U) === s;
    }
    function j(U) {
      return k(U) === i;
    }
    function W(U) {
      return k(U) === h;
    }
    Ge.AsyncMode = L, Ge.ConcurrentMode = _, Ge.ContextConsumer = F, Ge.ContextProvider = O, Ge.Element = P, Ge.ForwardRef = M, Ge.Fragment = C, Ge.Lazy = y, Ge.Memo = E, Ge.Portal = T, Ge.Profiler = R, Ge.StrictMode = N, Ge.Suspense = H, Ge.isAsyncMode = K, Ge.isConcurrentMode = x, Ge.isContextConsumer = V, Ge.isContextProvider = $, Ge.isElement = G, Ge.isForwardRef = z, Ge.isFragment = ae, Ge.isLazy = le, Ge.isMemo = oe, Ge.isPortal = ue, Ge.isProfiler = fe, Ge.isStrictMode = j, Ge.isSuspense = W, Ge.isValidElementType = D, Ge.typeOf = k;
  }()), Ge;
}
var $h;
function _c() {
  return $h || ($h = 1, function(e) {
    process.env.NODE_ENV === "production" ? e.exports = S6() : e.exports = E6();
  }(x6)), Ea;
}
var Tc = _c(), A6 = {
  childContextTypes: !0,
  contextType: !0,
  contextTypes: !0,
  defaultProps: !0,
  displayName: !0,
  getDefaultProps: !0,
  getDerivedStateFromError: !0,
  getDerivedStateFromProps: !0,
  mixins: !0,
  propTypes: !0,
  type: !0
}, _6 = {
  name: !0,
  length: !0,
  prototype: !0,
  caller: !0,
  callee: !0,
  arguments: !0,
  arity: !0
}, T6 = {
  $$typeof: !0,
  render: !0,
  defaultProps: !0,
  displayName: !0,
  propTypes: !0
}, E1 = {
  $$typeof: !0,
  compare: !0,
  defaultProps: !0,
  displayName: !0,
  propTypes: !0,
  type: !0
}, Pc = {};
Pc[Tc.ForwardRef] = T6;
Pc[Tc.Memo] = E1;
function zh(e) {
  return Tc.isMemo(e) ? E1 : Pc[e.$$typeof] || A6;
}
var P6 = Object.defineProperty, F6 = Object.getOwnPropertyNames, Wh = Object.getOwnPropertySymbols, I6 = Object.getOwnPropertyDescriptor, C6 = Object.getPrototypeOf, Gh = Object.prototype;
function A1(e, t, r) {
  if (typeof t != "string") {
    if (Gh) {
      var n = C6(t);
      n && n !== Gh && A1(e, n, r);
    }
    var i = F6(t);
    Wh && (i = i.concat(Wh(t)));
    for (var s = zh(e), a = zh(t), o = 0; o < i.length; ++o) {
      var u = i[o];
      if (!_6[u] && !(r && r[u]) && !(a && a[u]) && !(s && s[u])) {
        var f = I6(t, u);
        try {
          P6(e, u, f);
        } catch {
        }
      }
    }
  }
  return e;
}
var R6 = A1;
uo.__esModule = !0;
uo.default = void 0;
var Xi = M6(Ot), O6 = _1(Sa), D6 = _1(R6);
function _1(e) {
  return e && e.__esModule ? e : { default: e };
}
function M6(e) {
  if (e && e.__esModule)
    return e;
  var t = {};
  if (e != null) {
    for (var r in e)
      if (Object.prototype.hasOwnProperty.call(e, r)) {
        var n = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(e, r) : {};
        n.get || n.set ? Object.defineProperty(t, r, n) : t[r] = e[r];
      }
  }
  return t.default = e, t;
}
function Aa() {
  return Aa = Object.assign || function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r)
        Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, Aa.apply(this, arguments);
}
function B6(e, t) {
  if (e == null)
    return {};
  var r = {}, n = Object.keys(e), i, s;
  for (s = 0; s < n.length; s++)
    i = n[s], !(t.indexOf(i) >= 0) && (r[i] = e[i]);
  return r;
}
function Jh(e) {
  if (e === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
function N6(e, t) {
  e.prototype = Object.create(t.prototype), e.prototype.constructor = e, e.__proto__ = t;
}
function Yh(e, t, r) {
  return t in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
var k6 = function(t, r) {
  return function(i) {
    var s = /* @__PURE__ */ function(o) {
      N6(u, o);
      function u() {
        for (var l, h = arguments.length, c = new Array(h), d = 0; d < h; d++)
          c[d] = arguments[d];
        return l = o.call.apply(o, [this].concat(c)) || this, Yh(Jh(l), "_previous", void 0), Yh(Jh(l), "_merge", function(p, v) {
          var m = l._previous;
          if (m && m.a === p && m.b === v)
            return m.result;
          var b = p && v && p !== v ? (0, O6.default)(p, v) : p || v;
          return l._previous = {
            a: p,
            b: v,
            result: b
          }, b;
        }), l;
      }
      var f = u.prototype;
      return f.render = function() {
        var h = this, c = this.props, d = c._reactThemeProviderForwardedRef, p = B6(c, ["_reactThemeProviderForwardedRef"]);
        return Xi.createElement(r.Consumer, null, function(v) {
          return Xi.createElement(i, Aa({}, p, {
            theme: h._merge(v, p.theme),
            ref: d
          }));
        });
      }, u;
    }(Xi.Component), a = Xi.forwardRef(function(o, u) {
      return Xi.createElement(s, Aa({}, o, {
        _reactThemeProviderForwardedRef: u
      }));
    });
    return a.displayName = "withTheme(" + (i.displayName || i.name) + ")", (0, D6.default)(a, i), a;
  };
}, j6 = k6;
uo.default = j6;
Ac.__esModule = !0;
Ac.default = q6;
var mu = U6(Ot), L6 = Fc(Sa), V6 = Fc(oo), H6 = Fc(uo);
function Fc(e) {
  return e && e.__esModule ? e : { default: e };
}
function U6(e) {
  if (e && e.__esModule)
    return e;
  var t = {};
  if (e != null) {
    for (var r in e)
      if (Object.prototype.hasOwnProperty.call(e, r)) {
        var n = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(e, r) : {};
        n.get || n.set ? Object.defineProperty(t, r, n) : t[r] = e[r];
      }
  }
  return t.default = e, t;
}
function q6(e) {
  var t = mu.createContext(e), r = (0, V6.default)(e, t), n = (0, H6.default)(r, t), i = function(a) {
    var o = mu.useContext(t), u = mu.useMemo(function() {
      return o && a ? (0, L6.default)(o, a) : o || a;
    }, [o, a]);
    return u;
  };
  return {
    ThemeContext: t,
    ThemeProvider: r,
    withTheme: n,
    useTheme: i
  };
}
var K6 = z6(Ac), $6 = K6.default;
function z6(e) {
  return e && e.__esModule ? e : { default: e };
}
const T1 = {
  primaryText: "0, 0, 0",
  background: "255, 255, 255",
  secondaryText: "146, 146, 147",
  light: "242, 242, 247"
}, W6 = {
  primaryText: "240, 240, 240",
  background: "26, 27, 31",
  secondaryText: "161, 161, 161",
  light: "44, 45, 49"
}, G6 = {
  displayTheme: "light",
  accent: {
    r: 0,
    g: 0,
    b: 0
  },
  titleHighlight: {
    r: 0,
    g: 122,
    b: 255
  },
  radius: "default"
}, P1 = $6({
  displayTheme: "light",
  theme: "0, 0, 0",
  themeConfig: G6,
  ...T1
}), { ThemeProvider: J6, useTheme: sT } = P1, It = P1.withTheme || ((e) => e);
function Y6() {
  const { state: e, dispatch: t } = $t(), r = Qr();
  return Ye(() => {
    (async () => r && t({
      type: "UPDATE_PERMISSIONS",
      payload: await r.getPermissions()
    }))();
  }, [t]), e.givenPermissions;
}
function X6() {
  const { state: e, dispatch: t } = $t(), r = Qr();
  Ye(() => {
    async function n() {
      if (!r)
        return s(), t({
          type: "UPDATE_PERMISSIONS",
          payload: []
        });
      try {
        const o = await r.getPermissions();
        t({
          type: "UPDATE_PERMISSIONS",
          payload: o
        }), o.length === 0 && s();
      } catch {
        s(), t({
          type: "UPDATE_PERMISSIONS",
          payload: []
        });
      }
    }
    async function i(o) {
      o.data.type === "connect_result" && await n();
    }
    function s() {
      !e.activeAddress && !e.activeStrategy || (t({ type: "DISCONNECT" }), localStorage.removeItem(Ds));
    }
    n(), addEventListener("arweaveWalletLoaded", n), addEventListener("focus", n), addEventListener("message", i);
    let a;
    return r && (a = r.addAddressEvent(n)), () => {
      removeEventListener("arweaveWalletLoaded", n), removeEventListener("focus", n), removeEventListener("message", i), r && a && r.removeAddressEvent(a);
    };
  }, [r, t]);
}
function Ic() {
  const [e, t] = qt(!1), r = Qr(), n = Y6(), { state: i } = $t(), { permissions: s, ensurePermissions: a } = i.config;
  return Ye(() => {
    if (!r)
      return t(!1);
    t(a ? V0(s, n) : n.length > 0);
  }, [r, n, s, a]), e;
}
function Z6() {
  const e = Qr(), { dispatch: t } = $t(), r = Ic();
  async function n() {
    if (!e || !r)
      throw new Error("[Arweave Wallet Kit] Not yet connected");
    try {
      await e.disconnect(), localStorage.removeItem(Ds), t({ type: "DISCONNECT" });
    } catch (i) {
      throw new Error(
        `[Arweave Wallet Kit] Could not disconnect
` + ((i == null ? void 0 : i.message) || i)
      );
    }
  }
  return n;
}
function Q6() {
  const { dispatch: e } = $t(), t = Ic();
  return () => new Promise((n, i) => {
    if (t)
      return i("[Arweave Wallet Kit] Already connected");
    e({
      type: "OPEN_MODAL",
      payload: "connect"
    });
    async function s(a) {
      a.data.type === "connect_result" && (removeEventListener("message", s), a.data.res ? n() : i("[Arweave Wallet Kit] User cancelled the connection"));
    }
    addEventListener("message", s);
  });
}
function Cc() {
  const e = Ic(), t = Q6(), r = Z6();
  return {
    connected: e,
    connect: t,
    disconnect: r
  };
}
function ex() {
  const { state: e, dispatch: t } = $t();
  return Ye(() => {
    e.activeStrategy || e.activeModal !== "profile" || t({ type: "CLOSE_MODAL" });
  }, [e, t]), {
    setOpen(r) {
      if (!e.activeStrategy)
        throw new Error("[Arweave Wallet Kit] App not connected");
      t(r ? {
        type: "OPEN_MODAL",
        payload: "profile"
      } : { type: "CLOSE_MODAL" });
    },
    open: e.activeModal === "profile"
  };
}
var Js = {}, Rc = {}, uf = {}, tx = {
  get exports() {
    return uf;
  },
  set exports(e) {
    uf = e;
  }
};
(function(e) {
  (function(t) {
    var r, n = /^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i, i = Math.ceil, s = Math.floor, a = "[BigNumber Error] ", o = a + "Number primitive has more than 15 significant digits: ", u = 1e14, f = 14, l = 9007199254740991, h = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13], c = 1e7, d = 1e9;
    function p(_) {
      var F, O, P, M = z.prototype = { constructor: z, toString: null, valueOf: null }, C = new z(1), y = 20, E = 4, T = -7, R = 21, N = -1e7, H = 1e7, Z = !1, K = 1, x = 0, V = {
        prefix: "",
        groupSize: 3,
        secondaryGroupSize: 0,
        groupSeparator: ",",
        decimalSeparator: ".",
        fractionGroupSize: 0,
        fractionGroupSeparator: " ",
        // non-breaking space
        suffix: ""
      }, $ = "0123456789abcdefghijklmnopqrstuvwxyz", G = !0;
      function z(j, W) {
        var U, Q, ee, te, B, w, S, I, q = this;
        if (!(q instanceof z))
          return new z(j, W);
        if (W == null) {
          if (j && j._isBigNumber === !0) {
            q.s = j.s, !j.c || j.e > H ? q.c = q.e = null : j.e < N ? q.c = [q.e = 0] : (q.e = j.e, q.c = j.c.slice());
            return;
          }
          if ((w = typeof j == "number") && j * 0 == 0) {
            if (q.s = 1 / j < 0 ? (j = -j, -1) : 1, j === ~~j) {
              for (te = 0, B = j; B >= 10; B /= 10, te++)
                ;
              te > H ? q.c = q.e = null : (q.e = te, q.c = [j]);
              return;
            }
            I = String(j);
          } else {
            if (!n.test(I = String(j)))
              return P(q, I, w);
            q.s = I.charCodeAt(0) == 45 ? (I = I.slice(1), -1) : 1;
          }
          (te = I.indexOf(".")) > -1 && (I = I.replace(".", "")), (B = I.search(/e/i)) > 0 ? (te < 0 && (te = B), te += +I.slice(B + 1), I = I.substring(0, B)) : te < 0 && (te = I.length);
        } else {
          if (A(W, 2, $.length, "Base"), W == 10 && G)
            return q = new z(j), ue(q, y + q.e + 1, E);
          if (I = String(j), w = typeof j == "number") {
            if (j * 0 != 0)
              return P(q, I, w, W);
            if (q.s = 1 / j < 0 ? (I = I.slice(1), -1) : 1, z.DEBUG && I.replace(/^0\.0*|\./, "").length > 15)
              throw Error(o + j);
          } else
            q.s = I.charCodeAt(0) === 45 ? (I = I.slice(1), -1) : 1;
          for (U = $.slice(0, W), te = B = 0, S = I.length; B < S; B++)
            if (U.indexOf(Q = I.charAt(B)) < 0) {
              if (Q == ".") {
                if (B > te) {
                  te = S;
                  continue;
                }
              } else if (!ee && (I == I.toUpperCase() && (I = I.toLowerCase()) || I == I.toLowerCase() && (I = I.toUpperCase()))) {
                ee = !0, B = -1, te = 0;
                continue;
              }
              return P(q, String(j), w, W);
            }
          w = !1, I = O(I, W, 10, q.s), (te = I.indexOf(".")) > -1 ? I = I.replace(".", "") : te = I.length;
        }
        for (B = 0; I.charCodeAt(B) === 48; B++)
          ;
        for (S = I.length; I.charCodeAt(--S) === 48; )
          ;
        if (I = I.slice(B, ++S)) {
          if (S -= B, w && z.DEBUG && S > 15 && (j > l || j !== s(j)))
            throw Error(o + q.s * j);
          if ((te = te - B - 1) > H)
            q.c = q.e = null;
          else if (te < N)
            q.c = [q.e = 0];
          else {
            if (q.e = te, q.c = [], B = (te + 1) % f, te < 0 && (B += f), B < S) {
              for (B && q.c.push(+I.slice(0, B)), S -= f; B < S; )
                q.c.push(+I.slice(B, B += f));
              B = f - (I = I.slice(B)).length;
            } else
              B -= S;
            for (; B--; I += "0")
              ;
            q.c.push(+I);
          }
        } else
          q.c = [q.e = 0];
      }
      z.clone = p, z.ROUND_UP = 0, z.ROUND_DOWN = 1, z.ROUND_CEIL = 2, z.ROUND_FLOOR = 3, z.ROUND_HALF_UP = 4, z.ROUND_HALF_DOWN = 5, z.ROUND_HALF_EVEN = 6, z.ROUND_HALF_CEIL = 7, z.ROUND_HALF_FLOOR = 8, z.EUCLID = 9, z.config = z.set = function(j) {
        var W, U;
        if (j != null)
          if (typeof j == "object") {
            if (j.hasOwnProperty(W = "DECIMAL_PLACES") && (U = j[W], A(U, 0, d, W), y = U), j.hasOwnProperty(W = "ROUNDING_MODE") && (U = j[W], A(U, 0, 8, W), E = U), j.hasOwnProperty(W = "EXPONENTIAL_AT") && (U = j[W], U && U.pop ? (A(U[0], -d, 0, W), A(U[1], 0, d, W), T = U[0], R = U[1]) : (A(U, -d, d, W), T = -(R = U < 0 ? -U : U))), j.hasOwnProperty(W = "RANGE"))
              if (U = j[W], U && U.pop)
                A(U[0], -d, -1, W), A(U[1], 1, d, W), N = U[0], H = U[1];
              else if (A(U, -d, d, W), U)
                N = -(H = U < 0 ? -U : U);
              else
                throw Error(a + W + " cannot be zero: " + U);
            if (j.hasOwnProperty(W = "CRYPTO"))
              if (U = j[W], U === !!U)
                if (U)
                  if (typeof crypto < "u" && crypto && (crypto.getRandomValues || crypto.randomBytes))
                    Z = U;
                  else
                    throw Z = !U, Error(a + "crypto unavailable");
                else
                  Z = U;
              else
                throw Error(a + W + " not true or false: " + U);
            if (j.hasOwnProperty(W = "MODULO_MODE") && (U = j[W], A(U, 0, 9, W), K = U), j.hasOwnProperty(W = "POW_PRECISION") && (U = j[W], A(U, 0, d, W), x = U), j.hasOwnProperty(W = "FORMAT"))
              if (U = j[W], typeof U == "object")
                V = U;
              else
                throw Error(a + W + " not an object: " + U);
            if (j.hasOwnProperty(W = "ALPHABET"))
              if (U = j[W], typeof U == "string" && !/^.?$|[+\-.\s]|(.).*\1/.test(U))
                G = U.slice(0, 10) == "0123456789", $ = U;
              else
                throw Error(a + W + " invalid: " + U);
          } else
            throw Error(a + "Object expected: " + j);
        return {
          DECIMAL_PLACES: y,
          ROUNDING_MODE: E,
          EXPONENTIAL_AT: [T, R],
          RANGE: [N, H],
          CRYPTO: Z,
          MODULO_MODE: K,
          POW_PRECISION: x,
          FORMAT: V,
          ALPHABET: $
        };
      }, z.isBigNumber = function(j) {
        if (!j || j._isBigNumber !== !0)
          return !1;
        if (!z.DEBUG)
          return !0;
        var W, U, Q = j.c, ee = j.e, te = j.s;
        e:
          if ({}.toString.call(Q) == "[object Array]") {
            if ((te === 1 || te === -1) && ee >= -d && ee <= d && ee === s(ee)) {
              if (Q[0] === 0) {
                if (ee === 0 && Q.length === 1)
                  return !0;
                break e;
              }
              if (W = (ee + 1) % f, W < 1 && (W += f), String(Q[0]).length == W) {
                for (W = 0; W < Q.length; W++)
                  if (U = Q[W], U < 0 || U >= u || U !== s(U))
                    break e;
                if (U !== 0)
                  return !0;
              }
            }
          } else if (Q === null && ee === null && (te === null || te === 1 || te === -1))
            return !0;
        throw Error(a + "Invalid BigNumber: " + j);
      }, z.maximum = z.max = function() {
        return le(arguments, M.lt);
      }, z.minimum = z.min = function() {
        return le(arguments, M.gt);
      }, z.random = function() {
        var j = 9007199254740992, W = Math.random() * j & 2097151 ? function() {
          return s(Math.random() * j);
        } : function() {
          return (Math.random() * 1073741824 | 0) * 8388608 + (Math.random() * 8388608 | 0);
        };
        return function(U) {
          var Q, ee, te, B, w, S = 0, I = [], q = new z(C);
          if (U == null ? U = y : A(U, 0, d), B = i(U / f), Z)
            if (crypto.getRandomValues) {
              for (Q = crypto.getRandomValues(new Uint32Array(B *= 2)); S < B; )
                w = Q[S] * 131072 + (Q[S + 1] >>> 11), w >= 9e15 ? (ee = crypto.getRandomValues(new Uint32Array(2)), Q[S] = ee[0], Q[S + 1] = ee[1]) : (I.push(w % 1e14), S += 2);
              S = B / 2;
            } else if (crypto.randomBytes) {
              for (Q = crypto.randomBytes(B *= 7); S < B; )
                w = (Q[S] & 31) * 281474976710656 + Q[S + 1] * 1099511627776 + Q[S + 2] * 4294967296 + Q[S + 3] * 16777216 + (Q[S + 4] << 16) + (Q[S + 5] << 8) + Q[S + 6], w >= 9e15 ? crypto.randomBytes(7).copy(Q, S) : (I.push(w % 1e14), S += 7);
              S = B / 7;
            } else
              throw Z = !1, Error(a + "crypto unavailable");
          if (!Z)
            for (; S < B; )
              w = W(), w < 9e15 && (I[S++] = w % 1e14);
          for (B = I[--S], U %= f, B && U && (w = h[f - U], I[S] = s(B / w) * w); I[S] === 0; I.pop(), S--)
            ;
          if (S < 0)
            I = [te = 0];
          else {
            for (te = -1; I[0] === 0; I.splice(0, 1), te -= f)
              ;
            for (S = 1, w = I[0]; w >= 10; w /= 10, S++)
              ;
            S < f && (te -= f - S);
          }
          return q.e = te, q.c = I, q;
        };
      }(), z.sum = function() {
        for (var j = 1, W = arguments, U = new z(W[0]); j < W.length; )
          U = U.plus(W[j++]);
        return U;
      }, O = function() {
        var j = "0123456789";
        function W(U, Q, ee, te) {
          for (var B, w = [0], S, I = 0, q = U.length; I < q; ) {
            for (S = w.length; S--; w[S] *= Q)
              ;
            for (w[0] += te.indexOf(U.charAt(I++)), B = 0; B < w.length; B++)
              w[B] > ee - 1 && (w[B + 1] == null && (w[B + 1] = 0), w[B + 1] += w[B] / ee | 0, w[B] %= ee);
          }
          return w.reverse();
        }
        return function(U, Q, ee, te, B) {
          var w, S, I, q, Y, se, ge, ve, X = U.indexOf("."), re = y, ie = E;
          for (X >= 0 && (q = x, x = 0, U = U.replace(".", ""), ve = new z(Q), se = ve.pow(U.length - X), x = q, ve.c = W(
            L(m(se.c), se.e, "0"),
            10,
            ee,
            j
          ), ve.e = ve.c.length), ge = W(U, Q, ee, B ? (w = $, j) : (w = j, $)), I = q = ge.length; ge[--q] == 0; ge.pop())
            ;
          if (!ge[0])
            return w.charAt(0);
          if (X < 0 ? --I : (se.c = ge, se.e = I, se.s = te, se = F(se, ve, re, ie, ee), ge = se.c, Y = se.r, I = se.e), S = I + re + 1, X = ge[S], q = ee / 2, Y = Y || S < 0 || ge[S + 1] != null, Y = ie < 4 ? (X != null || Y) && (ie == 0 || ie == (se.s < 0 ? 3 : 2)) : X > q || X == q && (ie == 4 || Y || ie == 6 && ge[S - 1] & 1 || ie == (se.s < 0 ? 8 : 7)), S < 1 || !ge[0])
            U = Y ? L(w.charAt(1), -re, w.charAt(0)) : w.charAt(0);
          else {
            if (ge.length = S, Y)
              for (--ee; ++ge[--S] > ee; )
                ge[S] = 0, S || (++I, ge = [1].concat(ge));
            for (q = ge.length; !ge[--q]; )
              ;
            for (X = 0, U = ""; X <= q; U += w.charAt(ge[X++]))
              ;
            U = L(U, I, w.charAt(0));
          }
          return U;
        };
      }(), F = function() {
        function j(Q, ee, te) {
          var B, w, S, I, q = 0, Y = Q.length, se = ee % c, ge = ee / c | 0;
          for (Q = Q.slice(); Y--; )
            S = Q[Y] % c, I = Q[Y] / c | 0, B = ge * S + I * se, w = se * S + B % c * c + q, q = (w / te | 0) + (B / c | 0) + ge * I, Q[Y] = w % te;
          return q && (Q = [q].concat(Q)), Q;
        }
        function W(Q, ee, te, B) {
          var w, S;
          if (te != B)
            S = te > B ? 1 : -1;
          else
            for (w = S = 0; w < te; w++)
              if (Q[w] != ee[w]) {
                S = Q[w] > ee[w] ? 1 : -1;
                break;
              }
          return S;
        }
        function U(Q, ee, te, B) {
          for (var w = 0; te--; )
            Q[te] -= w, w = Q[te] < ee[te] ? 1 : 0, Q[te] = w * B + Q[te] - ee[te];
          for (; !Q[0] && Q.length > 1; Q.splice(0, 1))
            ;
        }
        return function(Q, ee, te, B, w) {
          var S, I, q, Y, se, ge, ve, X, re, ie, ce, we, Ce, Se, De, me, _e, Ie = Q.s == ee.s ? 1 : -1, Me = Q.c, Oe = ee.c;
          if (!Me || !Me[0] || !Oe || !Oe[0])
            return new z(
              // Return NaN if either NaN, or both Infinity or 0.
              !Q.s || !ee.s || (Me ? Oe && Me[0] == Oe[0] : !Oe) ? NaN : (
                // Return ±0 if x is ±0 or y is ±Infinity, or return ±Infinity as y is ±0.
                Me && Me[0] == 0 || !Oe ? Ie * 0 : Ie / 0
              )
            );
          for (X = new z(Ie), re = X.c = [], I = Q.e - ee.e, Ie = te + I + 1, w || (w = u, I = v(Q.e / f) - v(ee.e / f), Ie = Ie / f | 0), q = 0; Oe[q] == (Me[q] || 0); q++)
            ;
          if (Oe[q] > (Me[q] || 0) && I--, Ie < 0)
            re.push(1), Y = !0;
          else {
            for (Se = Me.length, me = Oe.length, q = 0, Ie += 2, se = s(w / (Oe[0] + 1)), se > 1 && (Oe = j(Oe, se, w), Me = j(Me, se, w), me = Oe.length, Se = Me.length), Ce = me, ie = Me.slice(0, me), ce = ie.length; ce < me; ie[ce++] = 0)
              ;
            _e = Oe.slice(), _e = [0].concat(_e), De = Oe[0], Oe[1] >= w / 2 && De++;
            do {
              if (se = 0, S = W(Oe, ie, me, ce), S < 0) {
                if (we = ie[0], me != ce && (we = we * w + (ie[1] || 0)), se = s(we / De), se > 1)
                  for (se >= w && (se = w - 1), ge = j(Oe, se, w), ve = ge.length, ce = ie.length; W(ge, ie, ve, ce) == 1; )
                    se--, U(ge, me < ve ? _e : Oe, ve, w), ve = ge.length, S = 1;
                else
                  se == 0 && (S = se = 1), ge = Oe.slice(), ve = ge.length;
                if (ve < ce && (ge = [0].concat(ge)), U(ie, ge, ce, w), ce = ie.length, S == -1)
                  for (; W(Oe, ie, me, ce) < 1; )
                    se++, U(ie, me < ce ? _e : Oe, ce, w), ce = ie.length;
              } else
                S === 0 && (se++, ie = [0]);
              re[q++] = se, ie[0] ? ie[ce++] = Me[Ce] || 0 : (ie = [Me[Ce]], ce = 1);
            } while ((Ce++ < Se || ie[0] != null) && Ie--);
            Y = ie[0] != null, re[0] || re.splice(0, 1);
          }
          if (w == u) {
            for (q = 1, Ie = re[0]; Ie >= 10; Ie /= 10, q++)
              ;
            ue(X, te + (X.e = q + I * f - 1) + 1, B, Y);
          } else
            X.e = I, X.r = +Y;
          return X;
        };
      }();
      function ae(j, W, U, Q) {
        var ee, te, B, w, S;
        if (U == null ? U = E : A(U, 0, 8), !j.c)
          return j.toString();
        if (ee = j.c[0], B = j.e, W == null)
          S = m(j.c), S = Q == 1 || Q == 2 && (B <= T || B >= R) ? k(S, B) : L(S, B, "0");
        else if (j = ue(new z(j), W, U), te = j.e, S = m(j.c), w = S.length, Q == 1 || Q == 2 && (W <= te || te <= T)) {
          for (; w < W; S += "0", w++)
            ;
          S = k(S, te);
        } else if (W -= B, S = L(S, te, "0"), te + 1 > w) {
          if (--W > 0)
            for (S += "."; W--; S += "0")
              ;
        } else if (W += te - w, W > 0)
          for (te + 1 == w && (S += "."); W--; S += "0")
            ;
        return j.s < 0 && ee ? "-" + S : S;
      }
      function le(j, W) {
        for (var U, Q = 1, ee = new z(j[0]); Q < j.length; Q++)
          if (U = new z(j[Q]), U.s)
            W.call(ee, U) && (ee = U);
          else {
            ee = U;
            break;
          }
        return ee;
      }
      function oe(j, W, U) {
        for (var Q = 1, ee = W.length; !W[--ee]; W.pop())
          ;
        for (ee = W[0]; ee >= 10; ee /= 10, Q++)
          ;
        return (U = Q + U * f - 1) > H ? j.c = j.e = null : U < N ? j.c = [j.e = 0] : (j.e = U, j.c = W), j;
      }
      P = function() {
        var j = /^(-?)0([xbo])(?=\w[\w.]*$)/i, W = /^([^.]+)\.$/, U = /^\.([^.]+)$/, Q = /^-?(Infinity|NaN)$/, ee = /^\s*\+(?=[\w.])|^\s+|\s+$/g;
        return function(te, B, w, S) {
          var I, q = w ? B : B.replace(ee, "");
          if (Q.test(q))
            te.s = isNaN(q) ? null : q < 0 ? -1 : 1;
          else {
            if (!w && (q = q.replace(j, function(Y, se, ge) {
              return I = (ge = ge.toLowerCase()) == "x" ? 16 : ge == "b" ? 2 : 8, !S || S == I ? se : Y;
            }), S && (I = S, q = q.replace(W, "$1").replace(U, "0.$1")), B != q))
              return new z(q, I);
            if (z.DEBUG)
              throw Error(a + "Not a" + (S ? " base " + S : "") + " number: " + B);
            te.s = null;
          }
          te.c = te.e = null;
        };
      }();
      function ue(j, W, U, Q) {
        var ee, te, B, w, S, I, q, Y = j.c, se = h;
        if (Y) {
          e: {
            for (ee = 1, w = Y[0]; w >= 10; w /= 10, ee++)
              ;
            if (te = W - ee, te < 0)
              te += f, B = W, S = Y[I = 0], q = S / se[ee - B - 1] % 10 | 0;
            else if (I = i((te + 1) / f), I >= Y.length)
              if (Q) {
                for (; Y.length <= I; Y.push(0))
                  ;
                S = q = 0, ee = 1, te %= f, B = te - f + 1;
              } else
                break e;
            else {
              for (S = w = Y[I], ee = 1; w >= 10; w /= 10, ee++)
                ;
              te %= f, B = te - f + ee, q = B < 0 ? 0 : S / se[ee - B - 1] % 10 | 0;
            }
            if (Q = Q || W < 0 || // Are there any non-zero digits after the rounding digit?
            // The expression  n % pows10[d - j - 1]  returns all digits of n to the right
            // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.
            Y[I + 1] != null || (B < 0 ? S : S % se[ee - B - 1]), Q = U < 4 ? (q || Q) && (U == 0 || U == (j.s < 0 ? 3 : 2)) : q > 5 || q == 5 && (U == 4 || Q || U == 6 && (te > 0 ? B > 0 ? S / se[ee - B] : 0 : Y[I - 1]) % 10 & 1 || U == (j.s < 0 ? 8 : 7)), W < 1 || !Y[0])
              return Y.length = 0, Q ? (W -= j.e + 1, Y[0] = se[(f - W % f) % f], j.e = -W || 0) : Y[0] = j.e = 0, j;
            if (te == 0 ? (Y.length = I, w = 1, I--) : (Y.length = I + 1, w = se[f - te], Y[I] = B > 0 ? s(S / se[ee - B] % se[B]) * w : 0), Q)
              for (; ; )
                if (I == 0) {
                  for (te = 1, B = Y[0]; B >= 10; B /= 10, te++)
                    ;
                  for (B = Y[0] += w, w = 1; B >= 10; B /= 10, w++)
                    ;
                  te != w && (j.e++, Y[0] == u && (Y[0] = 1));
                  break;
                } else {
                  if (Y[I] += w, Y[I] != u)
                    break;
                  Y[I--] = 0, w = 1;
                }
            for (te = Y.length; Y[--te] === 0; Y.pop())
              ;
          }
          j.e > H ? j.c = j.e = null : j.e < N && (j.c = [j.e = 0]);
        }
        return j;
      }
      function fe(j) {
        var W, U = j.e;
        return U === null ? j.toString() : (W = m(j.c), W = U <= T || U >= R ? k(W, U) : L(W, U, "0"), j.s < 0 ? "-" + W : W);
      }
      return M.absoluteValue = M.abs = function() {
        var j = new z(this);
        return j.s < 0 && (j.s = 1), j;
      }, M.comparedTo = function(j, W) {
        return b(this, new z(j, W));
      }, M.decimalPlaces = M.dp = function(j, W) {
        var U, Q, ee, te = this;
        if (j != null)
          return A(j, 0, d), W == null ? W = E : A(W, 0, 8), ue(new z(te), j + te.e + 1, W);
        if (!(U = te.c))
          return null;
        if (Q = ((ee = U.length - 1) - v(this.e / f)) * f, ee = U[ee])
          for (; ee % 10 == 0; ee /= 10, Q--)
            ;
        return Q < 0 && (Q = 0), Q;
      }, M.dividedBy = M.div = function(j, W) {
        return F(this, new z(j, W), y, E);
      }, M.dividedToIntegerBy = M.idiv = function(j, W) {
        return F(this, new z(j, W), 0, 1);
      }, M.exponentiatedBy = M.pow = function(j, W) {
        var U, Q, ee, te, B, w, S, I, q, Y = this;
        if (j = new z(j), j.c && !j.isInteger())
          throw Error(a + "Exponent not an integer: " + fe(j));
        if (W != null && (W = new z(W)), w = j.e > 14, !Y.c || !Y.c[0] || Y.c[0] == 1 && !Y.e && Y.c.length == 1 || !j.c || !j.c[0])
          return q = new z(Math.pow(+fe(Y), w ? j.s * (2 - D(j)) : +fe(j))), W ? q.mod(W) : q;
        if (S = j.s < 0, W) {
          if (W.c ? !W.c[0] : !W.s)
            return new z(NaN);
          Q = !S && Y.isInteger() && W.isInteger(), Q && (Y = Y.mod(W));
        } else {
          if (j.e > 9 && (Y.e > 0 || Y.e < -1 || (Y.e == 0 ? Y.c[0] > 1 || w && Y.c[1] >= 24e7 : Y.c[0] < 8e13 || w && Y.c[0] <= 9999975e7)))
            return te = Y.s < 0 && D(j) ? -0 : 0, Y.e > -1 && (te = 1 / te), new z(S ? 1 / te : te);
          x && (te = i(x / f + 2));
        }
        for (w ? (U = new z(0.5), S && (j.s = 1), I = D(j)) : (ee = Math.abs(+fe(j)), I = ee % 2), q = new z(C); ; ) {
          if (I) {
            if (q = q.times(Y), !q.c)
              break;
            te ? q.c.length > te && (q.c.length = te) : Q && (q = q.mod(W));
          }
          if (ee) {
            if (ee = s(ee / 2), ee === 0)
              break;
            I = ee % 2;
          } else if (j = j.times(U), ue(j, j.e + 1, 1), j.e > 14)
            I = D(j);
          else {
            if (ee = +fe(j), ee === 0)
              break;
            I = ee % 2;
          }
          Y = Y.times(Y), te ? Y.c && Y.c.length > te && (Y.c.length = te) : Q && (Y = Y.mod(W));
        }
        return Q ? q : (S && (q = C.div(q)), W ? q.mod(W) : te ? ue(q, x, E, B) : q);
      }, M.integerValue = function(j) {
        var W = new z(this);
        return j == null ? j = E : A(j, 0, 8), ue(W, W.e + 1, j);
      }, M.isEqualTo = M.eq = function(j, W) {
        return b(this, new z(j, W)) === 0;
      }, M.isFinite = function() {
        return !!this.c;
      }, M.isGreaterThan = M.gt = function(j, W) {
        return b(this, new z(j, W)) > 0;
      }, M.isGreaterThanOrEqualTo = M.gte = function(j, W) {
        return (W = b(this, new z(j, W))) === 1 || W === 0;
      }, M.isInteger = function() {
        return !!this.c && v(this.e / f) > this.c.length - 2;
      }, M.isLessThan = M.lt = function(j, W) {
        return b(this, new z(j, W)) < 0;
      }, M.isLessThanOrEqualTo = M.lte = function(j, W) {
        return (W = b(this, new z(j, W))) === -1 || W === 0;
      }, M.isNaN = function() {
        return !this.s;
      }, M.isNegative = function() {
        return this.s < 0;
      }, M.isPositive = function() {
        return this.s > 0;
      }, M.isZero = function() {
        return !!this.c && this.c[0] == 0;
      }, M.minus = function(j, W) {
        var U, Q, ee, te, B = this, w = B.s;
        if (j = new z(j, W), W = j.s, !w || !W)
          return new z(NaN);
        if (w != W)
          return j.s = -W, B.plus(j);
        var S = B.e / f, I = j.e / f, q = B.c, Y = j.c;
        if (!S || !I) {
          if (!q || !Y)
            return q ? (j.s = -W, j) : new z(Y ? B : NaN);
          if (!q[0] || !Y[0])
            return Y[0] ? (j.s = -W, j) : new z(q[0] ? B : (
              // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity
              E == 3 ? -0 : 0
            ));
        }
        if (S = v(S), I = v(I), q = q.slice(), w = S - I) {
          for ((te = w < 0) ? (w = -w, ee = q) : (I = S, ee = Y), ee.reverse(), W = w; W--; ee.push(0))
            ;
          ee.reverse();
        } else
          for (Q = (te = (w = q.length) < (W = Y.length)) ? w : W, w = W = 0; W < Q; W++)
            if (q[W] != Y[W]) {
              te = q[W] < Y[W];
              break;
            }
        if (te && (ee = q, q = Y, Y = ee, j.s = -j.s), W = (Q = Y.length) - (U = q.length), W > 0)
          for (; W--; q[U++] = 0)
            ;
        for (W = u - 1; Q > w; ) {
          if (q[--Q] < Y[Q]) {
            for (U = Q; U && !q[--U]; q[U] = W)
              ;
            --q[U], q[Q] += u;
          }
          q[Q] -= Y[Q];
        }
        for (; q[0] == 0; q.splice(0, 1), --I)
          ;
        return q[0] ? oe(j, q, I) : (j.s = E == 3 ? -1 : 1, j.c = [j.e = 0], j);
      }, M.modulo = M.mod = function(j, W) {
        var U, Q, ee = this;
        return j = new z(j, W), !ee.c || !j.s || j.c && !j.c[0] ? new z(NaN) : !j.c || ee.c && !ee.c[0] ? new z(ee) : (K == 9 ? (Q = j.s, j.s = 1, U = F(ee, j, 0, 3), j.s = Q, U.s *= Q) : U = F(ee, j, 0, K), j = ee.minus(U.times(j)), !j.c[0] && K == 1 && (j.s = ee.s), j);
      }, M.multipliedBy = M.times = function(j, W) {
        var U, Q, ee, te, B, w, S, I, q, Y, se, ge, ve, X, re, ie = this, ce = ie.c, we = (j = new z(j, W)).c;
        if (!ce || !we || !ce[0] || !we[0])
          return !ie.s || !j.s || ce && !ce[0] && !we || we && !we[0] && !ce ? j.c = j.e = j.s = null : (j.s *= ie.s, !ce || !we ? j.c = j.e = null : (j.c = [0], j.e = 0)), j;
        for (Q = v(ie.e / f) + v(j.e / f), j.s *= ie.s, S = ce.length, Y = we.length, S < Y && (ve = ce, ce = we, we = ve, ee = S, S = Y, Y = ee), ee = S + Y, ve = []; ee--; ve.push(0))
          ;
        for (X = u, re = c, ee = Y; --ee >= 0; ) {
          for (U = 0, se = we[ee] % re, ge = we[ee] / re | 0, B = S, te = ee + B; te > ee; )
            I = ce[--B] % re, q = ce[B] / re | 0, w = ge * I + q * se, I = se * I + w % re * re + ve[te] + U, U = (I / X | 0) + (w / re | 0) + ge * q, ve[te--] = I % X;
          ve[te] = U;
        }
        return U ? ++Q : ve.splice(0, 1), oe(j, ve, Q);
      }, M.negated = function() {
        var j = new z(this);
        return j.s = -j.s || null, j;
      }, M.plus = function(j, W) {
        var U, Q = this, ee = Q.s;
        if (j = new z(j, W), W = j.s, !ee || !W)
          return new z(NaN);
        if (ee != W)
          return j.s = -W, Q.minus(j);
        var te = Q.e / f, B = j.e / f, w = Q.c, S = j.c;
        if (!te || !B) {
          if (!w || !S)
            return new z(ee / 0);
          if (!w[0] || !S[0])
            return S[0] ? j : new z(w[0] ? Q : ee * 0);
        }
        if (te = v(te), B = v(B), w = w.slice(), ee = te - B) {
          for (ee > 0 ? (B = te, U = S) : (ee = -ee, U = w), U.reverse(); ee--; U.push(0))
            ;
          U.reverse();
        }
        for (ee = w.length, W = S.length, ee - W < 0 && (U = S, S = w, w = U, W = ee), ee = 0; W; )
          ee = (w[--W] = w[W] + S[W] + ee) / u | 0, w[W] = u === w[W] ? 0 : w[W] % u;
        return ee && (w = [ee].concat(w), ++B), oe(j, w, B);
      }, M.precision = M.sd = function(j, W) {
        var U, Q, ee, te = this;
        if (j != null && j !== !!j)
          return A(j, 1, d), W == null ? W = E : A(W, 0, 8), ue(new z(te), j, W);
        if (!(U = te.c))
          return null;
        if (ee = U.length - 1, Q = ee * f + 1, ee = U[ee]) {
          for (; ee % 10 == 0; ee /= 10, Q--)
            ;
          for (ee = U[0]; ee >= 10; ee /= 10, Q++)
            ;
        }
        return j && te.e + 1 > Q && (Q = te.e + 1), Q;
      }, M.shiftedBy = function(j) {
        return A(j, -l, l), this.times("1e" + j);
      }, M.squareRoot = M.sqrt = function() {
        var j, W, U, Q, ee, te = this, B = te.c, w = te.s, S = te.e, I = y + 4, q = new z("0.5");
        if (w !== 1 || !B || !B[0])
          return new z(!w || w < 0 && (!B || B[0]) ? NaN : B ? te : 1 / 0);
        if (w = Math.sqrt(+fe(te)), w == 0 || w == 1 / 0 ? (W = m(B), (W.length + S) % 2 == 0 && (W += "0"), w = Math.sqrt(+W), S = v((S + 1) / 2) - (S < 0 || S % 2), w == 1 / 0 ? W = "5e" + S : (W = w.toExponential(), W = W.slice(0, W.indexOf("e") + 1) + S), U = new z(W)) : U = new z(w + ""), U.c[0]) {
          for (S = U.e, w = S + I, w < 3 && (w = 0); ; )
            if (ee = U, U = q.times(ee.plus(F(te, ee, I, 1))), m(ee.c).slice(0, w) === (W = m(U.c)).slice(0, w))
              if (U.e < S && --w, W = W.slice(w - 3, w + 1), W == "9999" || !Q && W == "4999") {
                if (!Q && (ue(ee, ee.e + y + 2, 0), ee.times(ee).eq(te))) {
                  U = ee;
                  break;
                }
                I += 4, w += 4, Q = 1;
              } else {
                (!+W || !+W.slice(1) && W.charAt(0) == "5") && (ue(U, U.e + y + 2, 1), j = !U.times(U).eq(te));
                break;
              }
        }
        return ue(U, U.e + y + 1, E, j);
      }, M.toExponential = function(j, W) {
        return j != null && (A(j, 0, d), j++), ae(this, j, W, 1);
      }, M.toFixed = function(j, W) {
        return j != null && (A(j, 0, d), j = j + this.e + 1), ae(this, j, W);
      }, M.toFormat = function(j, W, U) {
        var Q, ee = this;
        if (U == null)
          j != null && W && typeof W == "object" ? (U = W, W = null) : j && typeof j == "object" ? (U = j, j = W = null) : U = V;
        else if (typeof U != "object")
          throw Error(a + "Argument not an object: " + U);
        if (Q = ee.toFixed(j, W), ee.c) {
          var te, B = Q.split("."), w = +U.groupSize, S = +U.secondaryGroupSize, I = U.groupSeparator || "", q = B[0], Y = B[1], se = ee.s < 0, ge = se ? q.slice(1) : q, ve = ge.length;
          if (S && (te = w, w = S, S = te, ve -= te), w > 0 && ve > 0) {
            for (te = ve % w || w, q = ge.substr(0, te); te < ve; te += w)
              q += I + ge.substr(te, w);
            S > 0 && (q += I + ge.slice(te)), se && (q = "-" + q);
          }
          Q = Y ? q + (U.decimalSeparator || "") + ((S = +U.fractionGroupSize) ? Y.replace(
            new RegExp("\\d{" + S + "}\\B", "g"),
            "$&" + (U.fractionGroupSeparator || "")
          ) : Y) : q;
        }
        return (U.prefix || "") + Q + (U.suffix || "");
      }, M.toFraction = function(j) {
        var W, U, Q, ee, te, B, w, S, I, q, Y, se, ge = this, ve = ge.c;
        if (j != null && (w = new z(j), !w.isInteger() && (w.c || w.s !== 1) || w.lt(C)))
          throw Error(a + "Argument " + (w.isInteger() ? "out of range: " : "not an integer: ") + fe(w));
        if (!ve)
          return new z(ge);
        for (W = new z(C), I = U = new z(C), Q = S = new z(C), se = m(ve), te = W.e = se.length - ge.e - 1, W.c[0] = h[(B = te % f) < 0 ? f + B : B], j = !j || w.comparedTo(W) > 0 ? te > 0 ? W : I : w, B = H, H = 1 / 0, w = new z(se), S.c[0] = 0; q = F(w, W, 0, 1), ee = U.plus(q.times(Q)), ee.comparedTo(j) != 1; )
          U = Q, Q = ee, I = S.plus(q.times(ee = I)), S = ee, W = w.minus(q.times(ee = W)), w = ee;
        return ee = F(j.minus(U), Q, 0, 1), S = S.plus(ee.times(I)), U = U.plus(ee.times(Q)), S.s = I.s = ge.s, te = te * 2, Y = F(I, Q, te, E).minus(ge).abs().comparedTo(
          F(S, U, te, E).minus(ge).abs()
        ) < 1 ? [I, Q] : [S, U], H = B, Y;
      }, M.toNumber = function() {
        return +fe(this);
      }, M.toPrecision = function(j, W) {
        return j != null && A(j, 1, d), ae(this, j, W, 2);
      }, M.toString = function(j) {
        var W, U = this, Q = U.s, ee = U.e;
        return ee === null ? Q ? (W = "Infinity", Q < 0 && (W = "-" + W)) : W = "NaN" : (j == null ? W = ee <= T || ee >= R ? k(m(U.c), ee) : L(m(U.c), ee, "0") : j === 10 && G ? (U = ue(new z(U), y + ee + 1, E), W = L(m(U.c), U.e, "0")) : (A(j, 2, $.length, "Base"), W = O(L(m(U.c), ee, "0"), 10, j, Q, !0)), Q < 0 && U.c[0] && (W = "-" + W)), W;
      }, M.valueOf = M.toJSON = function() {
        return fe(this);
      }, M._isBigNumber = !0, _ != null && z.set(_), z;
    }
    function v(_) {
      var F = _ | 0;
      return _ > 0 || _ === F ? F : F - 1;
    }
    function m(_) {
      for (var F, O, P = 1, M = _.length, C = _[0] + ""; P < M; ) {
        for (F = _[P++] + "", O = f - F.length; O--; F = "0" + F)
          ;
        C += F;
      }
      for (M = C.length; C.charCodeAt(--M) === 48; )
        ;
      return C.slice(0, M + 1 || 1);
    }
    function b(_, F) {
      var O, P, M = _.c, C = F.c, y = _.s, E = F.s, T = _.e, R = F.e;
      if (!y || !E)
        return null;
      if (O = M && !M[0], P = C && !C[0], O || P)
        return O ? P ? 0 : -E : y;
      if (y != E)
        return y;
      if (O = y < 0, P = T == R, !M || !C)
        return P ? 0 : !M ^ O ? 1 : -1;
      if (!P)
        return T > R ^ O ? 1 : -1;
      for (E = (T = M.length) < (R = C.length) ? T : R, y = 0; y < E; y++)
        if (M[y] != C[y])
          return M[y] > C[y] ^ O ? 1 : -1;
      return T == R ? 0 : T > R ^ O ? 1 : -1;
    }
    function A(_, F, O, P) {
      if (_ < F || _ > O || _ !== s(_))
        throw Error(a + (P || "Argument") + (typeof _ == "number" ? _ < F || _ > O ? " out of range: " : " not an integer: " : " not a primitive number: ") + String(_));
    }
    function D(_) {
      var F = _.c.length - 1;
      return v(_.e / f) == F && _.c[F] % 2 != 0;
    }
    function k(_, F) {
      return (_.length > 1 ? _.charAt(0) + "." + _.slice(1) : _) + (F < 0 ? "e" : "e+") + F;
    }
    function L(_, F, O) {
      var P, M;
      if (F < 0) {
        for (M = O + "."; ++F; M += O)
          ;
        _ = M + _;
      } else if (P = _.length, ++F > P) {
        for (M = O, F -= P; --F; M += O)
          ;
        _ += M;
      } else
        F < P && (_ = _.slice(0, F) + "." + _.slice(F));
      return _;
    }
    r = p(), r.default = r.BigNumber = r, e.exports ? e.exports = r : (t || (t = typeof self < "u" && self ? self : window), t.BigNumber = r);
  })(be);
})(tx);
Object.defineProperty(Rc, "__esModule", { value: !0 });
const rx = uf;
class nx {
  constructor() {
    this.BigNum = (t, r) => {
      let n = rx.BigNumber.clone({ DECIMAL_PLACES: r });
      return new n(t);
    };
  }
  winstonToAr(t, { formatted: r = !1, decimals: n = 12, trim: i = !0 } = {}) {
    let s = this.stringToBigNum(t, n).shiftedBy(-12);
    return r ? s.toFormat(n) : s.toFixed(n);
  }
  arToWinston(t, { formatted: r = !1 } = {}) {
    let n = this.stringToBigNum(t).shiftedBy(12);
    return r ? n.toFormat() : n.toFixed(0);
  }
  compare(t, r) {
    let n = this.stringToBigNum(t), i = this.stringToBigNum(r);
    return n.comparedTo(i);
  }
  isEqual(t, r) {
    return this.compare(t, r) === 0;
  }
  isLessThan(t, r) {
    let n = this.stringToBigNum(t), i = this.stringToBigNum(r);
    return n.isLessThan(i);
  }
  isGreaterThan(t, r) {
    let n = this.stringToBigNum(t), i = this.stringToBigNum(r);
    return n.isGreaterThan(i);
  }
  add(t, r) {
    let n = this.stringToBigNum(t);
    return this.stringToBigNum(r), n.plus(r).toFixed(0);
  }
  sub(t, r) {
    let n = this.stringToBigNum(t);
    return this.stringToBigNum(r), n.minus(r).toFixed(0);
  }
  stringToBigNum(t, r = 12) {
    return this.BigNum(t, r);
  }
}
Rc.default = nx;
var Oc = {};
Object.defineProperty(Oc, "__esModule", { value: !0 });
class ix {
  constructor(t) {
    this.METHOD_GET = "GET", this.METHOD_POST = "POST", this.applyConfig(t);
  }
  applyConfig(t) {
    this.config = this.mergeDefaults(t);
  }
  getConfig() {
    return this.config;
  }
  mergeDefaults(t) {
    const r = t.protocol || "http", n = t.port || (r === "https" ? 443 : 80);
    return {
      host: t.host || "127.0.0.1",
      protocol: r,
      port: n,
      timeout: t.timeout || 2e4,
      logging: t.logging || !1,
      logger: t.logger || console.log,
      network: t.network
    };
  }
  async get(t, r) {
    return await this.request(t, { ...r, method: this.METHOD_GET });
  }
  async post(t, r, n) {
    const i = new Headers((n == null ? void 0 : n.headers) || {});
    return i.append("content-type", "application/json"), i.append("accept", "application/json, text/plain, */*"), await this.request(t, {
      ...n,
      method: this.METHOD_POST,
      body: JSON.stringify(r),
      headers: i
    });
  }
  async request(t, r) {
    const n = new Headers((r == null ? void 0 : r.headers) || {}), i = `${this.config.protocol}://${this.config.host}:${this.config.port}`;
    t.startsWith("/") && (t = t.replace("/", "")), this.config.network && n.append("x-network", this.config.network), this.config.logging && this.config.logger(`Requesting: ${i}/${t}`);
    let s = await fetch(`${i}/${t}`, {
      ...r || {},
      headers: n
    });
    this.config.logging && this.config.logger(`Response:   ${s.url} - ${s.status}`);
    const a = s.headers.get("content-type"), o = s;
    if (a != null && a.startsWith("application/json"))
      o.data = await s.clone().json();
    else
      try {
        o.data = await s.clone().text();
      } catch {
        o.data = await s.clone().arrayBuffer();
      }
    return o;
  }
}
Oc.default = ix;
var Dc = {}, Ci = {}, sx = be && be.__createBinding || (Object.create ? function(e, t, r, n) {
  n === void 0 && (n = r);
  var i = Object.getOwnPropertyDescriptor(t, r);
  (!i || ("get" in i ? !t.__esModule : i.writable || i.configurable)) && (i = { enumerable: !0, get: function() {
    return t[r];
  } }), Object.defineProperty(e, n, i);
} : function(e, t, r, n) {
  n === void 0 && (n = r), e[n] = t[r];
}), ax = be && be.__setModuleDefault || (Object.create ? function(e, t) {
  Object.defineProperty(e, "default", { enumerable: !0, value: t });
} : function(e, t) {
  e.default = t;
}), ox = be && be.__importStar || function(e) {
  if (e && e.__esModule)
    return e;
  var t = {};
  if (e != null)
    for (var r in e)
      r !== "default" && Object.prototype.hasOwnProperty.call(e, r) && sx(t, e, r);
  return ax(t, e), t;
};
Object.defineProperty(Ci, "__esModule", { value: !0 });
Ci.jwkTopem = Ci.pemTojwk = void 0;
const dn = ox(hn);
function ux(e) {
  return e.replace(/\+/g, "-").replace(/\//g, "_").replace(/=/g, "");
}
function Mc(e) {
  return ux(Buffer.from(e, "hex").toString("base64"));
}
var F1 = dn.define("RSAPublicKey", function() {
  this.seq().obj(this.key("n").int(), this.key("e").int());
}), I1 = dn.define("AlgorithmIdentifier", function() {
  this.seq().obj(this.key("algorithm").objid(), this.key("parameters").optional().any());
}), fx = dn.define("PublicKeyInfo", function() {
  this.seq().obj(this.key("algorithm").use(I1), this.key("publicKey").bitstr());
}), C1 = dn.define("Version", function() {
  this.int({
    0: "two-prime",
    1: "multi"
  });
}), cx = dn.define("OtherPrimeInfos", function() {
  this.seq().obj(this.key("ri").int(), this.key("di").int(), this.key("ti").int());
}), R1 = dn.define("RSAPrivateKey", function() {
  this.seq().obj(this.key("version").use(C1), this.key("n").int(), this.key("e").int(), this.key("d").int(), this.key("p").int(), this.key("q").int(), this.key("dp").int(), this.key("dq").int(), this.key("qi").int(), this.key("other").optional().use(cx));
}), lx = dn.define("PrivateKeyInfo", function() {
  this.seq().obj(this.key("version").use(C1), this.key("algorithm").use(I1), this.key("privateKey").bitstr());
});
function O1(e, t) {
  return t = t || {}, Object.keys(t).forEach(function(r) {
    e[r] = t[r];
  }), e;
}
function Bc(e) {
  return e.length % 2 === 1 ? "0" + e : e;
}
function D1(e, t) {
  var r = F1.decode(e, "der"), n = Bc(r.e.toString(16)), i = {
    kty: "RSA",
    n: mn(r.n),
    e: Mc(n)
  };
  return O1(i, t);
}
function M1(e, t) {
  var r = R1.decode(e, "der"), n = Bc(r.e.toString(16)), i = {
    kty: "RSA",
    n: mn(r.n),
    e: Mc(n),
    d: mn(r.d),
    p: mn(r.p),
    q: mn(r.q),
    dp: mn(r.dp),
    dq: mn(r.dq),
    qi: mn(r.qi)
  };
  return O1(i, t);
}
function hx(e, t) {
  var r = fx.decode(e, "der");
  return D1(r.publicKey.data, t);
}
function dx(e, t) {
  var r = lx.decode(e, "der");
  return M1(r.privateKey.data, t);
}
function px(e) {
  var t = /^-----BEGIN (RSA )?(PUBLIC|PRIVATE) KEY-----$/.exec(e);
  if (!t)
    return null;
  var r = !!t[1], n = t[2] === "PRIVATE";
  return n ? r ? M1 : dx : r ? D1 : hx;
}
function vx(e) {
  return {
    n: yn(e.n),
    e: yn(e.e),
    d: e.d && yn(e.d),
    p: e.p && yn(e.p),
    q: e.q && yn(e.q),
    dp: e.dp && yn(e.dp),
    dq: e.dq && yn(e.dq),
    qi: e.qi && yn(e.qi)
  };
}
function mn(e) {
  return Mc(Bc(e.toString(16)));
}
function gx(e) {
  return new dn.bignum(Buffer.from(e, "base64"));
}
function yn(e) {
  return /^[0-9]+$/.test(e) ? new dn.bignum(e, 10) : gx(e);
}
function yx(e, t) {
  var r = e.toString().split(/(\r\n|\r|\n)+/g);
  r = r.filter(function(i) {
    return i.trim().length !== 0;
  });
  var n = px(r[0]);
  return r = r.slice(1, -1).join(""), n(Buffer.from(r.replace(/[^\w\d\+\/=]+/g, ""), "base64"), t);
}
Ci.pemTojwk = yx;
function mx(e) {
  var t = vx(e), r = !!t.d, n = r ? "PRIVATE" : "PUBLIC", i = "-----BEGIN RSA " + n + ` KEY-----
`, s = `
-----END RSA ` + n + ` KEY-----
`, a = Buffer.alloc(0);
  r ? (t.version = "two-prime", a = R1.encode(t, "der")) : a = F1.encode(t, "der");
  var o = a.toString("base64").match(/.{1,64}/g).join(`
`);
  return i + o + s;
}
Ci.jwkTopem = mx;
var bx = be && be.__createBinding || (Object.create ? function(e, t, r, n) {
  n === void 0 && (n = r);
  var i = Object.getOwnPropertyDescriptor(t, r);
  (!i || ("get" in i ? !t.__esModule : i.writable || i.configurable)) && (i = { enumerable: !0, get: function() {
    return t[r];
  } }), Object.defineProperty(e, n, i);
} : function(e, t, r, n) {
  n === void 0 && (n = r), e[n] = t[r];
}), wx = be && be.__setModuleDefault || (Object.create ? function(e, t) {
  Object.defineProperty(e, "default", { enumerable: !0, value: t });
} : function(e, t) {
  e.default = t;
}), xx = be && be.__importStar || function(e) {
  if (e && e.__esModule)
    return e;
  var t = {};
  if (e != null)
    for (var r in e)
      r !== "default" && Object.prototype.hasOwnProperty.call(e, r) && bx(t, e, r);
  return wx(t, e), t;
};
Object.defineProperty(Dc, "__esModule", { value: !0 });
const Xh = Ci, lr = xx(Xf);
class Sx {
  constructor() {
    this.keyLength = 4096, this.publicExponent = 65537, this.hashAlgorithm = "sha256", this.encryptionAlgorithm = "aes-256-cbc";
  }
  generateJWK() {
    if (typeof lr.generateKeyPair != "function")
      throw new Error("Keypair generation not supported in this version of Node, only supported in versions 10+");
    return new Promise((t, r) => {
      lr.generateKeyPair("rsa", {
        modulusLength: this.keyLength,
        publicExponent: this.publicExponent,
        privateKeyEncoding: {
          type: "pkcs1",
          format: "pem"
        },
        publicKeyEncoding: { type: "pkcs1", format: "pem" }
      }, (n, i, s) => {
        n && r(n), t(this.pemToJWK(s));
      });
    });
  }
  sign(t, r, { saltLength: n } = {}) {
    return new Promise((i, s) => {
      i(lr.createSign(this.hashAlgorithm).update(r).sign({
        key: this.jwkToPem(t),
        padding: lr.constants.RSA_PKCS1_PSS_PADDING,
        saltLength: n
      }));
    });
  }
  verify(t, r, n) {
    return new Promise((i, s) => {
      const a = {
        kty: "RSA",
        e: "AQAB",
        n: t
      }, o = this.jwkToPem(a);
      i(lr.createVerify(this.hashAlgorithm).update(r).verify({
        key: o,
        padding: lr.constants.RSA_PKCS1_PSS_PADDING
      }, n));
    });
  }
  hash(t, r = "SHA-256") {
    return new Promise((n, i) => {
      n(lr.createHash(this.parseHashAlgorithm(r)).update(t).digest());
    });
  }
  /**
   * If a key is passed as a buffer it *must* be exactly 32 bytes.
   * If a key is passed as a string then any length may be used.
   *
   * @param {Buffer} data
   * @param {(string | Buffer)} key
   * @returns {Promise<Uint8Array>}
   */
  async encrypt(t, r, n) {
    const i = lr.pbkdf2Sync(r, n = n || "salt", 1e5, 32, this.hashAlgorithm), s = lr.randomBytes(16), a = lr.createCipheriv(this.encryptionAlgorithm, i, s);
    return Buffer.concat([s, a.update(t), a.final()]);
  }
  /**
   * If a key is passed as a buffer it *must* be exactly 32 bytes.
   * If a key is passed as a string then any length may be used.
   *
   * @param {Buffer} encrypted
   * @param {(string | Buffer)} key
   * @returns {Promise<Uint8Array>}
   */
  async decrypt(t, r, n) {
    try {
      const i = lr.pbkdf2Sync(r, n = n || "salt", 1e5, 32, this.hashAlgorithm), s = t.slice(0, 16), a = t.slice(16), o = lr.createDecipheriv(this.encryptionAlgorithm, i, s);
      return Buffer.concat([
        o.update(a),
        o.final()
      ]);
    } catch {
      throw new Error("Failed to decrypt");
    }
  }
  jwkToPem(t) {
    return (0, Xh.jwkTopem)(t);
  }
  pemToJWK(t) {
    return (0, Xh.pemTojwk)(t);
  }
  parseHashAlgorithm(t) {
    switch (t) {
      case "SHA-256":
        return "sha256";
      case "SHA-384":
        return "sha384";
      default:
        throw new Error(`Algorithm not supported: ${t}`);
    }
  }
}
Dc.default = Sx;
var Nc = {};
Object.defineProperty(Nc, "__esModule", { value: !0 });
class Ex {
  constructor(t) {
    this.api = t;
  }
  getInfo() {
    return this.api.get("info").then((t) => t.data);
  }
  getPeers() {
    return this.api.get("peers").then((t) => t.data);
  }
}
Nc.default = Ex;
var Ys = {}, Dn = {};
Object.defineProperty(Dn, "__esModule", { value: !0 });
Dn.getError = void 0;
class Ax extends Error {
  constructor(t, r = {}) {
    r.message ? super(r.message) : super(), this.type = t, this.response = r.response;
  }
  getType() {
    return this.type;
  }
}
Dn.default = Ax;
function _x(e) {
  let t = e.data;
  if (typeof e.data == "string")
    try {
      t = JSON.parse(e.data);
    } catch {
    }
  if (e.data instanceof ArrayBuffer || e.data instanceof Uint8Array)
    try {
      t = JSON.parse(t.toString());
    } catch {
    }
  return t ? t.error || t : e.statusText || "unknown";
}
Dn.getError = _x;
var si = {}, Xe = {}, Tx = be && be.__createBinding || (Object.create ? function(e, t, r, n) {
  n === void 0 && (n = r);
  var i = Object.getOwnPropertyDescriptor(t, r);
  (!i || ("get" in i ? !t.__esModule : i.writable || i.configurable)) && (i = { enumerable: !0, get: function() {
    return t[r];
  } }), Object.defineProperty(e, n, i);
} : function(e, t, r, n) {
  n === void 0 && (n = r), e[n] = t[r];
}), Px = be && be.__setModuleDefault || (Object.create ? function(e, t) {
  Object.defineProperty(e, "default", { enumerable: !0, value: t });
} : function(e, t) {
  e.default = t;
}), Fx = be && be.__importStar || function(e) {
  if (e && e.__esModule)
    return e;
  var t = {};
  if (e != null)
    for (var r in e)
      r !== "default" && Object.prototype.hasOwnProperty.call(e, r) && Tx(t, e, r);
  return Px(t, e), t;
};
Object.defineProperty(Xe, "__esModule", { value: !0 });
Xe.b64UrlDecode = Xe.b64UrlEncode = Xe.bufferTob64Url = Xe.bufferTob64 = Xe.b64UrlToBuffer = Xe.stringToB64Url = Xe.stringToBuffer = Xe.bufferToString = Xe.b64UrlToString = Xe.concatBuffers = void 0;
const B1 = Fx(Is);
function Ix(e) {
  let t = 0;
  for (let i = 0; i < e.length; i++)
    t += e[i].byteLength;
  let r = new Uint8Array(t), n = 0;
  r.set(new Uint8Array(e[0]), n), n += e[0].byteLength;
  for (let i = 1; i < e.length; i++)
    r.set(new Uint8Array(e[i]), n), n += e[i].byteLength;
  return r;
}
Xe.concatBuffers = Ix;
function Cx(e) {
  let t = j1(e);
  return N1(t);
}
Xe.b64UrlToString = Cx;
function N1(e) {
  if (typeof TextDecoder > "u") {
    const t = Nf().TextDecoder;
    return new t("utf-8", { fatal: !0 }).decode(e);
  }
  return new TextDecoder("utf-8", { fatal: !0 }).decode(e);
}
Xe.bufferToString = N1;
function k1(e) {
  if (typeof TextEncoder > "u") {
    const t = Nf().TextEncoder;
    return new t().encode(e);
  }
  return new TextEncoder().encode(e);
}
Xe.stringToBuffer = k1;
function Rx(e) {
  return V1(k1(e));
}
Xe.stringToB64Url = Rx;
function j1(e) {
  return new Uint8Array(B1.toByteArray(U1(e)));
}
Xe.b64UrlToBuffer = j1;
function L1(e) {
  return B1.fromByteArray(new Uint8Array(e));
}
Xe.bufferTob64 = L1;
function V1(e) {
  return H1(L1(e));
}
Xe.bufferTob64Url = V1;
function H1(e) {
  return e.replace(/\+/g, "-").replace(/\//g, "_").replace(/\=/g, "");
}
Xe.b64UrlEncode = H1;
function U1(e) {
  e = e.replace(/\-/g, "+").replace(/\_/g, "/");
  let t;
  return e.length % 4 == 0 ? t = 0 : t = 4 - e.length % 4, e.concat("=".repeat(t));
}
Xe.b64UrlDecode = U1;
var Xs = {}, Zh;
function Ox() {
  if (Zh)
    return Xs;
  Zh = 1;
  var e = be && be.__importDefault || function(i) {
    return i && i.__esModule ? i : { default: i };
  };
  Object.defineProperty(Xs, "__esModule", { value: !0 });
  const t = e(Hc());
  async function r(i) {
    if (Array.isArray(i)) {
      const o = t.default.utils.concatBuffers([
        t.default.utils.stringToBuffer("list"),
        t.default.utils.stringToBuffer(i.length.toString())
      ]);
      return await n(i, await t.default.crypto.hash(o, "SHA-384"));
    }
    const s = t.default.utils.concatBuffers([
      t.default.utils.stringToBuffer("blob"),
      t.default.utils.stringToBuffer(i.byteLength.toString())
    ]), a = t.default.utils.concatBuffers([
      await t.default.crypto.hash(s, "SHA-384"),
      await t.default.crypto.hash(i, "SHA-384")
    ]);
    return await t.default.crypto.hash(a, "SHA-384");
  }
  Xs.default = r;
  async function n(i, s) {
    if (i.length < 1)
      return s;
    const a = t.default.utils.concatBuffers([
      s,
      await r(i[0])
    ]), o = await t.default.crypto.hash(a, "SHA-384");
    return await n(i.slice(1), o);
  }
  return Xs;
}
var bu = {}, Qh;
function q1() {
  return Qh || (Qh = 1, function(e) {
    var t = be && be.__importDefault || function(_) {
      return _ && _.__esModule ? _ : { default: _ };
    };
    Object.defineProperty(e, "__esModule", { value: !0 }), e.debug = e.validatePath = e.arrayCompare = e.bufferToInt = e.intToBuffer = e.arrayFlatten = e.generateProofs = e.buildLayers = e.generateTransactionChunks = e.generateTree = e.computeRootHash = e.generateLeaves = e.chunkData = e.MIN_CHUNK_SIZE = e.MAX_CHUNK_SIZE = void 0;
    const r = t(Hc()), n = Xe;
    e.MAX_CHUNK_SIZE = 256 * 1024, e.MIN_CHUNK_SIZE = 32 * 1024;
    const i = 32, s = 32;
    async function a(_) {
      let F = [], O = _, P = 0;
      for (; O.byteLength >= e.MAX_CHUNK_SIZE; ) {
        let M = e.MAX_CHUNK_SIZE, C = O.byteLength - e.MAX_CHUNK_SIZE;
        C > 0 && C < e.MIN_CHUNK_SIZE && (M = Math.ceil(O.byteLength / 2));
        const y = O.slice(0, M), E = await r.default.crypto.hash(y);
        P += y.byteLength, F.push({
          dataHash: E,
          minByteRange: P - y.byteLength,
          maxByteRange: P
        }), O = O.slice(M);
      }
      return F.push({
        dataHash: await r.default.crypto.hash(O),
        minByteRange: P,
        maxByteRange: P + O.byteLength
      }), F;
    }
    e.chunkData = a;
    async function o(_) {
      return Promise.all(_.map(async ({ dataHash: F, minByteRange: O, maxByteRange: P }) => ({
        type: "leaf",
        id: await m(await Promise.all([m(F), m(b(P))])),
        dataHash: F,
        minByteRange: O,
        maxByteRange: P
      })));
    }
    e.generateLeaves = o;
    async function u(_) {
      return (await f(_)).id;
    }
    e.computeRootHash = u;
    async function f(_) {
      return await h(await o(await a(_)));
    }
    e.generateTree = f;
    async function l(_) {
      const F = await a(_), O = await o(F), P = await h(O), M = await c(P), C = F.slice(-1)[0];
      return C.maxByteRange - C.minByteRange === 0 && (F.splice(F.length - 1, 1), M.splice(M.length - 1, 1)), {
        data_root: P.id,
        chunks: F,
        proofs: M
      };
    }
    e.generateTransactionChunks = l;
    async function h(_, F = 0) {
      if (_.length < 2)
        return _[0];
      const O = [];
      for (let P = 0; P < _.length; P += 2)
        O.push(await v(_[P], _[P + 1]));
      return h(O, F + 1);
    }
    e.buildLayers = h;
    function c(_) {
      const F = d(_);
      return Array.isArray(F) ? p(F) : [F];
    }
    e.generateProofs = c;
    function d(_, F = new Uint8Array(), O = 0) {
      if (_.type == "leaf")
        return {
          offset: _.maxByteRange - 1,
          proof: (0, n.concatBuffers)([
            F,
            _.dataHash,
            b(_.maxByteRange)
          ])
        };
      if (_.type == "branch") {
        const P = (0, n.concatBuffers)([
          F,
          _.leftChild.id,
          _.rightChild.id,
          b(_.byteRange)
        ]);
        return [
          d(_.leftChild, P, O + 1),
          d(_.rightChild, P, O + 1)
        ];
      }
      throw new Error("Unexpected node type");
    }
    function p(_) {
      const F = [];
      return _.forEach((O) => {
        Array.isArray(O) ? F.push(...p(O)) : F.push(O);
      }), F;
    }
    e.arrayFlatten = p;
    async function v(_, F) {
      return F ? {
        type: "branch",
        id: await m([
          await m(_.id),
          await m(F.id),
          await m(b(_.maxByteRange))
        ]),
        byteRange: _.maxByteRange,
        maxByteRange: F.maxByteRange,
        leftChild: _,
        rightChild: F
      } : _;
    }
    async function m(_) {
      return Array.isArray(_) && (_ = r.default.utils.concatBuffers(_)), new Uint8Array(await r.default.crypto.hash(_));
    }
    function b(_) {
      const F = new Uint8Array(i);
      for (var O = F.length - 1; O >= 0; O--) {
        var P = _ % 256;
        F[O] = P, _ = (_ - P) / 256;
      }
      return F;
    }
    e.intToBuffer = b;
    function A(_) {
      let F = 0;
      for (var O = 0; O < _.length; O++)
        F *= 256, F += _[O];
      return F;
    }
    e.bufferToInt = A;
    const D = (_, F) => _.every((O, P) => F[P] === O);
    e.arrayCompare = D;
    async function k(_, F, O, P, M) {
      if (P <= 0)
        return !1;
      if (F >= P)
        return k(_, 0, P - 1, P, M);
      if (F < 0)
        return k(_, 0, 0, P, M);
      if (M.length == s + i) {
        const H = M.slice(0, s), Z = M.slice(H.length, H.length + i), K = await m([
          await m(H),
          await m(Z)
        ]);
        return (0, e.arrayCompare)(_, K) ? {
          offset: P - 1,
          leftBound: O,
          rightBound: P,
          chunkSize: P - O
        } : !1;
      }
      const C = M.slice(0, s), y = M.slice(C.length, C.length + s), E = M.slice(C.length + y.length, C.length + y.length + i), T = A(E), R = M.slice(C.length + y.length + E.length), N = await m([
        await m(C),
        await m(y),
        await m(E)
      ]);
      return (0, e.arrayCompare)(_, N) ? F < T ? await k(C, F, O, Math.min(P, T), R) : await k(y, F, Math.max(O, T), P, R) : !1;
    }
    e.validatePath = k;
    async function L(_, F = "") {
      if (_.byteLength < 1)
        return F;
      const O = _.slice(0, s), P = _.slice(O.length, O.length + s), M = _.slice(O.length + P.length, O.length + P.length + i), C = A(M), y = _.slice(O.length + P.length + M.length), E = await m([
        await m(O),
        await m(P),
        await m(M)
      ]), T = `${F}
${JSON.stringify(Buffer.from(O))},${JSON.stringify(Buffer.from(P))},${C} => ${JSON.stringify(E)}`;
      return L(y, T);
    }
    e.debug = L;
  }(bu)), bu;
}
var ed;
function kc() {
  if (ed)
    return si;
  ed = 1;
  var e = be && be.__createBinding || (Object.create ? function(l, h, c, d) {
    d === void 0 && (d = c);
    var p = Object.getOwnPropertyDescriptor(h, c);
    (!p || ("get" in p ? !h.__esModule : p.writable || p.configurable)) && (p = { enumerable: !0, get: function() {
      return h[c];
    } }), Object.defineProperty(l, d, p);
  } : function(l, h, c, d) {
    d === void 0 && (d = c), l[d] = h[c];
  }), t = be && be.__setModuleDefault || (Object.create ? function(l, h) {
    Object.defineProperty(l, "default", { enumerable: !0, value: h });
  } : function(l, h) {
    l.default = h;
  }), r = be && be.__importStar || function(l) {
    if (l && l.__esModule)
      return l;
    var h = {};
    if (l != null)
      for (var c in l)
        c !== "default" && Object.prototype.hasOwnProperty.call(l, c) && e(h, l, c);
    return t(h, l), h;
  }, n = be && be.__importDefault || function(l) {
    return l && l.__esModule ? l : { default: l };
  };
  Object.defineProperty(si, "__esModule", { value: !0 }), si.Tag = void 0;
  const i = r(Xe), s = n(Ox()), a = q1();
  class o {
    get(h, c) {
      if (!Object.getOwnPropertyNames(this).includes(h))
        throw new Error(`Field "${h}" is not a property of the Arweave Transaction class.`);
      return this[h] instanceof Uint8Array ? c && c.decode && c.string ? i.bufferToString(this[h]) : c && c.decode && !c.string ? this[h] : i.bufferTob64Url(this[h]) : c && c.decode == !0 ? c && c.string ? i.b64UrlToString(this[h]) : i.b64UrlToBuffer(this[h]) : this[h];
    }
  }
  class u extends o {
    constructor(h, c, d = !1) {
      super(), this.name = h, this.value = c;
    }
  }
  si.Tag = u;
  class f extends o {
    constructor(h = {}) {
      super(), this.format = 2, this.id = "", this.last_tx = "", this.owner = "", this.tags = [], this.target = "", this.quantity = "0", this.data_size = "0", this.data = new Uint8Array(), this.data_root = "", this.reward = "0", this.signature = "", Object.assign(this, h), typeof this.data == "string" && (this.data = i.b64UrlToBuffer(this.data)), h.tags && (this.tags = h.tags.map((c) => new u(c.name, c.value)));
    }
    addTag(h, c) {
      this.tags.push(new u(i.stringToB64Url(h), i.stringToB64Url(c)));
    }
    toJSON() {
      return {
        format: this.format,
        id: this.id,
        last_tx: this.last_tx,
        owner: this.owner,
        tags: this.tags,
        target: this.target,
        quantity: this.quantity,
        data: i.bufferTob64Url(this.data),
        data_size: this.data_size,
        data_root: this.data_root,
        data_tree: this.data_tree,
        reward: this.reward,
        signature: this.signature
      };
    }
    setOwner(h) {
      this.owner = h;
    }
    setSignature({ id: h, owner: c, reward: d, tags: p, signature: v }) {
      this.id = h, this.owner = c, d && (this.reward = d), p && (this.tags = p), this.signature = v;
    }
    async prepareChunks(h) {
      !this.chunks && h.byteLength > 0 && (this.chunks = await (0, a.generateTransactionChunks)(h), this.data_root = i.bufferTob64Url(this.chunks.data_root)), !this.chunks && h.byteLength === 0 && (this.chunks = {
        chunks: [],
        data_root: new Uint8Array(),
        proofs: []
      }, this.data_root = "");
    }
    // Returns a chunk in a format suitable for posting to /chunk.
    // Similar to `prepareChunks()` this does not operate `this.data`,
    // instead using the data passed in.
    getChunk(h, c) {
      if (!this.chunks)
        throw new Error("Chunks have not been prepared");
      const d = this.chunks.proofs[h], p = this.chunks.chunks[h];
      return {
        data_root: this.data_root,
        data_size: this.data_size,
        data_path: i.bufferTob64Url(d.proof),
        offset: d.offset.toString(),
        chunk: i.bufferTob64Url(c.slice(p.minByteRange, p.maxByteRange))
      };
    }
    async getSignatureData() {
      switch (this.format) {
        case 1:
          let h = this.tags.reduce((d, p) => i.concatBuffers([
            d,
            p.get("name", { decode: !0, string: !1 }),
            p.get("value", { decode: !0, string: !1 })
          ]), new Uint8Array());
          return i.concatBuffers([
            this.get("owner", { decode: !0, string: !1 }),
            this.get("target", { decode: !0, string: !1 }),
            this.get("data", { decode: !0, string: !1 }),
            i.stringToBuffer(this.quantity),
            i.stringToBuffer(this.reward),
            this.get("last_tx", { decode: !0, string: !1 }),
            h
          ]);
        case 2:
          this.data_root || await this.prepareChunks(this.data);
          const c = this.tags.map((d) => [
            d.get("name", { decode: !0, string: !1 }),
            d.get("value", { decode: !0, string: !1 })
          ]);
          return await (0, s.default)([
            i.stringToBuffer(this.format.toString()),
            this.get("owner", { decode: !0, string: !1 }),
            this.get("target", { decode: !0, string: !1 }),
            i.stringToBuffer(this.quantity),
            i.stringToBuffer(this.reward),
            this.get("last_tx", { decode: !0, string: !1 }),
            c,
            i.stringToBuffer(this.data_size),
            this.get("data_root", { decode: !0, string: !1 })
          ]);
        default:
          throw new Error(`Unexpected transaction format: ${this.format}`);
      }
    }
  }
  return si.default = f, si;
}
var Zi = {}, td;
function Dx() {
  if (td)
    return Zi;
  td = 1;
  var e = be && be.__createBinding || (Object.create ? function(c, d, p, v) {
    v === void 0 && (v = p);
    var m = Object.getOwnPropertyDescriptor(d, p);
    (!m || ("get" in m ? !d.__esModule : m.writable || m.configurable)) && (m = { enumerable: !0, get: function() {
      return d[p];
    } }), Object.defineProperty(c, v, m);
  } : function(c, d, p, v) {
    v === void 0 && (v = p), c[v] = d[p];
  }), t = be && be.__setModuleDefault || (Object.create ? function(c, d) {
    Object.defineProperty(c, "default", { enumerable: !0, value: d });
  } : function(c, d) {
    c.default = d;
  }), r = be && be.__importStar || function(c) {
    if (c && c.__esModule)
      return c;
    var d = {};
    if (c != null)
      for (var p in c)
        p !== "default" && Object.prototype.hasOwnProperty.call(c, p) && e(d, c, p);
    return t(d, c), d;
  }, n = be && be.__importDefault || function(c) {
    return c && c.__esModule ? c : { default: c };
  };
  Object.defineProperty(Zi, "__esModule", { value: !0 }), Zi.TransactionUploader = void 0;
  const i = n(kc()), s = r(Xe), a = Dn, o = q1(), u = 1, f = [
    "invalid_json",
    "chunk_too_big",
    "data_path_too_big",
    "offset_too_big",
    "data_size_too_big",
    "chunk_proof_ratio_not_attractive",
    "invalid_proof"
  ], l = 1e3 * 40;
  class h {
    get isComplete() {
      return this.txPosted && this.chunkIndex === this.transaction.chunks.chunks.length;
    }
    get totalChunks() {
      return this.transaction.chunks.chunks.length;
    }
    get uploadedChunks() {
      return this.chunkIndex;
    }
    get pctComplete() {
      return Math.trunc(this.uploadedChunks / this.totalChunks * 100);
    }
    constructor(d, p) {
      if (this.api = d, this.chunkIndex = 0, this.txPosted = !1, this.lastRequestTimeEnd = 0, this.totalErrors = 0, this.lastResponseStatus = 0, this.lastResponseError = "", !p.id)
        throw new Error("Transaction is not signed");
      if (!p.chunks)
        throw new Error("Transaction chunks not prepared");
      this.data = p.data, this.transaction = new i.default(Object.assign({}, p, { data: new Uint8Array(0) }));
    }
    /**
     * Uploads the next part of the transaction.
     * On the first call this posts the transaction
     * itself and on any subsequent calls uploads the
     * next chunk until it completes.
     */
    async uploadChunk(d) {
      if (this.isComplete)
        throw new Error("Upload is already complete");
      if (this.lastResponseError !== "" ? this.totalErrors++ : this.totalErrors = 0, this.totalErrors === 100)
        throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);
      let p = this.lastResponseError === "" ? 0 : Math.max(this.lastRequestTimeEnd + l - Date.now(), l);
      if (p > 0 && (p = p - p * Math.random() * 0.3, await new Promise((A) => setTimeout(A, p))), this.lastResponseError = "", !this.txPosted) {
        await this.postTransaction();
        return;
      }
      d && (this.chunkIndex = d);
      const v = this.transaction.getChunk(d || this.chunkIndex, this.data);
      if (!await (0, o.validatePath)(this.transaction.chunks.data_root, parseInt(v.offset), 0, parseInt(v.data_size), s.b64UrlToBuffer(v.data_path)))
        throw new Error(`Unable to validate chunk ${this.chunkIndex}`);
      const b = await this.api.post("chunk", this.transaction.getChunk(this.chunkIndex, this.data)).catch((A) => (console.error(A.message), { status: -1, data: { error: A.message } }));
      if (this.lastRequestTimeEnd = Date.now(), this.lastResponseStatus = b.status, this.lastResponseStatus == 200)
        this.chunkIndex++;
      else if (this.lastResponseError = (0, a.getError)(b), f.includes(this.lastResponseError))
        throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`);
    }
    /**
     * Reconstructs an upload from its serialized state and data.
     * Checks if data matches the expected data_root.
     *
     * @param serialized
     * @param data
     */
    static async fromSerialized(d, p, v) {
      if (!p || typeof p.chunkIndex != "number" || typeof p.transaction != "object")
        throw new Error("Serialized object does not match expected format.");
      var m = new i.default(p.transaction);
      m.chunks || await m.prepareChunks(v);
      const b = new h(d, m);
      if (b.chunkIndex = p.chunkIndex, b.lastRequestTimeEnd = p.lastRequestTimeEnd, b.lastResponseError = p.lastResponseError, b.lastResponseStatus = p.lastResponseStatus, b.txPosted = p.txPosted, b.data = v, b.transaction.data_root !== p.transaction.data_root)
        throw new Error("Data mismatch: Uploader doesn't match provided data.");
      return b;
    }
    /**
     * Reconstruct an upload from the tx metadata, ie /tx/<id>.
     *
     * @param api
     * @param id
     * @param data
     */
    static async fromTransactionId(d, p) {
      const v = await d.get(`tx/${p}`);
      if (v.status !== 200)
        throw new Error(`Tx ${p} not found: ${v.status}`);
      const m = v.data;
      return m.data = new Uint8Array(0), {
        txPosted: !0,
        chunkIndex: 0,
        lastResponseError: "",
        lastRequestTimeEnd: 0,
        lastResponseStatus: 0,
        transaction: m
      };
    }
    toJSON() {
      return {
        chunkIndex: this.chunkIndex,
        transaction: this.transaction,
        lastRequestTimeEnd: this.lastRequestTimeEnd,
        lastResponseStatus: this.lastResponseStatus,
        lastResponseError: this.lastResponseError,
        txPosted: this.txPosted
      };
    }
    // POST to /tx
    async postTransaction() {
      if (this.totalChunks <= u) {
        this.transaction.data = this.data;
        const v = await this.api.post("tx", this.transaction).catch((m) => (console.error(m), { status: -1, data: { error: m.message } }));
        if (this.lastRequestTimeEnd = Date.now(), this.lastResponseStatus = v.status, this.transaction.data = new Uint8Array(0), v.status >= 200 && v.status < 300) {
          this.txPosted = !0, this.chunkIndex = u;
          return;
        }
        throw this.lastResponseError = (0, a.getError)(v), new Error(`Unable to upload transaction: ${v.status}, ${this.lastResponseError}`);
      }
      const p = await this.api.post("tx", this.transaction);
      if (this.lastRequestTimeEnd = Date.now(), this.lastResponseStatus = p.status, !(p.status >= 200 && p.status < 300))
        throw this.lastResponseError = (0, a.getError)(p), new Error(`Unable to upload transaction: ${p.status}, ${this.lastResponseError}`);
      this.txPosted = !0;
    }
  }
  return Zi.TransactionUploader = h, Zi;
}
var rd;
function Mx() {
  if (rd)
    return Ys;
  rd = 1;
  var e = be && be.__createBinding || (Object.create ? function(f, l, h, c) {
    c === void 0 && (c = h);
    var d = Object.getOwnPropertyDescriptor(l, h);
    (!d || ("get" in d ? !l.__esModule : d.writable || d.configurable)) && (d = { enumerable: !0, get: function() {
      return l[h];
    } }), Object.defineProperty(f, c, d);
  } : function(f, l, h, c) {
    c === void 0 && (c = h), f[c] = l[h];
  }), t = be && be.__setModuleDefault || (Object.create ? function(f, l) {
    Object.defineProperty(f, "default", { enumerable: !0, value: l });
  } : function(f, l) {
    f.default = l;
  }), r = be && be.__importStar || function(f) {
    if (f && f.__esModule)
      return f;
    var l = {};
    if (f != null)
      for (var h in f)
        h !== "default" && Object.prototype.hasOwnProperty.call(f, h) && e(l, f, h);
    return t(l, f), l;
  }, n = be && be.__importDefault || function(f) {
    return f && f.__esModule ? f : { default: f };
  };
  Object.defineProperty(Ys, "__esModule", { value: !0 });
  const i = n(Dn), s = n(kc()), a = r(Xe), o = Dx();
  class u {
    constructor(l, h, c) {
      this.api = l, this.crypto = h, this.chunks = c;
    }
    getTransactionAnchor() {
      return this.api.get("tx_anchor").then((l) => l.data);
    }
    getPrice(l, h) {
      let c = h ? `price/${l}/${h}` : `price/${l}`;
      return this.api.get(c).then((d) => d.data);
    }
    async get(l) {
      const h = await this.api.get(`tx/${l}`);
      if (h.status == 200) {
        const c = parseInt(h.data.data_size);
        if (h.data.format >= 2 && c > 0 && c <= 1024 * 1024 * 12) {
          const d = await this.getData(l);
          return new s.default({
            ...h.data,
            data: d
          });
        }
        return new s.default({
          ...h.data,
          format: h.data.format || 1
        });
      }
      throw h.status == 404 ? new i.default(
        "TX_NOT_FOUND"
        /* ArweaveErrorType.TX_NOT_FOUND */
      ) : h.status == 410 ? new i.default(
        "TX_FAILED"
        /* ArweaveErrorType.TX_FAILED */
      ) : new i.default(
        "TX_INVALID"
        /* ArweaveErrorType.TX_INVALID */
      );
    }
    fromRaw(l) {
      return new s.default(l);
    }
    async search(l, h) {
      return this.api.post("arql", {
        op: "equals",
        expr1: l,
        expr2: h
      }).then((c) => c.data ? c.data : []);
    }
    getStatus(l) {
      return this.api.get(`tx/${l}/status`).then((h) => h.status == 200 ? {
        status: 200,
        confirmed: h.data
      } : {
        status: h.status,
        confirmed: null
      });
    }
    async getData(l, h) {
      let c;
      try {
        c = await this.chunks.downloadChunkedData(l);
      } catch (d) {
        console.error(`Error while trying to download chunked data for ${l}`), console.error(d);
      }
      if (!c) {
        console.warn(`Falling back to gateway cache for ${l}`);
        try {
          c = (await this.api.get(`/${l}`)).data;
        } catch (d) {
          console.error(`Error while trying to download contiguous data from gateway cache for ${l}`), console.error(d);
        }
      }
      if (!c)
        throw new Error(`${l} was not found!`);
      return h && h.decode && !h.string ? c : h && h.decode && h.string ? a.bufferToString(c) : a.bufferTob64Url(c);
    }
    async sign(l, h, c) {
      if (!h && typeof arweaveWallet != "object")
        throw new Error("A new Arweave transaction must provide the jwk parameter.");
      if (!h || h === "use_wallet") {
        try {
          (await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION") || await arweaveWallet.connect(["SIGN_TRANSACTION"]);
        } catch {
        }
        const d = await arweaveWallet.sign(l, c);
        l.setSignature({
          id: d.id,
          owner: d.owner,
          reward: d.reward,
          tags: d.tags,
          signature: d.signature
        });
      } else {
        l.setOwner(h.n);
        let d = await l.getSignatureData(), p = await this.crypto.sign(h, d, c), v = await this.crypto.hash(p);
        l.setSignature({
          id: a.bufferTob64Url(v),
          owner: h.n,
          signature: a.bufferTob64Url(p)
        });
      }
    }
    async verify(l) {
      const h = await l.getSignatureData(), c = l.get("signature", {
        decode: !0,
        string: !1
      }), d = a.bufferTob64Url(await this.crypto.hash(c));
      if (l.id !== d)
        throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");
      return this.crypto.verify(l.owner, h, c);
    }
    async post(l) {
      if (typeof l == "string" ? l = new s.default(JSON.parse(l)) : typeof l.readInt32BE == "function" ? l = new s.default(JSON.parse(l.toString())) : typeof l == "object" && !(l instanceof s.default) && (l = new s.default(l)), !(l instanceof s.default))
        throw new Error("Must be Transaction object");
      l.chunks || await l.prepareChunks(l.data);
      const h = await this.getUploader(l, l.data);
      try {
        for (; !h.isComplete; )
          await h.uploadChunk();
      } catch (c) {
        if (h.lastResponseStatus > 0)
          return {
            status: h.lastResponseStatus,
            statusText: h.lastResponseError,
            data: {
              error: h.lastResponseError
            }
          };
        throw c;
      }
      return {
        status: 200,
        statusText: "OK",
        data: {}
      };
    }
    /**
     * Gets an uploader than can be used to upload a transaction chunk by chunk, giving progress
     * and the ability to resume.
     *
     * Usage example:
     *
     * ```
     * const uploader = arweave.transactions.getUploader(transaction);
     * while (!uploader.isComplete) {
     *   await uploader.uploadChunk();
     *   console.log(`${uploader.pctComplete}%`);
     * }
     * ```
     *
     * @param upload a Transaction object, a previously save progress object, or a transaction id.
     * @param data the data of the transaction. Required when resuming an upload.
     */
    async getUploader(l, h) {
      let c;
      if (h instanceof ArrayBuffer && (h = new Uint8Array(h)), l instanceof s.default) {
        if (h || (h = l.data), !(h instanceof Uint8Array))
          throw new Error("Data format is invalid");
        l.chunks || await l.prepareChunks(h), c = new o.TransactionUploader(this.api, l), (!c.data || c.data.length === 0) && (c.data = h);
      } else {
        if (typeof l == "string" && (l = await o.TransactionUploader.fromTransactionId(this.api, l)), !h || !(h instanceof Uint8Array))
          throw new Error("Must provide data when resuming upload");
        c = await o.TransactionUploader.fromSerialized(this.api, l, h);
      }
      return c;
    }
    /**
     * Async generator version of uploader
     *
     * Usage example:
     *
     * ```
     * for await (const uploader of arweave.transactions.upload(tx)) {
     *  console.log(`${uploader.pctComplete}%`);
     * }
     * ```
     *
     * @param upload a Transaction object, a previously save uploader, or a transaction id.
     * @param data the data of the transaction. Required when resuming an upload.
     */
    async *upload(l, h) {
      const c = await this.getUploader(l, h);
      for (; !c.isComplete; )
        await c.uploadChunk(), yield c;
      return c;
    }
  }
  return Ys.default = u, Ys;
}
var jc = {}, Bx = be && be.__createBinding || (Object.create ? function(e, t, r, n) {
  n === void 0 && (n = r);
  var i = Object.getOwnPropertyDescriptor(t, r);
  (!i || ("get" in i ? !t.__esModule : i.writable || i.configurable)) && (i = { enumerable: !0, get: function() {
    return t[r];
  } }), Object.defineProperty(e, n, i);
} : function(e, t, r, n) {
  n === void 0 && (n = r), e[n] = t[r];
}), Nx = be && be.__setModuleDefault || (Object.create ? function(e, t) {
  Object.defineProperty(e, "default", { enumerable: !0, value: t });
} : function(e, t) {
  e.default = t;
}), kx = be && be.__importStar || function(e) {
  if (e && e.__esModule)
    return e;
  var t = {};
  if (e != null)
    for (var r in e)
      r !== "default" && Object.prototype.hasOwnProperty.call(e, r) && Bx(t, e, r);
  return Nx(t, e), t;
};
Object.defineProperty(jc, "__esModule", { value: !0 });
const nd = kx(Xe);
class jx {
  constructor(t, r) {
    this.api = t, this.crypto = r;
  }
  /**
   * Get the wallet balance for the given address.
   *
   * @param {string} address - The arweave address to get the balance for.
   *
   * @returns {Promise<string>} - Promise which resolves with a winston string balance.
   */
  getBalance(t) {
    return this.api.get(`wallet/${t}/balance`).then((r) => r.data);
  }
  /**
   * Get the last transaction ID for the given wallet address.
   *
   * @param {string} address - The arweave address to get the transaction for.
   *
   * @returns {Promise<string>} - Promise which resolves with a transaction ID.
   */
  getLastTransactionID(t) {
    return this.api.get(`wallet/${t}/last_tx`).then((r) => r.data);
  }
  generate() {
    return this.crypto.generateJWK();
  }
  async jwkToAddress(t) {
    return !t || t === "use_wallet" ? this.getAddress() : this.getAddress(t);
  }
  async getAddress(t) {
    if (!t || t === "use_wallet") {
      try {
        await arweaveWallet.connect(["ACCESS_ADDRESS"]);
      } catch {
      }
      return arweaveWallet.getActiveAddress();
    } else
      return this.ownerToAddress(t.n);
  }
  async ownerToAddress(t) {
    return nd.bufferTob64Url(await this.crypto.hash(nd.b64UrlToBuffer(t)));
  }
}
jc.default = jx;
var Ms = {}, Lx = be && be.__createBinding || (Object.create ? function(e, t, r, n) {
  n === void 0 && (n = r);
  var i = Object.getOwnPropertyDescriptor(t, r);
  (!i || ("get" in i ? !t.__esModule : i.writable || i.configurable)) && (i = { enumerable: !0, get: function() {
    return t[r];
  } }), Object.defineProperty(e, n, i);
} : function(e, t, r, n) {
  n === void 0 && (n = r), e[n] = t[r];
}), Vx = be && be.__setModuleDefault || (Object.create ? function(e, t) {
  Object.defineProperty(e, "default", { enumerable: !0, value: t });
} : function(e, t) {
  e.default = t;
}), Hx = be && be.__importStar || function(e) {
  if (e && e.__esModule)
    return e;
  var t = {};
  if (e != null)
    for (var r in e)
      r !== "default" && Object.prototype.hasOwnProperty.call(e, r) && Lx(t, e, r);
  return Vx(t, e), t;
};
Object.defineProperty(Ms, "__esModule", { value: !0 });
Ms.SiloResource = void 0;
const id = Hx(Xe);
class Ux {
  constructor(t, r, n) {
    this.api = t, this.crypto = r, this.transactions = n;
  }
  async get(t) {
    if (!t)
      throw new Error("No Silo URI specified");
    const r = await this.parseUri(t), n = await this.transactions.search("Silo-Name", r.getAccessKey());
    if (n.length == 0)
      throw new Error(`No data could be found for the Silo URI: ${t}`);
    const i = await this.transactions.get(n[0]);
    if (!i)
      throw new Error(`No data could be found for the Silo URI: ${t}`);
    const s = i.get("data", { decode: !0, string: !1 });
    return this.crypto.decrypt(s, r.getEncryptionKey());
  }
  async readTransactionData(t, r) {
    if (!r)
      throw new Error("No Silo URI specified");
    const n = await this.parseUri(r), i = t.get("data", { decode: !0, string: !1 });
    return this.crypto.decrypt(i, n.getEncryptionKey());
  }
  async parseUri(t) {
    const r = t.match(/^([a-z0-9-_]+)\.([0-9]+)/i);
    if (!r)
      throw new Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");
    const n = r[1], i = Math.pow(2, parseInt(r[2])), s = await this.hash(id.stringToBuffer(n), i), a = id.bufferTob64(s.slice(0, 15)), o = await this.hash(s.slice(16, 31), 1);
    return new K1(t, a, o);
  }
  async hash(t, r) {
    let n = await this.crypto.hash(t);
    for (let i = 0; i < r - 1; i++)
      n = await this.crypto.hash(n);
    return n;
  }
}
Ms.default = Ux;
class K1 {
  constructor(t, r, n) {
    this.uri = t, this.accessKey = r, this.encryptionKey = n;
  }
  getUri() {
    return this.uri;
  }
  getAccessKey() {
    return this.accessKey;
  }
  getEncryptionKey() {
    return this.encryptionKey;
  }
}
Ms.SiloResource = K1;
var Lc = {}, qx = be && be.__createBinding || (Object.create ? function(e, t, r, n) {
  n === void 0 && (n = r);
  var i = Object.getOwnPropertyDescriptor(t, r);
  (!i || ("get" in i ? !t.__esModule : i.writable || i.configurable)) && (i = { enumerable: !0, get: function() {
    return t[r];
  } }), Object.defineProperty(e, n, i);
} : function(e, t, r, n) {
  n === void 0 && (n = r), e[n] = t[r];
}), Kx = be && be.__setModuleDefault || (Object.create ? function(e, t) {
  Object.defineProperty(e, "default", { enumerable: !0, value: t });
} : function(e, t) {
  e.default = t;
}), $x = be && be.__importStar || function(e) {
  if (e && e.__esModule)
    return e;
  var t = {};
  if (e != null)
    for (var r in e)
      r !== "default" && Object.prototype.hasOwnProperty.call(e, r) && qx(t, e, r);
  return Kx(t, e), t;
};
Object.defineProperty(Lc, "__esModule", { value: !0 });
const sd = Dn, zx = $x(Xe);
class Wx {
  constructor(t) {
    this.api = t;
  }
  async getTransactionOffset(t) {
    const r = await this.api.get(`tx/${t}/offset`);
    if (r.status === 200)
      return r.data;
    throw new Error(`Unable to get transaction offset: ${(0, sd.getError)(r)}`);
  }
  async getChunk(t) {
    const r = await this.api.get(`chunk/${t}`);
    if (r.status === 200)
      return r.data;
    throw new Error(`Unable to get chunk: ${(0, sd.getError)(r)}`);
  }
  async getChunkData(t) {
    const r = await this.getChunk(t);
    return zx.b64UrlToBuffer(r.chunk);
  }
  firstChunkOffset(t) {
    return parseInt(t.offset) - parseInt(t.size) + 1;
  }
  async downloadChunkedData(t) {
    const r = await this.getTransactionOffset(t), n = parseInt(r.size), s = parseInt(r.offset) - n + 1, a = new Uint8Array(n);
    let o = 0;
    for (; o < n; ) {
      this.api.config.logging && console.log(`[chunk] ${o}/${n}`);
      let u;
      try {
        u = await this.getChunkData(s + o);
      } catch {
        console.error(`[chunk] Failed to fetch chunk at offset ${s + o}`), console.error("[chunk] This could indicate that the chunk wasn't uploaded or hasn't yet seeded properly to a particular gateway/node");
      }
      if (u)
        a.set(u, o), o += u.length;
      else
        throw new Error(`Couldn't complete data download at ${o}/${n}`);
    }
    return a;
  }
}
Lc.default = Wx;
var Vc = {}, Gx = be && be.__importDefault || function(e) {
  return e && e.__esModule ? e : { default: e };
};
Object.defineProperty(Vc, "__esModule", { value: !0 });
const Jx = Gx(Dn);
class fo {
  constructor(t, r) {
    this.api = t, this.network = r;
  }
  /**
   * Gets a block by its "indep_hash"
   */
  async get(t) {
    const r = await this.api.get(`${fo.ENDPOINT}${t}`);
    if (r.status === 200)
      return r.data;
    throw r.status === 404 ? new Jx.default(
      "BLOCK_NOT_FOUND"
      /* ArweaveErrorType.BLOCK_NOT_FOUND */
    ) : new Error(`Error while loading block data: ${r}`);
  }
  /**
   * Gets current block data (ie. block with indep_hash = Network.getInfo().current)
   */
  async getCurrent() {
    const { current: t } = await this.network.getInfo();
    return await this.get(t);
  }
}
Vc.default = fo;
fo.ENDPOINT = "block/hash/";
var ad;
function Hc() {
  if (ad)
    return Js;
  ad = 1;
  var e = be && be.__createBinding || (Object.create ? function(m, b, A, D) {
    D === void 0 && (D = A);
    var k = Object.getOwnPropertyDescriptor(b, A);
    (!k || ("get" in k ? !b.__esModule : k.writable || k.configurable)) && (k = { enumerable: !0, get: function() {
      return b[A];
    } }), Object.defineProperty(m, D, k);
  } : function(m, b, A, D) {
    D === void 0 && (D = A), m[D] = b[A];
  }), t = be && be.__setModuleDefault || (Object.create ? function(m, b) {
    Object.defineProperty(m, "default", { enumerable: !0, value: b });
  } : function(m, b) {
    m.default = b;
  }), r = be && be.__importStar || function(m) {
    if (m && m.__esModule)
      return m;
    var b = {};
    if (m != null)
      for (var A in m)
        A !== "default" && Object.prototype.hasOwnProperty.call(m, A) && e(b, m, A);
    return t(b, m), b;
  }, n = be && be.__importDefault || function(m) {
    return m && m.__esModule ? m : { default: m };
  };
  Object.defineProperty(Js, "__esModule", { value: !0 });
  const i = n(Rc), s = n(Oc), a = n(Dc), o = n(Nc), u = n(Mx()), f = n(jc), l = n(kc()), h = r(Xe), c = n(Ms), d = n(Lc), p = n(Vc);
  class v {
    constructor(b) {
      this.api = new s.default(b), this.wallets = new f.default(this.api, v.crypto), this.chunks = new d.default(this.api), this.transactions = new u.default(this.api, v.crypto, this.chunks), this.silo = new c.default(this.api, this.crypto, this.transactions), this.network = new o.default(this.api), this.blocks = new p.default(this.api, this.network), this.ar = new i.default();
    }
    /** @deprecated */
    get crypto() {
      return v.crypto;
    }
    /** @deprecated */
    get utils() {
      return v.utils;
    }
    getConfig() {
      return {
        api: this.api.getConfig(),
        crypto: null
      };
    }
    async createTransaction(b, A) {
      const D = {};
      if (Object.assign(D, b), !b.data && !(b.target && b.quantity))
        throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");
      if (b.owner == null && A && A !== "use_wallet" && (D.owner = A.n), b.last_tx == null && (D.last_tx = await this.transactions.getTransactionAnchor()), typeof b.data == "string" && (b.data = h.stringToBuffer(b.data)), b.data instanceof ArrayBuffer && (b.data = new Uint8Array(b.data)), b.data && !(b.data instanceof Uint8Array))
        throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");
      if (b.reward == null) {
        const L = b.data ? b.data.byteLength : 0;
        D.reward = await this.transactions.getPrice(L, D.target);
      }
      D.data_root = "", D.data_size = b.data ? b.data.byteLength.toString() : "0", D.data = b.data || new Uint8Array(0);
      const k = new l.default(D);
      return await k.getSignatureData(), k;
    }
    async createSiloTransaction(b, A, D) {
      const k = {};
      if (Object.assign(k, b), !b.data)
        throw new Error("Silo transactions must have a 'data' value");
      if (!D)
        throw new Error("No Silo URI specified.");
      if (b.target || b.quantity)
        throw new Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");
      if (b.owner == null) {
        if (!A || !A.n)
          throw new Error("A new Arweave transaction must either have an 'owner' attribute, or you must provide the jwk parameter.");
        k.owner = A.n;
      }
      b.last_tx == null && (k.last_tx = await this.transactions.getTransactionAnchor());
      const L = await this.silo.parseUri(D);
      if (typeof b.data == "string") {
        const F = await this.crypto.encrypt(h.stringToBuffer(b.data), L.getEncryptionKey());
        k.reward = await this.transactions.getPrice(F.byteLength), k.data = h.bufferTob64Url(F);
      }
      if (b.data instanceof Uint8Array) {
        const F = await this.crypto.encrypt(b.data, L.getEncryptionKey());
        k.reward = await this.transactions.getPrice(F.byteLength), k.data = h.bufferTob64Url(F);
      }
      const _ = new l.default(k);
      return _.addTag("Silo-Name", L.getAccessKey()), _.addTag("Silo-Version", "0.1.0"), _;
    }
    arql(b) {
      return this.api.post("/arql", b).then((A) => A.data || []);
    }
  }
  return Js.default = v, v.crypto = new a.default(), v.utils = h, Js;
}
var Yx = Hc();
const Xx = /* @__PURE__ */ Og(Yx);
function $1() {
  const [e, t] = qt(0), { state: r } = $t();
  return Ye(() => {
    (async () => {
      var s;
      if (!r.activeAddress)
        return;
      const n = new Xx(
        ((s = r == null ? void 0 : r.config) == null ? void 0 : s.gatewayConfig) || {
          host: "arweave.net",
          port: 443,
          protocol: "https"
        }
      ), i = n.ar.winstonToAr(
        await n.wallets.getBalance(r.activeAddress)
      );
      t(Number(i));
    })();
  }, [r == null ? void 0 : r.activeAddress]), e;
}
function Zx(e) {
  var t = /* @__PURE__ */ Object.create(null);
  return function(r) {
    return t[r] === void 0 && (t[r] = e(r)), t[r];
  };
}
var Qx = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/, wu = /* @__PURE__ */ Zx(
  function(e) {
    return Qx.test(e) || e.charCodeAt(0) === 111 && e.charCodeAt(1) === 110 && e.charCodeAt(2) < 91;
  }
  /* Z+1 */
), e8 = function() {
  const t = Array.prototype.slice.call(arguments).filter(Boolean), r = {}, n = [];
  t.forEach((s) => {
    (s ? s.split(" ") : []).forEach((o) => {
      if (o.startsWith("atm_")) {
        const [, u] = o.split("_");
        r[u] = o;
      } else
        n.push(o);
    });
  });
  const i = [];
  for (const s in r)
    Object.prototype.hasOwnProperty.call(r, s) && i.push(r[s]);
  return i.push(...n), i.join(" ");
}, od = e8, t8 = (e) => e.toUpperCase() === e, r8 = (e) => (t) => e.indexOf(t) === -1, z1 = (e, t) => {
  const r = {};
  return Object.keys(e).filter(r8(t)).forEach((n) => {
    r[n] = e[n];
  }), r;
};
function n8(e, t, r) {
  const n = z1(t, r);
  if (!e) {
    const i = typeof wu == "function" ? { default: wu } : wu;
    Object.keys(n).forEach((s) => {
      i.default(s) || delete n[s];
    });
  }
  return n;
}
var i8 = (e, t) => {
  if (process.env.NODE_ENV !== "production") {
    if (typeof e == "string" || typeof e == "number" && isFinite(e))
      return;
    const r = typeof e == "object" ? JSON.stringify(e) : String(e);
    console.warn(
      `An interpolation evaluated to '${r}' in the component '${t}', which is probably a mistake. You should explicitly cast or transform the value to a string.`
    );
  }
}, s8 = 0;
function ud(e) {
  var t;
  let r = `mocked-styled-${s8++}`;
  return (t = e == null ? void 0 : e.__linaria) != null && t.className && (r += ` ${e.__linaria.className}`), (n) => {
    if (process.env.NODE_ENV !== "production" && process.env.NODE_ENV !== "test" && Array.isArray(n))
      throw new Error(
        'Using the "styled" tag in runtime is not supported. Make sure you have set up the Babel plugin correctly. See https://github.com/callstack/linaria#setup'
      );
    const i = (a, o) => {
      const { as: u = e, class: f = r } = a, l = n.propsAsIs === void 0 ? !(typeof u == "string" && u.indexOf("-") === -1 && !t8(u[0])) : n.propsAsIs, h = n8(l, a, [
        "as",
        "class"
      ]);
      h.ref = o, h.className = n.atomic ? od(n.class, h.className || f) : od(h.className || f, n.class);
      const { vars: c } = n;
      if (c) {
        const d = {};
        for (const m in c) {
          const b = c[m], A = b[0], D = b[1] || "", k = typeof A == "function" ? A(a) : A;
          i8(k, n.name), d[`--${m}`] = `${k}${D}`;
        }
        const p = h.style || {}, v = Object.keys(p);
        v.length > 0 && v.forEach((m) => {
          d[m] = p[m];
        }), h.style = d;
      }
      return e.__linaria && e !== u ? (h.as = u, Ot.createElement(e, h)) : Ot.createElement(u, h);
    }, s = Ot.forwardRef ? Ot.forwardRef(i) : (a) => {
      const o = z1(a, ["innerRef"]);
      return i(o, a.innerRef);
    };
    return s.displayName = n.name, s.__linaria = {
      className: n.class || r,
      extends: e
    }, s;
  };
}
var Le = process.env.NODE_ENV !== "production" ? new Proxy(ud, {
  get(e, t) {
    return e(t);
  }
}) : ud;
function Uc() {
  var r;
  const { state: e } = $t();
  return nr(() => {
    var i;
    const n = (i = e == null ? void 0 : e.config) == null ? void 0 : i.gatewayConfig;
    return n ? `${n.protocol}://${n.host}:${n.port}` : "https://arweave.net";
  }, [(r = e == null ? void 0 : e.config) == null ? void 0 : r.gatewayConfig]);
}
function W1() {
  const [e, t] = qt(), r = ao(), n = Uc();
  return Ye(() => {
    (async () => {
      if (!r)
        return t(void 0);
      const s = await (await fetch(
        `https://ans-stats.decent.land/profile/${r}`
      )).json();
      if (!(s != null && s.currentLabel))
        return t(void 0);
      t({
        ...s,
        currentLabel: s.currentLabel + ".ar",
        avatar: s.avatar ? `${n}/${s.avatar}` : void 0
      });
    })();
  }, [r, n]), e;
}
const a8 = () => (e) => e.theme.theme, o8 = () => (e) => ({
  default: 30,
  minimal: 6,
  none: 0
})[e.theme.themeConfig.radius] + "px", u8 = () => (e) => e.theme.displayTheme === "light" ? `0px 0px 2px rgba(${e.theme.displayTheme === "light" ? "0, 0, 0" : "255, 255, 255"}, .15), 0px 4px 7px rgba(${e.theme.displayTheme === "light" ? "0, 0, 0" : "255, 255, 255"}, .1)` : "none", Tn = It(/* @__PURE__ */ Le("button")({
  name: "Button",
  class: "b1cb9caz",
  propsAsIs: !1,
  vars: {
    "b1cb9caz-0": [a8()],
    "b1cb9caz-1": [o8()],
    "b1cb9caz-2": [u8()]
  }
}));
function aT({
  accent: e,
  showBalance: t = !0,
  showProfilePicture: r = !0,
  onClick: n,
  useAns: i = !0,
  profileModal: s = !0,
  ...a
}) {
  const {
    connected: o,
    connect: u,
    disconnect: f
  } = Cc(), l = ao(), h = $1(), c = W1(), d = ex();
  return /* @__PURE__ */ Te(h8, {
    accent: e,
    onClick: async (p) => {
      if (o ? s ? d.setOpen(!0) : await f() : await u(), n)
        return n(p);
    },
    ...a,
    children: o && /* @__PURE__ */ Je(bs, {
      children: [t && /* @__PURE__ */ Te(y8, {
        children: h.toLocaleString(void 0, {
          maximumFractionDigits: 2
        }) + " AR"
      }), /* @__PURE__ */ Je(g8, {
        showBalance: t,
        children: [r && /* @__PURE__ */ Te(bs, {
          children: (c == null ? void 0 : c.avatar) && i && /* @__PURE__ */ Te(x8, {
            src: c == null ? void 0 : c.avatar,
            draggable: !1
          }) || /* @__PURE__ */ Te(_8, {
            children: /* @__PURE__ */ Te(E8, {})
          })
        }), i && (c == null ? void 0 : c.currentLabel) || H0(l || "", 5), /* @__PURE__ */ Te(b8, {})]
      })]
    }) || /* @__PURE__ */ Te(d8, {
      children: "Connect Wallet"
    })
  });
}
const f8 = () => Tn, c8 = () => (e) => ({
  default: 18,
  minimal: 10,
  none: 0
})[e.theme.themeConfig.radius] + "px", l8 = () => (e) => e.accent || `rgb(${e.theme.theme})`, h8 = It(/* @__PURE__ */ Le(f8())({
  name: "Wrapper",
  class: "w14emrir",
  propsAsIs: !0,
  vars: {
    "w14emrir-0": [c8()],
    "w14emrir-1": [l8()]
  }
})), d8 = /* @__PURE__ */ Le("span")({
  name: "ConnectText",
  class: "czh4f0e",
  propsAsIs: !1
}), p8 = () => (e) => e.showBalance ? e.theme.background : "transparent", v8 = () => (e) => ({
  default: 18,
  minimal: 10,
  none: 0
})[e.theme.themeConfig.radius] - 3 + "px", g8 = It(/* @__PURE__ */ Le("div")({
  name: "ProfileSection",
  class: "pwkn5es",
  propsAsIs: !1,
  vars: {
    "pwkn5es-0": [p8()],
    "pwkn5es-1": [v8()]
  }
})), y8 = /* @__PURE__ */ Le("span")({
  name: "Balance",
  class: "bdt02oh",
  propsAsIs: !1
}), m8 = () => c6, b8 = /* @__PURE__ */ Le(m8())({
  name: "ExpandIcon",
  class: "e3hlv71",
  propsAsIs: !0
}), w8 = () => (e) => ({
  default: "100%",
  minimal: "5px",
  none: "0px"
})[e.theme.themeConfig.radius], x8 = It(/* @__PURE__ */ Le("img")({
  name: "Avatar",
  class: "a1jsmwxp",
  propsAsIs: !1,
  vars: {
    "a1jsmwxp-0": [w8()]
  }
})), S8 = () => S1, E8 = /* @__PURE__ */ Le(S8())({
  name: "AvatarIcon",
  class: "as6ir6f",
  propsAsIs: !0
}), A8 = () => (e) => ({
  default: "100%",
  minimal: "5px",
  none: "0px"
})[e.theme.themeConfig.radius], _8 = It(/* @__PURE__ */ Le("span")({
  name: "AvatarPlaceholder",
  class: "av7js2i",
  propsAsIs: !1,
  vars: {
    "av7js2i-0": [A8()]
  }
})), T8 = "1.0.1-beta.0";
function P8(e = 720) {
  const [t, r] = qt(!1), n = nr(() => typeof window > "u" ? null : window.matchMedia(`(max-width: ${e}px)`), [e]);
  return Ye(() => {
    if (!n)
      return;
    const i = (s) => r(s.matches);
    return n.addEventListener("change", i), r(n.matches), () => n.removeEventListener("change", i);
  }, [n]), t;
}
const qc = Gn({
  transformPagePoint: (e) => e,
  isStatic: !1,
  reducedMotion: "never"
}), co = Gn({});
function F8() {
  return Dt(co).visualElement;
}
const Bs = Gn(null), lo = typeof document < "u", _a = lo ? wg : Ye, G1 = Gn({ strict: !1 });
function I8(e, t, r, n) {
  const i = F8(), s = Dt(G1), a = Dt(Bs), o = Dt(qc).reducedMotion, u = gr();
  n = n || s.renderer, !u.current && n && (u.current = n(e, {
    visualState: t,
    parent: i,
    props: r,
    presenceId: a ? a.id : void 0,
    blockInitialAnimation: a ? a.initial === !1 : !1,
    reducedMotionConfig: o
  }));
  const f = u.current;
  return _a(() => {
    f && f.render();
  }), _a(() => {
    f && f.animationState && f.animationState.animateChanges();
  }), f;
}
function pi(e) {
  return typeof e == "object" && Object.prototype.hasOwnProperty.call(e, "current");
}
function C8(e, t, r) {
  return Vu(
    (n) => {
      n && e.mount && e.mount(n), t && (n ? t.mount(n) : t.unmount()), r && (typeof r == "function" ? r(n) : pi(r) && (r.current = n));
    },
    /**
     * Only pass a new ref callback to React if we've received a visual element
     * factory. Otherwise we'll be mounting/remounting every time externalRef
     * or other dependencies change.
     */
    [t]
  );
}
function ws(e) {
  return typeof e == "string" || Array.isArray(e);
}
function ho(e) {
  return typeof e == "object" && typeof e.start == "function";
}
const R8 = [
  "initial",
  "animate",
  "exit",
  "whileHover",
  "whileDrag",
  "whileTap",
  "whileFocus",
  "whileInView"
];
function po(e) {
  return ho(e.animate) || R8.some((t) => ws(e[t]));
}
function J1(e) {
  return Boolean(po(e) || e.variants);
}
function O8(e, t) {
  if (po(e)) {
    const { initial: r, animate: n } = e;
    return {
      initial: r === !1 || ws(r) ? r : void 0,
      animate: ws(n) ? n : void 0
    };
  }
  return e.inherit !== !1 ? t : {};
}
function D8(e) {
  const { initial: t, animate: r } = O8(e, Dt(co));
  return nr(() => ({ initial: t, animate: r }), [fd(t), fd(r)]);
}
function fd(e) {
  return Array.isArray(e) ? e.join(" ") : e;
}
const tn = (e) => ({
  isEnabled: (t) => e.some((r) => !!t[r])
}), xs = {
  measureLayout: tn(["layout", "layoutId", "drag"]),
  animation: tn([
    "animate",
    "exit",
    "variants",
    "whileHover",
    "whileTap",
    "whileFocus",
    "whileDrag",
    "whileInView"
  ]),
  exit: tn(["exit"]),
  drag: tn(["drag", "dragControls"]),
  focus: tn(["whileFocus"]),
  hover: tn(["whileHover", "onHoverStart", "onHoverEnd"]),
  tap: tn(["whileTap", "onTap", "onTapStart", "onTapCancel"]),
  pan: tn([
    "onPan",
    "onPanStart",
    "onPanSessionStart",
    "onPanEnd"
  ]),
  inView: tn([
    "whileInView",
    "onViewportEnter",
    "onViewportLeave"
  ])
};
function M8(e) {
  for (const t in e)
    t === "projectionNodeConstructor" ? xs.projectionNodeConstructor = e[t] : xs[t].Component = e[t];
}
function vo(e) {
  const t = gr(null);
  return t.current === null && (t.current = e()), t.current;
}
const os = {
  /**
   * Global flag as to whether the tree has animated since the last time
   * we resized the window
   */
  hasAnimatedSinceResize: !0,
  /**
   * We set this to true once, on the first update. Any nodes added to the tree beyond that
   * update will be given a `data-projection-id` attribute.
   */
  hasEverUpdated: !1
};
let B8 = 1;
function N8() {
  return vo(() => {
    if (os.hasEverUpdated)
      return B8++;
  });
}
const Kc = Gn({});
class k8 extends Ot.Component {
  /**
   * Update visual element props as soon as we know this update is going to be commited.
   */
  getSnapshotBeforeUpdate() {
    const { visualElement: t, props: r } = this.props;
    return t && t.setProps(r), null;
  }
  componentDidUpdate() {
  }
  render() {
    return this.props.children;
  }
}
const Y1 = Gn({}), j8 = Symbol.for("motionComponentSymbol");
function L8({ preloadedFeatures: e, createVisualElement: t, projectionNodeConstructor: r, useRender: n, useVisualState: i, Component: s }) {
  e && M8(e);
  function a(u, f) {
    const l = {
      ...Dt(qc),
      ...u,
      layoutId: V8(u)
    }, { isStatic: h } = l;
    let c = null;
    const d = D8(u), p = h ? void 0 : N8(), v = i(u, h);
    if (!h && lo) {
      d.visualElement = I8(s, v, l, t);
      const m = Dt(G1).strict, b = Dt(Y1);
      d.visualElement && (c = d.visualElement.loadFeatures(
        // Note: Pass the full new combined props to correctly re-render dynamic feature components.
        l,
        m,
        e,
        p,
        r || xs.projectionNodeConstructor,
        b
      ));
    }
    return qe.createElement(
      k8,
      { visualElement: d.visualElement, props: l },
      c,
      qe.createElement(co.Provider, { value: d }, n(s, u, p, C8(v, d.visualElement, f), v, h, d.visualElement))
    );
  }
  const o = xg(a);
  return o[j8] = s, o;
}
function V8({ layoutId: e }) {
  const t = Dt(Kc).id;
  return t && e !== void 0 ? t + "-" + e : e;
}
function H8(e) {
  function t(n, i = {}) {
    return L8(e(n, i));
  }
  if (typeof Proxy > "u")
    return t;
  const r = /* @__PURE__ */ new Map();
  return new Proxy(t, {
    /**
     * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.
     * The prop name is passed through as `key` and we can use that to generate a `motion`
     * DOM component with that name.
     */
    get: (n, i) => (r.has(i) || r.set(i, t(i)), r.get(i))
  });
}
const U8 = [
  "animate",
  "circle",
  "defs",
  "desc",
  "ellipse",
  "g",
  "image",
  "line",
  "filter",
  "marker",
  "mask",
  "metadata",
  "path",
  "pattern",
  "polygon",
  "polyline",
  "rect",
  "stop",
  "switch",
  "symbol",
  "svg",
  "text",
  "tspan",
  "use",
  "view"
];
function $c(e) {
  return (
    /**
     * If it's not a string, it's a custom React component. Currently we only support
     * HTML custom React components.
     */
    typeof e != "string" || /**
     * If it contains a dash, the element is a custom HTML webcomponent.
     */
    e.includes("-") ? !1 : (
      /**
       * If it's in our list of lowercase SVG tags, it's an SVG component
       */
      !!(U8.indexOf(e) > -1 || /**
       * If it contains a capital letter, it's an SVG component
       */
      /[A-Z]/.test(e))
    )
  );
}
const Ta = {};
function q8(e) {
  Object.assign(Ta, e);
}
const Pa = [
  "transformPerspective",
  "x",
  "y",
  "z",
  "translateX",
  "translateY",
  "translateZ",
  "scale",
  "scaleX",
  "scaleY",
  "rotate",
  "rotateX",
  "rotateY",
  "rotateZ",
  "skew",
  "skewX",
  "skewY"
], Qn = new Set(Pa);
function X1(e, { layout: t, layoutId: r }) {
  return Qn.has(e) || e.startsWith("origin") || (t || r !== void 0) && (!!Ta[e] || e === "opacity");
}
const xr = (e) => !!(e != null && e.getVelocity), K8 = {
  x: "translateX",
  y: "translateY",
  z: "translateZ",
  transformPerspective: "perspective"
}, $8 = (e, t) => Pa.indexOf(e) - Pa.indexOf(t);
function z8({ transform: e, transformKeys: t }, { enableHardwareAcceleration: r = !0, allowTransformNone: n = !0 }, i, s) {
  let a = "";
  t.sort($8);
  for (const o of t)
    a += `${K8[o] || o}(${e[o]}) `;
  return r && !e.z && (a += "translateZ(0)"), a = a.trim(), s ? a = s(e, i ? "" : a) : n && i && (a = "none"), a;
}
function Z1(e) {
  return e.startsWith("--");
}
const W8 = (e, t) => t && typeof e == "number" ? t.transform(e) : e, Ri = (e, t, r) => Math.min(Math.max(r, e), t), ei = {
  test: (e) => typeof e == "number",
  parse: parseFloat,
  transform: (e) => e
}, us = {
  ...ei,
  transform: (e) => Ri(0, 1, e)
}, Zs = {
  ...ei,
  default: 1
}, fs = (e) => Math.round(e * 1e5) / 1e5, Ss = /(-)?([\d]*\.?[\d])+/g, ff = /(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi, G8 = /^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;
function Ns(e) {
  return typeof e == "string";
}
const ks = (e) => ({
  test: (t) => Ns(t) && t.endsWith(e) && t.split(" ").length === 1,
  parse: parseFloat,
  transform: (t) => `${t}${e}`
}), bn = ks("deg"), zr = ks("%"), Re = ks("px"), J8 = ks("vh"), Y8 = ks("vw"), cd = {
  ...zr,
  parse: (e) => zr.parse(e) / 100,
  transform: (e) => zr.transform(e * 100)
}, ld = {
  ...ei,
  transform: Math.round
}, Q1 = {
  // Border props
  borderWidth: Re,
  borderTopWidth: Re,
  borderRightWidth: Re,
  borderBottomWidth: Re,
  borderLeftWidth: Re,
  borderRadius: Re,
  radius: Re,
  borderTopLeftRadius: Re,
  borderTopRightRadius: Re,
  borderBottomRightRadius: Re,
  borderBottomLeftRadius: Re,
  // Positioning props
  width: Re,
  maxWidth: Re,
  height: Re,
  maxHeight: Re,
  size: Re,
  top: Re,
  right: Re,
  bottom: Re,
  left: Re,
  // Spacing props
  padding: Re,
  paddingTop: Re,
  paddingRight: Re,
  paddingBottom: Re,
  paddingLeft: Re,
  margin: Re,
  marginTop: Re,
  marginRight: Re,
  marginBottom: Re,
  marginLeft: Re,
  // Transform props
  rotate: bn,
  rotateX: bn,
  rotateY: bn,
  rotateZ: bn,
  scale: Zs,
  scaleX: Zs,
  scaleY: Zs,
  scaleZ: Zs,
  skew: bn,
  skewX: bn,
  skewY: bn,
  distance: Re,
  translateX: Re,
  translateY: Re,
  translateZ: Re,
  x: Re,
  y: Re,
  z: Re,
  perspective: Re,
  transformPerspective: Re,
  opacity: us,
  originX: cd,
  originY: cd,
  originZ: Re,
  // Misc
  zIndex: ld,
  // SVG
  fillOpacity: us,
  strokeOpacity: us,
  numOctaves: ld
};
function zc(e, t, r, n) {
  const { style: i, vars: s, transform: a, transformKeys: o, transformOrigin: u } = e;
  o.length = 0;
  let f = !1, l = !1, h = !0;
  for (const c in t) {
    const d = t[c];
    if (Z1(c)) {
      s[c] = d;
      continue;
    }
    const p = Q1[c], v = W8(d, p);
    if (Qn.has(c)) {
      if (f = !0, a[c] = v, o.push(c), !h)
        continue;
      d !== (p.default || 0) && (h = !1);
    } else
      c.startsWith("origin") ? (l = !0, u[c] = v) : i[c] = v;
  }
  if (t.transform || (f || n ? i.transform = z8(e, r, h, n) : i.transform && (i.transform = "none")), l) {
    const { originX: c = "50%", originY: d = "50%", originZ: p = 0 } = u;
    i.transformOrigin = `${c} ${d} ${p}`;
  }
}
const Wc = () => ({
  style: {},
  transform: {},
  transformKeys: [],
  transformOrigin: {},
  vars: {}
});
function ev(e, t, r) {
  for (const n in t)
    !xr(t[n]) && !X1(n, r) && (e[n] = t[n]);
}
function X8({ transformTemplate: e }, t, r) {
  return nr(() => {
    const n = Wc();
    return zc(n, t, { enableHardwareAcceleration: !r }, e), Object.assign({}, n.vars, n.style);
  }, [t]);
}
function Z8(e, t, r) {
  const n = e.style || {}, i = {};
  return ev(i, n, e), Object.assign(i, X8(e, t, r)), e.transformValues ? e.transformValues(i) : i;
}
function Q8(e, t, r) {
  const n = {}, i = Z8(e, t, r);
  return e.drag && e.dragListener !== !1 && (n.draggable = !1, i.userSelect = i.WebkitUserSelect = i.WebkitTouchCallout = "none", i.touchAction = e.drag === !0 ? "none" : `pan-${e.drag === "x" ? "y" : "x"}`), n.style = i, n;
}
const eS = [
  "animate",
  "exit",
  "variants",
  "whileHover",
  "whileTap",
  "whileFocus",
  "whileDrag",
  "whileInView"
], tS = ["whileTap", "onTap", "onTapStart", "onTapCancel"], rS = ["onPan", "onPanStart", "onPanSessionStart", "onPanEnd"], nS = [
  "whileInView",
  "onViewportEnter",
  "onViewportLeave",
  "viewport"
], iS = /* @__PURE__ */ new Set([
  "initial",
  "style",
  "values",
  "variants",
  "transition",
  "transformTemplate",
  "transformValues",
  "custom",
  "inherit",
  "layout",
  "layoutId",
  "layoutDependency",
  "onLayoutAnimationStart",
  "onLayoutAnimationComplete",
  "onLayoutMeasure",
  "onBeforeLayoutMeasure",
  "onAnimationStart",
  "onAnimationComplete",
  "onUpdate",
  "onDragStart",
  "onDrag",
  "onDragEnd",
  "onMeasureDragConstraints",
  "onDirectionLock",
  "onDragTransitionEnd",
  "drag",
  "dragControls",
  "dragListener",
  "dragConstraints",
  "dragDirectionLock",
  "dragSnapToOrigin",
  "_dragX",
  "_dragY",
  "dragElastic",
  "dragMomentum",
  "dragPropagation",
  "dragTransition",
  "onHoverStart",
  "onHoverEnd",
  "layoutScroll",
  ...nS,
  ...tS,
  ...eS,
  ...rS
]);
function Fa(e) {
  return iS.has(e);
}
let tv = (e) => !Fa(e);
function sS(e) {
  e && (tv = (t) => t.startsWith("on") ? !Fa(t) : e(t));
}
try {
  sS(require("@emotion/is-prop-valid").default);
} catch {
}
function aS(e, t, r) {
  const n = {};
  for (const i in e)
    (tv(i) || r === !0 && Fa(i) || !t && !Fa(i) || e.draggable && i.startsWith("onDrag")) && (n[i] = e[i]);
  return n;
}
function hd(e, t, r) {
  return typeof e == "string" ? e : Re.transform(t + r * e);
}
function oS(e, t, r) {
  const n = hd(t, e.x, e.width), i = hd(r, e.y, e.height);
  return `${n} ${i}`;
}
const uS = {
  offset: "stroke-dashoffset",
  array: "stroke-dasharray"
}, fS = {
  offset: "strokeDashoffset",
  array: "strokeDasharray"
};
function cS(e, t, r = 1, n = 0, i = !0) {
  e.pathLength = 1;
  const s = i ? uS : fS;
  e[s.offset] = Re.transform(-n);
  const a = Re.transform(t), o = Re.transform(r);
  e[s.array] = `${a} ${o}`;
}
function Gc(e, {
  attrX: t,
  attrY: r,
  originX: n,
  originY: i,
  pathLength: s,
  pathSpacing: a = 1,
  pathOffset: o = 0,
  // This is object creation, which we try to avoid per-frame.
  ...u
}, f, l, h) {
  if (zc(e, u, f, h), l) {
    e.style.viewBox && (e.attrs.viewBox = e.style.viewBox);
    return;
  }
  e.attrs = e.style, e.style = {};
  const { attrs: c, style: d, dimensions: p } = e;
  c.transform && (p && (d.transform = c.transform), delete c.transform), p && (n !== void 0 || i !== void 0 || d.transform) && (d.transformOrigin = oS(p, n !== void 0 ? n : 0.5, i !== void 0 ? i : 0.5)), t !== void 0 && (c.x = t), r !== void 0 && (c.y = r), s !== void 0 && cS(c, s, a, o, !1);
}
const rv = () => ({
  ...Wc(),
  attrs: {}
}), Jc = (e) => typeof e == "string" && e.toLowerCase() === "svg";
function lS(e, t, r, n) {
  const i = nr(() => {
    const s = rv();
    return Gc(s, t, { enableHardwareAcceleration: !1 }, Jc(n), e.transformTemplate), {
      ...s.attrs,
      style: { ...s.style }
    };
  }, [t]);
  if (e.style) {
    const s = {};
    ev(s, e.style, e), i.style = { ...s, ...i.style };
  }
  return i;
}
function hS(e = !1) {
  return (r, n, i, s, { latestValues: a }, o) => {
    const f = ($c(r) ? lS : Q8)(n, a, o, r), h = {
      ...aS(n, typeof r == "string", e),
      ...f,
      ref: s
    };
    return i && (h["data-projection-id"] = i), _0(r, h);
  };
}
const Yc = (e) => e.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase();
function nv(e, { style: t, vars: r }, n, i) {
  Object.assign(e.style, t, i && i.getProjectionStyles(n));
  for (const s in r)
    e.style.setProperty(s, r[s]);
}
const iv = /* @__PURE__ */ new Set([
  "baseFrequency",
  "diffuseConstant",
  "kernelMatrix",
  "kernelUnitLength",
  "keySplines",
  "keyTimes",
  "limitingConeAngle",
  "markerHeight",
  "markerWidth",
  "numOctaves",
  "targetX",
  "targetY",
  "surfaceScale",
  "specularConstant",
  "specularExponent",
  "stdDeviation",
  "tableValues",
  "viewBox",
  "gradientTransform",
  "pathLength",
  "startOffset",
  "textLength",
  "lengthAdjust"
]);
function sv(e, t, r, n) {
  nv(e, t, void 0, n);
  for (const i in t.attrs)
    e.setAttribute(iv.has(i) ? i : Yc(i), t.attrs[i]);
}
function Xc(e, t) {
  const { style: r } = e, n = {};
  for (const i in r)
    (xr(r[i]) || t.style && xr(t.style[i]) || X1(i, e)) && (n[i] = r[i]);
  return n;
}
function av(e, t) {
  const r = Xc(e, t);
  for (const n in e)
    if (xr(e[n]) || xr(t[n])) {
      const i = n === "x" || n === "y" ? "attr" + n.toUpperCase() : n;
      r[i] = e[n];
    }
  return r;
}
function Zc(e, t, r, n = {}, i = {}) {
  return typeof t == "function" && (t = t(r !== void 0 ? r : e.custom, n, i)), typeof t == "string" && (t = e.variants && e.variants[t]), typeof t == "function" && (t = t(r !== void 0 ? r : e.custom, n, i)), t;
}
const Ia = (e) => Array.isArray(e), dS = (e) => Boolean(e && typeof e == "object" && e.mix && e.toValue), pS = (e) => Ia(e) ? e[e.length - 1] || 0 : e;
function fa(e) {
  const t = xr(e) ? e.get() : e;
  return dS(t) ? t.toValue() : t;
}
function vS({ scrapeMotionValuesFromProps: e, createRenderState: t, onMount: r }, n, i, s) {
  const a = {
    latestValues: gS(n, i, s, e),
    renderState: t()
  };
  return r && (a.mount = (o) => r(n, o, a)), a;
}
const ov = (e) => (t, r) => {
  const n = Dt(co), i = Dt(Bs), s = () => vS(e, t, n, i);
  return r ? s() : vo(s);
};
function gS(e, t, r, n) {
  const i = {}, s = n(e, {});
  for (const c in s)
    i[c] = fa(s[c]);
  let { initial: a, animate: o } = e;
  const u = po(e), f = J1(e);
  t && f && !u && e.inherit !== !1 && (a === void 0 && (a = t.initial), o === void 0 && (o = t.animate));
  let l = r ? r.initial === !1 : !1;
  l = l || a === !1;
  const h = l ? o : a;
  return h && typeof h != "boolean" && !ho(h) && (Array.isArray(h) ? h : [h]).forEach((d) => {
    const p = Zc(e, d);
    if (!p)
      return;
    const { transitionEnd: v, transition: m, ...b } = p;
    for (const A in b) {
      let D = b[A];
      if (Array.isArray(D)) {
        const k = l ? D.length - 1 : 0;
        D = D[k];
      }
      D !== null && (i[A] = D);
    }
    for (const A in v)
      i[A] = v[A];
  }), i;
}
const yS = {
  useVisualState: ov({
    scrapeMotionValuesFromProps: av,
    createRenderState: rv,
    onMount: (e, t, { renderState: r, latestValues: n }) => {
      try {
        r.dimensions = typeof t.getBBox == "function" ? t.getBBox() : t.getBoundingClientRect();
      } catch {
        r.dimensions = {
          x: 0,
          y: 0,
          width: 0,
          height: 0
        };
      }
      Gc(r, n, { enableHardwareAcceleration: !1 }, Jc(t.tagName), e.transformTemplate), sv(t, r);
    }
  })
}, mS = {
  useVisualState: ov({
    scrapeMotionValuesFromProps: Xc,
    createRenderState: Wc
  })
};
function bS(e, { forwardMotionProps: t = !1 }, r, n, i) {
  return {
    ...$c(e) ? yS : mS,
    preloadedFeatures: r,
    useRender: hS(t),
    createVisualElement: n,
    projectionNodeConstructor: i,
    Component: e
  };
}
var tt;
(function(e) {
  e.Animate = "animate", e.Hover = "whileHover", e.Tap = "whileTap", e.Drag = "whileDrag", e.Focus = "whileFocus", e.InView = "whileInView", e.Exit = "exit";
})(tt || (tt = {}));
function go(e, t, r, n = { passive: !0 }) {
  return e.addEventListener(t, r, n), () => e.removeEventListener(t, r);
}
function cf(e, t, r, n) {
  Ye(() => {
    const i = e.current;
    if (r && i)
      return go(i, t, r, n);
  }, [e, t, r, n]);
}
function wS({ whileFocus: e, visualElement: t }) {
  const { animationState: r } = t, n = () => {
    r && r.setActive(tt.Focus, !0);
  }, i = () => {
    r && r.setActive(tt.Focus, !1);
  };
  cf(t, "focus", e ? n : void 0), cf(t, "blur", e ? i : void 0);
}
const uv = (e) => e.isPrimary !== !1;
function Qc(e, t = "page") {
  return {
    point: {
      x: e[t + "X"],
      y: e[t + "Y"]
    }
  };
}
const fv = (e) => (t) => uv(t) && e(t, Qc(t));
function bi(e, t, r, n) {
  return go(e, t, fv(r), n);
}
function Ca(e, t, r, n) {
  return cf(e, t, r && fv(r), n);
}
function cv(e) {
  let t = null;
  return () => {
    const r = () => {
      t = null;
    };
    return t === null ? (t = e, r) : !1;
  };
}
const dd = cv("dragHorizontal"), pd = cv("dragVertical");
function lv(e) {
  let t = !1;
  if (e === "y")
    t = pd();
  else if (e === "x")
    t = dd();
  else {
    const r = dd(), n = pd();
    r && n ? t = () => {
      r(), n();
    } : (r && r(), n && n());
  }
  return t;
}
function hv() {
  const e = lv(!0);
  return e ? (e(), !1) : !0;
}
function xS(e) {
  return e.type !== "pen" && e.type !== "touch";
}
function vd(e, t, r) {
  return (n, i) => {
    !xS(n) || hv() || (e.animationState && e.animationState.setActive(tt.Hover, t), r && r(n, i));
  };
}
function SS({ onHoverStart: e, onHoverEnd: t, whileHover: r, visualElement: n }) {
  Ca(n, "pointerenter", e || r ? vd(n, !0, e) : void 0, { passive: !e }), Ca(n, "pointerleave", t || r ? vd(n, !1, t) : void 0, { passive: !t });
}
const dv = (e, t) => t ? e === t ? !0 : dv(e, t.parentElement) : !1;
function el(e) {
  return Ye(() => () => e(), []);
}
const ES = (e, t) => (r) => t(e(r)), yo = (...e) => e.reduce(ES);
function AS({ onTap: e, onTapStart: t, onTapCancel: r, whileTap: n, visualElement: i }) {
  const s = e || t || r || n, a = gr(!1), o = gr(null), u = {
    passive: !(t || e || r || d)
  };
  function f() {
    o.current && o.current(), o.current = null;
  }
  function l() {
    return f(), a.current = !1, i.animationState && i.animationState.setActive(tt.Tap, !1), !hv();
  }
  function h(p, v) {
    l() && (dv(i.current, p.target) ? e && e(p, v) : r && r(p, v));
  }
  function c(p, v) {
    l() && r && r(p, v);
  }
  function d(p, v) {
    f(), !a.current && (a.current = !0, o.current = yo(bi(window, "pointerup", h, u), bi(window, "pointercancel", c, u)), i.animationState && i.animationState.setActive(tt.Tap, !0), t && t(p, v));
  }
  Ca(i, "pointerdown", s ? d : void 0, u), el(f);
}
const gd = /* @__PURE__ */ new Set();
function mo(e, t, r) {
  e || gd.has(t) || (console.warn(t), r && console.warn(r), gd.add(t));
}
const lf = /* @__PURE__ */ new WeakMap(), xu = /* @__PURE__ */ new WeakMap(), _S = (e) => {
  const t = lf.get(e.target);
  t && t(e);
}, TS = (e) => {
  e.forEach(_S);
};
function PS({ root: e, ...t }) {
  const r = e || document;
  xu.has(r) || xu.set(r, {});
  const n = xu.get(r), i = JSON.stringify(t);
  return n[i] || (n[i] = new IntersectionObserver(TS, { root: e, ...t })), n[i];
}
function FS(e, t, r) {
  const n = PS(t);
  return lf.set(e, r), n.observe(e), () => {
    lf.delete(e), n.unobserve(e);
  };
}
function IS({ visualElement: e, whileInView: t, onViewportEnter: r, onViewportLeave: n, viewport: i = {} }) {
  const s = gr({
    hasEnteredView: !1,
    isInView: !1
  });
  let a = Boolean(t || r || n);
  i.once && s.current.hasEnteredView && (a = !1), (typeof IntersectionObserver > "u" ? OS : RS)(a, s.current, e, i);
}
const CS = {
  some: 0,
  all: 1
};
function RS(e, t, r, { root: n, margin: i, amount: s = "some", once: a }) {
  Ye(() => {
    if (!e || !r.current)
      return;
    const o = {
      root: n == null ? void 0 : n.current,
      rootMargin: i,
      threshold: typeof s == "number" ? s : CS[s]
    }, u = (f) => {
      const { isIntersecting: l } = f;
      if (t.isInView === l || (t.isInView = l, a && !l && t.hasEnteredView))
        return;
      l && (t.hasEnteredView = !0), r.animationState && r.animationState.setActive(tt.InView, l);
      const h = r.getProps(), c = l ? h.onViewportEnter : h.onViewportLeave;
      c && c(f);
    };
    return FS(r.current, o, u);
  }, [e, n, i, s]);
}
function OS(e, t, r, { fallback: n = !0 }) {
  Ye(() => {
    !e || !n || (process.env.NODE_ENV !== "production" && mo(!1, "IntersectionObserver not available on this device. whileInView animations will trigger on mount."), requestAnimationFrame(() => {
      t.hasEnteredView = !0;
      const { onViewportEnter: i } = r.getProps();
      i && i(null), r.animationState && r.animationState.setActive(tt.InView, !0);
    }));
  }, [e]);
}
const An = (e) => (t) => (e(t), null), DS = {
  inView: An(IS),
  tap: An(AS),
  focus: An(wS),
  hover: An(SS)
};
function pv() {
  const e = Dt(Bs);
  if (e === null)
    return [!0, null];
  const { isPresent: t, onExitComplete: r, register: n } = e, i = Of();
  return Ye(() => n(i), []), !t && r ? [!1, () => r && r(i)] : [!0];
}
function vv(e, t) {
  if (!Array.isArray(t))
    return !1;
  const r = t.length;
  if (r !== e.length)
    return !1;
  for (let n = 0; n < r; n++)
    if (t[n] !== e[n])
      return !1;
  return !0;
}
const MS = (e) => /^\-?\d*\.?\d+$/.test(e), BS = (e) => /^0[^.\s]+$/.test(e), fn = {
  delta: 0,
  timestamp: 0
}, gv = 1 / 60 * 1e3, NS = typeof performance < "u" ? () => performance.now() : () => Date.now(), yv = typeof window < "u" ? (e) => window.requestAnimationFrame(e) : (e) => setTimeout(() => e(NS()), gv);
function kS(e) {
  let t = [], r = [], n = 0, i = !1, s = !1;
  const a = /* @__PURE__ */ new WeakSet(), o = {
    /**
     * Schedule a process to run on the next frame.
     */
    schedule: (u, f = !1, l = !1) => {
      const h = l && i, c = h ? t : r;
      return f && a.add(u), c.indexOf(u) === -1 && (c.push(u), h && i && (n = t.length)), u;
    },
    /**
     * Cancel the provided callback from running on the next frame.
     */
    cancel: (u) => {
      const f = r.indexOf(u);
      f !== -1 && r.splice(f, 1), a.delete(u);
    },
    /**
     * Execute all schedule callbacks.
     */
    process: (u) => {
      if (i) {
        s = !0;
        return;
      }
      if (i = !0, [t, r] = [r, t], r.length = 0, n = t.length, n)
        for (let f = 0; f < n; f++) {
          const l = t[f];
          l(u), a.has(l) && (o.schedule(l), e());
        }
      i = !1, s && (s = !1, o.process(u));
    }
  };
  return o;
}
const jS = 40;
let hf = !0, Es = !1, df = !1;
const js = [
  "read",
  "update",
  "preRender",
  "render",
  "postRender"
], bo = js.reduce((e, t) => (e[t] = kS(() => Es = !0), e), {}), Gt = js.reduce((e, t) => {
  const r = bo[t];
  return e[t] = (n, i = !1, s = !1) => (Es || VS(), r.schedule(n, i, s)), e;
}, {}), Fn = js.reduce((e, t) => (e[t] = bo[t].cancel, e), {}), Su = js.reduce((e, t) => (e[t] = () => bo[t].process(fn), e), {}), LS = (e) => bo[e].process(fn), mv = (e) => {
  Es = !1, fn.delta = hf ? gv : Math.max(Math.min(e - fn.timestamp, jS), 1), fn.timestamp = e, df = !0, js.forEach(LS), df = !1, Es && (hf = !1, yv(mv));
}, VS = () => {
  Es = !0, hf = !0, df || yv(mv);
};
function tl(e, t) {
  e.indexOf(t) === -1 && e.push(t);
}
function rl(e, t) {
  const r = e.indexOf(t);
  r > -1 && e.splice(r, 1);
}
class nl {
  constructor() {
    this.subscriptions = [];
  }
  add(t) {
    return tl(this.subscriptions, t), () => rl(this.subscriptions, t);
  }
  notify(t, r, n) {
    const i = this.subscriptions.length;
    if (i)
      if (i === 1)
        this.subscriptions[0](t, r, n);
      else
        for (let s = 0; s < i; s++) {
          const a = this.subscriptions[s];
          a && a(t, r, n);
        }
  }
  getSize() {
    return this.subscriptions.length;
  }
  clear() {
    this.subscriptions.length = 0;
  }
}
function il(e, t) {
  return t ? e * (1e3 / t) : 0;
}
const HS = (e) => !isNaN(parseFloat(e));
class US {
  /**
   * @param init - The initiating value
   * @param config - Optional configuration options
   *
   * -  `transformer`: A function to transform incoming values with.
   *
   * @internal
   */
  constructor(t, r = {}) {
    this.version = "8.1.9", this.timeDelta = 0, this.lastUpdated = 0, this.canTrackVelocity = !1, this.events = {}, this.updateAndNotify = (n, i = !0) => {
      this.prev = this.current, this.current = n;
      const { delta: s, timestamp: a } = fn;
      this.lastUpdated !== a && (this.timeDelta = s, this.lastUpdated = a, Gt.postRender(this.scheduleVelocityCheck)), this.prev !== this.current && this.events.change && this.events.change.notify(this.current), this.events.velocityChange && this.events.velocityChange.notify(this.getVelocity()), i && this.events.renderRequest && this.events.renderRequest.notify(this.current);
    }, this.scheduleVelocityCheck = () => Gt.postRender(this.velocityCheck), this.velocityCheck = ({ timestamp: n }) => {
      n !== this.lastUpdated && (this.prev = this.current, this.events.velocityChange && this.events.velocityChange.notify(this.getVelocity()));
    }, this.hasAnimated = !1, this.prev = this.current = t, this.canTrackVelocity = HS(this.current), this.owner = r.owner;
  }
  /**
   * Adds a function that will be notified when the `MotionValue` is updated.
   *
   * It returns a function that, when called, will cancel the subscription.
   *
   * When calling `onChange` inside a React component, it should be wrapped with the
   * `useEffect` hook. As it returns an unsubscribe function, this should be returned
   * from the `useEffect` function to ensure you don't add duplicate subscribers..
   *
   * ```jsx
   * export const MyComponent = () => {
   *   const x = useMotionValue(0)
   *   const y = useMotionValue(0)
   *   const opacity = useMotionValue(1)
   *
   *   useEffect(() => {
   *     function updateOpacity() {
   *       const maxXY = Math.max(x.get(), y.get())
   *       const newOpacity = transform(maxXY, [0, 100], [1, 0])
   *       opacity.set(newOpacity)
   *     }
   *
   *     const unsubscribeX = x.on("change", updateOpacity)
   *     const unsubscribeY = y.on("change", updateOpacity)
   *
   *     return () => {
   *       unsubscribeX()
   *       unsubscribeY()
   *     }
   *   }, [])
   *
   *   return <motion.div style={{ x }} />
   * }
   * ```
   *
   * @param subscriber - A function that receives the latest value.
   * @returns A function that, when called, will cancel this subscription.
   *
   * @deprecated
   */
  onChange(t) {
    return this.on("change", t);
  }
  on(t, r) {
    this.events[t] || (this.events[t] = new nl());
    const n = this.events[t].add(r);
    return t === "change" ? () => {
      n(), Gt.read(() => {
        this.events.change.getSize() || this.stop();
      });
    } : n;
  }
  clearListeners() {
    for (const t in this.events)
      this.events[t].clear();
  }
  /**
   * Attaches a passive effect to the `MotionValue`.
   *
   * @internal
   */
  attach(t, r) {
    this.passiveEffect = t, this.stopPassiveEffect = r;
  }
  /**
   * Sets the state of the `MotionValue`.
   *
   * @remarks
   *
   * ```jsx
   * const x = useMotionValue(0)
   * x.set(10)
   * ```
   *
   * @param latest - Latest value to set.
   * @param render - Whether to notify render subscribers. Defaults to `true`
   *
   * @public
   */
  set(t, r = !0) {
    !r || !this.passiveEffect ? this.updateAndNotify(t, r) : this.passiveEffect(t, this.updateAndNotify);
  }
  setWithVelocity(t, r, n) {
    this.set(r), this.prev = t, this.timeDelta = n;
  }
  /**
   * Set the state of the `MotionValue`, stopping any active animations,
   * effects, and resets velocity to `0`.
   */
  jump(t) {
    this.updateAndNotify(t), this.prev = t, this.stop(), this.stopPassiveEffect && this.stopPassiveEffect();
  }
  /**
   * Returns the latest state of `MotionValue`
   *
   * @returns - The latest state of `MotionValue`
   *
   * @public
   */
  get() {
    return this.current;
  }
  /**
   * @public
   */
  getPrevious() {
    return this.prev;
  }
  /**
   * Returns the latest velocity of `MotionValue`
   *
   * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.
   *
   * @public
   */
  getVelocity() {
    return this.canTrackVelocity ? (
      // These casts could be avoided if parseFloat would be typed better
      il(parseFloat(this.current) - parseFloat(this.prev), this.timeDelta)
    ) : 0;
  }
  /**
   * Registers a new animation to control this `MotionValue`. Only one
   * animation can drive a `MotionValue` at one time.
   *
   * ```jsx
   * value.start()
   * ```
   *
   * @param animation - A function that starts the provided animation
   *
   * @internal
   */
  start(t) {
    return this.stop(), new Promise((r) => {
      this.hasAnimated = !0, this.stopAnimation = t(r), this.events.animationStart && this.events.animationStart.notify();
    }).then(() => {
      this.events.animationComplete && this.events.animationComplete.notify(), this.clearAnimation();
    });
  }
  /**
   * Stop the currently active animation.
   *
   * @public
   */
  stop() {
    this.stopAnimation && (this.stopAnimation(), this.events.animationCancel && this.events.animationCancel.notify()), this.clearAnimation();
  }
  /**
   * Returns `true` if this value is currently animating.
   *
   * @public
   */
  isAnimating() {
    return !!this.stopAnimation;
  }
  clearAnimation() {
    this.stopAnimation = null;
  }
  /**
   * Destroy and clean up subscribers to this `MotionValue`.
   *
   * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically
   * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually
   * created a `MotionValue` via the `motionValue` function.
   *
   * @public
   */
  destroy() {
    this.clearListeners(), this.stop(), this.stopPassiveEffect && this.stopPassiveEffect();
  }
}
function Oi(e, t) {
  return new US(e, t);
}
const sl = (e, t) => (r) => Boolean(Ns(r) && G8.test(r) && r.startsWith(e) || t && Object.prototype.hasOwnProperty.call(r, t)), bv = (e, t, r) => (n) => {
  if (!Ns(n))
    return n;
  const [i, s, a, o] = n.match(Ss);
  return {
    [e]: parseFloat(i),
    [t]: parseFloat(s),
    [r]: parseFloat(a),
    alpha: o !== void 0 ? parseFloat(o) : 1
  };
}, qS = (e) => Ri(0, 255, e), Eu = {
  ...ei,
  transform: (e) => Math.round(qS(e))
}, Vn = {
  test: sl("rgb", "red"),
  parse: bv("red", "green", "blue"),
  transform: ({ red: e, green: t, blue: r, alpha: n = 1 }) => "rgba(" + Eu.transform(e) + ", " + Eu.transform(t) + ", " + Eu.transform(r) + ", " + fs(us.transform(n)) + ")"
};
function KS(e) {
  let t = "", r = "", n = "", i = "";
  return e.length > 5 ? (t = e.substring(1, 3), r = e.substring(3, 5), n = e.substring(5, 7), i = e.substring(7, 9)) : (t = e.substring(1, 2), r = e.substring(2, 3), n = e.substring(3, 4), i = e.substring(4, 5), t += t, r += r, n += n, i += i), {
    red: parseInt(t, 16),
    green: parseInt(r, 16),
    blue: parseInt(n, 16),
    alpha: i ? parseInt(i, 16) / 255 : 1
  };
}
const pf = {
  test: sl("#"),
  parse: KS,
  transform: Vn.transform
}, vi = {
  test: sl("hsl", "hue"),
  parse: bv("hue", "saturation", "lightness"),
  transform: ({ hue: e, saturation: t, lightness: r, alpha: n = 1 }) => "hsla(" + Math.round(e) + ", " + zr.transform(fs(t)) + ", " + zr.transform(fs(r)) + ", " + fs(us.transform(n)) + ")"
}, zt = {
  test: (e) => Vn.test(e) || pf.test(e) || vi.test(e),
  parse: (e) => Vn.test(e) ? Vn.parse(e) : vi.test(e) ? vi.parse(e) : pf.parse(e),
  transform: (e) => Ns(e) ? e : e.hasOwnProperty("red") ? Vn.transform(e) : vi.transform(e)
}, wv = "${c}", xv = "${n}";
function $S(e) {
  var t, r;
  return isNaN(e) && Ns(e) && (((t = e.match(Ss)) === null || t === void 0 ? void 0 : t.length) || 0) + (((r = e.match(ff)) === null || r === void 0 ? void 0 : r.length) || 0) > 0;
}
function Ra(e) {
  typeof e == "number" && (e = `${e}`);
  const t = [];
  let r = 0, n = 0;
  const i = e.match(ff);
  i && (r = i.length, e = e.replace(ff, wv), t.push(...i.map(zt.parse)));
  const s = e.match(Ss);
  return s && (n = s.length, e = e.replace(Ss, xv), t.push(...s.map(ei.parse))), { values: t, numColors: r, numNumbers: n, tokenised: e };
}
function Sv(e) {
  return Ra(e).values;
}
function Ev(e) {
  const { values: t, numColors: r, tokenised: n } = Ra(e), i = t.length;
  return (s) => {
    let a = n;
    for (let o = 0; o < i; o++)
      a = a.replace(o < r ? wv : xv, o < r ? zt.transform(s[o]) : fs(s[o]));
    return a;
  };
}
const zS = (e) => typeof e == "number" ? 0 : e;
function WS(e) {
  const t = Sv(e);
  return Ev(e)(t.map(zS));
}
const In = { test: $S, parse: Sv, createTransformer: Ev, getAnimatableNone: WS }, GS = /* @__PURE__ */ new Set(["brightness", "contrast", "saturate", "opacity"]);
function JS(e) {
  const [t, r] = e.slice(0, -1).split("(");
  if (t === "drop-shadow")
    return e;
  const [n] = r.match(Ss) || [];
  if (!n)
    return e;
  const i = r.replace(n, "");
  let s = GS.has(t) ? 1 : 0;
  return n !== r && (s *= 100), t + "(" + s + i + ")";
}
const YS = /([a-z-]*)\(.*?\)/g, vf = {
  ...In,
  getAnimatableNone: (e) => {
    const t = e.match(YS);
    return t ? t.map(JS).join(" ") : e;
  }
}, XS = {
  ...Q1,
  // Color props
  color: zt,
  backgroundColor: zt,
  outlineColor: zt,
  fill: zt,
  stroke: zt,
  // Border props
  borderColor: zt,
  borderTopColor: zt,
  borderRightColor: zt,
  borderBottomColor: zt,
  borderLeftColor: zt,
  filter: vf,
  WebkitFilter: vf
}, al = (e) => XS[e];
function ol(e, t) {
  var r;
  let n = al(e);
  return n !== vf && (n = In), (r = n.getAnimatableNone) === null || r === void 0 ? void 0 : r.call(n, t);
}
const Av = (e) => (t) => t.test(e), ZS = {
  test: (e) => e === "auto",
  parse: (e) => e
}, _v = [ei, Re, zr, bn, Y8, J8, ZS], Qi = (e) => _v.find(Av(e)), QS = [..._v, zt, In], e9 = (e) => QS.find(Av(e));
function t9(e) {
  const t = {};
  return e.values.forEach((r, n) => t[n] = r.get()), t;
}
function r9(e) {
  const t = {};
  return e.values.forEach((r, n) => t[n] = r.getVelocity()), t;
}
function wo(e, t, r) {
  const n = e.getProps();
  return Zc(n, t, r !== void 0 ? r : n.custom, t9(e), r9(e));
}
function n9(e, t, r) {
  e.hasValue(t) ? e.getValue(t).set(r) : e.addValue(t, Oi(r));
}
function i9(e, t) {
  const r = wo(e, t);
  let { transitionEnd: n = {}, transition: i = {}, ...s } = r ? e.makeTargetAnimatable(r, !1) : {};
  s = { ...s, ...n };
  for (const a in s) {
    const o = pS(s[a]);
    n9(e, a, o);
  }
}
function s9(e, t, r) {
  var n, i;
  const s = Object.keys(t).filter((o) => !e.hasValue(o)), a = s.length;
  if (a)
    for (let o = 0; o < a; o++) {
      const u = s[o], f = t[u];
      let l = null;
      Array.isArray(f) && (l = f[0]), l === null && (l = (i = (n = r[u]) !== null && n !== void 0 ? n : e.readValue(u)) !== null && i !== void 0 ? i : t[u]), l != null && (typeof l == "string" && (MS(l) || BS(l)) ? l = parseFloat(l) : !e9(l) && In.test(f) && (l = ol(u, f)), e.addValue(u, Oi(l, { owner: e })), r[u] === void 0 && (r[u] = l), l !== null && e.setBaseTarget(u, l));
    }
}
function a9(e, t) {
  return t ? (t[e] || t.default || t).from : void 0;
}
function o9(e, t, r) {
  var n;
  const i = {};
  for (const s in e) {
    const a = a9(s, t);
    i[s] = a !== void 0 ? a : (n = r.getValue(s)) === null || n === void 0 ? void 0 : n.get();
  }
  return i;
}
function Oa(e) {
  return Boolean(xr(e) && e.add);
}
const u9 = (e, t) => `${e}: ${t}`;
function f9(e, t) {
  const { MotionAppearAnimations: r } = window, n = u9(e, Qn.has(t) ? "transform" : t), i = r && r.get(n);
  return i ? (Gt.render(() => {
    try {
      i.cancel(), r.delete(n);
    } catch {
    }
  }), i.currentTime || 0) : 0;
}
const c9 = "framerAppearId", l9 = "data-" + Yc(c9);
var xo = function() {
}, Dr = function() {
};
process.env.NODE_ENV !== "production" && (xo = function(e, t) {
  !e && typeof console < "u" && console.warn(t);
}, Dr = function(e, t) {
  if (!e)
    throw new Error(t);
});
const ca = (e) => e * 1e3, h9 = {
  current: !1
}, ul = (e) => (t) => t <= 0.5 ? e(2 * t) / 2 : (2 - e(2 * (1 - t))) / 2, fl = (e) => (t) => 1 - e(1 - t), cl = (e) => e * e, d9 = fl(cl), ll = ul(cl), xt = (e, t, r) => -r * e + r * t + e;
function Au(e, t, r) {
  return r < 0 && (r += 1), r > 1 && (r -= 1), r < 1 / 6 ? e + (t - e) * 6 * r : r < 1 / 2 ? t : r < 2 / 3 ? e + (t - e) * (2 / 3 - r) * 6 : e;
}
function p9({ hue: e, saturation: t, lightness: r, alpha: n }) {
  e /= 360, t /= 100, r /= 100;
  let i = 0, s = 0, a = 0;
  if (!t)
    i = s = a = r;
  else {
    const o = r < 0.5 ? r * (1 + t) : r + t - r * t, u = 2 * r - o;
    i = Au(u, o, e + 1 / 3), s = Au(u, o, e), a = Au(u, o, e - 1 / 3);
  }
  return {
    red: Math.round(i * 255),
    green: Math.round(s * 255),
    blue: Math.round(a * 255),
    alpha: n
  };
}
const _u = (e, t, r) => {
  const n = e * e;
  return Math.sqrt(Math.max(0, r * (t * t - n) + n));
}, v9 = [pf, Vn, vi], g9 = (e) => v9.find((t) => t.test(e));
function yd(e) {
  const t = g9(e);
  Dr(Boolean(t), `'${e}' is not an animatable color. Use the equivalent color code instead.`);
  let r = t.parse(e);
  return t === vi && (r = p9(r)), r;
}
const Tv = (e, t) => {
  const r = yd(e), n = yd(t), i = { ...r };
  return (s) => (i.red = _u(r.red, n.red, s), i.green = _u(r.green, n.green, s), i.blue = _u(r.blue, n.blue, s), i.alpha = xt(r.alpha, n.alpha, s), Vn.transform(i));
};
function Pv(e, t) {
  return typeof e == "number" ? (r) => xt(e, t, r) : zt.test(e) ? Tv(e, t) : Iv(e, t);
}
const Fv = (e, t) => {
  const r = [...e], n = r.length, i = e.map((s, a) => Pv(s, t[a]));
  return (s) => {
    for (let a = 0; a < n; a++)
      r[a] = i[a](s);
    return r;
  };
}, y9 = (e, t) => {
  const r = { ...e, ...t }, n = {};
  for (const i in r)
    e[i] !== void 0 && t[i] !== void 0 && (n[i] = Pv(e[i], t[i]));
  return (i) => {
    for (const s in n)
      r[s] = n[s](i);
    return r;
  };
}, Iv = (e, t) => {
  const r = In.createTransformer(t), n = Ra(e), i = Ra(t);
  return n.numColors === i.numColors && n.numNumbers >= i.numNumbers ? yo(Fv(n.values, i.values), r) : (xo(!0, `Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`), (a) => `${a > 0 ? t : e}`);
}, Da = (e, t, r) => {
  const n = t - e;
  return n === 0 ? 1 : (r - e) / n;
}, md = (e, t) => (r) => xt(e, t, r);
function m9(e) {
  return typeof e == "number" ? md : typeof e == "string" ? zt.test(e) ? Tv : Iv : Array.isArray(e) ? Fv : typeof e == "object" ? y9 : md;
}
function b9(e, t, r) {
  const n = [], i = r || m9(e[0]), s = e.length - 1;
  for (let a = 0; a < s; a++) {
    let o = i(e[a], e[a + 1]);
    if (t) {
      const u = Array.isArray(t) ? t[a] : t;
      o = yo(u, o);
    }
    n.push(o);
  }
  return n;
}
function Cv(e, t, { clamp: r = !0, ease: n, mixer: i } = {}) {
  const s = e.length;
  Dr(s === t.length, "Both input and output ranges must be the same length"), Dr(!n || !Array.isArray(n) || n.length === s - 1, "Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."), e[0] > e[s - 1] && (e = [...e].reverse(), t = [...t].reverse());
  const a = b9(t, n, i), o = a.length, u = (f) => {
    let l = 0;
    if (o > 1)
      for (; l < e.length - 2 && !(f < e[l + 1]); l++)
        ;
    const h = Da(e[l], e[l + 1], f);
    return a[l](h);
  };
  return r ? (f) => u(Ri(e[0], e[s - 1], f)) : u;
}
const hl = (e) => e, Rv = (e, t, r) => (((1 - 3 * r + 3 * t) * e + (3 * r - 6 * t)) * e + 3 * t) * e, w9 = 1e-7, x9 = 12;
function S9(e, t, r, n, i) {
  let s, a, o = 0;
  do
    a = t + (r - t) / 2, s = Rv(a, n, i) - e, s > 0 ? r = a : t = a;
  while (Math.abs(s) > w9 && ++o < x9);
  return a;
}
function Ov(e, t, r, n) {
  if (e === t && r === n)
    return hl;
  const i = (s) => S9(s, 0, 1, e, r);
  return (s) => s === 0 || s === 1 ? s : Rv(i(s), t, n);
}
const Dv = (e) => 1 - Math.sin(Math.acos(e)), dl = fl(Dv), E9 = ul(dl), Mv = Ov(0.33, 1.53, 0.69, 0.99), pl = fl(Mv), A9 = ul(pl), _9 = (e) => (e *= 2) < 1 ? 0.5 * pl(e) : 0.5 * (2 - Math.pow(2, -10 * (e - 1))), bd = {
  linear: hl,
  easeIn: cl,
  easeInOut: ll,
  easeOut: d9,
  circIn: Dv,
  circInOut: E9,
  circOut: dl,
  backIn: pl,
  backInOut: A9,
  backOut: Mv,
  anticipate: _9
}, wd = (e) => {
  if (Array.isArray(e)) {
    Dr(e.length === 4, "Cubic bezier arrays must contain four numerical values.");
    const [t, r, n, i] = e;
    return Ov(t, r, n, i);
  } else if (typeof e == "string")
    return Dr(bd[e] !== void 0, `Invalid easing type '${e}'`), bd[e];
  return e;
}, T9 = (e) => Array.isArray(e) && typeof e[0] != "number";
function P9(e, t) {
  return e.map(() => t || ll).splice(0, e.length - 1);
}
function F9(e) {
  const t = e.length;
  return e.map((r, n) => n !== 0 ? n / (t - 1) : 0);
}
function I9(e, t) {
  return e.map((r) => r * t);
}
function gf({ keyframes: e, ease: t = ll, times: r, duration: n = 300 }) {
  e = [...e];
  const i = T9(t) ? t.map(wd) : wd(t), s = {
    done: !1,
    value: e[0]
  }, a = I9(
    // Only use the provided offsets if they're the correct length
    // TODO Maybe we should warn here if there's a length mismatch
    r && r.length === e.length ? r : F9(e),
    n
  );
  function o() {
    return Cv(a, e, {
      ease: Array.isArray(i) ? i : P9(e, i)
    });
  }
  let u = o();
  return {
    next: (f) => (s.value = u(f), s.done = f >= n, s),
    flipTarget: () => {
      e.reverse(), u = o();
    }
  };
}
const Tu = 1e-3, C9 = 0.01, xd = 10, R9 = 0.05, O9 = 1;
function D9({ duration: e = 800, bounce: t = 0.25, velocity: r = 0, mass: n = 1 }) {
  let i, s;
  xo(e <= xd * 1e3, "Spring duration must be 10 seconds or less");
  let a = 1 - t;
  a = Ri(R9, O9, a), e = Ri(C9, xd, e / 1e3), a < 1 ? (i = (f) => {
    const l = f * a, h = l * e, c = l - r, d = yf(f, a), p = Math.exp(-h);
    return Tu - c / d * p;
  }, s = (f) => {
    const h = f * a * e, c = h * r + r, d = Math.pow(a, 2) * Math.pow(f, 2) * e, p = Math.exp(-h), v = yf(Math.pow(f, 2), a);
    return (-i(f) + Tu > 0 ? -1 : 1) * ((c - d) * p) / v;
  }) : (i = (f) => {
    const l = Math.exp(-f * e), h = (f - r) * e + 1;
    return -Tu + l * h;
  }, s = (f) => {
    const l = Math.exp(-f * e), h = (r - f) * (e * e);
    return l * h;
  });
  const o = 5 / e, u = B9(i, s, o);
  if (e = e * 1e3, isNaN(u))
    return {
      stiffness: 100,
      damping: 10,
      duration: e
    };
  {
    const f = Math.pow(u, 2) * n;
    return {
      stiffness: f,
      damping: a * 2 * Math.sqrt(n * f),
      duration: e
    };
  }
}
const M9 = 12;
function B9(e, t, r) {
  let n = r;
  for (let i = 1; i < M9; i++)
    n = n - e(n) / t(n);
  return n;
}
function yf(e, t) {
  return e * Math.sqrt(1 - t * t);
}
const N9 = ["duration", "bounce"], k9 = ["stiffness", "damping", "mass"];
function Sd(e, t) {
  return t.some((r) => e[r] !== void 0);
}
function j9(e) {
  let t = {
    velocity: 0,
    stiffness: 100,
    damping: 10,
    mass: 1,
    isResolvedFromDuration: !1,
    ...e
  };
  if (!Sd(e, k9) && Sd(e, N9)) {
    const r = D9(e);
    t = {
      ...t,
      ...r,
      velocity: 0,
      mass: 1
    }, t.isResolvedFromDuration = !0;
  }
  return t;
}
const L9 = 5;
function Bv({ keyframes: e, restSpeed: t = 2, restDelta: r = 0.01, ...n }) {
  let i = e[0], s = e[e.length - 1];
  const a = { done: !1, value: i }, { stiffness: o, damping: u, mass: f, velocity: l, duration: h, isResolvedFromDuration: c } = j9(n);
  let d = V9, p = l ? -(l / 1e3) : 0;
  const v = u / (2 * Math.sqrt(o * f));
  function m() {
    const b = s - i, A = Math.sqrt(o / f) / 1e3;
    if (r === void 0 && (r = Math.min(Math.abs(s - i) / 100, 0.4)), v < 1) {
      const D = yf(A, v);
      d = (k) => {
        const L = Math.exp(-v * A * k);
        return s - L * ((p + v * A * b) / D * Math.sin(D * k) + b * Math.cos(D * k));
      };
    } else if (v === 1)
      d = (D) => s - Math.exp(-A * D) * (b + (p + A * b) * D);
    else {
      const D = A * Math.sqrt(v * v - 1);
      d = (k) => {
        const L = Math.exp(-v * A * k), _ = Math.min(D * k, 300);
        return s - L * ((p + v * A * b) * Math.sinh(_) + D * b * Math.cosh(_)) / D;
      };
    }
  }
  return m(), {
    next: (b) => {
      const A = d(b);
      if (c)
        a.done = b >= h;
      else {
        let D = p;
        if (b !== 0)
          if (v < 1) {
            const _ = Math.max(0, b - L9);
            D = il(A - d(_), b - _);
          } else
            D = 0;
        const k = Math.abs(D) <= t, L = Math.abs(s - A) <= r;
        a.done = k && L;
      }
      return a.value = a.done ? s : A, a;
    },
    flipTarget: () => {
      p = -p, [i, s] = [s, i], m();
    }
  };
}
Bv.needsInterpolation = (e, t) => typeof e == "string" || typeof t == "string";
const V9 = (e) => 0;
function H9({
  /**
   * The decay animation dynamically calculates an end of the animation
   * based on the initial keyframe, so we only need to define a single keyframe
   * as default.
   */
  keyframes: e = [0],
  velocity: t = 0,
  power: r = 0.8,
  timeConstant: n = 350,
  restDelta: i = 0.5,
  modifyTarget: s
}) {
  const a = e[0], o = { done: !1, value: a };
  let u = r * t;
  const f = a + u, l = s === void 0 ? f : s(f);
  return l !== f && (u = l - a), {
    next: (h) => {
      const c = -u * Math.exp(-h / n);
      return o.done = !(c > i || c < -i), o.value = o.done ? l : l + c, o;
    },
    flipTarget: () => {
    }
  };
}
const U9 = {
  decay: H9,
  keyframes: gf,
  tween: gf,
  spring: Bv
};
function Nv(e, t, r = 0) {
  return e - t - r;
}
function q9(e, t = 0, r = 0, n = !0) {
  return n ? Nv(t + -e, t, r) : t - (e - t) + r;
}
function K9(e, t, r, n) {
  return n ? e >= t + r : e <= -r;
}
const $9 = (e) => {
  const t = ({ delta: r }) => e(r);
  return {
    start: () => Gt.update(t, !0),
    stop: () => Fn.update(t)
  };
};
function Ma({ duration: e, driver: t = $9, elapsed: r = 0, repeat: n = 0, repeatType: i = "loop", repeatDelay: s = 0, keyframes: a, autoplay: o = !0, onPlay: u, onStop: f, onComplete: l, onRepeat: h, onUpdate: c, type: d = "keyframes", ...p }) {
  var v, m;
  const b = r;
  let A, D = 0, k = e, L = !1, _ = !0, F;
  const O = U9[a.length > 2 ? "keyframes" : d] || gf, P = a[0], M = a[a.length - 1];
  let C = { done: !1, value: P };
  !((m = (v = O).needsInterpolation) === null || m === void 0) && m.call(v, P, M) && (F = Cv([0, 100], [P, M], {
    clamp: !1
  }), a = [0, 100]);
  const y = O({
    ...p,
    duration: e,
    keyframes: a
  });
  function E() {
    D++, i === "reverse" ? (_ = D % 2 === 0, r = q9(r, k, s, _)) : (r = Nv(r, k, s), i === "mirror" && y.flipTarget()), L = !1, h && h();
  }
  function T() {
    A && A.stop(), l && l();
  }
  function R(H) {
    _ || (H = -H), r += H, L || (C = y.next(Math.max(0, r)), F && (C.value = F(C.value)), L = _ ? C.done : r <= 0), c && c(C.value), L && (D === 0 && (k = k !== void 0 ? k : r), D < n ? K9(r, k, s, _) && E() : T());
  }
  function N() {
    u && u(), A = t(R), A.start();
  }
  return o && N(), {
    stop: () => {
      f && f(), A && A.stop();
    },
    /**
     * animate() can't yet be sampled for time, instead it
     * consumes time. So to sample it we have to run a low
     * temporal-resolution version.
     */
    sample: (H) => {
      r = b;
      const Z = e && typeof e == "number" ? Math.max(e * 0.5, 50) : 50;
      let K = 0;
      for (R(0); K <= H; ) {
        const x = H - K;
        R(Math.min(x, Z)), K += Z;
      }
      return C;
    }
  };
}
function z9(e) {
  return !e || // Default easing
  Array.isArray(e) || typeof e == "string" && kv[e];
}
const ns = ([e, t, r, n]) => `cubic-bezier(${e}, ${t}, ${r}, ${n})`, kv = {
  linear: "linear",
  ease: "ease",
  easeIn: "ease-in",
  easeOut: "ease-out",
  easeInOut: "ease-in-out",
  circIn: ns([0, 0.65, 0.55, 1]),
  circOut: ns([0.55, 0, 1, 0.45]),
  backIn: ns([0.31, 0.01, 0.66, -0.59]),
  backOut: ns([0.33, 1.53, 0.69, 0.99])
};
function W9(e) {
  if (e)
    return Array.isArray(e) ? ns(e) : kv[e];
}
function G9(e, t, r, { delay: n = 0, duration: i, repeat: s = 0, repeatType: a = "loop", ease: o, times: u } = {}) {
  return e.animate({ [t]: r, offset: u }, {
    delay: n,
    duration: i,
    easing: W9(o),
    fill: "both",
    iterations: s + 1,
    direction: a === "reverse" ? "alternate" : "normal"
  });
}
const Ed = {
  waapi: () => Object.hasOwnProperty.call(Element.prototype, "animate")
}, Pu = {}, jv = {};
for (const e in Ed)
  jv[e] = () => (Pu[e] === void 0 && (Pu[e] = Ed[e]()), Pu[e]);
function J9(e, { repeat: t, repeatType: r = "loop" }) {
  const n = t && r !== "loop" && t % 2 === 1 ? 0 : e.length - 1;
  return e[n];
}
const Y9 = /* @__PURE__ */ new Set(["opacity"]), Qs = 10;
function X9(e, t, { onUpdate: r, onComplete: n, ...i }) {
  if (!(jv.waapi() && Y9.has(t) && !i.repeatDelay && i.repeatType !== "mirror" && i.damping !== 0))
    return !1;
  let { keyframes: a, duration: o = 300, elapsed: u = 0, ease: f } = i;
  if (i.type === "spring" || !z9(i.ease)) {
    if (i.repeat === 1 / 0)
      return;
    const h = Ma(i);
    let c = { done: !1, value: a[0] };
    const d = [];
    let p = 0;
    for (; !c.done && p < 2e4; )
      c = h.sample(p), d.push(c.value), p += Qs;
    a = d, o = p - Qs, f = "linear";
  }
  const l = G9(e.owner.current, t, a, {
    ...i,
    delay: -u,
    duration: o,
    /**
     * This function is currently not called if ease is provided
     * as a function so the cast is safe.
     *
     * However it would be possible for a future refinement to port
     * in easing pregeneration from Motion One for browsers that
     * support the upcoming `linear()` easing function.
     */
    ease: f
  });
  return l.onfinish = () => {
    e.set(J9(a, i)), n && n();
  }, () => {
    const { currentTime: h } = l;
    if (h) {
      const c = Ma({ ...i, autoplay: !1 });
      e.setWithVelocity(c.sample(h - Qs).value, c.sample(h).value, Qs);
    }
    Gt.update(() => l.cancel());
  };
}
function Lv(e, t) {
  const r = performance.now(), n = ({ timestamp: i }) => {
    const s = i - r;
    s >= t && (Fn.read(n), e(s - t));
  };
  return Gt.read(n, !0), () => Fn.read(n);
}
function Z9({ keyframes: e, elapsed: t, onUpdate: r, onComplete: n }) {
  const i = () => (r && r(e[e.length - 1]), n && n(), () => {
  });
  return t ? Lv(i, -t) : i();
}
function Q9({ keyframes: e, velocity: t = 0, min: r, max: n, power: i = 0.8, timeConstant: s = 750, bounceStiffness: a = 500, bounceDamping: o = 10, restDelta: u = 1, modifyTarget: f, driver: l, onUpdate: h, onComplete: c, onStop: d }) {
  const p = e[0];
  let v;
  function m(k) {
    return r !== void 0 && k < r || n !== void 0 && k > n;
  }
  function b(k) {
    return r === void 0 ? n : n === void 0 || Math.abs(r - k) < Math.abs(n - k) ? r : n;
  }
  function A(k) {
    v == null || v.stop(), v = Ma({
      keyframes: [0, 1],
      velocity: 0,
      ...k,
      driver: l,
      onUpdate: (L) => {
        var _;
        h == null || h(L), (_ = k.onUpdate) === null || _ === void 0 || _.call(k, L);
      },
      onComplete: c,
      onStop: d
    });
  }
  function D(k) {
    A({
      type: "spring",
      stiffness: a,
      damping: o,
      restDelta: u,
      ...k
    });
  }
  if (m(p))
    D({
      velocity: t,
      keyframes: [p, b(p)]
    });
  else {
    let k = i * t + p;
    typeof f < "u" && (k = f(k));
    const L = b(k), _ = L === r ? -1 : 1;
    let F, O;
    const P = (M) => {
      F = O, O = M, t = il(M - F, fn.delta), (_ === 1 && M > L || _ === -1 && M < L) && D({ keyframes: [M, L], velocity: t });
    };
    A({
      type: "decay",
      keyframes: [p, 0],
      velocity: t,
      timeConstant: s,
      power: i,
      restDelta: u,
      modifyTarget: f,
      onUpdate: m(k) ? P : void 0
    });
  }
  return {
    stop: () => v == null ? void 0 : v.stop()
  };
}
const Bn = () => ({
  type: "spring",
  stiffness: 500,
  damping: 25,
  restSpeed: 10
}), ea = (e) => ({
  type: "spring",
  stiffness: 550,
  damping: e === 0 ? 2 * Math.sqrt(550) : 30,
  restSpeed: 10
}), Fu = () => ({
  type: "keyframes",
  ease: "linear",
  duration: 0.3
}), eE = {
  type: "keyframes",
  duration: 0.8
}, Ad = {
  x: Bn,
  y: Bn,
  z: Bn,
  rotate: Bn,
  rotateX: Bn,
  rotateY: Bn,
  rotateZ: Bn,
  scaleX: ea,
  scaleY: ea,
  scale: ea,
  opacity: Fu,
  backgroundColor: Fu,
  color: Fu,
  default: ea
}, tE = (e, { keyframes: t }) => t.length > 2 ? eE : (Ad[e] || Ad.default)(t[1]), mf = (e, t) => e === "zIndex" ? !1 : !!(typeof t == "number" || Array.isArray(t) || typeof t == "string" && // It's animatable if we have a string
In.test(t) && // And it contains numbers and/or colors
!t.startsWith("url("));
function rE({ when: e, delay: t, delayChildren: r, staggerChildren: n, staggerDirection: i, repeat: s, repeatType: a, repeatDelay: o, from: u, elapsed: f, ...l }) {
  return !!Object.keys(l).length;
}
function _d(e) {
  return e === 0 || typeof e == "string" && parseFloat(e) === 0 && e.indexOf(" ") === -1;
}
function Td(e) {
  return typeof e == "number" ? 0 : ol("", e);
}
function Vv(e, t) {
  return e[t] || e.default || e;
}
function nE(e, t, r, n) {
  const i = mf(t, r);
  let s = n.from !== void 0 ? n.from : e.get();
  return s === "none" && i && typeof r == "string" ? s = ol(t, r) : _d(s) && typeof r == "string" ? s = Td(r) : !Array.isArray(r) && _d(r) && typeof s == "string" && (r = Td(s)), Array.isArray(r) ? (r[0] === null && (r[0] = s), r) : [s, r];
}
const vl = (e, t, r, n = {}) => (i) => {
  const s = Vv(n, e) || {}, a = s.delay || n.delay || 0;
  let { elapsed: o = 0 } = n;
  o = o - ca(a);
  const u = nE(t, e, r, s), f = u[0], l = u[u.length - 1], h = mf(e, f), c = mf(e, l);
  xo(h === c, `You are trying to animate ${e} from "${f}" to "${l}". ${f} is not an animatable value - to enable this animation set ${f} to a value animatable to ${l} via the \`style\` property.`);
  let d = {
    keyframes: u,
    velocity: t.getVelocity(),
    ...s,
    elapsed: o,
    onUpdate: (b) => {
      t.set(b), s.onUpdate && s.onUpdate(b);
    },
    onComplete: () => {
      i(), s.onComplete && s.onComplete();
    }
  };
  if (!h || !c || h9.current || s.type === !1)
    return Z9(d);
  if (s.type === "inertia") {
    const b = Q9(d);
    return () => b.stop();
  }
  rE(s) || (d = {
    ...d,
    ...tE(e, d)
  }), d.duration && (d.duration = ca(d.duration)), d.repeatDelay && (d.repeatDelay = ca(d.repeatDelay));
  const p = t.owner, v = p && p.current;
  if (p && v instanceof HTMLElement && !(p != null && p.getProps().onUpdate)) {
    const b = X9(t, e, d);
    if (b)
      return b;
  }
  const m = Ma(d);
  return () => m.stop();
};
function iE(e, t, r = {}) {
  e.notify("AnimationStart", t);
  let n;
  if (Array.isArray(t)) {
    const i = t.map((s) => bf(e, s, r));
    n = Promise.all(i);
  } else if (typeof t == "string")
    n = bf(e, t, r);
  else {
    const i = typeof t == "function" ? wo(e, t, r.custom) : t;
    n = Hv(e, i, r);
  }
  return n.then(() => e.notify("AnimationComplete", t));
}
function bf(e, t, r = {}) {
  var n;
  const i = wo(e, t, r.custom);
  let { transition: s = e.getDefaultTransition() || {} } = i || {};
  r.transitionOverride && (s = r.transitionOverride);
  const a = i ? () => Hv(e, i, r) : () => Promise.resolve(), o = !((n = e.variantChildren) === null || n === void 0) && n.size ? (f = 0) => {
    const { delayChildren: l = 0, staggerChildren: h, staggerDirection: c } = s;
    return sE(e, t, l + f, h, c, r);
  } : () => Promise.resolve(), { when: u } = s;
  if (u) {
    const [f, l] = u === "beforeChildren" ? [a, o] : [o, a];
    return f().then(l);
  } else
    return Promise.all([a(), o(r.delay)]);
}
function Hv(e, t, { delay: r = 0, transitionOverride: n, type: i } = {}) {
  var s;
  let { transition: a = e.getDefaultTransition(), transitionEnd: o, ...u } = e.makeTargetAnimatable(t);
  const f = e.getValue("willChange");
  n && (a = n);
  const l = [], h = i && ((s = e.animationState) === null || s === void 0 ? void 0 : s.getState()[i]);
  for (const c in u) {
    const d = e.getValue(c), p = u[c];
    if (!d || p === void 0 || h && oE(h, c))
      continue;
    let v = { delay: r, elapsed: 0, ...a };
    if (e.shouldReduceMotion && Qn.has(c) && (v = {
      ...v,
      type: !1,
      delay: 0
    }), !d.hasAnimated) {
      const b = e.getProps()[l9];
      b && (v.elapsed = f9(b, c));
    }
    let m = d.start(vl(c, d, p, v));
    Oa(f) && (f.add(c), m = m.then(() => f.remove(c))), l.push(m);
  }
  return Promise.all(l).then(() => {
    o && i9(e, o);
  });
}
function sE(e, t, r = 0, n = 0, i = 1, s) {
  const a = [], o = (e.variantChildren.size - 1) * n, u = i === 1 ? (f = 0) => f * n : (f = 0) => o - f * n;
  return Array.from(e.variantChildren).sort(aE).forEach((f, l) => {
    f.notify("AnimationStart", t), a.push(bf(f, t, {
      ...s,
      delay: r + u(l)
    }).then(() => f.notify("AnimationComplete", t)));
  }), Promise.all(a);
}
function aE(e, t) {
  return e.sortNodePosition(t);
}
function oE({ protectedKeys: e, needsAnimating: t }, r) {
  const n = e.hasOwnProperty(r) && t[r] !== !0;
  return t[r] = !1, n;
}
const gl = [
  tt.Animate,
  tt.InView,
  tt.Focus,
  tt.Hover,
  tt.Tap,
  tt.Drag,
  tt.Exit
], uE = [...gl].reverse(), fE = gl.length;
function cE(e) {
  return (t) => Promise.all(t.map(({ animation: r, options: n }) => iE(e, r, n)));
}
function lE(e) {
  let t = cE(e);
  const r = dE();
  let n = !0;
  const i = (u, f) => {
    const l = wo(e, f);
    if (l) {
      const { transition: h, transitionEnd: c, ...d } = l;
      u = { ...u, ...d, ...c };
    }
    return u;
  };
  function s(u) {
    t = u(e);
  }
  function a(u, f) {
    const l = e.getProps(), h = e.getVariantContext(!0) || {}, c = [], d = /* @__PURE__ */ new Set();
    let p = {}, v = 1 / 0;
    for (let b = 0; b < fE; b++) {
      const A = uE[b], D = r[A], k = l[A] !== void 0 ? l[A] : h[A], L = ws(k), _ = A === f ? D.isActive : null;
      _ === !1 && (v = b);
      let F = k === h[A] && k !== l[A] && L;
      if (F && n && e.manuallyAnimateOnMount && (F = !1), D.protectedKeys = { ...p }, !D.isActive && _ === null || !k && !D.prevProp || // Or if the prop doesn't define an animation
      ho(k) || typeof k == "boolean")
        continue;
      const O = hE(D.prevProp, k);
      let P = O || A === f && D.isActive && !F && L || b > v && L;
      const M = Array.isArray(k) ? k : [k];
      let C = M.reduce(i, {});
      _ === !1 && (C = {});
      const { prevResolvedValues: y = {} } = D, E = {
        ...y,
        ...C
      }, T = (R) => {
        P = !0, d.delete(R), D.needsAnimating[R] = !0;
      };
      for (const R in E) {
        const N = C[R], H = y[R];
        p.hasOwnProperty(R) || (N !== H ? Ia(N) && Ia(H) ? !vv(N, H) || O ? T(R) : D.protectedKeys[R] = !0 : N !== void 0 ? T(R) : d.add(R) : N !== void 0 && d.has(R) ? T(R) : D.protectedKeys[R] = !0);
      }
      D.prevProp = k, D.prevResolvedValues = C, D.isActive && (p = { ...p, ...C }), n && e.blockInitialAnimation && (P = !1), P && !F && c.push(...M.map((R) => ({
        animation: R,
        options: { type: A, ...u }
      })));
    }
    if (d.size) {
      const b = {};
      d.forEach((A) => {
        const D = e.getBaseTarget(A);
        D !== void 0 && (b[A] = D);
      }), c.push({ animation: b });
    }
    let m = Boolean(c.length);
    return n && l.initial === !1 && !e.manuallyAnimateOnMount && (m = !1), n = !1, m ? t(c) : Promise.resolve();
  }
  function o(u, f, l) {
    var h;
    if (r[u].isActive === f)
      return Promise.resolve();
    (h = e.variantChildren) === null || h === void 0 || h.forEach((d) => {
      var p;
      return (p = d.animationState) === null || p === void 0 ? void 0 : p.setActive(u, f);
    }), r[u].isActive = f;
    const c = a(l, u);
    for (const d in r)
      r[d].protectedKeys = {};
    return c;
  }
  return {
    animateChanges: a,
    setActive: o,
    setAnimateFunction: s,
    getState: () => r
  };
}
function hE(e, t) {
  return typeof t == "string" ? t !== e : Array.isArray(t) ? !vv(t, e) : !1;
}
function Nn(e = !1) {
  return {
    isActive: e,
    protectedKeys: {},
    needsAnimating: {},
    prevResolvedValues: {}
  };
}
function dE() {
  return {
    [tt.Animate]: Nn(!0),
    [tt.InView]: Nn(),
    [tt.Hover]: Nn(),
    [tt.Tap]: Nn(),
    [tt.Drag]: Nn(),
    [tt.Focus]: Nn(),
    [tt.Exit]: Nn()
  };
}
const pE = {
  animation: An(({ visualElement: e, animate: t }) => {
    e.animationState || (e.animationState = lE(e)), ho(t) && Ye(() => t.subscribe(e), [t]);
  }),
  exit: An((e) => {
    const { custom: t, visualElement: r } = e, [n, i] = pv(), s = Dt(Bs);
    Ye(() => {
      r.isPresent = n;
      const a = r.animationState && r.animationState.setActive(tt.Exit, !n, {
        custom: s && s.custom || t
      });
      a && !n && a.then(i);
    }, [n]);
  })
}, Pd = (e, t) => Math.abs(e - t);
function vE(e, t) {
  const r = Pd(e.x, t.x), n = Pd(e.y, t.y);
  return Math.sqrt(r ** 2 + n ** 2);
}
class Uv {
  constructor(t, r, { transformPagePoint: n } = {}) {
    if (this.startEvent = null, this.lastMoveEvent = null, this.lastMoveEventInfo = null, this.handlers = {}, this.updatePoint = () => {
      if (!(this.lastMoveEvent && this.lastMoveEventInfo))
        return;
      const f = Cu(this.lastMoveEventInfo, this.history), l = this.startEvent !== null, h = vE(f.offset, { x: 0, y: 0 }) >= 3;
      if (!l && !h)
        return;
      const { point: c } = f, { timestamp: d } = fn;
      this.history.push({ ...c, timestamp: d });
      const { onStart: p, onMove: v } = this.handlers;
      l || (p && p(this.lastMoveEvent, f), this.startEvent = this.lastMoveEvent), v && v(this.lastMoveEvent, f);
    }, this.handlePointerMove = (f, l) => {
      this.lastMoveEvent = f, this.lastMoveEventInfo = Iu(l, this.transformPagePoint), Gt.update(this.updatePoint, !0);
    }, this.handlePointerUp = (f, l) => {
      this.end();
      const { onEnd: h, onSessionEnd: c } = this.handlers, d = Cu(Iu(l, this.transformPagePoint), this.history);
      this.startEvent && h && h(f, d), c && c(f, d);
    }, !uv(t))
      return;
    this.handlers = r, this.transformPagePoint = n;
    const i = Qc(t), s = Iu(i, this.transformPagePoint), { point: a } = s, { timestamp: o } = fn;
    this.history = [{ ...a, timestamp: o }];
    const { onSessionStart: u } = r;
    u && u(t, Cu(s, this.history)), this.removeListeners = yo(bi(window, "pointermove", this.handlePointerMove), bi(window, "pointerup", this.handlePointerUp), bi(window, "pointercancel", this.handlePointerUp));
  }
  updateHandlers(t) {
    this.handlers = t;
  }
  end() {
    this.removeListeners && this.removeListeners(), Fn.update(this.updatePoint);
  }
}
function Iu(e, t) {
  return t ? { point: t(e.point) } : e;
}
function Fd(e, t) {
  return { x: e.x - t.x, y: e.y - t.y };
}
function Cu({ point: e }, t) {
  return {
    point: e,
    delta: Fd(e, qv(t)),
    offset: Fd(e, gE(t)),
    velocity: yE(t, 0.1)
  };
}
function gE(e) {
  return e[0];
}
function qv(e) {
  return e[e.length - 1];
}
function yE(e, t) {
  if (e.length < 2)
    return { x: 0, y: 0 };
  let r = e.length - 1, n = null;
  const i = qv(e);
  for (; r >= 0 && (n = e[r], !(i.timestamp - n.timestamp > ca(t))); )
    r--;
  if (!n)
    return { x: 0, y: 0 };
  const s = (i.timestamp - n.timestamp) / 1e3;
  if (s === 0)
    return { x: 0, y: 0 };
  const a = {
    x: (i.x - n.x) / s,
    y: (i.y - n.y) / s
  };
  return a.x === 1 / 0 && (a.x = 0), a.y === 1 / 0 && (a.y = 0), a;
}
function sr(e) {
  return e.max - e.min;
}
function wf(e, t = 0, r = 0.01) {
  return Math.abs(e - t) <= r;
}
function Id(e, t, r, n = 0.5) {
  e.origin = n, e.originPoint = xt(t.min, t.max, e.origin), e.scale = sr(r) / sr(t), (wf(e.scale, 1, 1e-4) || isNaN(e.scale)) && (e.scale = 1), e.translate = xt(r.min, r.max, e.origin) - e.originPoint, (wf(e.translate) || isNaN(e.translate)) && (e.translate = 0);
}
function cs(e, t, r, n) {
  Id(e.x, t.x, r.x, n == null ? void 0 : n.originX), Id(e.y, t.y, r.y, n == null ? void 0 : n.originY);
}
function Cd(e, t, r) {
  e.min = r.min + t.min, e.max = e.min + sr(t);
}
function mE(e, t, r) {
  Cd(e.x, t.x, r.x), Cd(e.y, t.y, r.y);
}
function Rd(e, t, r) {
  e.min = t.min - r.min, e.max = e.min + sr(t);
}
function ls(e, t, r) {
  Rd(e.x, t.x, r.x), Rd(e.y, t.y, r.y);
}
function bE(e, { min: t, max: r }, n) {
  return t !== void 0 && e < t ? e = n ? xt(t, e, n.min) : Math.max(e, t) : r !== void 0 && e > r && (e = n ? xt(r, e, n.max) : Math.min(e, r)), e;
}
function Od(e, t, r) {
  return {
    min: t !== void 0 ? e.min + t : void 0,
    max: r !== void 0 ? e.max + r - (e.max - e.min) : void 0
  };
}
function wE(e, { top: t, left: r, bottom: n, right: i }) {
  return {
    x: Od(e.x, r, i),
    y: Od(e.y, t, n)
  };
}
function Dd(e, t) {
  let r = t.min - e.min, n = t.max - e.max;
  return t.max - t.min < e.max - e.min && ([r, n] = [n, r]), { min: r, max: n };
}
function xE(e, t) {
  return {
    x: Dd(e.x, t.x),
    y: Dd(e.y, t.y)
  };
}
function SE(e, t) {
  let r = 0.5;
  const n = sr(e), i = sr(t);
  return i > n ? r = Da(t.min, t.max - n, e.min) : n > i && (r = Da(e.min, e.max - i, t.min)), Ri(0, 1, r);
}
function EE(e, t) {
  const r = {};
  return t.min !== void 0 && (r.min = t.min - e.min), t.max !== void 0 && (r.max = t.max - e.min), r;
}
const xf = 0.35;
function AE(e = xf) {
  return e === !1 ? e = 0 : e === !0 && (e = xf), {
    x: Md(e, "left", "right"),
    y: Md(e, "top", "bottom")
  };
}
function Md(e, t, r) {
  return {
    min: Bd(e, t),
    max: Bd(e, r)
  };
}
function Bd(e, t) {
  return typeof e == "number" ? e : e[t] || 0;
}
const Nd = () => ({
  translate: 0,
  scale: 1,
  origin: 0,
  originPoint: 0
}), hs = () => ({
  x: Nd(),
  y: Nd()
}), kd = () => ({ min: 0, max: 0 }), Tt = () => ({
  x: kd(),
  y: kd()
});
function kr(e) {
  return [e("x"), e("y")];
}
function Kv({ top: e, left: t, right: r, bottom: n }) {
  return {
    x: { min: t, max: r },
    y: { min: e, max: n }
  };
}
function _E({ x: e, y: t }) {
  return { top: t.min, right: e.max, bottom: t.max, left: e.min };
}
function TE(e, t) {
  if (!t)
    return e;
  const r = t({ x: e.left, y: e.top }), n = t({ x: e.right, y: e.bottom });
  return {
    top: r.y,
    left: r.x,
    bottom: n.y,
    right: n.x
  };
}
function Ru(e) {
  return e === void 0 || e === 1;
}
function Sf({ scale: e, scaleX: t, scaleY: r }) {
  return !Ru(e) || !Ru(t) || !Ru(r);
}
function jn(e) {
  return Sf(e) || $v(e) || e.z || e.rotate || e.rotateX || e.rotateY;
}
function $v(e) {
  return jd(e.x) || jd(e.y);
}
function jd(e) {
  return e && e !== "0%";
}
function Ba(e, t, r) {
  const n = e - r, i = t * n;
  return r + i;
}
function Ld(e, t, r, n, i) {
  return i !== void 0 && (e = Ba(e, i, n)), Ba(e, r, n) + t;
}
function Ef(e, t = 0, r = 1, n, i) {
  e.min = Ld(e.min, t, r, n, i), e.max = Ld(e.max, t, r, n, i);
}
function zv(e, { x: t, y: r }) {
  Ef(e.x, t.translate, t.scale, t.originPoint), Ef(e.y, r.translate, r.scale, r.originPoint);
}
function PE(e, t, r, n = !1) {
  var i, s;
  const a = r.length;
  if (!a)
    return;
  t.x = t.y = 1;
  let o, u;
  for (let f = 0; f < a; f++)
    o = r[f], u = o.projectionDelta, ((s = (i = o.instance) === null || i === void 0 ? void 0 : i.style) === null || s === void 0 ? void 0 : s.display) !== "contents" && (n && o.options.layoutScroll && o.scroll && o !== o.root && gi(e, {
      x: -o.scroll.offset.x,
      y: -o.scroll.offset.y
    }), u && (t.x *= u.x.scale, t.y *= u.y.scale, zv(e, u)), n && jn(o.latestValues) && gi(e, o.latestValues));
  t.x = Vd(t.x), t.y = Vd(t.y);
}
function Vd(e) {
  return Number.isInteger(e) || e > 1.0000000000001 || e < 0.999999999999 ? e : 1;
}
function wn(e, t) {
  e.min = e.min + t, e.max = e.max + t;
}
function Hd(e, t, [r, n, i]) {
  const s = t[i] !== void 0 ? t[i] : 0.5, a = xt(e.min, e.max, s);
  Ef(e, t[r], t[n], a, t.scale);
}
const FE = ["x", "scaleX", "originX"], IE = ["y", "scaleY", "originY"];
function gi(e, t) {
  Hd(e.x, t, FE), Hd(e.y, t, IE);
}
function Wv(e, t) {
  return Kv(TE(e.getBoundingClientRect(), t));
}
function CE(e, t, r) {
  const n = Wv(e, r), { scroll: i } = t;
  return i && (wn(n.x, i.offset.x), wn(n.y, i.offset.y)), n;
}
const RE = /* @__PURE__ */ new WeakMap();
class OE {
  constructor(t) {
    this.openGlobalLock = null, this.isDragging = !1, this.currentDirection = null, this.originPoint = { x: 0, y: 0 }, this.constraints = !1, this.hasMutatedConstraints = !1, this.elastic = Tt(), this.visualElement = t;
  }
  start(t, { snapToCursor: r = !1 } = {}) {
    if (this.visualElement.isPresent === !1)
      return;
    const n = (o) => {
      this.stopAnimation(), r && this.snapToCursor(Qc(o, "page").point);
    }, i = (o, u) => {
      var f;
      const { drag: l, dragPropagation: h, onDragStart: c } = this.getProps();
      l && !h && (this.openGlobalLock && this.openGlobalLock(), this.openGlobalLock = lv(l), !this.openGlobalLock) || (this.isDragging = !0, this.currentDirection = null, this.resolveConstraints(), this.visualElement.projection && (this.visualElement.projection.isAnimationBlocked = !0, this.visualElement.projection.target = void 0), kr((d) => {
        var p, v;
        let m = this.getAxisMotionValue(d).get() || 0;
        if (zr.test(m)) {
          const b = (v = (p = this.visualElement.projection) === null || p === void 0 ? void 0 : p.layout) === null || v === void 0 ? void 0 : v.layoutBox[d];
          b && (m = sr(b) * (parseFloat(m) / 100));
        }
        this.originPoint[d] = m;
      }), c == null || c(o, u), (f = this.visualElement.animationState) === null || f === void 0 || f.setActive(tt.Drag, !0));
    }, s = (o, u) => {
      const { dragPropagation: f, dragDirectionLock: l, onDirectionLock: h, onDrag: c } = this.getProps();
      if (!f && !this.openGlobalLock)
        return;
      const { offset: d } = u;
      if (l && this.currentDirection === null) {
        this.currentDirection = DE(d), this.currentDirection !== null && (h == null || h(this.currentDirection));
        return;
      }
      this.updateAxis("x", u.point, d), this.updateAxis("y", u.point, d), this.visualElement.render(), c == null || c(o, u);
    }, a = (o, u) => this.stop(o, u);
    this.panSession = new Uv(t, {
      onSessionStart: n,
      onStart: i,
      onMove: s,
      onSessionEnd: a
    }, { transformPagePoint: this.visualElement.getTransformPagePoint() });
  }
  stop(t, r) {
    const n = this.isDragging;
    if (this.cancel(), !n)
      return;
    const { velocity: i } = r;
    this.startAnimation(i);
    const { onDragEnd: s } = this.getProps();
    s == null || s(t, r);
  }
  cancel() {
    var t, r;
    this.isDragging = !1, this.visualElement.projection && (this.visualElement.projection.isAnimationBlocked = !1), (t = this.panSession) === null || t === void 0 || t.end(), this.panSession = void 0;
    const { dragPropagation: n } = this.getProps();
    !n && this.openGlobalLock && (this.openGlobalLock(), this.openGlobalLock = null), (r = this.visualElement.animationState) === null || r === void 0 || r.setActive(tt.Drag, !1);
  }
  updateAxis(t, r, n) {
    const { drag: i } = this.getProps();
    if (!n || !ta(t, i, this.currentDirection))
      return;
    const s = this.getAxisMotionValue(t);
    let a = this.originPoint[t] + n[t];
    this.constraints && this.constraints[t] && (a = bE(a, this.constraints[t], this.elastic[t])), s.set(a);
  }
  resolveConstraints() {
    const { dragConstraints: t, dragElastic: r } = this.getProps(), { layout: n } = this.visualElement.projection || {}, i = this.constraints;
    t && pi(t) ? this.constraints || (this.constraints = this.resolveRefConstraints()) : t && n ? this.constraints = wE(n.layoutBox, t) : this.constraints = !1, this.elastic = AE(r), i !== this.constraints && n && this.constraints && !this.hasMutatedConstraints && kr((s) => {
      this.getAxisMotionValue(s) && (this.constraints[s] = EE(n.layoutBox[s], this.constraints[s]));
    });
  }
  resolveRefConstraints() {
    const { dragConstraints: t, onMeasureDragConstraints: r } = this.getProps();
    if (!t || !pi(t))
      return !1;
    const n = t.current;
    Dr(n !== null, "If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");
    const { projection: i } = this.visualElement;
    if (!i || !i.layout)
      return !1;
    const s = CE(n, i.root, this.visualElement.getTransformPagePoint());
    let a = xE(i.layout.layoutBox, s);
    if (r) {
      const o = r(_E(a));
      this.hasMutatedConstraints = !!o, o && (a = Kv(o));
    }
    return a;
  }
  startAnimation(t) {
    const { drag: r, dragMomentum: n, dragElastic: i, dragTransition: s, dragSnapToOrigin: a, onDragTransitionEnd: o } = this.getProps(), u = this.constraints || {}, f = kr((l) => {
      if (!ta(l, r, this.currentDirection))
        return;
      let h = (u == null ? void 0 : u[l]) || {};
      a && (h = { min: 0, max: 0 });
      const c = i ? 200 : 1e6, d = i ? 40 : 1e7, p = {
        type: "inertia",
        velocity: n ? t[l] : 0,
        bounceStiffness: c,
        bounceDamping: d,
        timeConstant: 750,
        restDelta: 1,
        restSpeed: 10,
        ...s,
        ...h
      };
      return this.startAxisValueAnimation(l, p);
    });
    return Promise.all(f).then(o);
  }
  startAxisValueAnimation(t, r) {
    const n = this.getAxisMotionValue(t);
    return n.start(vl(t, n, 0, r));
  }
  stopAnimation() {
    kr((t) => this.getAxisMotionValue(t).stop());
  }
  /**
   * Drag works differently depending on which props are provided.
   *
   * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.
   * - Otherwise, we apply the delta to the x/y motion values.
   */
  getAxisMotionValue(t) {
    var r;
    const n = "_drag" + t.toUpperCase(), i = this.visualElement.getProps()[n];
    return i || this.visualElement.getValue(t, ((r = this.visualElement.getProps().initial) === null || r === void 0 ? void 0 : r[t]) || 0);
  }
  snapToCursor(t) {
    kr((r) => {
      const { drag: n } = this.getProps();
      if (!ta(r, n, this.currentDirection))
        return;
      const { projection: i } = this.visualElement, s = this.getAxisMotionValue(r);
      if (i && i.layout) {
        const { min: a, max: o } = i.layout.layoutBox[r];
        s.set(t[r] - xt(a, o, 0.5));
      }
    });
  }
  /**
   * When the viewport resizes we want to check if the measured constraints
   * have changed and, if so, reposition the element within those new constraints
   * relative to where it was before the resize.
   */
  scalePositionWithinConstraints() {
    var t;
    if (!this.visualElement.current)
      return;
    const { drag: r, dragConstraints: n } = this.getProps(), { projection: i } = this.visualElement;
    if (!pi(n) || !i || !this.constraints)
      return;
    this.stopAnimation();
    const s = { x: 0, y: 0 };
    kr((o) => {
      const u = this.getAxisMotionValue(o);
      if (u) {
        const f = u.get();
        s[o] = SE({ min: f, max: f }, this.constraints[o]);
      }
    });
    const { transformTemplate: a } = this.visualElement.getProps();
    this.visualElement.current.style.transform = a ? a({}, "") : "none", (t = i.root) === null || t === void 0 || t.updateScroll(), i.updateLayout(), this.resolveConstraints(), kr((o) => {
      if (!ta(o, r, null))
        return;
      const u = this.getAxisMotionValue(o), { min: f, max: l } = this.constraints[o];
      u.set(xt(f, l, s[o]));
    });
  }
  addListeners() {
    var t;
    if (!this.visualElement.current)
      return;
    RE.set(this.visualElement, this);
    const r = this.visualElement.current, n = bi(r, "pointerdown", (f) => {
      const { drag: l, dragListener: h = !0 } = this.getProps();
      l && h && this.start(f);
    }), i = () => {
      const { dragConstraints: f } = this.getProps();
      pi(f) && (this.constraints = this.resolveRefConstraints());
    }, { projection: s } = this.visualElement, a = s.addEventListener("measure", i);
    s && !s.layout && ((t = s.root) === null || t === void 0 || t.updateScroll(), s.updateLayout()), i();
    const o = go(window, "resize", () => this.scalePositionWithinConstraints()), u = s.addEventListener("didUpdate", ({ delta: f, hasLayoutChanged: l }) => {
      this.isDragging && l && (kr((h) => {
        const c = this.getAxisMotionValue(h);
        c && (this.originPoint[h] += f[h].translate, c.set(c.get() + f[h].translate));
      }), this.visualElement.render());
    });
    return () => {
      o(), n(), a(), u == null || u();
    };
  }
  getProps() {
    const t = this.visualElement.getProps(), { drag: r = !1, dragDirectionLock: n = !1, dragPropagation: i = !1, dragConstraints: s = !1, dragElastic: a = xf, dragMomentum: o = !0 } = t;
    return {
      ...t,
      drag: r,
      dragDirectionLock: n,
      dragPropagation: i,
      dragConstraints: s,
      dragElastic: a,
      dragMomentum: o
    };
  }
}
function ta(e, t, r) {
  return (t === !0 || t === e) && (r === null || r === e);
}
function DE(e, t = 10) {
  let r = null;
  return Math.abs(e.y) > t ? r = "y" : Math.abs(e.x) > t && (r = "x"), r;
}
function ME(e) {
  const { dragControls: t, visualElement: r } = e, n = vo(() => new OE(r));
  Ye(() => t && t.subscribe(n), [n, t]), Ye(() => n.addListeners(), [n]);
}
function BE({ onPan: e, onPanStart: t, onPanEnd: r, onPanSessionStart: n, visualElement: i }) {
  const s = e || t || r || n, a = gr(null), { transformPagePoint: o } = Dt(qc), u = {
    onSessionStart: n,
    onStart: t,
    onMove: e,
    onEnd: (l, h) => {
      a.current = null, r && r(l, h);
    }
  };
  Ye(() => {
    a.current !== null && a.current.updateHandlers(u);
  });
  function f(l) {
    a.current = new Uv(l, u, {
      transformPagePoint: o
    });
  }
  Ca(i, "pointerdown", s && f), el(() => a.current && a.current.end());
}
const NE = {
  pan: An(BE),
  drag: An(ME)
};
function Af(e) {
  return typeof e == "string" && e.startsWith("var(--");
}
const Gv = /var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;
function kE(e) {
  const t = Gv.exec(e);
  if (!t)
    return [,];
  const [, r, n] = t;
  return [r, n];
}
const jE = 4;
function _f(e, t, r = 1) {
  Dr(r <= jE, `Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);
  const [n, i] = kE(e);
  if (!n)
    return;
  const s = window.getComputedStyle(t).getPropertyValue(n);
  return s ? s.trim() : Af(i) ? _f(i, t, r + 1) : i;
}
function LE(e, { ...t }, r) {
  const n = e.current;
  if (!(n instanceof Element))
    return { target: t, transitionEnd: r };
  r && (r = { ...r }), e.values.forEach((i) => {
    const s = i.get();
    if (!Af(s))
      return;
    const a = _f(s, n);
    a && i.set(a);
  });
  for (const i in t) {
    const s = t[i];
    if (!Af(s))
      continue;
    const a = _f(s, n);
    a && (t[i] = a, r && r[i] === void 0 && (r[i] = s));
  }
  return { target: t, transitionEnd: r };
}
const VE = /* @__PURE__ */ new Set([
  "width",
  "height",
  "top",
  "left",
  "right",
  "bottom",
  "x",
  "y"
]), Jv = (e) => VE.has(e), HE = (e) => Object.keys(e).some(Jv), ra = (e) => e === ei || e === Re;
var Ud;
(function(e) {
  e.width = "width", e.height = "height", e.left = "left", e.right = "right", e.top = "top", e.bottom = "bottom";
})(Ud || (Ud = {}));
const qd = (e, t) => parseFloat(e.split(", ")[t]), Kd = (e, t) => (r, { transform: n }) => {
  if (n === "none" || !n)
    return 0;
  const i = n.match(/^matrix3d\((.+)\)$/);
  if (i)
    return qd(i[1], t);
  {
    const s = n.match(/^matrix\((.+)\)$/);
    return s ? qd(s[1], e) : 0;
  }
}, UE = /* @__PURE__ */ new Set(["x", "y", "z"]), qE = Pa.filter((e) => !UE.has(e));
function KE(e) {
  const t = [];
  return qE.forEach((r) => {
    const n = e.getValue(r);
    n !== void 0 && (t.push([r, n.get()]), n.set(r.startsWith("scale") ? 1 : 0));
  }), t.length && e.render(), t;
}
const $d = {
  // Dimensions
  width: ({ x: e }, { paddingLeft: t = "0", paddingRight: r = "0" }) => e.max - e.min - parseFloat(t) - parseFloat(r),
  height: ({ y: e }, { paddingTop: t = "0", paddingBottom: r = "0" }) => e.max - e.min - parseFloat(t) - parseFloat(r),
  top: (e, { top: t }) => parseFloat(t),
  left: (e, { left: t }) => parseFloat(t),
  bottom: ({ y: e }, { top: t }) => parseFloat(t) + (e.max - e.min),
  right: ({ x: e }, { left: t }) => parseFloat(t) + (e.max - e.min),
  // Transform
  x: Kd(4, 13),
  y: Kd(5, 14)
}, $E = (e, t, r) => {
  const n = t.measureViewportBox(), i = t.current, s = getComputedStyle(i), { display: a } = s, o = {};
  a === "none" && t.setStaticValue("display", e.display || "block"), r.forEach((f) => {
    o[f] = $d[f](n, s);
  }), t.render();
  const u = t.measureViewportBox();
  return r.forEach((f) => {
    const l = t.getValue(f);
    l && l.jump(o[f]), e[f] = $d[f](u, s);
  }), e;
}, zE = (e, t, r = {}, n = {}) => {
  t = { ...t }, n = { ...n };
  const i = Object.keys(t).filter(Jv);
  let s = [], a = !1;
  const o = [];
  if (i.forEach((u) => {
    const f = e.getValue(u);
    if (!e.hasValue(u))
      return;
    let l = r[u], h = Qi(l);
    const c = t[u];
    let d;
    if (Ia(c)) {
      const p = c.length, v = c[0] === null ? 1 : 0;
      l = c[v], h = Qi(l);
      for (let m = v; m < p; m++)
        d ? Dr(Qi(c[m]) === d, "All keyframes must be of the same type") : (d = Qi(c[m]), Dr(d === h || ra(h) && ra(d), "Keyframes must be of the same dimension as the current value"));
    } else
      d = Qi(c);
    if (h !== d)
      if (ra(h) && ra(d)) {
        const p = f.get();
        typeof p == "string" && f.set(parseFloat(p)), typeof c == "string" ? t[u] = parseFloat(c) : Array.isArray(c) && d === Re && (t[u] = c.map(parseFloat));
      } else
        h != null && h.transform && (d != null && d.transform) && (l === 0 || c === 0) ? l === 0 ? f.set(d.transform(l)) : t[u] = h.transform(c) : (a || (s = KE(e), a = !0), o.push(u), n[u] = n[u] !== void 0 ? n[u] : t[u], f.jump(c));
  }), o.length) {
    const u = o.indexOf("height") >= 0 ? window.pageYOffset : null, f = $E(t, e, o);
    return s.length && s.forEach(([l, h]) => {
      e.getValue(l).set(h);
    }), e.render(), lo && u !== null && window.scrollTo({ top: u }), { target: f, transitionEnd: n };
  } else
    return { target: t, transitionEnd: n };
};
function WE(e, t, r, n) {
  return HE(t) ? zE(e, t, r, n) : { target: t, transitionEnd: n };
}
const GE = (e, t, r, n) => {
  const i = LE(e, t, n);
  return t = i.target, n = i.transitionEnd, WE(e, t, r, n);
}, Tf = { current: null }, Yv = { current: !1 };
function JE() {
  if (Yv.current = !0, !!lo)
    if (window.matchMedia) {
      const e = window.matchMedia("(prefers-reduced-motion)"), t = () => Tf.current = e.matches;
      e.addListener(t), t();
    } else
      Tf.current = !1;
}
function YE(e, t, r) {
  const { willChange: n } = t;
  for (const i in t) {
    const s = t[i], a = r[i];
    if (xr(s))
      e.addValue(i, s), Oa(n) && n.add(i), process.env.NODE_ENV === "development" && mo(s.version === "8.1.9", `Attempting to mix Framer Motion versions ${s.version} with 8.1.9 may not work as expected.`);
    else if (xr(a))
      e.addValue(i, Oi(s, { owner: e })), Oa(n) && n.remove(i);
    else if (a !== s)
      if (e.hasValue(i)) {
        const o = e.getValue(i);
        !o.hasAnimated && o.set(s);
      } else {
        const o = e.getStaticValue(i);
        e.addValue(i, Oi(o !== void 0 ? o : s));
      }
  }
  for (const i in r)
    t[i] === void 0 && e.removeValue(i);
  return t;
}
const Xv = Object.keys(xs), XE = Xv.length, zd = [
  "AnimationStart",
  "AnimationComplete",
  "Update",
  "BeforeLayoutMeasure",
  "LayoutMeasure",
  "LayoutAnimationStart",
  "LayoutAnimationComplete"
];
class ZE {
  constructor({ parent: t, props: r, reducedMotionConfig: n, visualState: i }, s = {}) {
    this.current = null, this.children = /* @__PURE__ */ new Set(), this.isVariantNode = !1, this.isControllingVariants = !1, this.shouldReduceMotion = null, this.values = /* @__PURE__ */ new Map(), this.isPresent = !0, this.valueSubscriptions = /* @__PURE__ */ new Map(), this.prevMotionValues = {}, this.events = {}, this.propEventSubscriptions = {}, this.notifyUpdate = () => this.notify("Update", this.latestValues), this.render = () => {
      this.current && (this.triggerBuild(), this.renderInstance(this.current, this.renderState, this.props.style, this.projection));
    }, this.scheduleRender = () => Gt.render(this.render, !1, !0);
    const { latestValues: a, renderState: o } = i;
    this.latestValues = a, this.baseTarget = { ...a }, this.initialValues = r.initial ? { ...a } : {}, this.renderState = o, this.parent = t, this.props = r, this.depth = t ? t.depth + 1 : 0, this.reducedMotionConfig = n, this.options = s, this.isControllingVariants = po(r), this.isVariantNode = J1(r), this.isVariantNode && (this.variantChildren = /* @__PURE__ */ new Set()), this.manuallyAnimateOnMount = Boolean(t && t.current);
    const { willChange: u, ...f } = this.scrapeMotionValuesFromProps(r, {});
    for (const l in f) {
      const h = f[l];
      a[l] !== void 0 && xr(h) && (h.set(a[l], !1), Oa(u) && u.add(l));
    }
  }
  /**
   * This method takes React props and returns found MotionValues. For example, HTML
   * MotionValues will be found within the style prop, whereas for Three.js within attribute arrays.
   *
   * This isn't an abstract method as it needs calling in the constructor, but it is
   * intended to be one.
   */
  scrapeMotionValuesFromProps(t, r) {
    return {};
  }
  mount(t) {
    var r;
    this.current = t, this.projection && this.projection.mount(t), this.parent && this.isVariantNode && !this.isControllingVariants && (this.removeFromVariantTree = (r = this.parent) === null || r === void 0 ? void 0 : r.addVariantChild(this)), this.values.forEach((n, i) => this.bindToMotionValue(i, n)), Yv.current || JE(), this.shouldReduceMotion = this.reducedMotionConfig === "never" ? !1 : this.reducedMotionConfig === "always" ? !0 : Tf.current, process.env.NODE_ENV !== "production" && mo(this.shouldReduceMotion !== !0, "You have Reduced Motion enabled on your device. Animations may not appear as expected."), this.parent && this.parent.children.add(this), this.setProps(this.props);
  }
  unmount() {
    var t, r, n;
    (t = this.projection) === null || t === void 0 || t.unmount(), Fn.update(this.notifyUpdate), Fn.render(this.render), this.valueSubscriptions.forEach((i) => i()), (r = this.removeFromVariantTree) === null || r === void 0 || r.call(this), (n = this.parent) === null || n === void 0 || n.children.delete(this);
    for (const i in this.events)
      this.events[i].clear();
    this.current = null;
  }
  bindToMotionValue(t, r) {
    const n = Qn.has(t), i = r.on("change", (a) => {
      this.latestValues[t] = a, this.props.onUpdate && Gt.update(this.notifyUpdate, !1, !0), n && this.projection && (this.projection.isTransformDirty = !0);
    }), s = r.on("renderRequest", this.scheduleRender);
    this.valueSubscriptions.set(t, () => {
      i(), s();
    });
  }
  sortNodePosition(t) {
    return !this.current || !this.sortInstanceNodePosition || this.type !== t.type ? 0 : this.sortInstanceNodePosition(this.current, t.current);
  }
  loadFeatures(t, r, n, i, s, a) {
    const o = [];
    process.env.NODE_ENV !== "production" && n && r && Dr(!1, "You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.");
    for (let u = 0; u < XE; u++) {
      const f = Xv[u], { isEnabled: l, Component: h } = xs[f];
      l(t) && h && o.push(_0(h, {
        key: f,
        ...t,
        visualElement: this
      }));
    }
    if (!this.projection && s) {
      this.projection = new s(i, this.latestValues, this.parent && this.parent.projection);
      const { layoutId: u, layout: f, drag: l, dragConstraints: h, layoutScroll: c } = t;
      this.projection.setOptions({
        layoutId: u,
        layout: f,
        alwaysMeasureLayout: Boolean(l) || h && pi(h),
        visualElement: this,
        scheduleRender: () => this.scheduleRender(),
        /**
         * TODO: Update options in an effect. This could be tricky as it'll be too late
         * to update by the time layout animations run.
         * We also need to fix this safeToRemove by linking it up to the one returned by usePresence,
         * ensuring it gets called if there's no potential layout animations.
         *
         */
        animationType: typeof f == "string" ? f : "both",
        initialPromotionConfig: a,
        layoutScroll: c
      });
    }
    return o;
  }
  triggerBuild() {
    this.build(this.renderState, this.latestValues, this.options, this.props);
  }
  /**
   * Measure the current viewport box with or without transforms.
   * Only measures axis-aligned boxes, rotate and skew must be manually
   * removed with a re-render to work.
   */
  measureViewportBox() {
    return this.current ? this.measureInstanceViewportBox(this.current, this.props) : Tt();
  }
  getStaticValue(t) {
    return this.latestValues[t];
  }
  setStaticValue(t, r) {
    this.latestValues[t] = r;
  }
  /**
   * Make a target animatable by Popmotion. For instance, if we're
   * trying to animate width from 100px to 100vw we need to measure 100vw
   * in pixels to determine what we really need to animate to. This is also
   * pluggable to support Framer's custom value types like Color,
   * and CSS variables.
   */
  makeTargetAnimatable(t, r = !0) {
    return this.makeTargetAnimatableFromInstance(t, this.props, r);
  }
  /**
   * Update the provided props. Ensure any newly-added motion values are
   * added to our map, old ones removed, and listeners updated.
   */
  setProps(t) {
    (t.transformTemplate || this.props.transformTemplate) && this.scheduleRender();
    const r = this.props;
    this.props = t;
    for (let n = 0; n < zd.length; n++) {
      const i = zd[n];
      this.propEventSubscriptions[i] && (this.propEventSubscriptions[i](), delete this.propEventSubscriptions[i]);
      const s = t["on" + i];
      s && (this.propEventSubscriptions[i] = this.on(i, s));
    }
    this.prevMotionValues = YE(this, this.scrapeMotionValuesFromProps(t, r), this.prevMotionValues);
  }
  getProps() {
    return this.props;
  }
  /**
   * Returns the variant definition with a given name.
   */
  getVariant(t) {
    var r;
    return (r = this.props.variants) === null || r === void 0 ? void 0 : r[t];
  }
  /**
   * Returns the defined default transition on this component.
   */
  getDefaultTransition() {
    return this.props.transition;
  }
  getTransformPagePoint() {
    return this.props.transformPagePoint;
  }
  getClosestVariantNode() {
    var t;
    return this.isVariantNode ? this : (t = this.parent) === null || t === void 0 ? void 0 : t.getClosestVariantNode();
  }
  getVariantContext(t = !1) {
    var r, n;
    if (t)
      return (r = this.parent) === null || r === void 0 ? void 0 : r.getVariantContext();
    if (!this.isControllingVariants) {
      const s = ((n = this.parent) === null || n === void 0 ? void 0 : n.getVariantContext()) || {};
      return this.props.initial !== void 0 && (s.initial = this.props.initial), s;
    }
    const i = {};
    for (let s = 0; s < QE; s++) {
      const a = Zv[s], o = this.props[a];
      (ws(o) || o === !1) && (i[a] = o);
    }
    return i;
  }
  /**
   * Add a child visual element to our set of children.
   */
  addVariantChild(t) {
    var r;
    const n = this.getClosestVariantNode();
    if (n)
      return (r = n.variantChildren) === null || r === void 0 || r.add(t), () => n.variantChildren.delete(t);
  }
  /**
   * Add a motion value and bind it to this visual element.
   */
  addValue(t, r) {
    r !== this.values.get(t) && (this.removeValue(t), this.bindToMotionValue(t, r)), this.values.set(t, r), this.latestValues[t] = r.get();
  }
  /**
   * Remove a motion value and unbind any active subscriptions.
   */
  removeValue(t) {
    var r;
    this.values.delete(t), (r = this.valueSubscriptions.get(t)) === null || r === void 0 || r(), this.valueSubscriptions.delete(t), delete this.latestValues[t], this.removeValueFromRenderState(t, this.renderState);
  }
  /**
   * Check whether we have a motion value for this key
   */
  hasValue(t) {
    return this.values.has(t);
  }
  getValue(t, r) {
    if (this.props.values && this.props.values[t])
      return this.props.values[t];
    let n = this.values.get(t);
    return n === void 0 && r !== void 0 && (n = Oi(r, { owner: this }), this.addValue(t, n)), n;
  }
  /**
   * If we're trying to animate to a previously unencountered value,
   * we need to check for it in our state and as a last resort read it
   * directly from the instance (which might have performance implications).
   */
  readValue(t) {
    return this.latestValues[t] !== void 0 || !this.current ? this.latestValues[t] : this.readValueFromInstance(this.current, t, this.options);
  }
  /**
   * Set the base target to later animate back to. This is currently
   * only hydrated on creation and when we first read a value.
   */
  setBaseTarget(t, r) {
    this.baseTarget[t] = r;
  }
  /**
   * Find the base target for a value thats been removed from all animation
   * props.
   */
  getBaseTarget(t) {
    var r;
    const { initial: n } = this.props, i = typeof n == "string" || typeof n == "object" ? (r = Zc(this.props, n)) === null || r === void 0 ? void 0 : r[t] : void 0;
    if (n && i !== void 0)
      return i;
    const s = this.getBaseTargetFromProps(this.props, t);
    return s !== void 0 && !xr(s) ? s : this.initialValues[t] !== void 0 && i === void 0 ? void 0 : this.baseTarget[t];
  }
  on(t, r) {
    return this.events[t] || (this.events[t] = new nl()), this.events[t].add(r);
  }
  notify(t, ...r) {
    var n;
    (n = this.events[t]) === null || n === void 0 || n.notify(...r);
  }
}
const Zv = ["initial", ...gl], QE = Zv.length;
class Qv extends ZE {
  sortInstanceNodePosition(t, r) {
    return t.compareDocumentPosition(r) & 2 ? 1 : -1;
  }
  getBaseTargetFromProps(t, r) {
    var n;
    return (n = t.style) === null || n === void 0 ? void 0 : n[r];
  }
  removeValueFromRenderState(t, { vars: r, style: n }) {
    delete r[t], delete n[t];
  }
  makeTargetAnimatableFromInstance({ transition: t, transitionEnd: r, ...n }, { transformValues: i }, s) {
    let a = o9(n, t || {}, this);
    if (i && (r && (r = i(r)), n && (n = i(n)), a && (a = i(a))), s) {
      s9(this, n, a);
      const o = GE(this, n, a, r);
      r = o.transitionEnd, n = o.target;
    }
    return {
      transition: t,
      transitionEnd: r,
      ...n
    };
  }
}
function e7(e) {
  return window.getComputedStyle(e);
}
class t7 extends Qv {
  readValueFromInstance(t, r) {
    if (Qn.has(r)) {
      const n = al(r);
      return n && n.default || 0;
    } else {
      const n = e7(t), i = (Z1(r) ? n.getPropertyValue(r) : n[r]) || 0;
      return typeof i == "string" ? i.trim() : i;
    }
  }
  measureInstanceViewportBox(t, { transformPagePoint: r }) {
    return Wv(t, r);
  }
  build(t, r, n, i) {
    zc(t, r, n, i.transformTemplate);
  }
  scrapeMotionValuesFromProps(t, r) {
    return Xc(t, r);
  }
  renderInstance(t, r, n, i) {
    nv(t, r, n, i);
  }
}
class r7 extends Qv {
  constructor() {
    super(...arguments), this.isSVGTag = !1;
  }
  getBaseTargetFromProps(t, r) {
    return t[r];
  }
  readValueFromInstance(t, r) {
    var n;
    return Qn.has(r) ? ((n = al(r)) === null || n === void 0 ? void 0 : n.default) || 0 : (r = iv.has(r) ? r : Yc(r), t.getAttribute(r));
  }
  measureInstanceViewportBox() {
    return Tt();
  }
  scrapeMotionValuesFromProps(t, r) {
    return av(t, r);
  }
  build(t, r, n, i) {
    Gc(t, r, n, this.isSVGTag, i.transformTemplate);
  }
  renderInstance(t, r, n, i) {
    sv(t, r, n, i);
  }
  mount(t) {
    this.isSVGTag = Jc(t.tagName), super.mount(t);
  }
}
const n7 = (e, t) => $c(e) ? new r7(t, { enableHardwareAcceleration: !1 }) : new t7(t, { enableHardwareAcceleration: !0 });
function Wd(e, t) {
  return t.max === t.min ? 0 : e / (t.max - t.min) * 100;
}
const es = {
  correct: (e, t) => {
    if (!t.target)
      return e;
    if (typeof e == "string")
      if (Re.test(e))
        e = parseFloat(e);
      else
        return e;
    const r = Wd(e, t.target.x), n = Wd(e, t.target.y);
    return `${r}% ${n}%`;
  }
}, Gd = "_$css", i7 = {
  correct: (e, { treeScale: t, projectionDelta: r }) => {
    const n = e, i = e.includes("var("), s = [];
    i && (e = e.replace(Gv, (d) => (s.push(d), Gd)));
    const a = In.parse(e);
    if (a.length > 5)
      return n;
    const o = In.createTransformer(e), u = typeof a[0] != "number" ? 1 : 0, f = r.x.scale * t.x, l = r.y.scale * t.y;
    a[0 + u] /= f, a[1 + u] /= l;
    const h = xt(f, l, 0.5);
    typeof a[2 + u] == "number" && (a[2 + u] /= h), typeof a[3 + u] == "number" && (a[3 + u] /= h);
    let c = o(a);
    if (i) {
      let d = 0;
      c = c.replace(Gd, () => {
        const p = s[d];
        return d++, p;
      });
    }
    return c;
  }
};
class s7 extends Ot.Component {
  /**
   * This only mounts projection nodes for components that
   * need measuring, we might want to do it for all components
   * in order to incorporate transforms
   */
  componentDidMount() {
    const { visualElement: t, layoutGroup: r, switchLayoutGroup: n, layoutId: i } = this.props, { projection: s } = t;
    q8(o7), s && (r.group && r.group.add(s), n && n.register && i && n.register(s), s.root.didUpdate(), s.addEventListener("animationComplete", () => {
      this.safeToRemove();
    }), s.setOptions({
      ...s.options,
      onExitComplete: () => this.safeToRemove()
    })), os.hasEverUpdated = !0;
  }
  getSnapshotBeforeUpdate(t) {
    const { layoutDependency: r, visualElement: n, drag: i, isPresent: s } = this.props, a = n.projection;
    return a && (a.isPresent = s, i || t.layoutDependency !== r || r === void 0 ? a.willUpdate() : this.safeToRemove(), t.isPresent !== s && (s ? a.promote() : a.relegate() || Gt.postRender(() => {
      var o;
      !((o = a.getStack()) === null || o === void 0) && o.members.length || this.safeToRemove();
    }))), null;
  }
  componentDidUpdate() {
    const { projection: t } = this.props.visualElement;
    t && (t.root.didUpdate(), !t.currentAnimation && t.isLead() && this.safeToRemove());
  }
  componentWillUnmount() {
    const { visualElement: t, layoutGroup: r, switchLayoutGroup: n } = this.props, { projection: i } = t;
    i && (i.scheduleCheckAfterUnmount(), r != null && r.group && r.group.remove(i), n != null && n.deregister && n.deregister(i));
  }
  safeToRemove() {
    const { safeToRemove: t } = this.props;
    t == null || t();
  }
  render() {
    return null;
  }
}
function a7(e) {
  const [t, r] = pv(), n = Dt(Kc);
  return Ot.createElement(s7, { ...e, layoutGroup: n, switchLayoutGroup: Dt(Y1), isPresent: t, safeToRemove: r });
}
const o7 = {
  borderRadius: {
    ...es,
    applyTo: [
      "borderTopLeftRadius",
      "borderTopRightRadius",
      "borderBottomLeftRadius",
      "borderBottomRightRadius"
    ]
  },
  borderTopLeftRadius: es,
  borderTopRightRadius: es,
  borderBottomLeftRadius: es,
  borderBottomRightRadius: es,
  boxShadow: i7
}, u7 = {
  measureLayout: a7
};
function f7(e, t, r = {}) {
  const n = xr(e) ? e : Oi(e);
  return n.start(vl("", n, t, r)), {
    stop: () => n.stop(),
    isAnimating: () => n.isAnimating()
  };
}
const eg = ["TopLeft", "TopRight", "BottomLeft", "BottomRight"], c7 = eg.length, Jd = (e) => typeof e == "string" ? parseFloat(e) : e, Yd = (e) => typeof e == "number" || Re.test(e);
function l7(e, t, r, n, i, s) {
  i ? (e.opacity = xt(
    0,
    // TODO Reinstate this if only child
    r.opacity !== void 0 ? r.opacity : 1,
    h7(n)
  ), e.opacityExit = xt(t.opacity !== void 0 ? t.opacity : 1, 0, d7(n))) : s && (e.opacity = xt(t.opacity !== void 0 ? t.opacity : 1, r.opacity !== void 0 ? r.opacity : 1, n));
  for (let a = 0; a < c7; a++) {
    const o = `border${eg[a]}Radius`;
    let u = Xd(t, o), f = Xd(r, o);
    if (u === void 0 && f === void 0)
      continue;
    u || (u = 0), f || (f = 0), u === 0 || f === 0 || Yd(u) === Yd(f) ? (e[o] = Math.max(xt(Jd(u), Jd(f), n), 0), (zr.test(f) || zr.test(u)) && (e[o] += "%")) : e[o] = f;
  }
  (t.rotate || r.rotate) && (e.rotate = xt(t.rotate || 0, r.rotate || 0, n));
}
function Xd(e, t) {
  return e[t] !== void 0 ? e[t] : e.borderRadius;
}
const h7 = tg(0, 0.5, dl), d7 = tg(0.5, 0.95, hl);
function tg(e, t, r) {
  return (n) => n < e ? 0 : n > t ? 1 : r(Da(e, t, n));
}
function Zd(e, t) {
  e.min = t.min, e.max = t.max;
}
function Fr(e, t) {
  Zd(e.x, t.x), Zd(e.y, t.y);
}
function Qd(e, t, r, n, i) {
  return e -= t, e = Ba(e, 1 / r, n), i !== void 0 && (e = Ba(e, 1 / i, n)), e;
}
function p7(e, t = 0, r = 1, n = 0.5, i, s = e, a = e) {
  if (zr.test(t) && (t = parseFloat(t), t = xt(a.min, a.max, t / 100) - a.min), typeof t != "number")
    return;
  let o = xt(s.min, s.max, n);
  e === s && (o -= t), e.min = Qd(e.min, t, r, o, i), e.max = Qd(e.max, t, r, o, i);
}
function e0(e, t, [r, n, i], s, a) {
  p7(e, t[r], t[n], t[i], t.scale, s, a);
}
const v7 = ["x", "scaleX", "originX"], g7 = ["y", "scaleY", "originY"];
function t0(e, t, r, n) {
  e0(e.x, t, v7, r == null ? void 0 : r.x, n == null ? void 0 : n.x), e0(e.y, t, g7, r == null ? void 0 : r.y, n == null ? void 0 : n.y);
}
function r0(e) {
  return e.translate === 0 && e.scale === 1;
}
function rg(e) {
  return r0(e.x) && r0(e.y);
}
function ng(e, t) {
  return e.x.min === t.x.min && e.x.max === t.x.max && e.y.min === t.y.min && e.y.max === t.y.max;
}
function n0(e) {
  return sr(e.x) / sr(e.y);
}
class y7 {
  constructor() {
    this.members = [];
  }
  add(t) {
    tl(this.members, t), t.scheduleRender();
  }
  remove(t) {
    if (rl(this.members, t), t === this.prevLead && (this.prevLead = void 0), t === this.lead) {
      const r = this.members[this.members.length - 1];
      r && this.promote(r);
    }
  }
  relegate(t) {
    const r = this.members.findIndex((i) => t === i);
    if (r === 0)
      return !1;
    let n;
    for (let i = r; i >= 0; i--) {
      const s = this.members[i];
      if (s.isPresent !== !1) {
        n = s;
        break;
      }
    }
    return n ? (this.promote(n), !0) : !1;
  }
  promote(t, r) {
    var n;
    const i = this.lead;
    if (t !== i && (this.prevLead = i, this.lead = t, t.show(), i)) {
      i.instance && i.scheduleRender(), t.scheduleRender(), t.resumeFrom = i, r && (t.resumeFrom.preserveOpacity = !0), i.snapshot && (t.snapshot = i.snapshot, t.snapshot.latestValues = i.animationValues || i.latestValues), !((n = t.root) === null || n === void 0) && n.isUpdating && (t.isLayoutDirty = !0);
      const { crossfade: s } = t.options;
      s === !1 && i.hide();
    }
  }
  exitAnimationComplete() {
    this.members.forEach((t) => {
      var r, n, i, s, a;
      (n = (r = t.options).onExitComplete) === null || n === void 0 || n.call(r), (a = (i = t.resumingFrom) === null || i === void 0 ? void 0 : (s = i.options).onExitComplete) === null || a === void 0 || a.call(s);
    });
  }
  scheduleRender() {
    this.members.forEach((t) => {
      t.instance && t.scheduleRender(!1);
    });
  }
  /**
   * Clear any leads that have been removed this render to prevent them from being
   * used in future animations and to prevent memory leaks
   */
  removeLeadSnapshot() {
    this.lead && this.lead.snapshot && (this.lead.snapshot = void 0);
  }
}
function i0(e, t, r) {
  let n = "";
  const i = e.x.translate / t.x, s = e.y.translate / t.y;
  if ((i || s) && (n = `translate3d(${i}px, ${s}px, 0) `), (t.x !== 1 || t.y !== 1) && (n += `scale(${1 / t.x}, ${1 / t.y}) `), r) {
    const { rotate: u, rotateX: f, rotateY: l } = r;
    u && (n += `rotate(${u}deg) `), f && (n += `rotateX(${f}deg) `), l && (n += `rotateY(${l}deg) `);
  }
  const a = e.x.scale * t.x, o = e.y.scale * t.y;
  return (a !== 1 || o !== 1) && (n += `scale(${a}, ${o})`), n || "none";
}
const m7 = (e, t) => e.depth - t.depth;
class b7 {
  constructor() {
    this.children = [], this.isDirty = !1;
  }
  add(t) {
    tl(this.children, t), this.isDirty = !0;
  }
  remove(t) {
    rl(this.children, t), this.isDirty = !0;
  }
  forEach(t) {
    this.isDirty && this.children.sort(m7), this.isDirty = !1, this.children.forEach(t);
  }
}
const s0 = ["", "X", "Y", "Z"], a0 = 1e3;
let w7 = 0;
function ig({ attachResizeListener: e, defaultParent: t, measureScroll: r, checkIsScrollRoot: n, resetTransform: i }) {
  return class {
    constructor(a, o = {}, u = t == null ? void 0 : t()) {
      this.id = w7++, this.animationId = 0, this.children = /* @__PURE__ */ new Set(), this.options = {}, this.isTreeAnimating = !1, this.isAnimationBlocked = !1, this.isLayoutDirty = !1, this.isTransformDirty = !1, this.isProjectionDirty = !1, this.updateManuallyBlocked = !1, this.updateBlockedByResize = !1, this.isUpdating = !1, this.isSVG = !1, this.needsReset = !1, this.shouldResetTransform = !1, this.treeScale = { x: 1, y: 1 }, this.eventHandlers = /* @__PURE__ */ new Map(), this.potentialNodes = /* @__PURE__ */ new Map(), this.checkUpdateFailed = () => {
        this.isUpdating && (this.isUpdating = !1, this.clearAllSnapshots());
      }, this.updateProjection = () => {
        this.nodes.forEach(E7), this.nodes.forEach(T7), this.nodes.forEach(P7);
      }, this.hasProjected = !1, this.isVisible = !0, this.animationProgress = 0, this.sharedNodes = /* @__PURE__ */ new Map(), this.elementId = a, this.latestValues = o, this.root = u ? u.root || u : this, this.path = u ? [...u.path, u] : [], this.parent = u, this.depth = u ? u.depth + 1 : 0, a && this.root.registerPotentialNode(a, this);
      for (let f = 0; f < this.path.length; f++)
        this.path[f].shouldResetTransform = !0;
      this.root === this && (this.nodes = new b7());
    }
    addEventListener(a, o) {
      return this.eventHandlers.has(a) || this.eventHandlers.set(a, new nl()), this.eventHandlers.get(a).add(o);
    }
    notifyListeners(a, ...o) {
      const u = this.eventHandlers.get(a);
      u == null || u.notify(...o);
    }
    hasListeners(a) {
      return this.eventHandlers.has(a);
    }
    registerPotentialNode(a, o) {
      this.potentialNodes.set(a, o);
    }
    /**
     * Lifecycles
     */
    mount(a, o = !1) {
      var u;
      if (this.instance)
        return;
      this.isSVG = a instanceof SVGElement && a.tagName !== "svg", this.instance = a;
      const { layoutId: f, layout: l, visualElement: h } = this.options;
      if (h && !h.current && h.mount(a), this.root.nodes.add(this), (u = this.parent) === null || u === void 0 || u.children.add(this), this.elementId && this.root.potentialNodes.delete(this.elementId), o && (l || f) && (this.isLayoutDirty = !0), e) {
        let c;
        const d = () => this.root.updateBlockedByResize = !1;
        e(a, () => {
          this.root.updateBlockedByResize = !0, c && c(), c = Lv(d, 250), os.hasAnimatedSinceResize && (os.hasAnimatedSinceResize = !1, this.nodes.forEach(u0));
        });
      }
      f && this.root.registerSharedNode(f, this), this.options.animate !== !1 && h && (f || l) && this.addEventListener("didUpdate", ({ delta: c, hasLayoutChanged: d, hasRelativeTargetChanged: p, layout: v }) => {
        var m, b, A, D, k;
        if (this.isTreeAnimationBlocked()) {
          this.target = void 0, this.relativeTarget = void 0;
          return;
        }
        const L = (b = (m = this.options.transition) !== null && m !== void 0 ? m : h.getDefaultTransition()) !== null && b !== void 0 ? b : O7, { onLayoutAnimationStart: _, onLayoutAnimationComplete: F } = h.getProps(), O = !this.targetLayout || !ng(this.targetLayout, v) || p, P = !d && p;
        if (!((A = this.resumeFrom) === null || A === void 0) && A.instance || P || d && (O || !this.currentAnimation)) {
          this.resumeFrom && (this.resumingFrom = this.resumeFrom, this.resumingFrom.resumingFrom = void 0), this.setAnimationOrigin(c, P);
          const M = {
            ...Vv(L, "layout"),
            onPlay: _,
            onComplete: F
          };
          h.shouldReduceMotion && (M.delay = 0, M.type = !1), this.startAnimation(M);
        } else
          !d && this.animationProgress === 0 && u0(this), this.isLead() && ((k = (D = this.options).onExitComplete) === null || k === void 0 || k.call(D));
        this.targetLayout = v;
      });
    }
    unmount() {
      var a, o;
      this.options.layoutId && this.willUpdate(), this.root.nodes.remove(this), (a = this.getStack()) === null || a === void 0 || a.remove(this), (o = this.parent) === null || o === void 0 || o.children.delete(this), this.instance = void 0, Fn.preRender(this.updateProjection);
    }
    // only on the root
    blockUpdate() {
      this.updateManuallyBlocked = !0;
    }
    unblockUpdate() {
      this.updateManuallyBlocked = !1;
    }
    isUpdateBlocked() {
      return this.updateManuallyBlocked || this.updateBlockedByResize;
    }
    isTreeAnimationBlocked() {
      var a;
      return this.isAnimationBlocked || ((a = this.parent) === null || a === void 0 ? void 0 : a.isTreeAnimationBlocked()) || !1;
    }
    // Note: currently only running on root node
    startUpdate() {
      var a;
      this.isUpdateBlocked() || (this.isUpdating = !0, (a = this.nodes) === null || a === void 0 || a.forEach(F7), this.animationId++);
    }
    willUpdate(a = !0) {
      var o, u, f;
      if (this.root.isUpdateBlocked()) {
        (u = (o = this.options).onExitComplete) === null || u === void 0 || u.call(o);
        return;
      }
      if (!this.root.isUpdating && this.root.startUpdate(), this.isLayoutDirty)
        return;
      this.isLayoutDirty = !0;
      for (let d = 0; d < this.path.length; d++) {
        const p = this.path[d];
        p.shouldResetTransform = !0, p.updateScroll("snapshot");
      }
      const { layoutId: l, layout: h } = this.options;
      if (l === void 0 && !h)
        return;
      const c = (f = this.options.visualElement) === null || f === void 0 ? void 0 : f.getProps().transformTemplate;
      this.prevTransformTemplateValue = c == null ? void 0 : c(this.latestValues, ""), this.updateSnapshot(), a && this.notifyListeners("willUpdate");
    }
    // Note: Currently only running on root node
    didUpdate() {
      if (this.isUpdateBlocked()) {
        this.unblockUpdate(), this.clearAllSnapshots(), this.nodes.forEach(o0);
        return;
      }
      this.isUpdating && (this.isUpdating = !1, this.potentialNodes.size && (this.potentialNodes.forEach(D7), this.potentialNodes.clear()), this.nodes.forEach(_7), this.nodes.forEach(x7), this.nodes.forEach(S7), this.clearAllSnapshots(), Su.update(), Su.preRender(), Su.render());
    }
    clearAllSnapshots() {
      this.nodes.forEach(A7), this.sharedNodes.forEach(I7);
    }
    scheduleUpdateProjection() {
      Gt.preRender(this.updateProjection, !1, !0);
    }
    scheduleCheckAfterUnmount() {
      Gt.postRender(() => {
        this.isLayoutDirty ? this.root.didUpdate() : this.root.checkUpdateFailed();
      });
    }
    /**
     * Update measurements
     */
    updateSnapshot() {
      this.snapshot || !this.instance || (this.snapshot = this.measure());
    }
    updateLayout() {
      var a;
      if (!this.instance || (this.updateScroll(), !(this.options.alwaysMeasureLayout && this.isLead()) && !this.isLayoutDirty))
        return;
      if (this.resumeFrom && !this.resumeFrom.instance)
        for (let u = 0; u < this.path.length; u++)
          this.path[u].updateScroll();
      const o = this.layout;
      this.layout = this.measure(!1), this.layoutCorrected = Tt(), this.isLayoutDirty = !1, this.projectionDelta = void 0, this.notifyListeners("measure", this.layout.layoutBox), (a = this.options.visualElement) === null || a === void 0 || a.notify("LayoutMeasure", this.layout.layoutBox, o == null ? void 0 : o.layoutBox);
    }
    updateScroll(a = "measure") {
      let o = Boolean(this.options.layoutScroll && this.instance);
      this.scroll && this.scroll.animationId === this.root.animationId && this.scroll.phase === a && (o = !1), o && (this.scroll = {
        animationId: this.root.animationId,
        phase: a,
        isRoot: n(this.instance),
        offset: r(this.instance)
      });
    }
    resetTransform() {
      var a;
      if (!i)
        return;
      const o = this.isLayoutDirty || this.shouldResetTransform, u = this.projectionDelta && !rg(this.projectionDelta), f = (a = this.options.visualElement) === null || a === void 0 ? void 0 : a.getProps().transformTemplate, l = f == null ? void 0 : f(this.latestValues, ""), h = l !== this.prevTransformTemplateValue;
      o && (u || jn(this.latestValues) || h) && (i(this.instance, l), this.shouldResetTransform = !1, this.scheduleRender());
    }
    measure(a = !0) {
      const o = this.measurePageBox();
      let u = this.removeElementScroll(o);
      return a && (u = this.removeTransform(u)), M7(u), {
        animationId: this.root.animationId,
        measuredBox: o,
        layoutBox: u,
        latestValues: {},
        source: this.id
      };
    }
    measurePageBox() {
      const { visualElement: a } = this.options;
      if (!a)
        return Tt();
      const o = a.measureViewportBox(), { scroll: u } = this.root;
      return u && (wn(o.x, u.offset.x), wn(o.y, u.offset.y)), o;
    }
    removeElementScroll(a) {
      const o = Tt();
      Fr(o, a);
      for (let u = 0; u < this.path.length; u++) {
        const f = this.path[u], { scroll: l, options: h } = f;
        if (f !== this.root && l && h.layoutScroll) {
          if (l.isRoot) {
            Fr(o, a);
            const { scroll: c } = this.root;
            c && (wn(o.x, -c.offset.x), wn(o.y, -c.offset.y));
          }
          wn(o.x, l.offset.x), wn(o.y, l.offset.y);
        }
      }
      return o;
    }
    applyTransform(a, o = !1) {
      const u = Tt();
      Fr(u, a);
      for (let f = 0; f < this.path.length; f++) {
        const l = this.path[f];
        !o && l.options.layoutScroll && l.scroll && l !== l.root && gi(u, {
          x: -l.scroll.offset.x,
          y: -l.scroll.offset.y
        }), jn(l.latestValues) && gi(u, l.latestValues);
      }
      return jn(this.latestValues) && gi(u, this.latestValues), u;
    }
    removeTransform(a) {
      var o;
      const u = Tt();
      Fr(u, a);
      for (let f = 0; f < this.path.length; f++) {
        const l = this.path[f];
        if (!l.instance || !jn(l.latestValues))
          continue;
        Sf(l.latestValues) && l.updateSnapshot();
        const h = Tt(), c = l.measurePageBox();
        Fr(h, c), t0(u, l.latestValues, (o = l.snapshot) === null || o === void 0 ? void 0 : o.layoutBox, h);
      }
      return jn(this.latestValues) && t0(u, this.latestValues), u;
    }
    /**
     *
     */
    setTargetDelta(a) {
      this.targetDelta = a, this.isProjectionDirty = !0, this.root.scheduleUpdateProjection();
    }
    setOptions(a) {
      this.options = {
        ...this.options,
        ...a,
        crossfade: a.crossfade !== void 0 ? a.crossfade : !0
      };
    }
    clearMeasurements() {
      this.scroll = void 0, this.layout = void 0, this.snapshot = void 0, this.prevTransformTemplateValue = void 0, this.targetDelta = void 0, this.target = void 0, this.isLayoutDirty = !1;
    }
    /**
     * Frame calculations
     */
    resolveTargetDelta() {
      var a;
      const o = this.getLead();
      if (this.isProjectionDirty || (this.isProjectionDirty = o.isProjectionDirty), this.isTransformDirty || (this.isTransformDirty = o.isTransformDirty), !this.isProjectionDirty && !this.attemptToResolveRelativeTarget)
        return;
      const { layout: u, layoutId: f } = this.options;
      if (!(!this.layout || !(u || f))) {
        if (!this.targetDelta && !this.relativeTarget) {
          const l = this.getClosestProjectingParent();
          l && l.layout ? (this.relativeParent = l, this.relativeTarget = Tt(), this.relativeTargetOrigin = Tt(), ls(this.relativeTargetOrigin, this.layout.layoutBox, l.layout.layoutBox), Fr(this.relativeTarget, this.relativeTargetOrigin)) : this.relativeParent = this.relativeTarget = void 0;
        }
        if (!(!this.relativeTarget && !this.targetDelta) && (this.target || (this.target = Tt(), this.targetWithTransforms = Tt()), this.relativeTarget && this.relativeTargetOrigin && (!((a = this.relativeParent) === null || a === void 0) && a.target) ? mE(this.target, this.relativeTarget, this.relativeParent.target) : this.targetDelta ? (Boolean(this.resumingFrom) ? this.target = this.applyTransform(this.layout.layoutBox) : Fr(this.target, this.layout.layoutBox), zv(this.target, this.targetDelta)) : Fr(this.target, this.layout.layoutBox), this.attemptToResolveRelativeTarget)) {
          this.attemptToResolveRelativeTarget = !1;
          const l = this.getClosestProjectingParent();
          l && Boolean(l.resumingFrom) === Boolean(this.resumingFrom) && !l.options.layoutScroll && l.target ? (this.relativeParent = l, this.relativeTarget = Tt(), this.relativeTargetOrigin = Tt(), ls(this.relativeTargetOrigin, this.target, l.target), Fr(this.relativeTarget, this.relativeTargetOrigin)) : this.relativeParent = this.relativeTarget = void 0;
        }
      }
    }
    getClosestProjectingParent() {
      if (!(!this.parent || Sf(this.parent.latestValues) || $v(this.parent.latestValues)))
        return (this.parent.relativeTarget || this.parent.targetDelta) && this.parent.layout ? this.parent : this.parent.getClosestProjectingParent();
    }
    calcProjection() {
      var a;
      const { isProjectionDirty: o, isTransformDirty: u } = this;
      this.isProjectionDirty = this.isTransformDirty = !1;
      const f = this.getLead(), l = Boolean(this.resumingFrom) || this !== f;
      let h = !0;
      if (o && (h = !1), l && u && (h = !1), h)
        return;
      const { layout: c, layoutId: d } = this.options;
      if (this.isTreeAnimating = Boolean(((a = this.parent) === null || a === void 0 ? void 0 : a.isTreeAnimating) || this.currentAnimation || this.pendingAnimation), this.isTreeAnimating || (this.targetDelta = this.relativeTarget = void 0), !this.layout || !(c || d))
        return;
      Fr(this.layoutCorrected, this.layout.layoutBox), PE(this.layoutCorrected, this.treeScale, this.path, l);
      const { target: p } = f;
      if (!p)
        return;
      this.projectionDelta || (this.projectionDelta = hs(), this.projectionDeltaWithTransform = hs());
      const v = this.treeScale.x, m = this.treeScale.y, b = this.projectionTransform;
      cs(this.projectionDelta, this.layoutCorrected, p, this.latestValues), this.projectionTransform = i0(this.projectionDelta, this.treeScale), (this.projectionTransform !== b || this.treeScale.x !== v || this.treeScale.y !== m) && (this.hasProjected = !0, this.scheduleRender(), this.notifyListeners("projectionUpdate", p));
    }
    hide() {
      this.isVisible = !1;
    }
    show() {
      this.isVisible = !0;
    }
    scheduleRender(a = !0) {
      var o, u, f;
      (u = (o = this.options).scheduleRender) === null || u === void 0 || u.call(o), a && ((f = this.getStack()) === null || f === void 0 || f.scheduleRender()), this.resumingFrom && !this.resumingFrom.instance && (this.resumingFrom = void 0);
    }
    setAnimationOrigin(a, o = !1) {
      var u, f;
      const l = this.snapshot, h = (l == null ? void 0 : l.latestValues) || {}, c = { ...this.latestValues }, d = hs();
      this.relativeTarget = this.relativeTargetOrigin = void 0, this.attemptToResolveRelativeTarget = !o;
      const p = Tt(), v = (l == null ? void 0 : l.source) !== ((u = this.layout) === null || u === void 0 ? void 0 : u.source), m = (((f = this.getStack()) === null || f === void 0 ? void 0 : f.members.length) || 0) <= 1, b = Boolean(v && !m && this.options.crossfade === !0 && !this.path.some(R7));
      this.animationProgress = 0, this.mixTargetDelta = (A) => {
        var D;
        const k = A / 1e3;
        f0(d.x, a.x, k), f0(d.y, a.y, k), this.setTargetDelta(d), this.relativeTarget && this.relativeTargetOrigin && this.layout && (!((D = this.relativeParent) === null || D === void 0) && D.layout) && (ls(p, this.layout.layoutBox, this.relativeParent.layout.layoutBox), C7(this.relativeTarget, this.relativeTargetOrigin, p, k)), v && (this.animationValues = c, l7(c, h, this.latestValues, k, b, m)), this.root.scheduleUpdateProjection(), this.scheduleRender(), this.animationProgress = k;
      }, this.mixTargetDelta(0);
    }
    startAnimation(a) {
      var o, u;
      this.notifyListeners("animationStart"), (o = this.currentAnimation) === null || o === void 0 || o.stop(), this.resumingFrom && ((u = this.resumingFrom.currentAnimation) === null || u === void 0 || u.stop()), this.pendingAnimation && (Fn.update(this.pendingAnimation), this.pendingAnimation = void 0), this.pendingAnimation = Gt.update(() => {
        os.hasAnimatedSinceResize = !0, this.currentAnimation = f7(0, a0, {
          ...a,
          onUpdate: (f) => {
            var l;
            this.mixTargetDelta(f), (l = a.onUpdate) === null || l === void 0 || l.call(a, f);
          },
          onComplete: () => {
            var f;
            (f = a.onComplete) === null || f === void 0 || f.call(a), this.completeAnimation();
          }
        }), this.resumingFrom && (this.resumingFrom.currentAnimation = this.currentAnimation), this.pendingAnimation = void 0;
      });
    }
    completeAnimation() {
      var a;
      this.resumingFrom && (this.resumingFrom.currentAnimation = void 0, this.resumingFrom.preserveOpacity = void 0), (a = this.getStack()) === null || a === void 0 || a.exitAnimationComplete(), this.resumingFrom = this.currentAnimation = this.animationValues = void 0, this.notifyListeners("animationComplete");
    }
    finishAnimation() {
      var a;
      this.currentAnimation && ((a = this.mixTargetDelta) === null || a === void 0 || a.call(this, a0), this.currentAnimation.stop()), this.completeAnimation();
    }
    applyTransformsToTarget() {
      const a = this.getLead();
      let { targetWithTransforms: o, target: u, layout: f, latestValues: l } = a;
      if (!(!o || !u || !f)) {
        if (this !== a && this.layout && f && sg(this.options.animationType, this.layout.layoutBox, f.layoutBox)) {
          u = this.target || Tt();
          const h = sr(this.layout.layoutBox.x);
          u.x.min = a.target.x.min, u.x.max = u.x.min + h;
          const c = sr(this.layout.layoutBox.y);
          u.y.min = a.target.y.min, u.y.max = u.y.min + c;
        }
        Fr(o, u), gi(o, l), cs(this.projectionDeltaWithTransform, this.layoutCorrected, o, l);
      }
    }
    registerSharedNode(a, o) {
      var u, f, l;
      this.sharedNodes.has(a) || this.sharedNodes.set(a, new y7()), this.sharedNodes.get(a).add(o), o.promote({
        transition: (u = o.options.initialPromotionConfig) === null || u === void 0 ? void 0 : u.transition,
        preserveFollowOpacity: (l = (f = o.options.initialPromotionConfig) === null || f === void 0 ? void 0 : f.shouldPreserveFollowOpacity) === null || l === void 0 ? void 0 : l.call(f, o)
      });
    }
    isLead() {
      const a = this.getStack();
      return a ? a.lead === this : !0;
    }
    getLead() {
      var a;
      const { layoutId: o } = this.options;
      return o ? ((a = this.getStack()) === null || a === void 0 ? void 0 : a.lead) || this : this;
    }
    getPrevLead() {
      var a;
      const { layoutId: o } = this.options;
      return o ? (a = this.getStack()) === null || a === void 0 ? void 0 : a.prevLead : void 0;
    }
    getStack() {
      const { layoutId: a } = this.options;
      if (a)
        return this.root.sharedNodes.get(a);
    }
    promote({ needsReset: a, transition: o, preserveFollowOpacity: u } = {}) {
      const f = this.getStack();
      f && f.promote(this, u), a && (this.projectionDelta = void 0, this.needsReset = !0), o && this.setOptions({ transition: o });
    }
    relegate() {
      const a = this.getStack();
      return a ? a.relegate(this) : !1;
    }
    resetRotation() {
      const { visualElement: a } = this.options;
      if (!a)
        return;
      let o = !1;
      const { latestValues: u } = a;
      if ((u.rotate || u.rotateX || u.rotateY || u.rotateZ) && (o = !0), !o)
        return;
      const f = {};
      for (let l = 0; l < s0.length; l++) {
        const h = "rotate" + s0[l];
        u[h] && (f[h] = u[h], a.setStaticValue(h, 0));
      }
      a == null || a.render();
      for (const l in f)
        a.setStaticValue(l, f[l]);
      a.scheduleRender();
    }
    getProjectionStyles(a = {}) {
      var o, u, f;
      const l = {};
      if (!this.instance || this.isSVG)
        return l;
      if (this.isVisible)
        l.visibility = "";
      else
        return { visibility: "hidden" };
      const h = (o = this.options.visualElement) === null || o === void 0 ? void 0 : o.getProps().transformTemplate;
      if (this.needsReset)
        return this.needsReset = !1, l.opacity = "", l.pointerEvents = fa(a.pointerEvents) || "", l.transform = h ? h(this.latestValues, "") : "none", l;
      const c = this.getLead();
      if (!this.projectionDelta || !this.layout || !c.target) {
        const m = {};
        return this.options.layoutId && (m.opacity = this.latestValues.opacity !== void 0 ? this.latestValues.opacity : 1, m.pointerEvents = fa(a.pointerEvents) || ""), this.hasProjected && !jn(this.latestValues) && (m.transform = h ? h({}, "") : "none", this.hasProjected = !1), m;
      }
      const d = c.animationValues || c.latestValues;
      this.applyTransformsToTarget(), l.transform = i0(this.projectionDeltaWithTransform, this.treeScale, d), h && (l.transform = h(d, l.transform));
      const { x: p, y: v } = this.projectionDelta;
      l.transformOrigin = `${p.origin * 100}% ${v.origin * 100}% 0`, c.animationValues ? l.opacity = c === this ? (f = (u = d.opacity) !== null && u !== void 0 ? u : this.latestValues.opacity) !== null && f !== void 0 ? f : 1 : this.preserveOpacity ? this.latestValues.opacity : d.opacityExit : l.opacity = c === this ? d.opacity !== void 0 ? d.opacity : "" : d.opacityExit !== void 0 ? d.opacityExit : 0;
      for (const m in Ta) {
        if (d[m] === void 0)
          continue;
        const { correct: b, applyTo: A } = Ta[m], D = b(d[m], c);
        if (A) {
          const k = A.length;
          for (let L = 0; L < k; L++)
            l[A[L]] = D;
        } else
          l[m] = D;
      }
      return this.options.layoutId && (l.pointerEvents = c === this ? fa(a.pointerEvents) || "" : "none"), l;
    }
    clearSnapshot() {
      this.resumeFrom = this.snapshot = void 0;
    }
    // Only run on root
    resetTree() {
      this.root.nodes.forEach((a) => {
        var o;
        return (o = a.currentAnimation) === null || o === void 0 ? void 0 : o.stop();
      }), this.root.nodes.forEach(o0), this.root.sharedNodes.clear();
    }
  };
}
function x7(e) {
  e.updateLayout();
}
function S7(e) {
  var t, r, n;
  const i = ((t = e.resumeFrom) === null || t === void 0 ? void 0 : t.snapshot) || e.snapshot;
  if (e.isLead() && e.layout && i && e.hasListeners("didUpdate")) {
    const { layoutBox: s, measuredBox: a } = e.layout, { animationType: o } = e.options, u = i.source !== e.layout.source;
    o === "size" ? kr((d) => {
      const p = u ? i.measuredBox[d] : i.layoutBox[d], v = sr(p);
      p.min = s[d].min, p.max = p.min + v;
    }) : sg(o, i.layoutBox, s) && kr((d) => {
      const p = u ? i.measuredBox[d] : i.layoutBox[d], v = sr(s[d]);
      p.max = p.min + v;
    });
    const f = hs();
    cs(f, s, i.layoutBox);
    const l = hs();
    u ? cs(l, e.applyTransform(a, !0), i.measuredBox) : cs(l, s, i.layoutBox);
    const h = !rg(f);
    let c = !1;
    if (!e.resumeFrom) {
      const d = e.getClosestProjectingParent();
      if (d && !d.resumeFrom) {
        const { snapshot: p, layout: v } = d;
        if (p && v) {
          const m = Tt();
          ls(m, i.layoutBox, p.layoutBox);
          const b = Tt();
          ls(b, s, v.layoutBox), ng(m, b) || (c = !0);
        }
      }
    }
    e.notifyListeners("didUpdate", {
      layout: s,
      snapshot: i,
      delta: l,
      layoutDelta: f,
      hasLayoutChanged: h,
      hasRelativeTargetChanged: c
    });
  } else
    e.isLead() && ((n = (r = e.options).onExitComplete) === null || n === void 0 || n.call(r));
  e.options.transition = void 0;
}
function E7(e) {
  e.isProjectionDirty || (e.isProjectionDirty = Boolean(e.parent && e.parent.isProjectionDirty)), e.isTransformDirty || (e.isTransformDirty = Boolean(e.parent && e.parent.isTransformDirty));
}
function A7(e) {
  e.clearSnapshot();
}
function o0(e) {
  e.clearMeasurements();
}
function _7(e) {
  const { visualElement: t } = e.options;
  t != null && t.getProps().onBeforeLayoutMeasure && t.notify("BeforeLayoutMeasure"), e.resetTransform();
}
function u0(e) {
  e.finishAnimation(), e.targetDelta = e.relativeTarget = e.target = void 0;
}
function T7(e) {
  e.resolveTargetDelta();
}
function P7(e) {
  e.calcProjection();
}
function F7(e) {
  e.resetRotation();
}
function I7(e) {
  e.removeLeadSnapshot();
}
function f0(e, t, r) {
  e.translate = xt(t.translate, 0, r), e.scale = xt(t.scale, 1, r), e.origin = t.origin, e.originPoint = t.originPoint;
}
function c0(e, t, r, n) {
  e.min = xt(t.min, r.min, n), e.max = xt(t.max, r.max, n);
}
function C7(e, t, r, n) {
  c0(e.x, t.x, r.x, n), c0(e.y, t.y, r.y, n);
}
function R7(e) {
  return e.animationValues && e.animationValues.opacityExit !== void 0;
}
const O7 = {
  duration: 0.45,
  ease: [0.4, 0, 0.1, 1]
};
function D7(e, t) {
  let r = e.root;
  for (let s = e.path.length - 1; s >= 0; s--)
    if (Boolean(e.path[s].instance)) {
      r = e.path[s];
      break;
    }
  const i = (r && r !== e.root ? r.instance : document).querySelector(`[data-projection-id="${t}"]`);
  i && e.mount(i, !0);
}
function l0(e) {
  e.min = Math.round(e.min), e.max = Math.round(e.max);
}
function M7(e) {
  l0(e.x), l0(e.y);
}
function sg(e, t, r) {
  return e === "position" || e === "preserve-aspect" && !wf(n0(t), n0(r), 0.2);
}
const B7 = ig({
  attachResizeListener: (e, t) => go(e, "resize", t),
  measureScroll: () => ({
    x: document.documentElement.scrollLeft || document.body.scrollLeft,
    y: document.documentElement.scrollTop || document.body.scrollTop
  }),
  checkIsScrollRoot: () => !0
}), Ou = {
  current: void 0
}, N7 = ig({
  measureScroll: (e) => ({
    x: e.scrollLeft,
    y: e.scrollTop
  }),
  defaultParent: () => {
    if (!Ou.current) {
      const e = new B7(0, {});
      e.mount(window), e.setOptions({ layoutScroll: !0 }), Ou.current = e;
    }
    return Ou.current;
  },
  resetTransform: (e, t) => {
    e.style.transform = t !== void 0 ? t : "none";
  },
  checkIsScrollRoot: (e) => Boolean(window.getComputedStyle(e).position === "fixed")
}), k7 = {
  ...pE,
  ...DS,
  ...NE,
  ...u7
}, ag = /* @__PURE__ */ H8((e, t) => bS(e, t, k7, n7, N7));
function og() {
  const e = gr(!1);
  return _a(() => (e.current = !0, () => {
    e.current = !1;
  }), []), e;
}
function j7() {
  const e = og(), [t, r] = qt(0), n = Vu(() => {
    e.current && r(t + 1);
  }, [t]);
  return [Vu(() => Gt.postRender(n), [n]), t];
}
class L7 extends qe.Component {
  getSnapshotBeforeUpdate(t) {
    const r = this.props.childRef.current;
    if (r && t.isPresent && !this.props.isPresent) {
      const n = this.props.sizeRef.current;
      n.height = r.offsetHeight || 0, n.width = r.offsetWidth || 0, n.top = r.offsetTop, n.left = r.offsetLeft;
    }
    return null;
  }
  /**
   * Required with getSnapshotBeforeUpdate to stop React complaining.
   */
  componentDidUpdate() {
  }
  render() {
    return this.props.children;
  }
}
function V7({ children: e, isPresent: t }) {
  const r = Of(), n = gr(null), i = gr({
    width: 0,
    height: 0,
    top: 0,
    left: 0
  });
  return Sg(() => {
    const { width: s, height: a, top: o, left: u } = i.current;
    if (t || !n.current || !s || !a)
      return;
    n.current.dataset.motionPopId = r;
    const f = document.createElement("style");
    return document.head.appendChild(f), f.sheet && f.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${u}px !important;
          }
        `), () => {
      document.head.removeChild(f);
    };
  }, [t]), qe.createElement(L7, { isPresent: t, childRef: n, sizeRef: i }, qe.cloneElement(e, { ref: n }));
}
const Du = ({ children: e, initial: t, isPresent: r, onExitComplete: n, custom: i, presenceAffectsLayout: s, mode: a }) => {
  const o = vo(H7), u = Of(), f = nr(
    () => ({
      id: u,
      initial: t,
      isPresent: r,
      custom: i,
      onExitComplete: (l) => {
        o.set(l, !0);
        for (const h of o.values())
          if (!h)
            return;
        n && n();
      },
      register: (l) => (o.set(l, !1), () => o.delete(l))
    }),
    /**
     * If the presence of a child affects the layout of the components around it,
     * we want to make a new context value to ensure they get re-rendered
     * so they can detect that layout change.
     */
    s ? void 0 : [r]
  );
  return nr(() => {
    o.forEach((l, h) => o.set(h, !1));
  }, [r]), qe.useEffect(() => {
    !r && !o.size && n && n();
  }, [r]), a === "popLayout" && (e = qe.createElement(V7, { isPresent: r }, e)), qe.createElement(Bs.Provider, { value: f }, e);
};
function H7() {
  return /* @__PURE__ */ new Map();
}
const fi = (e) => e.key || "";
function U7(e, t) {
  e.forEach((r) => {
    const n = fi(r);
    t.set(n, r);
  });
}
function q7(e) {
  const t = [];
  return Ag.forEach(e, (r) => {
    _g(r) && t.push(r);
  }), t;
}
const K7 = ({ children: e, custom: t, initial: r = !0, onExitComplete: n, exitBeforeEnter: i, presenceAffectsLayout: s = !0, mode: a = "sync" }) => {
  i && (a = "wait", process.env.NODE_ENV !== "production" && mo(!1, "Replace exitBeforeEnter with mode='wait'"));
  let [o] = j7();
  const u = Dt(Kc).forceRender;
  u && (o = u);
  const f = og(), l = q7(e);
  let h = l;
  const c = /* @__PURE__ */ new Set(), d = gr(h), p = gr(/* @__PURE__ */ new Map()).current, v = gr(!0);
  if (_a(() => {
    v.current = !1, U7(l, p), d.current = h;
  }), el(() => {
    v.current = !0, p.clear(), c.clear();
  }), v.current)
    return qe.createElement(qe.Fragment, null, h.map((D) => qe.createElement(Du, { key: fi(D), isPresent: !0, initial: r ? void 0 : !1, presenceAffectsLayout: s, mode: a }, D)));
  h = [...h];
  const m = d.current.map(fi), b = l.map(fi), A = m.length;
  for (let D = 0; D < A; D++) {
    const k = m[D];
    b.indexOf(k) === -1 && c.add(k);
  }
  return a === "wait" && c.size && (h = []), c.forEach((D) => {
    if (b.indexOf(D) !== -1)
      return;
    const k = p.get(D);
    if (!k)
      return;
    const L = m.indexOf(D), _ = () => {
      p.delete(D), c.delete(D);
      const F = d.current.findIndex((O) => O.key === D);
      if (d.current.splice(F, 1), !c.size) {
        if (d.current = l, f.current === !1)
          return;
        o(), n && n();
      }
    };
    h.splice(L, 0, qe.createElement(Du, { key: fi(k), isPresent: !1, onExitComplete: _, custom: t, presenceAffectsLayout: s, mode: a }, k));
  }), h = h.map((D) => {
    const k = D.key;
    return c.has(k) ? D : qe.createElement(Du, { key: fi(D), isPresent: !0, presenceAffectsLayout: s, mode: a }, D);
  }), process.env.NODE_ENV !== "production" && a === "wait" && h.length > 1 && console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`), qe.createElement(qe.Fragment, null, c.size ? h : h.map((D) => Eg(D)));
};
function yl({
  open: e,
  onClose: t,
  children: r,
  className: n,
  variants: i,
  noWatermark: s = !1
}) {
  const a = P8();
  return /* @__PURE__ */ Je(K7, {
    children: [e && /* @__PURE__ */ Te(W7, {
      variants: $7,
      initial: "hidden",
      animate: "shown",
      exit: "hidden",
      transition: {
        ease: "easeInOut",
        duration: 0.23
      },
      onClick: t,
      children: !s && /* @__PURE__ */ Je(Q7, {
        children: ["Arweave Wallet Kit v", T8]
      })
    }, "bg"), e && /* @__PURE__ */ Te(Z7, {
      className: n,
      variants: i || G7(a),
      initial: "hidden",
      animate: "shown",
      exit: "hidden",
      children: r
    }, "modal")]
  });
}
const $7 = {
  shown: {
    opacity: 1
  },
  hidden: {
    opacity: 0
  }
}, z7 = () => ag.div, W7 = /* @__PURE__ */ Le(z7())({
  name: "BackgroundLayer",
  class: "bbvkbel",
  propsAsIs: !0
}), G7 = (e = !1) => ({
  shown: {
    opacity: 1,
    translateX: "-50%",
    translateY: e ? "0" : "-50%",
    transition: {
      type: "spring",
      duration: 0.4,
      delayChildren: 0.2,
      staggerChildren: 0.05
    }
  },
  hidden: {
    opacity: 0.4,
    translateX: "-50%",
    translateY: "200%",
    transition: {
      type: "spring",
      duration: 0.4
    }
  }
}), J7 = () => ag.div, Y7 = () => (e) => e.theme.background, X7 = () => (e) => ({
  default: 30,
  minimal: 12,
  none: 0
})[e.theme.themeConfig.radius] + "px", Z7 = It(/* @__PURE__ */ Le(J7())({
  name: "Wrapper",
  class: "w1767o4q",
  propsAsIs: !0,
  vars: {
    "w1767o4q-0": [Y7()],
    "w1767o4q-1": [X7()]
  }
})), Q7 = /* @__PURE__ */ Le("p")({
  name: "KitName",
  class: "kzdiz37",
  propsAsIs: !1
});
function ml(e = !1) {
  const [t, r] = qt(e);
  return {
    setOpen: r,
    open: t,
    bindings: {
      open: t,
      onClose: () => r(!1)
    }
  };
}
function eA() {
  const e = ml(), {
    state: t,
    dispatch: r
  } = $t(), [n, i] = qt();
  Ye(() => {
    (async () => {
      const u = await n6((t == null ? void 0 : t.config.permissions) || [], !!(t != null && t.config.ensurePermissions));
      u && u.resumeSession ? (i(u), e.setOpen(!0)) : r({
        type: "UPDATE_STRATEGY",
        payload: !!u && u.id || !1
      });
    })();
  }, []);
  function s() {
    localStorage.removeItem(Ds), r({
      type: "DISCONNECT"
    });
  }
  async function a() {
    let u = !1;
    if (n != null && n.resumeSession) {
      u = n;
      try {
        await n.resumeSession();
      } catch {
        u = !1;
      }
    }
    i(void 0), e.setOpen(!1), r({
      type: "UPDATE_STRATEGY",
      payload: !!u && u.id || !1
    }), u || s();
  }
  function o() {
    i(void 0), e.setOpen(!1), s();
  }
  return /* @__PURE__ */ Je(iA, {
    variants: tA,
    ...e.bindings,
    onClose: o,
    noWatermark: !0,
    children: [/* @__PURE__ */ Je(aA, {
      children: ["Would you like to restore your ", (n == null ? void 0 : n.name) + " " || "", "session?"]
    }), /* @__PURE__ */ Je(oA, {
      children: [/* @__PURE__ */ Te(Tn, {
        onClick: a,
        children: "Restore"
      }), /* @__PURE__ */ Te(lA, {
        onClick: o,
        children: "Cancel"
      })]
    })]
  });
}
const tA = {
  shown: {
    opacity: 1,
    translateY: "-1.5rem",
    transition: {
      type: "spring",
      duration: 0.4,
      delayChildren: 0.2,
      staggerChildren: 0.025
    }
  },
  hidden: {
    opacity: 0.4,
    translateY: "200%",
    transition: {
      type: "spring",
      duration: 0.4
    }
  }
}, rA = () => yl, nA = () => (e) => ({
  default: 15,
  minimal: 8,
  none: 0
})[e.theme.themeConfig.radius] + "px", iA = It(/* @__PURE__ */ Le(rA())({
  name: "BottomModal",
  class: "b7jc8fb",
  propsAsIs: !0,
  vars: {
    "b7jc8fb-0": [nA()]
  }
})), sA = () => (e) => e.theme.primaryText, aA = It(/* @__PURE__ */ Le("p")({
  name: "Text",
  class: "typmncv",
  propsAsIs: !1,
  vars: {
    "typmncv-0": [sA()]
  }
})), oA = /* @__PURE__ */ Le("div")({
  name: "Buttons",
  class: "b14qolsb",
  propsAsIs: !1
}), uA = () => Tn, fA = () => (e) => e.theme.primaryText, cA = () => (e) => e.theme.theme, lA = It(/* @__PURE__ */ Le(uA())({
  name: "CloseButton",
  class: "c1jq17m8",
  propsAsIs: !0,
  vars: {
    "c1jq17m8-0": [fA()],
    "c1jq17m8-1": [cA()]
  }
}));
const hA = () => (e) => e.small ? ".7rem" : ".9rem", dA = () => (e) => e.theme.secondaryText, wi = It(/* @__PURE__ */ Le("p")({
  name: "Paragraph",
  class: "p1jty3xq",
  propsAsIs: !1,
  vars: {
    "p1jty3xq-0": [hA()],
    "p1jty3xq-1": [dA()]
  }
}));
const pA = () => (e) => e.small ? "1.05rem" : "1.2rem", vA = () => (e) => e.themed ? U0(e.theme.themeConfig.titleHighlight) : e.theme.primaryText, gA = () => (e) => e.themed ? "pointer" : "text", Hn = It(/* @__PURE__ */ Le("h1")({
  name: "Title",
  class: "t1sgzzc0",
  propsAsIs: !1,
  vars: {
    "t1sgzzc0-0": [pA()],
    "t1sgzzc0-1": [vA()],
    "t1sgzzc0-2": [gA()]
  }
})), yA = /* @__PURE__ */ Le("div")({
  name: "TitleWithParagraph",
  class: "tb205ol",
  propsAsIs: !1
});
function mA({
  logo: e,
  name: t,
  description: r,
  onClick: n,
  theme: i
}) {
  return /* @__PURE__ */ Je(bA, {
    children: [/* @__PURE__ */ Je(wA, {
      children: [/* @__PURE__ */ Te(fg, {
        colorTheme: i,
        clickable: !0,
        onClick: n,
        children: /* @__PURE__ */ Te(ug, {
          src: e,
          draggable: !1
        })
      }), /* @__PURE__ */ Je(_A, {
        children: [/* @__PURE__ */ Te(Hn, {
          small: !0,
          children: t
        }), /* @__PURE__ */ Te(wi, {
          small: !0,
          children: r
        })]
      })]
    }), /* @__PURE__ */ Te(Tn, {
      onClick: n,
      children: "Go"
    })]
  });
}
const bA = /* @__PURE__ */ Le("div")({
  name: "Wrapper",
  class: "wzg6vks",
  propsAsIs: !1
}), wA = /* @__PURE__ */ Le("div")({
  name: "AppInfo",
  class: "a1vzc1qt",
  propsAsIs: !1
}), ug = /* @__PURE__ */ Le("img")({
  name: "Logo",
  class: "l1rbotc6",
  propsAsIs: !1
}), xA = () => (e) => ({
  default: 15,
  minimal: 6,
  none: 0
})[e.theme.themeConfig.radius] + "px", SA = () => (e) => e.colorTheme || e.theme.primaryText, EA = () => (e) => e.clickable ? "pointer" : "default", AA = () => (e) => e.clickable ? ".95" : "1", fg = It(/* @__PURE__ */ Le("div")({
  name: "AppIcon",
  class: "acuhj7u",
  propsAsIs: !1,
  vars: {
    "acuhj7u-0": [xA()],
    "acuhj7u-1": [SA()],
    "acuhj7u-2": [EA()],
    "acuhj7u-3": [AA()]
  }
})), _A = /* @__PURE__ */ Le("div")({
  name: "AppNameAndDescription",
  class: "a143ijem",
  propsAsIs: !1
});
function TA({
  children: e
}) {
  return /* @__PURE__ */ Te(FA, {
    children: e
  });
}
const PA = () => (e) => e.theme.light, FA = It(/* @__PURE__ */ Le("div")({
  name: "Wrapper",
  class: "wv1c1ab",
  propsAsIs: !1,
  vars: {
    "wv1c1ab-0": [PA()]
  }
}));
const IA = (e) => /* @__PURE__ */ Je(CA, {
  viewBox: "0 0 48 48",
  xmlns: "http://www.w3.org/2000/svg",
  ...e,
  children: [/* @__PURE__ */ Te("circle", {
    cx: "24",
    cy: "24",
    fill: "none",
    r: "20",
    strokeDasharray: "80",
    strokeLinecap: "round",
    stroke: "currentColor",
    strokeWidth: "4"
  }), /* @__PURE__ */ Te("circle", {
    cx: "24",
    cy: "24",
    fill: "none",
    opacity: "0.3",
    r: "20",
    strokeLinecap: "round",
    stroke: "currentColor",
    strokeWidth: "4"
  })]
}), CA = /* @__PURE__ */ Le("svg")({
  name: "SvgWrapper",
  class: "s9sva",
  propsAsIs: !1
});
function cg({
  children: e,
  onClose: t
}) {
  return /* @__PURE__ */ Je(RA, {
    children: [e, /* @__PURE__ */ Te(MA, {
      onClick: t,
      children: /* @__PURE__ */ Te(h6, {})
    })]
  });
}
const RA = /* @__PURE__ */ Le("div")({
  name: "HeadWrapper",
  class: "h1mmuqym",
  propsAsIs: !1
}), OA = () => (e) => e.theme.light, DA = () => (e) => e.theme.secondaryText, MA = It(/* @__PURE__ */ Le("div")({
  name: "CloseButton",
  class: "c86k5gq",
  propsAsIs: !1,
  vars: {
    "c86k5gq-0": [OA()],
    "c86k5gq-1": [DA()]
  }
}));
function BA() {
  const e = ml(), {
    state: t,
    dispatch: r
  } = $t();
  Ye(() => {
    e.setOpen((t == null ? void 0 : t.activeModal) === "connect");
  }, [t == null ? void 0 : t.activeModal]), Ye(() => {
    e.open || (s(void 0), r({
      type: "CLOSE_MODAL"
    }));
  }, [e.open]);
  const {
    connected: n
  } = Cc();
  Ye(() => {
    !n || (t == null ? void 0 : t.activeModal) !== "connect" || r({
      type: "CLOSE_MODAL"
    });
  }, [n, t]);
  const [i, s] = qt(), a = nr(() => i ? di(i) : void 0, [i, as]), [o, u] = qt(!1), [f, l] = qt(!1), [h, c] = qt(!1), [d, p] = qt(!1);
  async function v(_) {
    const F = as.find((P) => P.id === _);
    if (!F)
      return;
    l(!0), s(_);
    let O = !1;
    try {
      O = await F.isAvailable();
    } catch {
      O = !1;
    }
    c(O), l(!1), O && await m(F);
  }
  async function m(_) {
    p(!1), u(!0);
    try {
      await _.connect(t.config.permissions, t.config.appInfo, t.config.gatewayConfig), postMessage({
        type: "connect_result",
        res: !0
      }), r({
        type: "CLOSE_MODAL"
      }), of(_.id), r({
        type: "UPDATE_STRATEGY",
        payload: _.id
      });
    } catch {
      D(), p(!0), r({
        type: "UPDATE_STRATEGY",
        payload: !1
      });
    }
    u(!1);
  }
  function b() {
    postMessage({
      type: "connect_result",
      res: !1
    }), r({
      type: "CLOSE_MODAL"
    });
  }
  const A = Uc();
  function D() {
    try {
      document.querySelectorAll(".arconnect_connect_overlay_extension_temporary").forEach((_) => _.remove());
    } catch {
    }
  }
  const [k, L] = qt(!1);
  return Ye(() => {
    (async () => {
      const _ = navigator.brave && await navigator.brave.isBrave();
      L(_);
    })();
  }, []), /* @__PURE__ */ Je(yl, {
    ...e.bindings,
    onClose: b,
    children: [/* @__PURE__ */ Te(cg, {
      onClose: b,
      children: /* @__PURE__ */ Je(Hn, {
        themed: !!i,
        onClick: () => {
          i && s(void 0);
        },
        children: [i && /* @__PURE__ */ Te(zA, {}), a ? a.name : "Connect wallet"]
      })
    }), !i && /* @__PURE__ */ Te(NA, {
      children: as.map((_, F) => /* @__PURE__ */ Te(mA, {
        name: _.name,
        description: _.description,
        logo: `${A}/${_.logo}`,
        theme: _.theme,
        onClick: () => v(_.id)
      }, F))
    }) || /* @__PURE__ */ Te(kA, {
      children: /* @__PURE__ */ Je(jA, {
        children: [/* @__PURE__ */ Te(fg, {
          colorTheme: a == null ? void 0 : a.theme,
          children: /* @__PURE__ */ Te(ug, {
            src: `${A}/${a == null ? void 0 : a.logo}`,
            draggable: !1
          })
        }), h && /* @__PURE__ */ Je(bs, {
          children: [/* @__PURE__ */ Je(Hn, {
            small: !0,
            children: ["Connecting to ", (a == null ? void 0 : a.name) || "", "..."]
          }), /* @__PURE__ */ Te(wi, {
            children: "Confirm connection request in the wallet popup window"
          }), (a == null ? void 0 : a.id) === "othent" && k && /* @__PURE__ */ Je(HA, {
            children: ["You might need to ", /* @__PURE__ */ Te("b", {
              children: "disable Brave shields"
            }), " for this to work properly."]
          }), d && a && /* @__PURE__ */ Te(Tn, {
            onClick: () => m(a),
            children: "Retry"
          })]
        }) || !f && /* @__PURE__ */ Je(bs, {
          children: [
            /* @__PURE__ */ Je(Hn, {
              small: !0,
              children: [(a == null ? void 0 : a.name) || "", " is not available."]
            }),
            /* @__PURE__ */ Te(wi, {
              children: "If you don't have it yet, you can try to download it"
            }),
            // @ts-expect-error
            (a == null ? void 0 : a.url) && /* @__PURE__ */ Te(Tn, {
              onClick: () => {
                window.open(a.url);
              },
              children: "Download"
            })
          ]
        }), (o || f) && /* @__PURE__ */ Te(KA, {})]
      })
    }), /* @__PURE__ */ Je(TA, {
      children: [/* @__PURE__ */ Je(yA, {
        children: [/* @__PURE__ */ Te(Hn, {
          small: !0,
          children: "Don't have a wallet?"
        }), /* @__PURE__ */ Te(wi, {
          small: !0,
          children: "Click to learn more about the permaweb & wallets."
        })]
      }), /* @__PURE__ */ Te(Tn, {
        onClick: () => window.open("https://arwiki.wiki/#/en/wallets"),
        children: "Get"
      })]
    })]
  });
}
const NA = /* @__PURE__ */ Le("div")({
  name: "Apps",
  class: "a1osnke6",
  propsAsIs: !1
}), kA = /* @__PURE__ */ Le("div")({
  name: "Connecting",
  class: "c15u83h7",
  propsAsIs: !1
}), jA = /* @__PURE__ */ Le("div")({
  name: "WalletData",
  class: "w5r445t",
  propsAsIs: !1
}), LA = () => wi, VA = () => (e) => ({
  default: 14,
  minimal: 8,
  none: 0
})[e.theme.themeConfig.radius] + "px", HA = It(/* @__PURE__ */ Le(LA())({
  name: "BraveParagraph",
  class: "bukrfi8",
  propsAsIs: !0,
  vars: {
    "bukrfi8-0": [VA()]
  }
})), UA = () => IA, qA = () => (e) => e.theme.primaryText, KA = It(/* @__PURE__ */ Le(UA())({
  name: "ConnectLoading",
  class: "c13sms3",
  propsAsIs: !0,
  vars: {
    "c13sms3-0": [qA()]
  }
})), $A = () => l6, zA = /* @__PURE__ */ Le($A())({
  name: "BackButton",
  class: "b1r2gdr0",
  propsAsIs: !0
});
function WA() {
  const e = ml(), {
    state: t,
    dispatch: r
  } = $t();
  Ye(() => {
    e.setOpen((t == null ? void 0 : t.activeModal) === "profile");
  }, [t == null ? void 0 : t.activeModal]), Ye(() => {
    e.open || r({
      type: "CLOSE_MODAL"
    });
  }, [e.open, r]);
  function n() {
    r({
      type: "CLOSE_MODAL"
    });
  }
  const i = $1(), s = W1(), a = Uc(), {
    disconnect: o
  } = Cc(), u = Qr();
  return /* @__PURE__ */ Je(yl, {
    ...e.bindings,
    onClose: n,
    children: [/* @__PURE__ */ Te(cg, {
      onClose: n,
      children: /* @__PURE__ */ Te(Hn, {
        children: "Profile"
      })
    }), /* @__PURE__ */ Je(JA, {
      children: [/* @__PURE__ */ Je(QA, {
        profilePicture: s == null ? void 0 : s.avatar,
        children: [!(s != null && s.avatar) && /* @__PURE__ */ Te(i_, {}), /* @__PURE__ */ Te(r_, {
          strategyTheme: u == null ? void 0 : u.theme,
          children: /* @__PURE__ */ Te("img", {
            src: u != null && u.logo ? `${a}/${u.logo}` : "",
            alt: (u == null ? void 0 : u.name) || "active strategy logo",
            draggable: !1
          })
        })]
      }), /* @__PURE__ */ Je(Hn, {
        children: [(s == null ? void 0 : s.currentLabel) || H0((t == null ? void 0 : t.activeAddress) || "", 8), /* @__PURE__ */ Te(d6, {
          onClick: () => navigator.clipboard.writeText(t.activeAddress || "")
        })]
      }), /* @__PURE__ */ Je(wi, {
        children: [i.toLocaleString(void 0, {
          maximumFractionDigits: 4
        }), " AR"]
      }), /* @__PURE__ */ Je(Tn, {
        onClick: o,
        children: [/* @__PURE__ */ Te(p6, {}), "Disconnect"]
      })]
    })]
  });
}
const GA = () => (e) => ({
  default: 18,
  minimal: 10,
  none: 0
})[e.theme.themeConfig.radius] + "px", JA = It(/* @__PURE__ */ Le("div")({
  name: "ProfileData",
  class: "p1hjgol5",
  propsAsIs: !1,
  vars: {
    "p1hjgol5-0": [GA()]
  }
})), YA = () => (e) => ({
  default: "100%",
  minimal: "8px",
  none: "none"
})[e.theme.themeConfig.radius], XA = () => (e) => e.theme.theme, ZA = () => (e) => e.profilePicture ? `background-image: url(${e.profilePicture});` : "", QA = It(/* @__PURE__ */ Le("div")({
  name: "ProfilePicture",
  class: "publs4f",
  propsAsIs: !1,
  vars: {
    "publs4f-0": [YA()],
    "publs4f-1": [XA()],
    "publs4f-2": [ZA()]
  }
})), e_ = () => (e) => e.strategyTheme || e.theme.theme, t_ = () => (e) => e.theme.background, r_ = It(/* @__PURE__ */ Le("div")({
  name: "ActiveStrategy",
  class: "alzinag",
  propsAsIs: !1,
  vars: {
    "alzinag-0": [e_()],
    "alzinag-1": [t_()]
  }
})), n_ = () => S1, i_ = /* @__PURE__ */ Le(n_())({
  name: "ProfileIcon",
  class: "p1qewrlg",
  propsAsIs: !0
});
function s_(e = Ec, t) {
  switch (t.type) {
    case "OPEN_MODAL":
      return {
        ...e,
        activeModal: t.payload
      };
    case "CLOSE_MODAL":
      return {
        ...e,
        activeModal: !1
      };
    case "DISCONNECT":
      return {
        ...e,
        activeStrategy: !1,
        activeAddress: void 0,
        givenPermissions: []
      };
    case "UPDATE_STRATEGY":
      return {
        ...e,
        activeStrategy: t.payload
      };
    case "UPDATE_CONFIG":
      return {
        ...e,
        config: t.payload
      };
    case "UPDATE_ADDRESS":
      return {
        ...e,
        activeAddress: t.payload
      };
    case "UPDATE_PERMISSIONS":
      return {
        ...e,
        givenPermissions: t.payload
      };
  }
  return e;
}
var et = {}, h0 = {
  get exports() {
    return et;
  },
  set exports(e) {
    et = e;
  }
};
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var d0 = Object.getOwnPropertySymbols, a_ = Object.prototype.hasOwnProperty, o_ = Object.prototype.propertyIsEnumerable;
function u_(e) {
  if (e == null)
    throw new TypeError("Object.assign cannot be called with null or undefined");
  return Object(e);
}
function f_() {
  try {
    if (!Object.assign)
      return !1;
    var e = new String("abc");
    if (e[5] = "de", Object.getOwnPropertyNames(e)[0] === "5")
      return !1;
    for (var t = {}, r = 0; r < 10; r++)
      t["_" + String.fromCharCode(r)] = r;
    var n = Object.getOwnPropertyNames(t).map(function(s) {
      return t[s];
    });
    if (n.join("") !== "0123456789")
      return !1;
    var i = {};
    return "abcdefghijklmnopqrst".split("").forEach(function(s) {
      i[s] = s;
    }), Object.keys(Object.assign({}, i)).join("") === "abcdefghijklmnopqrst";
  } catch {
    return !1;
  }
}
var lg = f_() ? Object.assign : function(e, t) {
  for (var r, n = u_(e), i, s = 1; s < arguments.length; s++) {
    r = Object(arguments[s]);
    for (var a in r)
      a_.call(r, a) && (n[a] = r[a]);
    if (d0) {
      i = d0(r);
      for (var o = 0; o < i.length; o++)
        o_.call(r, i[o]) && (n[i[o]] = r[i[o]]);
    }
  }
  return n;
}, Mu, p0;
function bl() {
  if (p0)
    return Mu;
  p0 = 1;
  var e = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
  return Mu = e, Mu;
}
var Bu, v0;
function hg() {
  return v0 || (v0 = 1, Bu = Function.call.bind(Object.prototype.hasOwnProperty)), Bu;
}
var Nu, g0;
function c_() {
  if (g0)
    return Nu;
  g0 = 1;
  var e = function() {
  };
  if (process.env.NODE_ENV !== "production") {
    var t = bl(), r = {}, n = hg();
    e = function(s) {
      var a = "Warning: " + s;
      typeof console < "u" && console.error(a);
      try {
        throw new Error(a);
      } catch {
      }
    };
  }
  function i(s, a, o, u, f) {
    if (process.env.NODE_ENV !== "production") {
      for (var l in s)
        if (n(s, l)) {
          var h;
          try {
            if (typeof s[l] != "function") {
              var c = Error(
                (u || "React class") + ": " + o + " type `" + l + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof s[l] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`."
              );
              throw c.name = "Invariant Violation", c;
            }
            h = s[l](a, l, u, o, null, t);
          } catch (p) {
            h = p;
          }
          if (h && !(h instanceof Error) && e(
            (u || "React class") + ": type specification of " + o + " `" + l + "` is invalid; the type checker function must return `null` or an `Error` but returned a " + typeof h + ". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."
          ), h instanceof Error && !(h.message in r)) {
            r[h.message] = !0;
            var d = f ? f() : "";
            e(
              "Failed " + o + " type: " + h.message + (d ?? "")
            );
          }
        }
    }
  }
  return i.resetWarningCache = function() {
    process.env.NODE_ENV !== "production" && (r = {});
  }, Nu = i, Nu;
}
var ku, y0;
function l_() {
  if (y0)
    return ku;
  y0 = 1;
  var e = _c(), t = lg, r = bl(), n = hg(), i = c_(), s = function() {
  };
  process.env.NODE_ENV !== "production" && (s = function(o) {
    var u = "Warning: " + o;
    typeof console < "u" && console.error(u);
    try {
      throw new Error(u);
    } catch {
    }
  });
  function a() {
    return null;
  }
  return ku = function(o, u) {
    var f = typeof Symbol == "function" && Symbol.iterator, l = "@@iterator";
    function h(x) {
      var V = x && (f && x[f] || x[l]);
      if (typeof V == "function")
        return V;
    }
    var c = "<<anonymous>>", d = {
      array: b("array"),
      bigint: b("bigint"),
      bool: b("boolean"),
      func: b("function"),
      number: b("number"),
      object: b("object"),
      string: b("string"),
      symbol: b("symbol"),
      any: A(),
      arrayOf: D,
      element: k(),
      elementType: L(),
      instanceOf: _,
      node: M(),
      objectOf: O,
      oneOf: F,
      oneOfType: P,
      shape: y,
      exact: E
    };
    function p(x, V) {
      return x === V ? x !== 0 || 1 / x === 1 / V : x !== x && V !== V;
    }
    function v(x, V) {
      this.message = x, this.data = V && typeof V == "object" ? V : {}, this.stack = "";
    }
    v.prototype = Error.prototype;
    function m(x) {
      if (process.env.NODE_ENV !== "production")
        var V = {}, $ = 0;
      function G(ae, le, oe, ue, fe, j, W) {
        if (ue = ue || c, j = j || oe, W !== r) {
          if (u) {
            var U = new Error(
              "Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"
            );
            throw U.name = "Invariant Violation", U;
          } else if (process.env.NODE_ENV !== "production" && typeof console < "u") {
            var Q = ue + ":" + oe;
            !V[Q] && // Avoid spamming the console because they are often not actionable except for lib authors
            $ < 3 && (s(
              "You are manually calling a React.PropTypes validation function for the `" + j + "` prop on `" + ue + "`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."
            ), V[Q] = !0, $++);
          }
        }
        return le[oe] == null ? ae ? le[oe] === null ? new v("The " + fe + " `" + j + "` is marked as required " + ("in `" + ue + "`, but its value is `null`.")) : new v("The " + fe + " `" + j + "` is marked as required in " + ("`" + ue + "`, but its value is `undefined`.")) : null : x(le, oe, ue, fe, j);
      }
      var z = G.bind(null, !1);
      return z.isRequired = G.bind(null, !0), z;
    }
    function b(x) {
      function V($, G, z, ae, le, oe) {
        var ue = $[G], fe = N(ue);
        if (fe !== x) {
          var j = H(ue);
          return new v(
            "Invalid " + ae + " `" + le + "` of type " + ("`" + j + "` supplied to `" + z + "`, expected ") + ("`" + x + "`."),
            { expectedType: x }
          );
        }
        return null;
      }
      return m(V);
    }
    function A() {
      return m(a);
    }
    function D(x) {
      function V($, G, z, ae, le) {
        if (typeof x != "function")
          return new v("Property `" + le + "` of component `" + z + "` has invalid PropType notation inside arrayOf.");
        var oe = $[G];
        if (!Array.isArray(oe)) {
          var ue = N(oe);
          return new v("Invalid " + ae + " `" + le + "` of type " + ("`" + ue + "` supplied to `" + z + "`, expected an array."));
        }
        for (var fe = 0; fe < oe.length; fe++) {
          var j = x(oe, fe, z, ae, le + "[" + fe + "]", r);
          if (j instanceof Error)
            return j;
        }
        return null;
      }
      return m(V);
    }
    function k() {
      function x(V, $, G, z, ae) {
        var le = V[$];
        if (!o(le)) {
          var oe = N(le);
          return new v("Invalid " + z + " `" + ae + "` of type " + ("`" + oe + "` supplied to `" + G + "`, expected a single ReactElement."));
        }
        return null;
      }
      return m(x);
    }
    function L() {
      function x(V, $, G, z, ae) {
        var le = V[$];
        if (!e.isValidElementType(le)) {
          var oe = N(le);
          return new v("Invalid " + z + " `" + ae + "` of type " + ("`" + oe + "` supplied to `" + G + "`, expected a single ReactElement type."));
        }
        return null;
      }
      return m(x);
    }
    function _(x) {
      function V($, G, z, ae, le) {
        if (!($[G] instanceof x)) {
          var oe = x.name || c, ue = K($[G]);
          return new v("Invalid " + ae + " `" + le + "` of type " + ("`" + ue + "` supplied to `" + z + "`, expected ") + ("instance of `" + oe + "`."));
        }
        return null;
      }
      return m(V);
    }
    function F(x) {
      if (!Array.isArray(x))
        return process.env.NODE_ENV !== "production" && (arguments.length > 1 ? s(
          "Invalid arguments supplied to oneOf, expected an array, got " + arguments.length + " arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."
        ) : s("Invalid argument supplied to oneOf, expected an array.")), a;
      function V($, G, z, ae, le) {
        for (var oe = $[G], ue = 0; ue < x.length; ue++)
          if (p(oe, x[ue]))
            return null;
        var fe = JSON.stringify(x, function(W, U) {
          var Q = H(U);
          return Q === "symbol" ? String(U) : U;
        });
        return new v("Invalid " + ae + " `" + le + "` of value `" + String(oe) + "` " + ("supplied to `" + z + "`, expected one of " + fe + "."));
      }
      return m(V);
    }
    function O(x) {
      function V($, G, z, ae, le) {
        if (typeof x != "function")
          return new v("Property `" + le + "` of component `" + z + "` has invalid PropType notation inside objectOf.");
        var oe = $[G], ue = N(oe);
        if (ue !== "object")
          return new v("Invalid " + ae + " `" + le + "` of type " + ("`" + ue + "` supplied to `" + z + "`, expected an object."));
        for (var fe in oe)
          if (n(oe, fe)) {
            var j = x(oe, fe, z, ae, le + "." + fe, r);
            if (j instanceof Error)
              return j;
          }
        return null;
      }
      return m(V);
    }
    function P(x) {
      if (!Array.isArray(x))
        return process.env.NODE_ENV !== "production" && s("Invalid argument supplied to oneOfType, expected an instance of array."), a;
      for (var V = 0; V < x.length; V++) {
        var $ = x[V];
        if (typeof $ != "function")
          return s(
            "Invalid argument supplied to oneOfType. Expected an array of check functions, but received " + Z($) + " at index " + V + "."
          ), a;
      }
      function G(z, ae, le, oe, ue) {
        for (var fe = [], j = 0; j < x.length; j++) {
          var W = x[j], U = W(z, ae, le, oe, ue, r);
          if (U == null)
            return null;
          U.data && n(U.data, "expectedType") && fe.push(U.data.expectedType);
        }
        var Q = fe.length > 0 ? ", expected one of type [" + fe.join(", ") + "]" : "";
        return new v("Invalid " + oe + " `" + ue + "` supplied to " + ("`" + le + "`" + Q + "."));
      }
      return m(G);
    }
    function M() {
      function x(V, $, G, z, ae) {
        return T(V[$]) ? null : new v("Invalid " + z + " `" + ae + "` supplied to " + ("`" + G + "`, expected a ReactNode."));
      }
      return m(x);
    }
    function C(x, V, $, G, z) {
      return new v(
        (x || "React class") + ": " + V + " type `" + $ + "." + G + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + z + "`."
      );
    }
    function y(x) {
      function V($, G, z, ae, le) {
        var oe = $[G], ue = N(oe);
        if (ue !== "object")
          return new v("Invalid " + ae + " `" + le + "` of type `" + ue + "` " + ("supplied to `" + z + "`, expected `object`."));
        for (var fe in x) {
          var j = x[fe];
          if (typeof j != "function")
            return C(z, ae, le, fe, H(j));
          var W = j(oe, fe, z, ae, le + "." + fe, r);
          if (W)
            return W;
        }
        return null;
      }
      return m(V);
    }
    function E(x) {
      function V($, G, z, ae, le) {
        var oe = $[G], ue = N(oe);
        if (ue !== "object")
          return new v("Invalid " + ae + " `" + le + "` of type `" + ue + "` " + ("supplied to `" + z + "`, expected `object`."));
        var fe = t({}, $[G], x);
        for (var j in fe) {
          var W = x[j];
          if (n(x, j) && typeof W != "function")
            return C(z, ae, le, j, H(W));
          if (!W)
            return new v(
              "Invalid " + ae + " `" + le + "` key `" + j + "` supplied to `" + z + "`.\nBad object: " + JSON.stringify($[G], null, "  ") + `
Valid keys: ` + JSON.stringify(Object.keys(x), null, "  ")
            );
          var U = W(oe, j, z, ae, le + "." + j, r);
          if (U)
            return U;
        }
        return null;
      }
      return m(V);
    }
    function T(x) {
      switch (typeof x) {
        case "number":
        case "string":
        case "undefined":
          return !0;
        case "boolean":
          return !x;
        case "object":
          if (Array.isArray(x))
            return x.every(T);
          if (x === null || o(x))
            return !0;
          var V = h(x);
          if (V) {
            var $ = V.call(x), G;
            if (V !== x.entries) {
              for (; !(G = $.next()).done; )
                if (!T(G.value))
                  return !1;
            } else
              for (; !(G = $.next()).done; ) {
                var z = G.value;
                if (z && !T(z[1]))
                  return !1;
              }
          } else
            return !1;
          return !0;
        default:
          return !1;
      }
    }
    function R(x, V) {
      return x === "symbol" ? !0 : V ? V["@@toStringTag"] === "Symbol" || typeof Symbol == "function" && V instanceof Symbol : !1;
    }
    function N(x) {
      var V = typeof x;
      return Array.isArray(x) ? "array" : x instanceof RegExp ? "object" : R(V, x) ? "symbol" : V;
    }
    function H(x) {
      if (typeof x > "u" || x === null)
        return "" + x;
      var V = N(x);
      if (V === "object") {
        if (x instanceof Date)
          return "date";
        if (x instanceof RegExp)
          return "regexp";
      }
      return V;
    }
    function Z(x) {
      var V = H(x);
      switch (V) {
        case "array":
        case "object":
          return "an " + V;
        case "boolean":
        case "date":
        case "regexp":
          return "a " + V;
        default:
          return V;
      }
    }
    function K(x) {
      return !x.constructor || !x.constructor.name ? c : x.constructor.name;
    }
    return d.checkPropTypes = i, d.resetWarningCache = i.resetWarningCache, d.PropTypes = d, d;
  }, ku;
}
var ju, m0;
function h_() {
  if (m0)
    return ju;
  m0 = 1;
  var e = bl();
  function t() {
  }
  function r() {
  }
  return r.resetWarningCache = t, ju = function() {
    function n(a, o, u, f, l, h) {
      if (h !== e) {
        var c = new Error(
          "Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"
        );
        throw c.name = "Invariant Violation", c;
      }
    }
    n.isRequired = n;
    function i() {
      return n;
    }
    var s = {
      array: n,
      bigint: n,
      bool: n,
      func: n,
      number: n,
      object: n,
      string: n,
      symbol: n,
      any: n,
      arrayOf: i,
      element: n,
      elementType: n,
      instanceOf: i,
      node: n,
      objectOf: i,
      oneOf: i,
      oneOfType: i,
      shape: i,
      exact: i,
      checkPropTypes: r,
      resetWarningCache: t
    };
    return s.PropTypes = s, s;
  }, ju;
}
if (process.env.NODE_ENV !== "production") {
  var d_ = _c(), p_ = !0;
  h0.exports = l_()(d_.isElement, p_);
} else
  h0.exports = h_()();
function v_(e) {
  return e && typeof e == "object" && "default" in e ? e.default : e;
}
var dg = Ot, g_ = v_(dg);
function b0(e, t, r) {
  return t in e ? Object.defineProperty(e, t, {
    value: r,
    enumerable: !0,
    configurable: !0,
    writable: !0
  }) : e[t] = r, e;
}
function y_(e, t) {
  e.prototype = Object.create(t.prototype), e.prototype.constructor = e, e.__proto__ = t;
}
var m_ = !!(typeof window < "u" && window.document && window.document.createElement);
function b_(e, t, r) {
  if (typeof e != "function")
    throw new Error("Expected reducePropsToState to be a function.");
  if (typeof t != "function")
    throw new Error("Expected handleStateChangeOnClient to be a function.");
  if (typeof r < "u" && typeof r != "function")
    throw new Error("Expected mapStateOnServer to either be undefined or a function.");
  function n(i) {
    return i.displayName || i.name || "Component";
  }
  return function(s) {
    if (typeof s != "function")
      throw new Error("Expected WrappedComponent to be a React component.");
    var a = [], o;
    function u() {
      o = e(a.map(function(l) {
        return l.props;
      })), f.canUseDOM ? t(o) : r && (o = r(o));
    }
    var f = /* @__PURE__ */ function(l) {
      y_(h, l);
      function h() {
        return l.apply(this, arguments) || this;
      }
      h.peek = function() {
        return o;
      }, h.rewind = function() {
        if (h.canUseDOM)
          throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");
        var p = o;
        return o = void 0, a = [], p;
      };
      var c = h.prototype;
      return c.UNSAFE_componentWillMount = function() {
        a.push(this), u();
      }, c.componentDidUpdate = function() {
        u();
      }, c.componentWillUnmount = function() {
        var p = a.indexOf(this);
        a.splice(p, 1), u();
      }, c.render = function() {
        return g_.createElement(s, this.props);
      }, h;
    }(dg.PureComponent);
    return b0(f, "displayName", "SideEffect(" + n(s) + ")"), b0(f, "canUseDOM", m_), f;
  };
}
var w_ = b_, x_ = typeof Element < "u", S_ = typeof Map == "function", E_ = typeof Set == "function", A_ = typeof ArrayBuffer == "function" && !!ArrayBuffer.isView;
function la(e, t) {
  if (e === t)
    return !0;
  if (e && t && typeof e == "object" && typeof t == "object") {
    if (e.constructor !== t.constructor)
      return !1;
    var r, n, i;
    if (Array.isArray(e)) {
      if (r = e.length, r != t.length)
        return !1;
      for (n = r; n-- !== 0; )
        if (!la(e[n], t[n]))
          return !1;
      return !0;
    }
    var s;
    if (S_ && e instanceof Map && t instanceof Map) {
      if (e.size !== t.size)
        return !1;
      for (s = e.entries(); !(n = s.next()).done; )
        if (!t.has(n.value[0]))
          return !1;
      for (s = e.entries(); !(n = s.next()).done; )
        if (!la(n.value[1], t.get(n.value[0])))
          return !1;
      return !0;
    }
    if (E_ && e instanceof Set && t instanceof Set) {
      if (e.size !== t.size)
        return !1;
      for (s = e.entries(); !(n = s.next()).done; )
        if (!t.has(n.value[0]))
          return !1;
      return !0;
    }
    if (A_ && ArrayBuffer.isView(e) && ArrayBuffer.isView(t)) {
      if (r = e.length, r != t.length)
        return !1;
      for (n = r; n-- !== 0; )
        if (e[n] !== t[n])
          return !1;
      return !0;
    }
    if (e.constructor === RegExp)
      return e.source === t.source && e.flags === t.flags;
    if (e.valueOf !== Object.prototype.valueOf)
      return e.valueOf() === t.valueOf();
    if (e.toString !== Object.prototype.toString)
      return e.toString() === t.toString();
    if (i = Object.keys(e), r = i.length, r !== Object.keys(t).length)
      return !1;
    for (n = r; n-- !== 0; )
      if (!Object.prototype.hasOwnProperty.call(t, i[n]))
        return !1;
    if (x_ && e instanceof Element)
      return !1;
    for (n = r; n-- !== 0; )
      if (!((i[n] === "_owner" || i[n] === "__v" || i[n] === "__o") && e.$$typeof) && !la(e[i[n]], t[i[n]]))
        return !1;
    return !0;
  }
  return e !== e && t !== t;
}
var __ = function(t, r) {
  try {
    return la(t, r);
  } catch (n) {
    if ((n.message || "").match(/stack|recursion/i))
      return console.warn("react-fast-compare cannot handle circular refs"), !1;
    throw n;
  }
}, $n = {
  BODY: "bodyAttributes",
  HTML: "htmlAttributes",
  TITLE: "titleAttributes"
}, Ne = {
  BASE: "base",
  BODY: "body",
  HEAD: "head",
  HTML: "html",
  LINK: "link",
  META: "meta",
  NOSCRIPT: "noscript",
  SCRIPT: "script",
  STYLE: "style",
  TITLE: "title"
}, w0 = Object.keys(Ne).map(function(e) {
  return Ne[e];
}), ct = {
  CHARSET: "charset",
  CSS_TEXT: "cssText",
  HREF: "href",
  HTTPEQUIV: "http-equiv",
  INNER_HTML: "innerHTML",
  ITEM_PROP: "itemprop",
  NAME: "name",
  PROPERTY: "property",
  REL: "rel",
  SRC: "src",
  TARGET: "target"
}, Na = {
  accesskey: "accessKey",
  charset: "charSet",
  class: "className",
  contenteditable: "contentEditable",
  contextmenu: "contextMenu",
  "http-equiv": "httpEquiv",
  itemprop: "itemProp",
  tabindex: "tabIndex"
}, As = {
  DEFAULT_TITLE: "defaultTitle",
  DEFER: "defer",
  ENCODE_SPECIAL_CHARACTERS: "encodeSpecialCharacters",
  ON_CHANGE_CLIENT_STATE: "onChangeClientState",
  TITLE_TEMPLATE: "titleTemplate"
}, T_ = Object.keys(Na).reduce(function(e, t) {
  return e[Na[t]] = t, e;
}, {}), P_ = [Ne.NOSCRIPT, Ne.SCRIPT, Ne.STYLE], Cr = "data-react-helmet", F_ = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e) {
  return typeof e;
} : function(e) {
  return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
}, I_ = function(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}, C_ = function() {
  function e(t, r) {
    for (var n = 0; n < r.length; n++) {
      var i = r[n];
      i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i);
    }
  }
  return function(t, r, n) {
    return r && e(t.prototype, r), n && e(t, n), t;
  };
}(), Xt = Object.assign || function(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
  }
  return e;
}, R_ = function(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
  e.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e,
      enumerable: !1,
      writable: !0,
      configurable: !0
    }
  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}, x0 = function(e, t) {
  var r = {};
  for (var n in e)
    t.indexOf(n) >= 0 || Object.prototype.hasOwnProperty.call(e, n) && (r[n] = e[n]);
  return r;
}, O_ = function(e, t) {
  if (!e)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t && (typeof t == "object" || typeof t == "function") ? t : e;
}, Pf = function(t) {
  var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0;
  return r === !1 ? String(t) : String(t).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#x27;");
}, D_ = function(t) {
  var r = xi(t, Ne.TITLE), n = xi(t, As.TITLE_TEMPLATE);
  if (n && r)
    return n.replace(/%s/g, function() {
      return Array.isArray(r) ? r.join("") : r;
    });
  var i = xi(t, As.DEFAULT_TITLE);
  return r || i || void 0;
}, M_ = function(t) {
  return xi(t, As.ON_CHANGE_CLIENT_STATE) || function() {
  };
}, Lu = function(t, r) {
  return r.filter(function(n) {
    return typeof n[t] < "u";
  }).map(function(n) {
    return n[t];
  }).reduce(function(n, i) {
    return Xt({}, n, i);
  }, {});
}, B_ = function(t, r) {
  return r.filter(function(n) {
    return typeof n[Ne.BASE] < "u";
  }).map(function(n) {
    return n[Ne.BASE];
  }).reverse().reduce(function(n, i) {
    if (!n.length)
      for (var s = Object.keys(i), a = 0; a < s.length; a++) {
        var o = s[a], u = o.toLowerCase();
        if (t.indexOf(u) !== -1 && i[u])
          return n.concat(i);
      }
    return n;
  }, []);
}, ts = function(t, r, n) {
  var i = {};
  return n.filter(function(s) {
    return Array.isArray(s[t]) ? !0 : (typeof s[t] < "u" && If("Helmet: " + t + ' should be of type "Array". Instead found type "' + F_(s[t]) + '"'), !1);
  }).map(function(s) {
    return s[t];
  }).reverse().reduce(function(s, a) {
    var o = {};
    a.filter(function(c) {
      for (var d = void 0, p = Object.keys(c), v = 0; v < p.length; v++) {
        var m = p[v], b = m.toLowerCase();
        r.indexOf(b) !== -1 && !(d === ct.REL && c[d].toLowerCase() === "canonical") && !(b === ct.REL && c[b].toLowerCase() === "stylesheet") && (d = b), r.indexOf(m) !== -1 && (m === ct.INNER_HTML || m === ct.CSS_TEXT || m === ct.ITEM_PROP) && (d = m);
      }
      if (!d || !c[d])
        return !1;
      var A = c[d].toLowerCase();
      return i[d] || (i[d] = {}), o[d] || (o[d] = {}), i[d][A] ? !1 : (o[d][A] = !0, !0);
    }).reverse().forEach(function(c) {
      return s.push(c);
    });
    for (var u = Object.keys(o), f = 0; f < u.length; f++) {
      var l = u[f], h = lg({}, i[l], o[l]);
      i[l] = h;
    }
    return s;
  }, []).reverse();
}, xi = function(t, r) {
  for (var n = t.length - 1; n >= 0; n--) {
    var i = t[n];
    if (i.hasOwnProperty(r))
      return i[r];
  }
  return null;
}, N_ = function(t) {
  return {
    baseTag: B_([ct.HREF, ct.TARGET], t),
    bodyAttributes: Lu($n.BODY, t),
    defer: xi(t, As.DEFER),
    encode: xi(t, As.ENCODE_SPECIAL_CHARACTERS),
    htmlAttributes: Lu($n.HTML, t),
    linkTags: ts(Ne.LINK, [ct.REL, ct.HREF], t),
    metaTags: ts(Ne.META, [ct.NAME, ct.CHARSET, ct.HTTPEQUIV, ct.PROPERTY, ct.ITEM_PROP], t),
    noscriptTags: ts(Ne.NOSCRIPT, [ct.INNER_HTML], t),
    onChangeClientState: M_(t),
    scriptTags: ts(Ne.SCRIPT, [ct.SRC, ct.INNER_HTML], t),
    styleTags: ts(Ne.STYLE, [ct.CSS_TEXT], t),
    title: D_(t),
    titleAttributes: Lu($n.TITLE, t)
  };
}, Ff = function() {
  var e = Date.now();
  return function(t) {
    var r = Date.now();
    r - e > 16 ? (e = r, t(r)) : setTimeout(function() {
      Ff(t);
    }, 0);
  };
}(), S0 = function(t) {
  return clearTimeout(t);
}, k_ = typeof window < "u" ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || Ff : global.requestAnimationFrame || Ff, j_ = typeof window < "u" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || S0 : global.cancelAnimationFrame || S0, If = function(t) {
  return console && typeof console.warn == "function" && console.warn(t);
}, rs = null, L_ = function(t) {
  rs && j_(rs), t.defer ? rs = k_(function() {
    E0(t, function() {
      rs = null;
    });
  }) : (E0(t), rs = null);
}, E0 = function(t, r) {
  var n = t.baseTag, i = t.bodyAttributes, s = t.htmlAttributes, a = t.linkTags, o = t.metaTags, u = t.noscriptTags, f = t.onChangeClientState, l = t.scriptTags, h = t.styleTags, c = t.title, d = t.titleAttributes;
  Cf(Ne.BODY, i), Cf(Ne.HTML, s), V_(c, d);
  var p = {
    baseTag: ai(Ne.BASE, n),
    linkTags: ai(Ne.LINK, a),
    metaTags: ai(Ne.META, o),
    noscriptTags: ai(Ne.NOSCRIPT, u),
    scriptTags: ai(Ne.SCRIPT, l),
    styleTags: ai(Ne.STYLE, h)
  }, v = {}, m = {};
  Object.keys(p).forEach(function(b) {
    var A = p[b], D = A.newTags, k = A.oldTags;
    D.length && (v[b] = D), k.length && (m[b] = p[b].oldTags);
  }), r && r(), f(t, v, m);
}, pg = function(t) {
  return Array.isArray(t) ? t.join("") : t;
}, V_ = function(t, r) {
  typeof t < "u" && document.title !== t && (document.title = pg(t)), Cf(Ne.TITLE, r);
}, Cf = function(t, r) {
  var n = document.getElementsByTagName(t)[0];
  if (n) {
    for (var i = n.getAttribute(Cr), s = i ? i.split(",") : [], a = [].concat(s), o = Object.keys(r), u = 0; u < o.length; u++) {
      var f = o[u], l = r[f] || "";
      n.getAttribute(f) !== l && n.setAttribute(f, l), s.indexOf(f) === -1 && s.push(f);
      var h = a.indexOf(f);
      h !== -1 && a.splice(h, 1);
    }
    for (var c = a.length - 1; c >= 0; c--)
      n.removeAttribute(a[c]);
    s.length === a.length ? n.removeAttribute(Cr) : n.getAttribute(Cr) !== o.join(",") && n.setAttribute(Cr, o.join(","));
  }
}, ai = function(t, r) {
  var n = document.head || document.querySelector(Ne.HEAD), i = n.querySelectorAll(t + "[" + Cr + "]"), s = Array.prototype.slice.call(i), a = [], o = void 0;
  return r && r.length && r.forEach(function(u) {
    var f = document.createElement(t);
    for (var l in u)
      if (u.hasOwnProperty(l))
        if (l === ct.INNER_HTML)
          f.innerHTML = u.innerHTML;
        else if (l === ct.CSS_TEXT)
          f.styleSheet ? f.styleSheet.cssText = u.cssText : f.appendChild(document.createTextNode(u.cssText));
        else {
          var h = typeof u[l] > "u" ? "" : u[l];
          f.setAttribute(l, h);
        }
    f.setAttribute(Cr, "true"), s.some(function(c, d) {
      return o = d, f.isEqualNode(c);
    }) ? s.splice(o, 1) : a.push(f);
  }), s.forEach(function(u) {
    return u.parentNode.removeChild(u);
  }), a.forEach(function(u) {
    return n.appendChild(u);
  }), {
    oldTags: s,
    newTags: a
  };
}, vg = function(t) {
  return Object.keys(t).reduce(function(r, n) {
    var i = typeof t[n] < "u" ? n + '="' + t[n] + '"' : "" + n;
    return r ? r + " " + i : i;
  }, "");
}, H_ = function(t, r, n, i) {
  var s = vg(n), a = pg(r);
  return s ? "<" + t + " " + Cr + '="true" ' + s + ">" + Pf(a, i) + "</" + t + ">" : "<" + t + " " + Cr + '="true">' + Pf(a, i) + "</" + t + ">";
}, U_ = function(t, r, n) {
  return r.reduce(function(i, s) {
    var a = Object.keys(s).filter(function(f) {
      return !(f === ct.INNER_HTML || f === ct.CSS_TEXT);
    }).reduce(function(f, l) {
      var h = typeof s[l] > "u" ? l : l + '="' + Pf(s[l], n) + '"';
      return f ? f + " " + h : h;
    }, ""), o = s.innerHTML || s.cssText || "", u = P_.indexOf(t) === -1;
    return i + "<" + t + " " + Cr + '="true" ' + a + (u ? "/>" : ">" + o + "</" + t + ">");
  }, "");
}, gg = function(t) {
  var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  return Object.keys(t).reduce(function(n, i) {
    return n[Na[i] || i] = t[i], n;
  }, r);
}, q_ = function(t) {
  var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  return Object.keys(t).reduce(function(n, i) {
    return n[T_[i] || i] = t[i], n;
  }, r);
}, K_ = function(t, r, n) {
  var i, s = (i = {
    key: r
  }, i[Cr] = !0, i), a = gg(n, s);
  return [Ot.createElement(Ne.TITLE, a, r)];
}, $_ = function(t, r) {
  return r.map(function(n, i) {
    var s, a = (s = {
      key: i
    }, s[Cr] = !0, s);
    return Object.keys(n).forEach(function(o) {
      var u = Na[o] || o;
      if (u === ct.INNER_HTML || u === ct.CSS_TEXT) {
        var f = n.innerHTML || n.cssText;
        a.dangerouslySetInnerHTML = { __html: f };
      } else
        a[u] = n[o];
    }), Ot.createElement(t, a);
  });
}, rn = function(t, r, n) {
  switch (t) {
    case Ne.TITLE:
      return {
        toComponent: function() {
          return K_(t, r.title, r.titleAttributes);
        },
        toString: function() {
          return H_(t, r.title, r.titleAttributes, n);
        }
      };
    case $n.BODY:
    case $n.HTML:
      return {
        toComponent: function() {
          return gg(r);
        },
        toString: function() {
          return vg(r);
        }
      };
    default:
      return {
        toComponent: function() {
          return $_(t, r);
        },
        toString: function() {
          return U_(t, r, n);
        }
      };
  }
}, yg = function(t) {
  var r = t.baseTag, n = t.bodyAttributes, i = t.encode, s = t.htmlAttributes, a = t.linkTags, o = t.metaTags, u = t.noscriptTags, f = t.scriptTags, l = t.styleTags, h = t.title, c = h === void 0 ? "" : h, d = t.titleAttributes;
  return {
    base: rn(Ne.BASE, r, i),
    bodyAttributes: rn($n.BODY, n, i),
    htmlAttributes: rn($n.HTML, s, i),
    link: rn(Ne.LINK, a, i),
    meta: rn(Ne.META, o, i),
    noscript: rn(Ne.NOSCRIPT, u, i),
    script: rn(Ne.SCRIPT, f, i),
    style: rn(Ne.STYLE, l, i),
    title: rn(Ne.TITLE, { title: c, titleAttributes: d }, i)
  };
}, z_ = function(t) {
  var r, n;
  return n = r = function(i) {
    R_(s, i);
    function s() {
      return I_(this, s), O_(this, i.apply(this, arguments));
    }
    return s.prototype.shouldComponentUpdate = function(o) {
      return !__(this.props, o);
    }, s.prototype.mapNestedChildrenToProps = function(o, u) {
      if (!u)
        return null;
      switch (o.type) {
        case Ne.SCRIPT:
        case Ne.NOSCRIPT:
          return {
            innerHTML: u
          };
        case Ne.STYLE:
          return {
            cssText: u
          };
      }
      throw new Error("<" + o.type + " /> elements are self-closing and can not contain children. Refer to our API for more information.");
    }, s.prototype.flattenArrayTypeChildren = function(o) {
      var u, f = o.child, l = o.arrayTypeChildren, h = o.newChildProps, c = o.nestedChildren;
      return Xt({}, l, (u = {}, u[f.type] = [].concat(l[f.type] || [], [Xt({}, h, this.mapNestedChildrenToProps(f, c))]), u));
    }, s.prototype.mapObjectTypeChildren = function(o) {
      var u, f, l = o.child, h = o.newProps, c = o.newChildProps, d = o.nestedChildren;
      switch (l.type) {
        case Ne.TITLE:
          return Xt({}, h, (u = {}, u[l.type] = d, u.titleAttributes = Xt({}, c), u));
        case Ne.BODY:
          return Xt({}, h, {
            bodyAttributes: Xt({}, c)
          });
        case Ne.HTML:
          return Xt({}, h, {
            htmlAttributes: Xt({}, c)
          });
      }
      return Xt({}, h, (f = {}, f[l.type] = Xt({}, c), f));
    }, s.prototype.mapArrayTypeChildrenToProps = function(o, u) {
      var f = Xt({}, u);
      return Object.keys(o).forEach(function(l) {
        var h;
        f = Xt({}, f, (h = {}, h[l] = o[l], h));
      }), f;
    }, s.prototype.warnOnInvalidChildren = function(o, u) {
      if (process.env.NODE_ENV !== "production") {
        if (!w0.some(function(f) {
          return o.type === f;
        }))
          return typeof o.type == "function" ? If("You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.") : If("Only elements types " + w0.join(", ") + " are allowed. Helmet does not support rendering <" + o.type + "> elements. Refer to our API for more information.");
        if (u && typeof u != "string" && (!Array.isArray(u) || u.some(function(f) {
          return typeof f != "string";
        })))
          throw new Error("Helmet expects a string as a child of <" + o.type + ">. Did you forget to wrap your children in braces? ( <" + o.type + ">{``}</" + o.type + "> ) Refer to our API for more information.");
      }
      return !0;
    }, s.prototype.mapChildrenToProps = function(o, u) {
      var f = this, l = {};
      return Ot.Children.forEach(o, function(h) {
        if (!(!h || !h.props)) {
          var c = h.props, d = c.children, p = x0(c, ["children"]), v = q_(p);
          switch (f.warnOnInvalidChildren(h, d), h.type) {
            case Ne.LINK:
            case Ne.META:
            case Ne.NOSCRIPT:
            case Ne.SCRIPT:
            case Ne.STYLE:
              l = f.flattenArrayTypeChildren({
                child: h,
                arrayTypeChildren: l,
                newChildProps: v,
                nestedChildren: d
              });
              break;
            default:
              u = f.mapObjectTypeChildren({
                child: h,
                newProps: u,
                newChildProps: v,
                nestedChildren: d
              });
              break;
          }
        }
      }), u = this.mapArrayTypeChildrenToProps(l, u), u;
    }, s.prototype.render = function() {
      var o = this.props, u = o.children, f = x0(o, ["children"]), l = Xt({}, f);
      return u && (l = this.mapChildrenToProps(u, l)), Ot.createElement(t, l);
    }, C_(s, null, [{
      key: "canUseDOM",
      // Component.peek comes from react-side-effect:
      // For testing, you may use a static peek() method available on the returned component.
      // It lets you get the current state without resetting the mounted instance stack.
      // Don’t use it for anything other than testing.
      /**
       * @param {Object} base: {"target": "_blank", "href": "http://mysite.com/"}
       * @param {Object} bodyAttributes: {"className": "root"}
       * @param {String} defaultTitle: "Default Title"
       * @param {Boolean} defer: true
       * @param {Boolean} encodeSpecialCharacters: true
       * @param {Object} htmlAttributes: {"lang": "en", "amp": undefined}
       * @param {Array} link: [{"rel": "canonical", "href": "http://mysite.com/example"}]
       * @param {Array} meta: [{"name": "description", "content": "Test description"}]
       * @param {Array} noscript: [{"innerHTML": "<img src='http://mysite.com/js/test.js'"}]
       * @param {Function} onChangeClientState: "(newState) => console.log(newState)"
       * @param {Array} script: [{"type": "text/javascript", "src": "http://mysite.com/js/test.js"}]
       * @param {Array} style: [{"type": "text/css", "cssText": "div { display: block; color: blue; }"}]
       * @param {String} title: "Title"
       * @param {Object} titleAttributes: {"itemprop": "name"}
       * @param {String} titleTemplate: "MySite.com - %s"
       */
      set: function(o) {
        t.canUseDOM = o;
      }
    }]), s;
  }(Ot.Component), r.propTypes = {
    base: et.object,
    bodyAttributes: et.object,
    children: et.oneOfType([et.arrayOf(et.node), et.node]),
    defaultTitle: et.string,
    defer: et.bool,
    encodeSpecialCharacters: et.bool,
    htmlAttributes: et.object,
    link: et.arrayOf(et.object),
    meta: et.arrayOf(et.object),
    noscript: et.arrayOf(et.object),
    onChangeClientState: et.func,
    script: et.arrayOf(et.object),
    style: et.arrayOf(et.object),
    title: et.string,
    titleAttributes: et.object,
    titleTemplate: et.string
  }, r.defaultProps = {
    defer: !0,
    encodeSpecialCharacters: !0
  }, r.peek = t.peek, r.rewind = function() {
    var i = t.rewind();
    return i || (i = yg({
      baseTag: [],
      bodyAttributes: {},
      encodeSpecialCharacters: !0,
      htmlAttributes: {},
      linkTags: [],
      metaTags: [],
      noscriptTags: [],
      scriptTags: [],
      styleTags: [],
      title: "",
      titleAttributes: {}
    })), i;
  }, n;
}, W_ = function() {
  return null;
}, G_ = w_(N_, L_, yg)(W_), Rf = z_(G_);
Rf.renderStatic = Rf.rewind;
function uT({
  children: e,
  theme: t = A0,
  config: r = Y_
}) {
  const [n, i] = Tg(s_, {
    ...Ec,
    config: r
  });
  Ye(() => {
    i({
      type: "UPDATE_CONFIG",
      payload: r
    });
  }, [r]);
  const s = nr(
    () => ({
      ...A0,
      ...t
    }),
    [t]
  );
  return /* @__PURE__ */ Te(x1.Provider, { value: { state: n, dispatch: i }, children: /* @__PURE__ */ Te(
    J6,
    {
      theme: {
        ...s.displayTheme === "light" ? T1 : W6,
        displayTheme: s.displayTheme || "light",
        theme: U0(s.accent),
        themeConfig: s
      },
      children: /* @__PURE__ */ Je(J_, { children: [
        /* @__PURE__ */ Je(Rf, { children: [
          /* @__PURE__ */ Te("link", { rel: "preconnect", href: "https://fonts.googleapis.com" }),
          /* @__PURE__ */ Te(
            "link",
            {
              rel: "preconnect",
              href: "https://fonts.gstatic.com",
              crossOrigin: ""
            }
          ),
          /* @__PURE__ */ Te(
            "link",
            {
              href: "https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap",
              rel: "stylesheet"
            }
          )
        ] }),
        e,
        /* @__PURE__ */ Te(BA, {}),
        /* @__PURE__ */ Te(WA, {}),
        /* @__PURE__ */ Te(eA, {})
      ] })
    }
  ) });
}
const J_ = ({ children: e }) => (X6(), s6(), /* @__PURE__ */ Te(bs, { children: e })), A0 = {
  displayTheme: "light",
  accent: {
    r: 0,
    g: 0,
    b: 0
  },
  titleHighlight: {
    r: 0,
    g: 122,
    b: 255
  },
  radius: "default"
}, Y_ = {
  permissions: ["ACCESS_ADDRESS", "ACCESS_ALL_ADDRESSES"],
  ensurePermissions: !1
};
export {
  uT as ArweaveWalletKit,
  aT as ConnectButton,
  ao as useActiveAddress,
  a6 as useAddresses,
  rT as useApi,
  Cc as useConnection,
  Y6 as usePermissions,
  ex as useProfileModal,
  nT as usePublicKey,
  i6 as useStrategy,
  iT as useWalletNames
};
