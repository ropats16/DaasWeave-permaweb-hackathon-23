"use client";
(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".b1cb9caz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-family:Manrope,sans-serif;font-size:.9rem;font-weight:600;color:#fff;background-color:rgb(var(--b1cb9caz-0));border-radius:var(--b1cb9caz-1);padding:.3rem .8rem;text-align:center;border:none;outline:none;text-transform:uppercase;cursor:pointer;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;gap:.4rem;white-space:nowrap;-webkit-tap-highlight-color:transparent;-webkit-transition:all .18s ease-in-out;transition:all .18s ease-in-out}.b1cb9caz:hover:not(:active):not(:disabled){-webkit-transform:translate3d(0px,-1.4px,0px);-ms-transform:translate3d(0px,-1.4px,0px);transform:translate3d(0,-1.4px,0);box-shadow:var(--b1cb9caz-2)}.b1cb9caz:disabled{opacity:.7;cursor:not-allowed}.b1cb9caz svg{font-size:1em;width:1em;height:1em}.w14emrir.b1cb9caz{border-radius:var(--w14emrir-0);text-transform:none;padding:.3rem;background-color:var(--w14emrir-1)}.czh4f0e{line-height:2.6rem;padding:0 .9rem}.pwkn5es{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgb(var(--pwkn5es-0),.2);height:2.6rem;border-radius:var(--pwkn5es-1);padding:0 .3rem 0 .6rem;gap:.25rem}.bdt02oh{padding:0 .5rem}.e3hlv71{font-size:1.5rem!important}.a1jsmwxp{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:var(--a1jsmwxp-0);object-fit:cover;width:1.7rem;height:1.7rem;margin-right:.4rem}.as6ir6f{font-size:1rem!important;color:#fff}.av7js2i{position:relative;border-radius:var(--av7js2i-0);width:1.7rem;height:1.7rem;margin-right:.4rem;background:linear-gradient(to right,#4776e6,#8e54e9);background-size:cover}.av7js2i .as6ir6f{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.bbvkbel{position:fixed;top:0;left:0;right:0;bottom:0;width:100vw;height:100vh;z-index:90000;background-color:#0006}.w1767o4q{position:fixed;left:50%;top:50%;width:28vw;background-color:rgb(var(--w1767o4q-0));border-radius:var(--w1767o4q-1);z-index:100000;font-family:Manrope,sans-serif;overflow:hidden;-webkit-transition:background-color .23s ease-in-out;transition:background-color .23s ease-in-out}.w1767o4q *::selection{background-color:#000000bf;color:#fff}.w1767o4q *::-moz-selection{background-color:#000000bf;color:#fff}@media screen and (max-width:1080px){.w1767o4q{width:50vw}}@media screen and (max-width:720px){.w1767o4q{width:100vw;top:unset;bottom:0;border-bottom-left-radius:0;border-bottom-right-radius:0}}.kzdiz37{position:fixed;font-family:Manrope,sans-serif;font-size:.8rem;font-weight:500;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;text-align:center;margin:0;color:#ffffff80;left:50%;bottom:10px;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translate(-50%)}@media screen and (max-width:720px){.kzdiz37{bottom:unset;top:10px}}.b7jc8fb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:1.24rem;padding:.75rem 1rem;border-radius:var(--b7jc8fb-0);border-radius:15px;bottom:0;right:1.5rem;left:unset;top:unset;width:auto}@media screen and (max-width:720px){.b7jc8fb{left:1.5rem;gap:1rem}}.typmncv{font-size:1.05rem;font-weight:500;color:rgb(var(--typmncv-0));margin:0}.b14qolsb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:.6rem}@media screen and (max-width:720px){.b14qolsb{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.b14qolsb .b1cb9caz{width:100%}}.c1jq17m8.b1cb9caz{background-color:transparent;color:rgb(var(--c1jq17m8-0))}.c1jq17m8.b1cb9caz:hover{background-color:rgba(var(--c1jq17m8-1),.05);color:rgb(var(--c1jq17m8-1));box-shadow:none!important}.p1jty3xq{font-size:var(--p1jty3xq-0);color:rgb(var(--p1jty3xq-1));margin:0;font-weight:600;-webkit-transition:color .23s ease-in-out;transition:color .23s ease-in-out}.t1sgzzc0{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-family:Manrope,sans-serif;font-size:var(--t1sgzzc0-0);font-weight:600;color:rgb(var(--t1sgzzc0-1));cursor:var(--t1sgzzc0-2);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:.34rem;margin:0;-webkit-transition:color .23s ease-in-out;transition:color .23s ease-in-out}.tb205ol{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:.1rem}.wzg6vks{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:0 20px}.a1vzc1qt{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:.8rem}.l1rbotc6{width:60%;height:60%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;object-fit:contain}.acuhj7u{position:relative;width:3.8rem;height:3.8rem;border-radius:var(--acuhj7u-0);background-color:rgb(var(--acuhj7u-1));-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-tap-highlight-color:transparent;cursor:var(--acuhj7u-2);-webkit-transition:-webkit-transform .125s ease;-webkit-transition:transform .125s ease;transition:transform .125s ease}.acuhj7u .l1rbotc6{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.acuhj7u:active{-webkit-transform:scale(var(--acuhj7u-3));-ms-transform:scale(var(--acuhj7u-3));transform:scale(var(--acuhj7u-3))}.a143ijem{-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1}.wv1c1ab{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:10px 20px;border-top:1px solid rgb(var(--wv1c1ab-0));-webkit-transition:border-color .23s ease-in-out;transition:border-color .23s ease-in-out}.s9sva{color:currentColor;font-size:1em;width:1em;height:1em;-webkit-animation:rotate-s9sva .9s linear infinite;animation:rotate-s9sva .9s linear infinite}@-webkit-keyframes rotate-s9sva{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate-s9sva{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg)}}.h1mmuqym{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:20px}.c86k5gq{position:relative;width:1.4rem;height:1.4rem;border-radius:100%;background-color:rgb(var(--c86k5gq-0));cursor:pointer;-webkit-tap-highlight-color:transparent;-webkit-transition:opacity .23s ease-in-out,-webkit-transform .125s ease,background-color .23s ease-in-out;-webkit-transition:opacity .23s ease-in-out,transform .125s ease,background-color .23s ease-in-out;transition:opacity .23s ease-in-out,transform .125s ease,background-color .23s ease-in-out}.c86k5gq:hover{-webkit-transform:scale(1.14);-ms-transform:scale(1.14);transform:scale(1.14)}.c86k5gq:active{-webkit-transform:scale(.92);-ms-transform:scale(.92);transform:scale(.92)}.c86k5gq svg{font-size:1.1rem;width:1em;height:1em;position:absolute;top:50%;left:50%;color:rgb(var(--c86k5gq-1));-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.a1osnke6{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:1.1rem;padding-bottom:1.2rem;max-height:280px;overflow-y:auto}.c15u83h7{position:relative;height:280px}.w5r445t{position:absolute;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;top:45%;left:50%;width:70%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.w5r445t .acuhj7u{margin-bottom:.65rem}.w5r445t .t1sgzzc0{text-align:center;font-weight:700;margin-bottom:.1rem;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.w5r445t .p1jty3xq{text-align:center}.w5r445t .b1cb9caz{margin-top:1rem}.bukrfi8.p1jty3xq{background-color:#fb552b33;color:#fb542b;padding:.44rem;border-radius:var(--bukrfi8-0);margin-top:.6rem}.c13sms3{display:block;margin:0 auto;margin-top:1rem;color:rgb(var(--c13sms3-0));width:1.25rem;height:1.25rem}.b1r2gdr0{font-size:1em;width:1em;height:1em;cursor:pointer;color:#007aff;-webkit-transform:scale(1.75);-ms-transform:scale(1.75);transform:scale(1.75);-webkit-tap-highlight-color:transparent;-webkit-transition:-webkit-transform .125s ease;-webkit-transition:transform .125s ease;transition:transform .125s ease}.b1r2gdr0:hover{-webkit-transform:scale(1.9);-ms-transform:scale(1.9);transform:scale(1.9)}.b1r2gdr0:active{-webkit-transform:scale(1.5);-ms-transform:scale(1.5);transform:scale(1.5)}.p1hjgol5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 20px 20px}.p1hjgol5 .t1sgzzc0,.p1hjgol5 .p1jty3xq{text-align:center}.p1hjgol5 .t1sgzzc0 svg,.p1hjgol5 .p1jty3xq svg{font-size:.85em;width:1em;height:1em;cursor:pointer;-webkit-tap-highlight-color:transparent;-webkit-transition:all .125s ease-in-out;transition:all .125s ease-in-out}.p1hjgol5 .t1sgzzc0 svg:hover,.p1hjgol5 .p1jty3xq svg:hover{opacity:.85}.p1hjgol5 .t1sgzzc0 svg:active,.p1hjgol5 .p1jty3xq svg:active{-webkit-transform:scale(.9);-ms-transform:scale(.9);transform:scale(.9)}.p1hjgol5 .b1cb9caz{margin-top:1.5rem;width:100%;padding:.9rem 0;border-radius:var(--p1hjgol5-0);text-transform:none}.publs4f{position:relative;width:80px;height:80px;border-radius:var(--publs4f-0);margin-bottom:.475rem;background-color:rgb(var(--publs4f-1));background-size:cover;z-index:1;-webkit-var(--publs4f-2);-moz-var(--publs4f-2);-ms-var(--publs4f-2);var(--publs4f-2)}.alzinag{position:absolute;bottom:0;right:0;width:1.45rem;height:1.45rem;border-radius:100%;background-color:rgb(var(--alzinag-0));border:2px solid rgb(var(--alzinag-1))}.alzinag img{position:absolute;top:50%;left:50%;object-fit:contain;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:74%;height:74%;border-radius:100%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.p1qewrlg{position:absolute;font-size:45px;width:1em;height:1em;top:50%;left:50%;color:#fff;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
var l_=Object.defineProperty;var h_=(Le,oe,Tt)=>oe in Le?l_(Le,oe,{enumerable:!0,configurable:!0,writable:!0,value:Tt}):Le[oe]=Tt;var lt=(Le,oe,Tt)=>(h_(Le,typeof oe!="symbol"?oe+"":oe,Tt),Tt),hl=(Le,oe,Tt)=>{if(!oe.has(Le))throw TypeError("Cannot "+Tt)};var Sr=(Le,oe,Tt)=>(hl(Le,oe,"read from private field"),Tt?Tt.call(Le):oe.get(Le)),Bs=(Le,oe,Tt)=>{if(oe.has(Le))throw TypeError("Cannot add the same private member more than once");oe instanceof WeakSet?oe.add(Le):oe.set(Le,Tt)},dl=(Le,oe,Tt,qe)=>(hl(Le,oe,"write to private field"),qe?qe.call(Le,Tt):oe.set(Le,Tt),Tt);var At=(Le,oe,Tt)=>(hl(Le,oe,"access private method"),Tt);(function(Le,oe){typeof exports=="object"&&typeof module<"u"?oe(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],oe):(Le=typeof globalThis<"u"?globalThis:Le||self,oe(Le["arweave-wallet-kit"]={},Le.React))})(this,function(Le,oe){var Cn,Ds,fn,ht,_t;"use strict";function Tt(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const qe=Tt(oe),pl=()=>{for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;function a(c){var d=c.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=c.indexOf("=");p===-1&&(p=d);var v=p===d?0:4-p%4;return[p,v]}function o(c,d,p){return(d+p)*3/4-p}function u(c){var d,p=a(c),v=p[0],y=p[1],b=new r(o(c,v,y)),A=0,D=y>0?v-4:v,k;for(k=0;k<D;k+=4)d=t[c.charCodeAt(k)]<<18|t[c.charCodeAt(k+1)]<<12|t[c.charCodeAt(k+2)]<<6|t[c.charCodeAt(k+3)],b[A++]=d>>16&255,b[A++]=d>>8&255,b[A++]=d&255;return y===2&&(d=t[c.charCodeAt(k)]<<2|t[c.charCodeAt(k+1)]>>4,b[A++]=d&255),y===1&&(d=t[c.charCodeAt(k)]<<10|t[c.charCodeAt(k+1)]<<4|t[c.charCodeAt(k+2)]>>2,b[A++]=d>>8&255,b[A++]=d&255),b}function f(c){return e[c>>18&63]+e[c>>12&63]+e[c>>6&63]+e[c&63]}function l(c,d,p){for(var v,y=[],b=d;b<p;b+=3)v=(c[b]<<16&16711680)+(c[b+1]<<8&65280)+(c[b+2]&255),y.push(f(v));return y.join("")}function h(c){for(var d,p=c.length,v=p%3,y=[],b=16383,A=0,D=p-v;A<D;A+=b)y.push(l(c,A,A+b>D?D:A+b));return v===1?(d=c[p-1],y.push(e[d>>2]+e[d<<4&63]+"==")):v===2&&(d=(c[p-2]<<8)+c[p-1],y.push(e[d>>10]+e[d>>4&63]+e[d<<2&63]+"=")),y.join("")}return{toByteArray:u,fromByteArray:h}};function vg(e){let t=gl(e);return new TextDecoder("utf-8",{fatal:!0}).decode(t)}function gg(e){return new TextDecoder("utf-8",{fatal:!0}).decode(e)}function vl(e){return new TextEncoder().encode(e)}function mg(e){return yl(vl(e))}function gl(e){return new Uint8Array(pl().toByteArray(wl(e)))}function ml(e){return pl().fromByteArray(new Uint8Array(e))}function yl(e){return bl(ml(e))}function bl(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function wl(e){e=e.replace(/\-/g,"+").replace(/\_/g,"/");let t;return e.length%4==0?t=0:t=4-e.length%4,e.concat("=".repeat(t))}const Ns={b64UrlToString:vg,bufferToString:gg,stringToBuffer:vl,stringToB64Url:mg,b64UrlToBuffer:gl,bufferTob64:ml,bufferTob64Url:yl,b64UrlEncode:bl,b64UrlDecode:wl};class yg{get(t,r){if(!Object.getOwnPropertyNames(this).includes(t))throw new Error(`Field "${t}" is not a property of the Arweave Transaction class.`);return this[t]instanceof Uint8Array?r&&r.decode&&r.string?Ns.bufferToString(this[t]):r&&r.decode&&!r.string?this[t]:Ns.bufferTob64Url(this[t]):r&&r.decode==!0?r&&r.string?Ns.b64UrlToString(this[t]):Ns.b64UrlToBuffer(this[t]):this[t]}}class bg extends yg{constructor(t,r,n=!1){super(),this.name=t,this.value=r}}var we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var bo={},wo={},xo,xl;function Sl(){return xl||(xl=1,xo=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),xo}var So,El;function ks(){if(El)return So;El=1;var e=Sl();return So=function(){return e()&&!!Symbol.toStringTag},So}var Eo,Al;function Sg(){if(Al)return Eo;Al=1;var e=typeof Symbol<"u"&&Symbol,t=Sl();return Eo=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Eo}var Ao,_l;function Eg(){if(_l)return Ao;_l=1;var e="Function.prototype.bind called on incompatible ",t=Array.prototype.slice,r=Object.prototype.toString,n="[object Function]";return Ao=function(s){var a=this;if(typeof a!="function"||r.call(a)!==n)throw new TypeError(e+a);for(var o=t.call(arguments,1),u,f=function(){if(this instanceof u){var p=a.apply(this,o.concat(t.call(arguments)));return Object(p)===p?p:this}else return a.apply(s,o.concat(t.call(arguments)))},l=Math.max(0,a.length-o.length),h=[],c=0;c<l;c++)h.push("$"+c);if(u=Function("binder","return function ("+h.join(",")+"){ return binder.apply(this,arguments); }")(f),a.prototype){var d=function(){};d.prototype=a.prototype,u.prototype=new d,d.prototype=null}return u},Ao}var _o,Tl;function To(){if(Tl)return _o;Tl=1;var e=Eg();return _o=Function.prototype.bind||e,_o}var Po,Pl;function Ag(){if(Pl)return Po;Pl=1;var e=To();return Po=e.call(Function.call,Object.prototype.hasOwnProperty),Po}var Fo,Fl;function Io(){if(Fl)return Fo;Fl=1;var e,t=SyntaxError,r=Function,n=TypeError,i=function(M){try{return r('"use strict"; return ('+M+").constructor;")()}catch{}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch{s=null}var a=function(){throw new n},o=s?function(){try{return arguments.callee,a}catch{try{return s(arguments,"callee").get}catch{return a}}}():a,u=Sg()(),f=Object.getPrototypeOf||function(M){return M.__proto__},l={},h=typeof Uint8Array>"u"?e:f(Uint8Array),c={"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":u?f([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":l,"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":l,"%AsyncIteratorPrototype%":l,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":l,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?f(f([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!u?e:f(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!u?e:f(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?f(""[Symbol.iterator]()):e,"%Symbol%":u?Symbol:e,"%SyntaxError%":t,"%ThrowTypeError%":o,"%TypedArray%":h,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet},d=function M(C){var m;if(C==="%AsyncFunction%")m=i("async function () {}");else if(C==="%GeneratorFunction%")m=i("function* () {}");else if(C==="%AsyncGeneratorFunction%")m=i("async function* () {}");else if(C==="%AsyncGenerator%"){var E=M("%AsyncGeneratorFunction%");E&&(m=E.prototype)}else if(C==="%AsyncIteratorPrototype%"){var T=M("%AsyncGenerator%");T&&(m=f(T.prototype))}return c[C]=m,m},p={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=To(),y=Ag(),b=v.call(Function.call,Array.prototype.concat),A=v.call(Function.apply,Array.prototype.splice),D=v.call(Function.call,String.prototype.replace),k=v.call(Function.call,String.prototype.slice),L=v.call(Function.call,RegExp.prototype.exec),_=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,F=/\\(\\)?/g,R=function(C){var m=k(C,0,1),E=k(C,-1);if(m==="%"&&E!=="%")throw new t("invalid intrinsic syntax, expected closing `%`");if(E==="%"&&m!=="%")throw new t("invalid intrinsic syntax, expected opening `%`");var T=[];return D(C,_,function(O,N,H,Z){T[T.length]=H?D(Z,F,"$1"):N||O}),T},P=function(C,m){var E=C,T;if(y(p,E)&&(T=p[E],E="%"+T[0]+"%"),y(c,E)){var O=c[E];if(O===l&&(O=d(E)),typeof O>"u"&&!m)throw new n("intrinsic "+C+" exists, but is not available. Please file an issue!");return{alias:T,name:E,value:O}}throw new t("intrinsic "+C+" does not exist!")};return Fo=function(C,m){if(typeof C!="string"||C.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof m!="boolean")throw new n('"allowMissing" argument must be a boolean');if(L(/^%?[^%]*%?$/,C)===null)throw new t("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var E=R(C),T=E.length>0?E[0]:"",O=P("%"+T+"%",m),N=O.name,H=O.value,Z=!1,K=O.alias;K&&(T=K[0],A(E,b([0,1],K)));for(var x=1,V=!0;x<E.length;x+=1){var z=E[x],G=k(z,0,1),$=k(z,-1);if((G==='"'||G==="'"||G==="`"||$==='"'||$==="'"||$==="`")&&G!==$)throw new t("property names with quotes must have matching quotes");if((z==="constructor"||!V)&&(Z=!0),T+="."+z,N="%"+T+"%",y(c,N))H=c[N];else if(H!=null){if(!(z in H)){if(!m)throw new n("base intrinsic for "+C+" exists, but the property is not available.");return}if(s&&x+1>=E.length){var ae=s(H,z);V=!!ae,V&&"get"in ae&&!("originalValue"in ae.get)?H=ae.get:H=H[z]}else V=y(H,z),H=H[z];V&&!Z&&(c[N]=H)}}return H},Fo}var js={},_g={get exports(){return js},set exports(e){js=e}},Il;function Tg(){return Il||(Il=1,function(e){var t=To(),r=Io(),n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||t.call(i,n),a=r("%Object.getOwnPropertyDescriptor%",!0),o=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(o)try{o({},"a",{value:1})}catch{o=null}e.exports=function(h){var c=s(t,i,arguments);if(a&&o){var d=a(c,"length");d.configurable&&o(c,"length",{value:1+u(0,h.length-(arguments.length-1))})}return c};var f=function(){return s(t,n,arguments)};o?o(e.exports,"apply",{value:f}):e.exports.apply=f}(_g)),js}var Co,Cl;function Oo(){if(Cl)return Co;Cl=1;var e=Io(),t=Tg(),r=t(e("String.prototype.indexOf"));return Co=function(i,s){var a=e(i,!!s);return typeof a=="function"&&r(i,".prototype.")>-1?t(a):a},Co}var Ro,Ol;function Pg(){if(Ol)return Ro;Ol=1;var e=ks()(),t=Oo(),r=t("Object.prototype.toString"),n=function(o){return e&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:r(o)==="[object Arguments]"},i=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&r(o)!=="[object Array]"&&r(o.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,Ro=s?n:i,Ro}var Do,Rl;function Fg(){if(Rl)return Do;Rl=1;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=ks()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},a;return Do=function(u){if(typeof u!="function")return!1;if(r.test(t.call(u)))return!0;if(!n){var f=e.call(u);return f==="[object GeneratorFunction]"}if(!i)return!1;if(typeof a>"u"){var l=s();a=l?i(l):!1}return i(u)===a},Do}var Mo,Dl;function Ig(){if(Dl)return Mo;Dl=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(A){A!==n&&(t=null)}else t=null;var i=/^\s*class\b/,s=function(D){try{var k=e.call(D);return i.test(k)}catch{return!1}},a=function(D){try{return s(D)?!1:(e.call(D),!0)}catch{return!1}},o=Object.prototype.toString,u="[object Object]",f="[object Function]",l="[object GeneratorFunction]",h="[object HTMLAllCollection]",c="[object HTML document.all class]",d="[object HTMLCollection]",p=typeof Symbol=="function"&&!!Symbol.toStringTag,v=!(0 in[,]),y=function(){return!1};if(typeof document=="object"){var b=document.all;o.call(b)===o.call(document.all)&&(y=function(D){if((v||!D)&&(typeof D>"u"||typeof D=="object"))try{var k=o.call(D);return(k===h||k===c||k===d||k===u)&&D("")==null}catch{}return!1})}return Mo=t?function(D){if(y(D))return!0;if(!D||typeof D!="function"&&typeof D!="object")return!1;try{t(D,null,r)}catch(k){if(k!==n)return!1}return!s(D)&&a(D)}:function(D){if(y(D))return!0;if(!D||typeof D!="function"&&typeof D!="object")return!1;if(p)return a(D);if(s(D))return!1;var k=o.call(D);return k!==f&&k!==l&&!/^\[object HTML/.test(k)?!1:a(D)},Mo}var Bo,Ml;function Bl(){if(Ml)return Bo;Ml=1;var e=Ig(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(u,f,l){for(var h=0,c=u.length;h<c;h++)r.call(u,h)&&(l==null?f(u[h],h,u):f.call(l,u[h],h,u))},i=function(u,f,l){for(var h=0,c=u.length;h<c;h++)l==null?f(u.charAt(h),h,u):f.call(l,u.charAt(h),h,u)},s=function(u,f,l){for(var h in u)r.call(u,h)&&(l==null?f(u[h],h,u):f.call(l,u[h],h,u))},a=function(u,f,l){if(!e(f))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=l),t.call(u)==="[object Array]"?n(u,f,h):typeof u=="string"?i(u,f,h):s(u,f,h)};return Bo=a,Bo}var No,Nl;function kl(){if(Nl)return No;Nl=1;var e=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],t=typeof globalThis>"u"?we:globalThis;return No=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},No}var ko,jl;function Ll(){if(jl)return ko;jl=1;var e=Io(),t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return ko=t,ko}var jo,Vl;function Hl(){if(Vl)return jo;Vl=1;var e=Bl(),t=kl(),r=Oo(),n=r("Object.prototype.toString"),i=ks()(),s=Ll(),a=typeof globalThis>"u"?we:globalThis,o=t(),u=r("Array.prototype.indexOf",!0)||function(p,v){for(var y=0;y<p.length;y+=1)if(p[y]===v)return y;return-1},f=r("String.prototype.slice"),l={},h=Object.getPrototypeOf;i&&s&&h&&e(o,function(d){var p=new a[d];if(Symbol.toStringTag in p){var v=h(p),y=s(v,Symbol.toStringTag);if(!y){var b=h(v);y=s(b,Symbol.toStringTag)}l[d]=y.get}});var c=function(p){var v=!1;return e(l,function(y,b){if(!v)try{v=y.call(p)===b}catch{}}),v};return jo=function(p){if(!p||typeof p!="object")return!1;if(!i||!(Symbol.toStringTag in p)){var v=f(n(p),8,-1);return u(o,v)>-1}return s?c(p):!1},jo}var Lo,Ul;function Cg(){if(Ul)return Lo;Ul=1;var e=Bl(),t=kl(),r=Oo(),n=Ll(),i=r("Object.prototype.toString"),s=ks()(),a=typeof globalThis>"u"?we:globalThis,o=t(),u=r("String.prototype.slice"),f={},l=Object.getPrototypeOf;s&&n&&l&&e(o,function(d){if(typeof a[d]=="function"){var p=new a[d];if(Symbol.toStringTag in p){var v=l(p),y=n(v,Symbol.toStringTag);if(!y){var b=l(v);y=n(b,Symbol.toStringTag)}f[d]=y.get}}});var h=function(p){var v=!1;return e(f,function(y,b){if(!v)try{var A=y.call(p);A===b&&(v=A)}catch{}}),v},c=Hl();return Lo=function(p){return c(p)?!s||!(Symbol.toStringTag in p)?u(i(p),8,-1):h(p):!1},Lo}var ql;function Og(){return ql||(ql=1,function(e){var t=Pg(),r=Fg(),n=Cg(),i=Hl();function s(I){return I.call.bind(I)}var a=typeof BigInt<"u",o=typeof Symbol<"u",u=s(Object.prototype.toString),f=s(Number.prototype.valueOf),l=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(a)var c=s(BigInt.prototype.valueOf);if(o)var d=s(Symbol.prototype.valueOf);function p(I,q){if(typeof I!="object")return!1;try{return q(I),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i;function v(I){return typeof Promise<"u"&&I instanceof Promise||I!==null&&typeof I=="object"&&typeof I.then=="function"&&typeof I.catch=="function"}e.isPromise=v;function y(I){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(I):i(I)||G(I)}e.isArrayBufferView=y;function b(I){return n(I)==="Uint8Array"}e.isUint8Array=b;function A(I){return n(I)==="Uint8ClampedArray"}e.isUint8ClampedArray=A;function D(I){return n(I)==="Uint16Array"}e.isUint16Array=D;function k(I){return n(I)==="Uint32Array"}e.isUint32Array=k;function L(I){return n(I)==="Int8Array"}e.isInt8Array=L;function _(I){return n(I)==="Int16Array"}e.isInt16Array=_;function F(I){return n(I)==="Int32Array"}e.isInt32Array=F;function R(I){return n(I)==="Float32Array"}e.isFloat32Array=R;function P(I){return n(I)==="Float64Array"}e.isFloat64Array=P;function M(I){return n(I)==="BigInt64Array"}e.isBigInt64Array=M;function C(I){return n(I)==="BigUint64Array"}e.isBigUint64Array=C;function m(I){return u(I)==="[object Map]"}m.working=typeof Map<"u"&&m(new Map);function E(I){return typeof Map>"u"?!1:m.working?m(I):I instanceof Map}e.isMap=E;function T(I){return u(I)==="[object Set]"}T.working=typeof Set<"u"&&T(new Set);function O(I){return typeof Set>"u"?!1:T.working?T(I):I instanceof Set}e.isSet=O;function N(I){return u(I)==="[object WeakMap]"}N.working=typeof WeakMap<"u"&&N(new WeakMap);function H(I){return typeof WeakMap>"u"?!1:N.working?N(I):I instanceof WeakMap}e.isWeakMap=H;function Z(I){return u(I)==="[object WeakSet]"}Z.working=typeof WeakSet<"u"&&Z(new WeakSet);function K(I){return Z(I)}e.isWeakSet=K;function x(I){return u(I)==="[object ArrayBuffer]"}x.working=typeof ArrayBuffer<"u"&&x(new ArrayBuffer);function V(I){return typeof ArrayBuffer>"u"?!1:x.working?x(I):I instanceof ArrayBuffer}e.isArrayBuffer=V;function z(I){return u(I)==="[object DataView]"}z.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&z(new DataView(new ArrayBuffer(1),0,1));function G(I){return typeof DataView>"u"?!1:z.working?z(I):I instanceof DataView}e.isDataView=G;var $=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ae(I){return u(I)==="[object SharedArrayBuffer]"}function he(I){return typeof $>"u"?!1:(typeof ae.working>"u"&&(ae.working=ae(new $)),ae.working?ae(I):I instanceof $)}e.isSharedArrayBuffer=he;function ue(I){return u(I)==="[object AsyncFunction]"}e.isAsyncFunction=ue;function fe(I){return u(I)==="[object Map Iterator]"}e.isMapIterator=fe;function ce(I){return u(I)==="[object Set Iterator]"}e.isSetIterator=ce;function j(I){return u(I)==="[object Generator]"}e.isGeneratorObject=j;function W(I){return u(I)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=W;function U(I){return p(I,f)}e.isNumberObject=U;function Q(I){return p(I,l)}e.isStringObject=Q;function ee(I){return p(I,h)}e.isBooleanObject=ee;function te(I){return a&&p(I,c)}e.isBigIntObject=te;function B(I){return o&&p(I,d)}e.isSymbolObject=B;function w(I){return U(I)||Q(I)||ee(I)||te(I)||B(I)}e.isBoxedPrimitive=w;function S(I){return typeof Uint8Array<"u"&&(V(I)||he(I))}e.isAnyArrayBuffer=S,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(I){Object.defineProperty(e,I,{enumerable:!1,value:function(){throw new Error(I+" is not supported in userland")}})})}(wo)),wo}var Vo,Kl;function Rg(){return Kl||(Kl=1,Vo=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),Vo}var Ls={},zl={get exports(){return Ls},set exports(e){Ls=e}},$l;function ar(){return $l||($l=1,typeof Object.create=="function"?zl.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:zl.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),Ls}var Wl;function Ho(){return Wl||(Wl=1,function(e){var t=Object.getOwnPropertyDescriptors||function(G){for(var $=Object.keys(G),ae={},he=0;he<$.length;he++)ae[$[he]]=Object.getOwnPropertyDescriptor(G,$[he]);return ae},r=/%[sdj%]/g;e.format=function(z){if(!L(z)){for(var G=[],$=0;$<arguments.length;$++)G.push(a(arguments[$]));return G.join(" ")}for(var $=1,ae=arguments,he=ae.length,ue=String(z).replace(r,function(ce){if(ce==="%%")return"%";if($>=he)return ce;switch(ce){case"%s":return String(ae[$++]);case"%d":return Number(ae[$++]);case"%j":try{return JSON.stringify(ae[$++])}catch{return"[Circular]"}default:return ce}}),fe=ae[$];$<he;fe=ae[++$])A(fe)||!P(fe)?ue+=" "+fe:ue+=" "+a(fe);return ue},e.deprecate=function(z,G){if(typeof process<"u"&&process.noDeprecation===!0)return z;if(typeof process>"u")return function(){return e.deprecate(z,G).apply(this,arguments)};var $=!1;function ae(){if(!$){if(process.throwDeprecation)throw new Error(G);process.traceDeprecation?console.trace(G):console.error(G),$=!0}return z.apply(this,arguments)}return ae};var n={},i=/^$/;if(process.env.NODE_DEBUG){var s=process.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}e.debuglog=function(z){if(z=z.toUpperCase(),!n[z])if(i.test(z)){var G=process.pid;n[z]=function(){var $=e.format.apply(e,arguments);console.error("%s %d: %s",z,G,$)}}else n[z]=function(){};return n[z]};function a(z,G){var $={seen:[],stylize:u};return arguments.length>=3&&($.depth=arguments[2]),arguments.length>=4&&($.colors=arguments[3]),b(G)?$.showHidden=G:G&&e._extend($,G),F($.showHidden)&&($.showHidden=!1),F($.depth)&&($.depth=2),F($.colors)&&($.colors=!1),F($.customInspect)&&($.customInspect=!0),$.colors&&($.stylize=o),l($,z,$.depth)}e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(z,G){var $=a.styles[G];return $?"\x1B["+a.colors[$][0]+"m"+z+"\x1B["+a.colors[$][1]+"m":z}function u(z,G){return z}function f(z){var G={};return z.forEach(function($,ae){G[$]=!0}),G}function l(z,G,$){if(z.customInspect&&G&&m(G.inspect)&&G.inspect!==e.inspect&&!(G.constructor&&G.constructor.prototype===G)){var ae=G.inspect($,z);return L(ae)||(ae=l(z,ae,$)),ae}var he=h(z,G);if(he)return he;var ue=Object.keys(G),fe=f(ue);if(z.showHidden&&(ue=Object.getOwnPropertyNames(G)),C(G)&&(ue.indexOf("message")>=0||ue.indexOf("description")>=0))return c(G);if(ue.length===0){if(m(G)){var ce=G.name?": "+G.name:"";return z.stylize("[Function"+ce+"]","special")}if(R(G))return z.stylize(RegExp.prototype.toString.call(G),"regexp");if(M(G))return z.stylize(Date.prototype.toString.call(G),"date");if(C(G))return c(G)}var j="",W=!1,U=["{","}"];if(y(G)&&(W=!0,U=["[","]"]),m(G)){var Q=G.name?": "+G.name:"";j=" [Function"+Q+"]"}if(R(G)&&(j=" "+RegExp.prototype.toString.call(G)),M(G)&&(j=" "+Date.prototype.toUTCString.call(G)),C(G)&&(j=" "+c(G)),ue.length===0&&(!W||G.length==0))return U[0]+j+U[1];if($<0)return R(G)?z.stylize(RegExp.prototype.toString.call(G),"regexp"):z.stylize("[Object]","special");z.seen.push(G);var ee;return W?ee=d(z,G,$,fe,ue):ee=ue.map(function(te){return p(z,G,$,fe,te,W)}),z.seen.pop(),v(ee,j,U)}function h(z,G){if(F(G))return z.stylize("undefined","undefined");if(L(G)){var $="'"+JSON.stringify(G).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return z.stylize($,"string")}if(k(G))return z.stylize(""+G,"number");if(b(G))return z.stylize(""+G,"boolean");if(A(G))return z.stylize("null","null")}function c(z){return"["+Error.prototype.toString.call(z)+"]"}function d(z,G,$,ae,he){for(var ue=[],fe=0,ce=G.length;fe<ce;++fe)Z(G,String(fe))?ue.push(p(z,G,$,ae,String(fe),!0)):ue.push("");return he.forEach(function(j){j.match(/^\d+$/)||ue.push(p(z,G,$,ae,j,!0))}),ue}function p(z,G,$,ae,he,ue){var fe,ce,j;if(j=Object.getOwnPropertyDescriptor(G,he)||{value:G[he]},j.get?j.set?ce=z.stylize("[Getter/Setter]","special"):ce=z.stylize("[Getter]","special"):j.set&&(ce=z.stylize("[Setter]","special")),Z(ae,he)||(fe="["+he+"]"),ce||(z.seen.indexOf(j.value)<0?(A($)?ce=l(z,j.value,null):ce=l(z,j.value,$-1),ce.indexOf(`
`)>-1&&(ue?ce=ce.split(`
`).map(function(W){return"  "+W}).join(`
`).slice(2):ce=`
`+ce.split(`
`).map(function(W){return"   "+W}).join(`
`))):ce=z.stylize("[Circular]","special")),F(fe)){if(ue&&he.match(/^\d+$/))return ce;fe=JSON.stringify(""+he),fe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(fe=fe.slice(1,-1),fe=z.stylize(fe,"name")):(fe=fe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),fe=z.stylize(fe,"string"))}return fe+": "+ce}function v(z,G,$){var ae=z.reduce(function(he,ue){return ue.indexOf(`
`)>=0,he+ue.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ae>60?$[0]+(G===""?"":G+`
 `)+" "+z.join(`,
  `)+" "+$[1]:$[0]+G+" "+z.join(", ")+" "+$[1]}e.types=Og();function y(z){return Array.isArray(z)}e.isArray=y;function b(z){return typeof z=="boolean"}e.isBoolean=b;function A(z){return z===null}e.isNull=A;function D(z){return z==null}e.isNullOrUndefined=D;function k(z){return typeof z=="number"}e.isNumber=k;function L(z){return typeof z=="string"}e.isString=L;function _(z){return typeof z=="symbol"}e.isSymbol=_;function F(z){return z===void 0}e.isUndefined=F;function R(z){return P(z)&&T(z)==="[object RegExp]"}e.isRegExp=R,e.types.isRegExp=R;function P(z){return typeof z=="object"&&z!==null}e.isObject=P;function M(z){return P(z)&&T(z)==="[object Date]"}e.isDate=M,e.types.isDate=M;function C(z){return P(z)&&(T(z)==="[object Error]"||z instanceof Error)}e.isError=C,e.types.isNativeError=C;function m(z){return typeof z=="function"}e.isFunction=m;function E(z){return z===null||typeof z=="boolean"||typeof z=="number"||typeof z=="string"||typeof z=="symbol"||typeof z>"u"}e.isPrimitive=E,e.isBuffer=Rg();function T(z){return Object.prototype.toString.call(z)}function O(z){return z<10?"0"+z.toString(10):z.toString(10)}var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function H(){var z=new Date,G=[O(z.getHours()),O(z.getMinutes()),O(z.getSeconds())].join(":");return[z.getDate(),N[z.getMonth()],G].join(" ")}e.log=function(){console.log("%s - %s",H(),e.format.apply(e,arguments))},e.inherits=ar(),e._extend=function(z,G){if(!G||!P(G))return z;for(var $=Object.keys(G),ae=$.length;ae--;)z[$[ae]]=G[$[ae]];return z};function Z(z,G){return Object.prototype.hasOwnProperty.call(z,G)}var K=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(G){if(typeof G!="function")throw new TypeError('The "original" argument must be of type Function');if(K&&G[K]){var $=G[K];if(typeof $!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty($,K,{value:$,enumerable:!1,writable:!1,configurable:!0}),$}function $(){for(var ae,he,ue=new Promise(function(j,W){ae=j,he=W}),fe=[],ce=0;ce<arguments.length;ce++)fe.push(arguments[ce]);fe.push(function(j,W){j?he(j):ae(W)});try{G.apply(this,fe)}catch(j){he(j)}return ue}return Object.setPrototypeOf($,Object.getPrototypeOf(G)),K&&Object.defineProperty($,K,{value:$,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties($,t(G))},e.promisify.custom=K;function x(z,G){if(!z){var $=new Error("Promise was rejected with a falsy value");$.reason=z,z=$}return G(z)}function V(z){if(typeof z!="function")throw new TypeError('The "original" argument must be of type Function');function G(){for(var $=[],ae=0;ae<arguments.length;ae++)$.push(arguments[ae]);var he=$.pop();if(typeof he!="function")throw new TypeError("The last argument must be of type Function");var ue=this,fe=function(){return he.apply(ue,arguments)};z.apply(this,$).then(function(ce){process.nextTick(fe.bind(null,null,ce))},function(ce){process.nextTick(x.bind(null,ce,fe))})}return Object.setPrototypeOf(G,Object.getPrototypeOf(z)),Object.defineProperties(G,t(z)),G}e.callbackify=V}(bo)),bo}var Gl={};/*! *****************************************************************************
    Copyright (C) Microsoft. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var Jl;function Yl(){if(Jl)return Gl;Jl=1;var e;return function(t){(function(r){var n=typeof we=="object"?we:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),i=s(t);typeof n.Reflect>"u"?n.Reflect=t:i=s(n.Reflect,i),r(i);function s(a,o){return function(u,f){typeof a[u]!="function"&&Object.defineProperty(a,u,{configurable:!0,writable:!0,value:f}),o&&o(u,f)}}})(function(r){var n=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",s=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",a=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",u={__proto__:[]}instanceof Array,f=!o&&!u,l={create:o?function(){return ge(Object.create(null))}:u?function(){return ge({__proto__:null})}:function(){return ge({})},has:f?function(X,ne){return n.call(X,ne)}:function(X,ne){return ne in X},get:f?function(X,ne){return n.call(X,ne)?X[ne]:void 0}:function(X,ne){return X[ne]}},h=Object.getPrototypeOf(Function),c=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",d=!c&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Y(),p=!c&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:se(),v=!c&&typeof WeakMap=="function"?WeakMap:me(),y=new v;function b(X,ne,ie,le){if(z(ie)){if(!W(X))throw new TypeError;if(!Q(ne))throw new TypeError;return C(X,ne)}else{if(!W(X))throw new TypeError;if(!ae(ne))throw new TypeError;if(!ae(le)&&!z(le)&&!G(le))throw new TypeError;return G(le)&&(le=void 0),ie=j(ie),m(X,ne,ie,le)}}r("decorate",b);function A(X,ne){function ie(le,xe){if(!ae(le))throw new TypeError;if(!z(xe)&&!ee(xe))throw new TypeError;Z(X,ne,le,xe)}return ie}r("metadata",A);function D(X,ne,ie,le){if(!ae(ie))throw new TypeError;return z(le)||(le=j(le)),Z(X,ne,ie,le)}r("defineMetadata",D);function k(X,ne,ie){if(!ae(ne))throw new TypeError;return z(ie)||(ie=j(ie)),T(X,ne,ie)}r("hasMetadata",k);function L(X,ne,ie){if(!ae(ne))throw new TypeError;return z(ie)||(ie=j(ie)),O(X,ne,ie)}r("hasOwnMetadata",L);function _(X,ne,ie){if(!ae(ne))throw new TypeError;return z(ie)||(ie=j(ie)),N(X,ne,ie)}r("getMetadata",_);function F(X,ne,ie){if(!ae(ne))throw new TypeError;return z(ie)||(ie=j(ie)),H(X,ne,ie)}r("getOwnMetadata",F);function R(X,ne){if(!ae(X))throw new TypeError;return z(ne)||(ne=j(ne)),K(X,ne)}r("getMetadataKeys",R);function P(X,ne){if(!ae(X))throw new TypeError;return z(ne)||(ne=j(ne)),x(X,ne)}r("getOwnMetadataKeys",P);function M(X,ne,ie){if(!ae(ne))throw new TypeError;z(ie)||(ie=j(ie));var le=E(ne,ie,!1);if(z(le)||!le.delete(X))return!1;if(le.size>0)return!0;var xe=y.get(ne);return xe.delete(ie),xe.size>0||y.delete(ne),!0}r("deleteMetadata",M);function C(X,ne){for(var ie=X.length-1;ie>=0;--ie){var le=X[ie],xe=le(ne);if(!z(xe)&&!G(xe)){if(!Q(xe))throw new TypeError;ne=xe}}return ne}function m(X,ne,ie,le){for(var xe=X.length-1;xe>=0;--xe){var Re=X[xe],Ee=Re(ne,ie,le);if(!z(Ee)&&!G(Ee)){if(!ae(Ee))throw new TypeError;le=Ee}}return le}function E(X,ne,ie){var le=y.get(X);if(z(le)){if(!ie)return;le=new d,y.set(X,le)}var xe=le.get(ne);if(z(xe)){if(!ie)return;xe=new d,le.set(ne,xe)}return xe}function T(X,ne,ie){var le=O(X,ne,ie);if(le)return!0;var xe=q(ne);return G(xe)?!1:T(X,xe,ie)}function O(X,ne,ie){var le=E(ne,ie,!1);return z(le)?!1:fe(le.has(X))}function N(X,ne,ie){var le=O(X,ne,ie);if(le)return H(X,ne,ie);var xe=q(ne);if(!G(xe))return N(X,xe,ie)}function H(X,ne,ie){var le=E(ne,ie,!1);if(!z(le))return le.get(X)}function Z(X,ne,ie,le){var xe=E(ie,le,!0);xe.set(X,ne)}function K(X,ne){var ie=x(X,ne),le=q(X);if(le===null)return ie;var xe=K(le,ne);if(xe.length<=0)return ie;if(ie.length<=0)return xe;for(var Re=new p,Ee=[],Be=0,be=ie;Be<be.length;Be++){var Te=be[Be],Ce=Re.has(Te);Ce||(Re.add(Te),Ee.push(Te))}for(var Ne=0,De=xe;Ne<De.length;Ne++){var Te=De[Ne],Ce=Re.has(Te);Ce||(Re.add(Te),Ee.push(Te))}return Ee}function x(X,ne){var ie=[],le=E(X,ne,!1);if(z(le))return ie;for(var xe=le.keys(),Re=B(xe),Ee=0;;){var Be=S(Re);if(!Be)return ie.length=Ee,ie;var be=w(Be);try{ie[Ee]=be}catch(Te){try{I(Re)}finally{throw Te}}Ee++}}function V(X){if(X===null)return 1;switch(typeof X){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return X===null?1:6;default:return 6}}function z(X){return X===void 0}function G(X){return X===null}function $(X){return typeof X=="symbol"}function ae(X){return typeof X=="object"?X!==null:typeof X=="function"}function he(X,ne){switch(V(X)){case 0:return X;case 1:return X;case 2:return X;case 3:return X;case 4:return X;case 5:return X}var ie=ne===3?"string":ne===5?"number":"default",le=te(X,s);if(le!==void 0){var xe=le.call(X,ie);if(ae(xe))throw new TypeError;return xe}return ue(X,ie==="default"?"number":ie)}function ue(X,ne){if(ne==="string"){var ie=X.toString;if(U(ie)){var le=ie.call(X);if(!ae(le))return le}var xe=X.valueOf;if(U(xe)){var le=xe.call(X);if(!ae(le))return le}}else{var xe=X.valueOf;if(U(xe)){var le=xe.call(X);if(!ae(le))return le}var Re=X.toString;if(U(Re)){var le=Re.call(X);if(!ae(le))return le}}throw new TypeError}function fe(X){return!!X}function ce(X){return""+X}function j(X){var ne=he(X,3);return $(ne)?ne:ce(ne)}function W(X){return Array.isArray?Array.isArray(X):X instanceof Object?X instanceof Array:Object.prototype.toString.call(X)==="[object Array]"}function U(X){return typeof X=="function"}function Q(X){return typeof X=="function"}function ee(X){switch(V(X)){case 3:return!0;case 4:return!0;default:return!1}}function te(X,ne){var ie=X[ne];if(ie!=null){if(!U(ie))throw new TypeError;return ie}}function B(X){var ne=te(X,a);if(!U(ne))throw new TypeError;var ie=ne.call(X);if(!ae(ie))throw new TypeError;return ie}function w(X){return X.value}function S(X){var ne=X.next();return ne.done?!1:ne}function I(X){var ne=X.return;ne&&ne.call(X)}function q(X){var ne=Object.getPrototypeOf(X);if(typeof X!="function"||X===h||ne!==h)return ne;var ie=X.prototype,le=ie&&Object.getPrototypeOf(ie);if(le==null||le===Object.prototype)return ne;var xe=le.constructor;return typeof xe!="function"||xe===X?ne:xe}function Y(){var X={},ne=[],ie=function(){function Ee(Be,be,Te){this._index=0,this._keys=Be,this._values=be,this._selector=Te}return Ee.prototype["@@iterator"]=function(){return this},Ee.prototype[a]=function(){return this},Ee.prototype.next=function(){var Be=this._index;if(Be>=0&&Be<this._keys.length){var be=this._selector(this._keys[Be],this._values[Be]);return Be+1>=this._keys.length?(this._index=-1,this._keys=ne,this._values=ne):this._index++,{value:be,done:!1}}return{value:void 0,done:!0}},Ee.prototype.throw=function(Be){throw this._index>=0&&(this._index=-1,this._keys=ne,this._values=ne),Be},Ee.prototype.return=function(Be){return this._index>=0&&(this._index=-1,this._keys=ne,this._values=ne),{value:Be,done:!0}},Ee}();return function(){function Ee(){this._keys=[],this._values=[],this._cacheKey=X,this._cacheIndex=-2}return Object.defineProperty(Ee.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Ee.prototype.has=function(Be){return this._find(Be,!1)>=0},Ee.prototype.get=function(Be){var be=this._find(Be,!1);return be>=0?this._values[be]:void 0},Ee.prototype.set=function(Be,be){var Te=this._find(Be,!0);return this._values[Te]=be,this},Ee.prototype.delete=function(Be){var be=this._find(Be,!1);if(be>=0){for(var Te=this._keys.length,Ce=be+1;Ce<Te;Ce++)this._keys[Ce-1]=this._keys[Ce],this._values[Ce-1]=this._values[Ce];return this._keys.length--,this._values.length--,Be===this._cacheKey&&(this._cacheKey=X,this._cacheIndex=-2),!0}return!1},Ee.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=X,this._cacheIndex=-2},Ee.prototype.keys=function(){return new ie(this._keys,this._values,le)},Ee.prototype.values=function(){return new ie(this._keys,this._values,xe)},Ee.prototype.entries=function(){return new ie(this._keys,this._values,Re)},Ee.prototype["@@iterator"]=function(){return this.entries()},Ee.prototype[a]=function(){return this.entries()},Ee.prototype._find=function(Be,be){return this._cacheKey!==Be&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Be)),this._cacheIndex<0&&be&&(this._cacheIndex=this._keys.length,this._keys.push(Be),this._values.push(void 0)),this._cacheIndex},Ee}();function le(Ee,Be){return Ee}function xe(Ee,Be){return Be}function Re(Ee,Be){return[Ee,Be]}}function se(){return function(){function X(){this._map=new d}return Object.defineProperty(X.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),X.prototype.has=function(ne){return this._map.has(ne)},X.prototype.add=function(ne){return this._map.set(ne,ne),this},X.prototype.delete=function(ne){return this._map.delete(ne)},X.prototype.clear=function(){this._map.clear()},X.prototype.keys=function(){return this._map.keys()},X.prototype.values=function(){return this._map.values()},X.prototype.entries=function(){return this._map.entries()},X.prototype["@@iterator"]=function(){return this.keys()},X.prototype[a]=function(){return this.keys()},X}()}function me(){var X=16,ne=l.create(),ie=le();return function(){function be(){this._key=le()}return be.prototype.has=function(Te){var Ce=xe(Te,!1);return Ce!==void 0?l.has(Ce,this._key):!1},be.prototype.get=function(Te){var Ce=xe(Te,!1);return Ce!==void 0?l.get(Ce,this._key):void 0},be.prototype.set=function(Te,Ce){var Ne=xe(Te,!0);return Ne[this._key]=Ce,this},be.prototype.delete=function(Te){var Ce=xe(Te,!1);return Ce!==void 0?delete Ce[this._key]:!1},be.prototype.clear=function(){this._key=le()},be}();function le(){var be;do be="@@WeakMap@@"+Be();while(l.has(ne,be));return ne[be]=!0,be}function xe(be,Te){if(!n.call(be,ie)){if(!Te)return;Object.defineProperty(be,ie,{value:l.create()})}return be[ie]}function Re(be,Te){for(var Ce=0;Ce<Te;++Ce)be[Ce]=Math.random()*255|0;return be}function Ee(be){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(be)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(be)):Re(new Uint8Array(be),be):Re(new Array(be),be)}function Be(){var be=Ee(X);be[6]=be[6]&79|64,be[8]=be[8]&191|128;for(var Te="",Ce=0;Ce<X;++Ce){var Ne=be[Ce];(Ce===4||Ce===6||Ce===8)&&(Te+="-"),Ne<16&&(Te+="0"),Te+=Ne.toString(16).toLowerCase()}return Te}}function ge(X){return X.__=void 0,delete X.__,X}})}(e||(e={})),Gl}let ji;function Vs(e){if(typeof e!="function")throw new Error("This module should not be used in runtime. Instead, use a transformer during compilation.")}const Uo=Symbol("assertions");function Dg(e,t){let r=t;for(const n of e.slice(1))r=r[n.startsWith("[")?parseInt(n.replace("[","").replace("]","")):n];return r}function Mg(e,t,r){if(e===void 0)return"validation error";const n=Dg(t,r);try{return e+", found: "+Ho().inspect(n)}catch{}try{return e+", found: "+JSON.stringify(n)}catch{}return e}class qo extends Error{constructor(t,r){super(Mg(t.message,t.path,r)),this.name="TypeGuardError",this.path=t.path,this.reason=t.reason,this.input=r}}function Bg(e,t={}){return Yl(),function(r,n,i){const s=Reflect.getOwnMetadata(Uo,r,n)||[];Reflect.getOwnMetadata("design:returntype",r,n)===Promise?s[i]={assertion:e,options:Object.assign({async:!0},t)}:s[i]={assertion:e,options:t},Reflect.defineMetadata(Uo,s,r,n)}}function Ng(e=qo){return Yl(),function(t){for(const r of Object.getOwnPropertyNames(t.prototype)){const n=Reflect.getOwnMetadata(Uo,t.prototype,r);if(n){const i=t.prototype[r];t.prototype[r]=function(...s){for(let a=0;a<n.length;a++){if(!n[a])continue;const o=n[a].assertion(s[a]);if(o!==null){const u=new e(o,s[a]);if(n[a].options.async)return Promise.reject(u);throw u}}return i.apply(this,s)}}}}}function Ko(e,t=ji){return Vs(t),t(e)===null}function zo(e,t=ji){Vs(t);const r=t(e);if(r===null)return e;throw new qo(r,e)}function Xl(e=ji){return Vs(e),t=>Ko(t,e)}function Zl(e=ji){return Vs(e),t=>zo(t,e)}function kg(e){ji=e}var Xn={is:Ko,assertType:zo,createIs:Xl,createAssertType:Zl,equals:Ko,createEquals:Xl,assertEquals:zo,createAssertEquals:Zl,AssertType:Bg,ValidateClass:Ng,TypeGuardError:qo,setDefaultGetErrorObject:kg},Li=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(l){try{f(n.next(l))}catch(h){a(h)}}function u(l){try{f(n.throw(l))}catch(h){a(h)}}function f(l){l.done?s(l.value):i(l.value).then(o,u)}f((n=n.apply(e,t||[])).next())})},jg=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Lg(e){return class extends e{constructor(...r){super(...r),this.namespaces={arweaveWallet:{walletName:"ArConnect",connect:()=>this.address||this.connect(),disconnect:()=>this.disconnect(),getActiveAddress:()=>this.address,getActivePublicKey:()=>this.getPublicKey(),getAllAddresses:()=>{throw"not implemented"},getWalletNames:()=>{throw"not implemented"},sign:(n,i)=>this.signTransaction(n,i),dispatch:(n,i)=>this.dispatch(n,i),encrypt:()=>{throw"not implemented"},decrypt:(n,i)=>this.decrypt(n,i),getPermissions:()=>["ACCESS_ADDRESS","ACCESS_PUBLIC_KEY","ACCESS_ALL_ADDRESSES","SIGN_TRANSACTION","ENCRYPT","DECRYPT","SIGNATURE","ACCESS_ARWEAVE_CONFIG","DISPATCH"],getArweaveConfig:()=>this.getArweaveConfig()}}}postMessage(r,n,i){return super.postMessage(r,n,Object.assign(Object.assign({},i),{protocol:"arweave",version:"1.0.0"}))}getPublicKey(){return Li(this,void 0,void 0,function*(){const r=yield this.postMessage("getPublicKey");if(!Xn.is(r,n=>{function i(s){return typeof s!="string"?{}:null}return i(n)}))throw"TypeError";return r})}getArweaveConfig(){return Li(this,void 0,void 0,function*(){const r=yield this.postMessage("getArweaveConfig");if(!Xn.is(r,n=>{function i(b){return b!==void 0?{}:null}function s(b){return typeof b!="string"?{}:null}function a(b){var A=[i,s];for(const k of A){var D=k(b);if(!D)return null}return{}}function o(b){return typeof b!="number"?{}:null}function u(b){var A=[i,s,o];for(const k of A){var D=k(b);if(!D)return null}return{}}function f(b){var A=[i,o];for(const k of A){var D=k(b);if(!D)return null}return{}}function l(b){return b!==!1?{}:null}function h(b){return b!==!0?{}:null}function c(b){var A=[i,l,h];for(const k of A){var D=k(b);if(!D)return null}return{}}function d(b){if(typeof b!="object"||b===null||Array.isArray(b))return{};if("protocol"in b){var A=a(b.protocol);if(A)return A}if("host"in b){var A=a(b.host);if(A)return A}if("port"in b){var A=u(b.port);if(A)return A}if("timeout"in b){var A=f(b.timeout);if(A)return A}if("logging"in b){var A=c(b.logging);if(A)return A}return null}function p(){return null}function v(b){if(typeof b!="object"||b===null||Array.isArray(b))return{};if("logger"in b){var A=p(b.logger);if(A)return A}return null}function y(b){var A=[d,v];for(const k of A){var D=k(b);if(D)return D}return null}return y(n)}))throw"TypeError";return delete r.logger,r})}signTransaction(r,n){var i;return Li(this,void 0,void 0,function*(){const s=jg(r,["data","chunks"]),a=yield this.postMessage("signTransaction",[s,n]);if(!Xn.is(a,o=>{function u(y){return typeof y!="string"?{}:null}function f(y){return y!==void 0?{}:null}function l(y){return y!==null?{}:null}function h(y){var b=[f,l,u];for(const D of b){var A=D(y);if(!A)return null}return{}}function c(y){if(typeof y!="object"||y===null||Array.isArray(y))return{};if("name"in y){var b=u(y.name);if(b)return b}else return{};if("value"in y){var b=u(y.value);if(b)return b}else return{};return null}function d(y){if(!Array.isArray(y))return{};for(let A=0;A<y.length;A++){var b=c(y[A]);if(b)return b}return null}function p(y){var b=[f,l,d];for(const D of b){var A=D(y);if(!A)return null}return{}}function v(y){if(typeof y!="object"||y===null||Array.isArray(y))return{};if("id"in y){var b=u(y.id);if(b)return b}else return{};if("owner"in y){var b=h(y.owner);if(b)return b}if("tags"in y){var b=p(y.tags);if(b)return b}if("signature"in y){var b=u(y.signature);if(b)return b}else return{};if("reward"in y){var b=h(y.reward);if(b)return b}return null}return v(o)}))throw"TypeError";return r.setSignature({id:a.id,owner:a.owner||r.owner,tags:(i=a.tags)===null||i===void 0?void 0:i.map(o=>new bg(o.name,o.value,!0)),signature:a.signature,reward:a.reward||void 0}),r})}dispatch(r,n){return Li(this,void 0,void 0,function*(){const i=yield this.postMessage("dispatch",[r,n],{transfer:!0});if(!Xn.is(i,s=>{function a(h){return typeof h!="string"?{}:null}function o(h){return h!=="BASE"?{}:null}function u(h){return h!=="BUNDLED"?{}:null}function f(h){var c=[o,u];for(const p of c){var d=p(h);if(!d)return null}return{}}function l(h){if(typeof h!="object"||h===null||Array.isArray(h))return{};if("id"in h){var c=a(h.id);if(c)return c}if("type"in h){var c=f(h.type);if(c)return c}return null}return l(s)}))throw"TypeError";return i})}decrypt(r,n){return Li(this,void 0,void 0,function*(){const i=yield this.postMessage("decrypt",[r,n]);if(!ArrayBuffer.isView(i))throw"TypeError";const s=r.constructor;return new s(i.buffer)})}}}function Vg(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(i){i(r)}),(n=e.get("*"))&&n.slice().map(function(i){i(t,r)})}}}class Ql{constructor(){this.mittInstance=Vg()}emit(t,r){this.mittInstance.emit(t,r)}on(t,r){this.mittInstance.on(t,r)}off(t,r){this.mittInstance.off(t,r)}once(t,r){return new Promise(n=>{const i=s=>{this.off(t,i),n(s),r&&r(s)};this.on(t,i)})}}class Hg{constructor(){this._promiseController=[]}newMessagePromise(t,r){t.id=this._promiseController.length;const n=new Promise((i,s)=>this._promiseController.push({resolve:i,reject:s}));return r!=null&&r.timeout&&setTimeout(()=>this._promiseController[t.id].reject("timeout"),r.timeout),n}processResponse(t){const{id:r,result:n,error:i}=t;if(r!=null){if(typeof r!="number"&&typeof r!="string"||typeof r=="string"&&isNaN(parseInt(r)))throw"error";if(!this._promiseController[+r])throw"received result to nonexistent request";return i!=null?this._promiseController[+r].reject(i):this._promiseController[+r].resolve(n),!0}}}const eh="400",th="600";class Ug extends Ql{constructor(t,r){super(),this._iframe={},this._showIframe=!1,this._popup={},this._usePopup=!0,this._requirePopup=!1,this._keepPopup=!1,this._promiseController=new Hg,this._pending=[],this.listener=i=>{var s,a,o,u,f,l;if(i.source!==this._popup.window&&i.source!==((s=this._iframe)===null||s===void 0?void 0:s.window)||i.origin!==((a=this._url)===null||a===void 0?void 0:a.origin)||typeof i.data!="object")return;const{method:h,params:c,id:d,result:p,error:v,session:y}=i.data;if(console.info(`WalletConnector:${i.source===this._popup.window?"popup":"iframe"}`,i.data),d!=null&&(this._pending=this._pending.filter(A=>A!=d)),this._promiseController.processResponse(i.data)||typeof h!="string")return;if(h==="ready"){i.source===this._popup.window&&((u=(o=this._popup).resolve)===null||u===void 0||u.call(o)),i.source===this._iframe.window&&((l=(f=this._iframe).resolve)===null||l===void 0||l.call(f));return}if(h==="change")return;if(h==="showIframe"){if(typeof c!="boolean")return;this.showIframe=c}if(h==="usePopup"){if(typeof c!="boolean")return;this.setUsePopup(c)}if(h==="keepPopup"){if(typeof c!="boolean")return;this.setRequirePopup(c)}const b={method:h,params:c,session:y};if(!Xn.is(b,A=>{function D(P){return typeof P!="string"?{}:null}function k(){return null}function L(P){return P!==void 0?{}:null}function _(P){return typeof P!="number"?{}:null}function F(P){var M=[L,D,_];for(const m of M){var C=m(P);if(!C)return null}return{}}function R(P){if(typeof P!="object"||P===null||Array.isArray(P))return{};if("method"in P){var M=D(P.method);if(M)return M}else return{};if("params"in P){var M=k(P.params);if(M)return M}else return{};if("session"in P){var M=F(P.session);if(M)return M}return null}return R(A)}))return console.warn("dropped");this.emit("message",b)},this._iframeParentNode=r==null?void 0:r.iframeParentNode,this._url=t;const n={origin:window.location.origin,session:Math.random().toString().slice(2)};r!=null&&r.name&&(n.name=r.name),r!=null&&r.logo&&(n.logo=r.logo),this._url.hash=new URLSearchParams(n).toString(),window.addEventListener("message",this.listener)}get url(){var t;return(t=this._url)===null||t===void 0?void 0:t.origin}get showIframe(){return this._showIframe}set showIframe(t){t!==this._showIframe&&(this._showIframe=t,this.deliverMessage({method:"showIframe",params:t}),this.emit("builtin",{showIframe:t}),this._iframeNode&&(this._iframeParentNode||(this._iframeNode.style.opacity=t?"1":"0",this._iframeNode.style.pointerEvents=t?"":"none",this._iframeNode.style.touchAction=t?"":"none",this._iframeNode.style.zIndex=t?"1000000":"-1000000",this._iframeNode.style.transform=t?"":"translate(0, 24px)",this._iframeNode.style.transition=t?"opacity 0.36s cubic-bezier(0.22, 1, 0.36, 1), transform 0.36s cubic-bezier(0.22, 1, 0.36, 1)":"opacity 0.1s ease, transform 0.1s ease, z-index 0s linear 0.1s")))}get usePopup(){return this._usePopup}setUsePopup(t){t!==this._usePopup&&(this._usePopup=t,this.emit("builtin",{usePopup:t}))}get requirePopup(){return this._requirePopup}setRequirePopup(t){t!==this._requirePopup&&(this._requirePopup=t,this.emit("builtin",{requirePopup:t}))}get keepPopup(){return this._keepPopup}set keepPopup(t){this._keepPopup=t,this.emit("builtin",{keepPopup:t}),t||this.closePopup(),t&&this.openPopup(!0)}destructor(t){this.closeIframe(),this.closePopup(!0),window.removeEventListener("message",this.listener)}postMessage(t,r){const n=this._promiseController.newMessagePromise(t,r).finally(()=>this.completeRequest());return this.deliverMessage(t),n}openIframe(){if(this._iframeEl)return;this._iframeNode=document.createElement("div"),this._iframeEl=document.createElement("iframe"),this._iframeEl.src=this._url.toString(),this._iframeEl.allow="usb; hid; bluetooth; serial; camera; payment; web-share",this._iframeEl.style.border="none",this._iframeParentNode||(this._iframeEl.width=eh,this._iframeEl.height=th,this._iframeEl.style.borderRadius="8px",this._iframeEl.style.maxWidth="100%",this._iframeEl.style.maxHeight="100%",this._iframeNode.style.position="fixed",this._iframeNode.style.inset="0",this._iframeNode.style.display="flex",this._iframeNode.style.alignItems="center",this._iframeNode.style.justifyContent="center",this._iframeNode.style.background="#00000088",this._iframeNode.style.opacity="0",this._iframeNode.style.pointerEvents="none",this._iframeNode.style.touchAction="none",this._iframeNode.style.zIndex="-1000000",this._iframeNode.style.transform="translate(0, 24px)",this._iframeNode.style.transition="opacity 0.1s ease, transform 0.1s ease, z-index 0s linear 0.1s"),this._iframeNode.appendChild(this._iframeEl);const t=new Promise((n,i)=>this._iframe={resolve:n,reject:i});this._iframe.promise=t;const r=()=>{var n;this._iframeParentNode?this._iframeParentNode.appendChild(this._iframeNode):document.body.appendChild(this._iframeNode),this._iframe.window=(n=this._iframeEl)===null||n===void 0?void 0:n.contentWindow};document.readyState==="complete"||document.readyState==="interactive"?r():document.addEventListener("DOMContentLoaded",r)}closeIframe(){var t,r,n,i;(t=this._iframeEl)===null||t===void 0||t.setAttribute("src","about:blank"),(r=this._iframeNode)===null||r===void 0||r.remove(),this._iframeNode=void 0,this._iframeEl=void 0,(i=(n=this._iframe).reject)===null||i===void 0||i.call(n),this._iframe={}}openPopup(t){if(this._popup.window&&!this._popup.window.closed){this._popup.window.focus();return}if(!this.usePopup&&!t)return;window.name="parent";const r=window.open(this._url.toString(),"_blank",`location,resizable,scrollbars,width=${eh},height=${th}`),n=new Promise((s,a)=>this._popup={window:r,resolve:s,reject:a});this._popup.promise=n;const i=setInterval(()=>{this._popup.window&&!this._popup.window.closed||(this.keepPopup&&(this.keepPopup=!1),clearInterval(i))},200)}closePopup(t){var r,n,i;!this._popup.window||!((r=this._popup.window)===null||r===void 0)&&r.closed||(this.keepPopup||this.requirePopup)&&!t||(this._popup.window.location.href="about:blank",this._popup.window.close(),(i=(n=this._popup).reject)===null||i===void 0||i.call(n),this._popup={})}completeRequest(){setTimeout(()=>{this._pending.length||(this.closePopup(),this.showIframe=!1)},100)}deliverMessage(t,r){var n,i;if(!this._url)throw"Missing URL";console.info("WalletConnector:post",t);const s=Object.assign(Object.assign({},t),{jsonrpc:"2.0"});s.id!=null&&this._pending.push(s.id),this.openIframe(),this._iframe.promise=(n=this._iframe.promise)===null||n===void 0?void 0:n.then(()=>{var a;return(a=this._iframe.window)===null||a===void 0?void 0:a.postMessage(s,this._url.origin,r!=null&&r.transfer?[s]:void 0)}).catch(()=>{}),this.openPopup(),this._popup.promise=(i=this._popup.promise)===null||i===void 0?void 0:i.then(()=>{var a;return(a=this._popup.window)===null||a===void 0?void 0:a.postMessage(s,this._url.origin,r!=null&&r.transfer?[s]:void 0)}).catch(()=>{})}}function qg(e){return typeof e=="object"?e:(e.includes("://")||(e="https://"+e),new URL(e))}let rh;const On=[],Vi={},$o={};function Kg(e){e.namespaces&&(On.find(t=>t===e)||On.push(e),Hs())}function zg(e){if(!On.find(t=>t===e))return Hs();On.splice(On.indexOf(e),1);for(const t in e.namespaces)Vi[t]===e&&(window[t]=$o[t],delete $o[t],delete Vi[t]);Hs()}function Hs(){for(const e of On)for(const t in e.namespaces)Vi[t]&&Vi[t]!==e||window[t]!==e.namespaces[t]&&($o[t]=window[t],window[t]=e.namespaces[t],Vi[t]=e);window.clearInterval(rh),On.length&&(rh=setInterval(()=>Hs(),1e4))}const $g="Window context missing. If you are using a server side rendering framework, make sure that the connector is excluded. If you want to use the connector outside the browser, use the node version of the module instead";var Wo=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(l){try{f(n.next(l))}catch(h){a(h)}}function u(l){try{f(n.throw(l))}catch(h){a(h)}}function f(l){l.done?s(l.value):i(l.value).then(o,u)}f((n=n.apply(e,t||[])).next())})};class Qt extends Ql{constructor(t,r){super(),this._session=0,this._listener=n=>{const{method:i,params:s,session:a}=n;if(!(a!=null&&this._session!=a)&&!(!a&&this._session)){if(i==="connect"){if(!Xn.is(s,o=>{function u(f){return typeof f!="string"?{}:null}return u(o)}))return;this.setAddress(s)}i==="disconnect"&&this.disconnectEvent(!1)}},this._appInfo=t,this._emitterPassthrough=n=>{const i=Object.entries(n)[0];this.emit(i[0],i[1])},this.on("connect",()=>Kg(this)),this.on("disconnect",()=>zg(this)),r&&this.setUrl(r)}get address(){return this._address}setAddress(t){t&&t===this.address||(this._address=t,t!=null?this.emit("connect",t):this.emit("disconnect",t),this.emit("change",t))}get connected(){return this._address!=null}get url(){var t;return(t=this._bridge)===null||t===void 0?void 0:t.url}get showIframe(){var t;return((t=this._bridge)===null||t===void 0?void 0:t.showIframe)||!1}get usePopup(){var t;return((t=this._bridge)===null||t===void 0?void 0:t.usePopup)||!1}get requirePopup(){var t;return((t=this._bridge)===null||t===void 0?void 0:t.requirePopup)||!1}get keepPopup(){var t;return((t=this._bridge)===null||t===void 0?void 0:t.keepPopup)||!1}set keepPopup(t){this._bridge&&(this._bridge.keepPopup=t)}setUrl(t){var r;if(!window){console.error($g);return}const n=this._bridge,i=qg(t);if(this._url=i,((r=this._bridge)===null||r===void 0?void 0:r.url)!==i.origin){if(this.disconnect(),!Qt._bridges[i.origin])this._bridge=new Ug(i,this._appInfo),Qt._bridges[i.origin]={bridge:this._bridge,sessions:[]};else{this._bridge=Qt._bridges[i.origin].bridge;const s=Qt._bridges[i.origin].sessions;for(let a=0;a<=s.length;a++)if(s.indexOf(a)<0){this._session=a;break}}Qt._bridges[i.origin].sessions.push(this._session),this._bridge.on("message",this._listener),this._bridge.on("builtin",this._emitterPassthrough),this._bridge.showIframe!==(n==null?void 0:n.showIframe)&&this.emit("showIframe",this._bridge.showIframe),this._bridge.usePopup!==(n==null?void 0:n.usePopup)&&this.emit("usePopup",this._bridge.usePopup),this._bridge.requirePopup!==(n==null?void 0:n.requirePopup)&&this.emit("requirePopup",this._bridge.requirePopup),this._bridge.keepPopup!==(n==null?void 0:n.keepPopup)&&this.emit("keepPopup",this._bridge.keepPopup)}}connect(t){return Wo(this,void 0,void 0,function*(){this._bridge||this._url&&this.setUrl(this._url);const r=new Promise((n,i)=>{this.once("change",s=>s?n(s):i())}).finally(()=>{var n;return(n=this._bridge)===null||n===void 0?void 0:n.completeRequest()});return this._bridge.deliverMessage({method:"connect",params:t}),r})}disconnect(t){return Wo(this,void 0,void 0,function*(){return this.disconnectEvent(!0,t)})}disconnectEvent(t,r){return Wo(this,void 0,void 0,function*(){if(!this._bridge)return;const n=this._bridge,i=this._session,s=n.url;if(this.setAddress(void 0),this._bridge=void 0,this._session=0,t)try{yield n.postMessage({method:"disconnect",params:[r],session:i})}catch{console.warn("disconnect request failed")}n.off("message",this._listener),n.off("builtin",this._emitterPassthrough),Qt._bridges[s].sessions=Qt._bridges[s].sessions.filter(a=>a!=i),setTimeout(()=>{Qt._bridges[s].sessions.length||(Qt._bridges[s].bridge.destructor(),delete Qt._bridges[s])},100)})}postMessage(t,r,n){return new Promise((i,s)=>{if(!this._bridge)return s("URL missing");this.once("disconnect",s),this._bridge.postMessage({method:t,params:r,session:this._session,protocol:n==null?void 0:n.protocol,version:n==null?void 0:n.version},n).then(i).catch(s)})}}Qt._bridges={};const nh=Lg(Qt);function ih(e,t){for(const r of e)if(!t.includes(r))return!1;return!0}function sh(e,t=13){return e.substring(0,t)+"..."+e.substring(e.length-t,e.length)}const ah=e=>`${e.r}, ${e.g}, ${e.b}`;async function Jt(e,t=[]){return window!=null&&window.arweaveWallet?await window.arweaveWallet[e](...t):new Promise((r,n)=>window.addEventListener("arweaveWalletLoaded",async()=>{try{r(await window.arweaveWallet[e](...t))}catch(i){n(i)}}))}class Go{constructor(){lt(this,"id","browserwallet");lt(this,"name","Browser Wallet");lt(this,"description","Any browser wallet with an injected API");lt(this,"theme","121,212,131");lt(this,"logo","KKiSlNKc5K59MXzUPz5qjtCLsl6_ckjAOg9MyAzaUs0")}async isAvailable(){return typeof window>"u"||!window?(console.error(`[Arweave Wallet Kit] "${this.id}" strategy is unavailable. Window is undefined`),!1):window.arweaveWallet?!0:new Promise(t=>{const r=()=>t(!0);window.addEventListener("arweaveWalletLoaded",r),setTimeout(()=>{window.removeEventListener("arweaveWalletLoaded",r),window.arweaveWallet||console.error(`[Arweave Wallet Kit] "${this.id}" strategy is unavailable. window.arweaveWallet is undefined`),t(!!window.arweaveWallet)},7e3)})}async sync(){}async connect(t,r,n){return await Jt("connect",[t,r,n])}async disconnect(){return await Jt("disconnect")}async getActiveAddress(){return await Jt("getActiveAddress")}async getAllAddresses(){return await Jt("getAllAddresses")}async getPermissions(){return await Jt("getPermissions")}async getWalletNames(){return await Jt("getWalletNames")}async sign(t,r){const n=await Jt("sign",[t,r]);return t.setSignature({id:n.id,owner:n.owner,reward:n.reward,tags:n.tags,signature:n.signature}),t}async encrypt(t,r){return await Jt("encrypt",[t,r])}async decrypt(t,r){return await Jt("decrypt",[t,r])}async getArweaveConfig(){return await Jt("getArweaveConfig")}async signature(t,r){return await Jt("signature",[t,r])}async getActivePublicKey(){return await Jt("getActivePublicKey")}async addToken(t){throw new Error("Not implemented")}async dispatch(t){return await Jt("dispatch",[t])}addAddressEvent(t){const r=n=>t(n.detail.address);return addEventListener("walletSwitch",r),r}removeAddressEvent(t){removeEventListener("walletSwitch",t)}}class Wg extends Go{constructor(){super();lt(this,"id","webwallet");lt(this,"name","Arweave.app");lt(this,"description","Web based wallet software");lt(this,"theme","24, 24, 24");lt(this,"logo","qVms-k8Ox-eKFJN5QFvrPQvT9ryqQXaFcYbr-fJbgLY");lt(this,"url","https://arweave.app");Bs(this,Cn,new nh)}async isAvailable(){return!0}async resumeSession(){Sr(this,Cn).setUrl("arweave.app"),await Sr(this,Cn).connect()}async connect(r,n,i){i&&console.warn("[Arweave Wallet Kit] Arweave.app does not support custom gateway connection yet."),dl(this,Cn,new nh(n)),await this.resumeSession()}addAddressEvent(r){return Sr(this,Cn).on("connect",r),r}removeAddressEvent(r){Sr(this,Cn).off("connect",r)}}Cn=new WeakMap;class Gg extends Go{constructor(){super();lt(this,"id","arconnect");lt(this,"name","ArConnect");lt(this,"description","Non-custodial Arweave wallet for your favorite browser");lt(this,"theme","171, 154, 255");lt(this,"logo","tQUcL4wlNj_NED2VjUGUhfCTJ6pDN9P0e3CbnHo3vUE");lt(this,"url","https://arconnect.io")}async isAvailable(){return await super.isAvailable()?window.arweaveWallet.walletName==="ArConnect":!1}async addToken(r){return await Jt("addToken",[r])}}function oh(e,t){return function(){return e.apply(t,arguments)}}const{toString:Jg}=Object.prototype,{getPrototypeOf:Jo}=Object,Us=(e=>t=>{const r=Jg.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Rr=e=>(e=e.toLowerCase(),t=>Us(t)===e),qs=e=>t=>typeof t===e,{isArray:Zn}=Array,Hi=qs("undefined");function Yg(e){return e!==null&&!Hi(e)&&e.constructor!==null&&!Hi(e.constructor)&&or(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const uh=Rr("ArrayBuffer");function Xg(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&uh(e.buffer),t}const Zg=qs("string"),or=qs("function"),fh=qs("number"),Ks=e=>e!==null&&typeof e=="object",Qg=e=>e===!0||e===!1,zs=e=>{if(Us(e)!=="object")return!1;const t=Jo(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},em=Rr("Date"),tm=Rr("File"),rm=Rr("Blob"),nm=Rr("FileList"),im=e=>Ks(e)&&or(e.pipe),sm=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||or(e.append)&&((t=Us(e))==="formdata"||t==="object"&&or(e.toString)&&e.toString()==="[object FormData]"))},am=Rr("URLSearchParams"),om=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ui(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Zn(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let o;for(n=0;n<a;n++)o=s[n],t.call(null,e[o],o,e)}}function ch(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const lh=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),hh=e=>!Hi(e)&&e!==lh;function Yo(){const{caseless:e}=hh(this)&&this||{},t={},r=(n,i)=>{const s=e&&ch(t,i)||i;zs(t[s])&&zs(n)?t[s]=Yo(t[s],n):zs(n)?t[s]=Yo({},n):Zn(n)?t[s]=n.slice():t[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Ui(arguments[n],r);return t}const um=(e,t,r,{allOwnKeys:n}={})=>(Ui(t,(i,s)=>{r&&or(i)?e[s]=oh(i,r):e[s]=i},{allOwnKeys:n}),e),fm=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),cm=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},lm=(e,t,r,n)=>{let i,s,a;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],(!n||n(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=r!==!1&&Jo(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},hm=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},dm=e=>{if(!e)return null;if(Zn(e))return e;let t=e.length;if(!fh(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},pm=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Jo(Uint8Array)),vm=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},gm=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},mm=Rr("HTMLFormElement"),ym=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),dh=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),bm=Rr("RegExp"),ph=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ui(r,(i,s)=>{t(i,s,e)!==!1&&(n[s]=i)}),Object.defineProperties(e,n)},wm=e=>{ph(e,(t,r)=>{if(or(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(or(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},xm=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Zn(e)?n(e):n(String(e).split(t)),r},Sm=()=>{},Em=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Xo="abcdefghijklmnopqrstuvwxyz",vh="0123456789",gh={DIGIT:vh,ALPHA:Xo,ALPHA_DIGIT:Xo+Xo.toUpperCase()+vh},Am=(e=16,t=gh.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function _m(e){return!!(e&&or(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Tm=e=>{const t=new Array(10),r=(n,i)=>{if(Ks(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const s=Zn(n)?[]:{};return Ui(n,(a,o)=>{const u=r(a,i+1);!Hi(u)&&(s[o]=u)}),t[i]=void 0,s}}return n};return r(e,0)},Pm=Rr("AsyncFunction"),pe={isArray:Zn,isArrayBuffer:uh,isBuffer:Yg,isFormData:sm,isArrayBufferView:Xg,isString:Zg,isNumber:fh,isBoolean:Qg,isObject:Ks,isPlainObject:zs,isUndefined:Hi,isDate:em,isFile:tm,isBlob:rm,isRegExp:bm,isFunction:or,isStream:im,isURLSearchParams:am,isTypedArray:pm,isFileList:nm,forEach:Ui,merge:Yo,extend:um,trim:om,stripBOM:fm,inherits:cm,toFlatObject:lm,kindOf:Us,kindOfTest:Rr,endsWith:hm,toArray:dm,forEachEntry:vm,matchAll:gm,isHTMLForm:mm,hasOwnProperty:dh,hasOwnProp:dh,reduceDescriptors:ph,freezeMethods:wm,toObjectSet:xm,toCamelCase:ym,noop:Sm,toFiniteNumber:Em,findKey:ch,global:lh,isContextDefined:hh,ALPHABET:gh,generateString:Am,isSpecCompliantForm:_m,toJSONObject:Tm,isAsyncFn:Pm,isThenable:e=>e&&(Ks(e)||or(e))&&or(e.then)&&or(e.catch)};function ze(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}pe.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const mh=ze.prototype,yh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{yh[e]={value:e}}),Object.defineProperties(ze,yh),Object.defineProperty(mh,"isAxiosError",{value:!0}),ze.from=(e,t,r,n,i,s)=>{const a=Object.create(mh);return pe.toFlatObject(e,a,function(u){return u!==Error.prototype},o=>o!=="isAxiosError"),ze.call(a,e.message,t,r,n,i),a.cause=e,a.name=e.name,s&&Object.assign(a,s),a};const Fm=null;function Zo(e){return pe.isPlainObject(e)||pe.isArray(e)}function bh(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function wh(e,t,r){return e?e.concat(t).map(function(i,s){return i=bh(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function Im(e){return pe.isArray(e)&&!e.some(Zo)}const Cm=pe.toFlatObject(pe,{},null,function(t){return/^is[A-Z]/.test(t)});function $s(e,t,r){if(!pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=pe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!pe.isUndefined(y[v])});const n=r.metaTokens,i=r.visitor||l,s=r.dots,a=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(t);if(!pe.isFunction(i))throw new TypeError("visitor must be a function");function f(p){if(p===null)return"";if(pe.isDate(p))return p.toISOString();if(!u&&pe.isBlob(p))throw new ze("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(p)||pe.isTypedArray(p)?u&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function l(p,v,y){let b=p;if(p&&!y&&typeof p=="object"){if(pe.endsWith(v,"{}"))v=n?v:v.slice(0,-2),p=JSON.stringify(p);else if(pe.isArray(p)&&Im(p)||(pe.isFileList(p)||pe.endsWith(v,"[]"))&&(b=pe.toArray(p)))return v=bh(v),b.forEach(function(D,k){!(pe.isUndefined(D)||D===null)&&t.append(a===!0?wh([v],k,s):a===null?v:v+"[]",f(D))}),!1}return Zo(p)?!0:(t.append(wh(y,v,s),f(p)),!1)}const h=[],c=Object.assign(Cm,{defaultVisitor:l,convertValue:f,isVisitable:Zo});function d(p,v){if(!pe.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(p),pe.forEach(p,function(b,A){(!(pe.isUndefined(b)||b===null)&&i.call(t,b,pe.isString(A)?A.trim():A,v,c))===!0&&d(b,v?v.concat(A):[A])}),h.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return d(e),t}function xh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Qo(e,t){this._pairs=[],e&&$s(e,this,t)}const Sh=Qo.prototype;Sh.append=function(t,r){this._pairs.push([t,r])},Sh.toString=function(t){const r=t?function(n){return t.call(this,n,xh)}:xh;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Om(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Eh(e,t,r){if(!t)return e;const n=r&&r.encode||Om,i=r&&r.serialize;let s;if(i?s=i(t,r):s=pe.isURLSearchParams(t)?t.toString():new Qo(t,r).toString(n),s){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class Rm{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Ah=Rm,_h={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Dm=typeof URLSearchParams<"u"?URLSearchParams:Qo,Mm=typeof FormData<"u"?FormData:null,Bm=typeof Blob<"u"?Blob:null,Nm=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),km=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Dr={isBrowser:!0,classes:{URLSearchParams:Dm,FormData:Mm,Blob:Bm},isStandardBrowserEnv:Nm,isStandardBrowserWebWorkerEnv:km,protocols:["http","https","file","blob","url","data"]};function jm(e,t){return $s(e,new Dr.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return Dr.isNode&&pe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function Lm(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Vm(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function Th(e){function t(r,n,i,s){let a=r[s++];const o=Number.isFinite(+a),u=s>=r.length;return a=!a&&pe.isArray(i)?i.length:a,u?(pe.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!pe.isObject(i[a]))&&(i[a]=[]),t(r,n,i[a],s)&&pe.isArray(i[a])&&(i[a]=Vm(i[a])),!o)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const r={};return pe.forEachEntry(e,(n,i)=>{t(Lm(n),i,r,0)}),r}return null}const Hm={"Content-Type":void 0};function Um(e,t,r){if(pe.isString(e))try{return(t||JSON.parse)(e),pe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Ws={transitional:_h,adapter:["xhr","http"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=pe.isObject(t);if(s&&pe.isHTMLForm(t)&&(t=new FormData(t)),pe.isFormData(t))return i&&i?JSON.stringify(Th(t)):t;if(pe.isArrayBuffer(t)||pe.isBuffer(t)||pe.isStream(t)||pe.isFile(t)||pe.isBlob(t))return t;if(pe.isArrayBufferView(t))return t.buffer;if(pe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return jm(t,this.formSerializer).toString();if((o=pe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return $s(o?{"files[]":t}:t,u&&new u,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Um(t)):t}],transformResponse:[function(t){const r=this.transitional||Ws.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(t&&pe.isString(t)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?ze.from(o,ze.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dr.classes.FormData,Blob:Dr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};pe.forEach(["delete","get","head"],function(t){Ws.headers[t]={}}),pe.forEach(["post","put","patch"],function(t){Ws.headers[t]=pe.merge(Hm)});const eu=Ws,qm=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Km=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||t[r]&&qm[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Ph=Symbol("internals");function qi(e){return e&&String(e).trim().toLowerCase()}function Gs(e){return e===!1||e==null?e:pe.isArray(e)?e.map(Gs):String(e)}function zm(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const $m=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function tu(e,t,r,n,i){if(pe.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!pe.isString(t)){if(pe.isString(n))return t.indexOf(n)!==-1;if(pe.isRegExp(n))return n.test(t)}}function Wm(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Gm(e,t){const r=pe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,a){return this[n].call(this,t,i,s,a)},configurable:!0})})}class Js{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(o,u,f){const l=qi(u);if(!l)throw new Error("header name must be a non-empty string");const h=pe.findKey(i,l);(!h||i[h]===void 0||f===!0||f===void 0&&i[h]!==!1)&&(i[h||u]=Gs(o))}const a=(o,u)=>pe.forEach(o,(f,l)=>s(f,l,u));return pe.isPlainObject(t)||t instanceof this.constructor?a(t,r):pe.isString(t)&&(t=t.trim())&&!$m(t)?a(Km(t),r):t!=null&&s(r,t,n),this}get(t,r){if(t=qi(t),t){const n=pe.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return zm(i);if(pe.isFunction(r))return r.call(this,i,n);if(pe.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=qi(t),t){const n=pe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||tu(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(a){if(a=qi(a),a){const o=pe.findKey(n,a);o&&(!r||tu(n,n[o],o,r))&&(delete n[o],i=!0)}}return pe.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||tu(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return pe.forEach(this,(i,s)=>{const a=pe.findKey(n,s);if(a){r[a]=Gs(i),delete r[s];return}const o=t?Wm(s):String(s).trim();o!==s&&delete r[s],r[o]=Gs(i),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return pe.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&pe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[Ph]=this[Ph]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=qi(a);n[o]||(Gm(i,a),n[o]=!0)}return pe.isArray(t)?t.forEach(s):s(t),this}}Js.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),pe.freezeMethods(Js.prototype),pe.freezeMethods(Js);const Xr=Js;function ru(e,t){const r=this||eu,n=t||r,i=Xr.from(n.headers);let s=n.data;return pe.forEach(e,function(o){s=o.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Fh(e){return!!(e&&e.__CANCEL__)}function Ki(e,t,r){ze.call(this,e??"canceled",ze.ERR_CANCELED,t,r),this.name="CanceledError"}pe.inherits(Ki,ze,{__CANCEL__:!0});function Jm(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ze("Request failed with status code "+r.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const Ym=Dr.isStandardBrowserEnv?function(){return{write:function(r,n,i,s,a,o){const u=[];u.push(r+"="+encodeURIComponent(n)),pe.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),pe.isString(s)&&u.push("path="+s),pe.isString(a)&&u.push("domain="+a),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Xm(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Zm(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Ih(e,t){return e&&!Xm(t)?Zm(e,t):t}const Qm=Dr.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let a=s;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){const o=pe.isString(a)?i(a):a;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}();function ey(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ty(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,a;return t=t!==void 0?t:1e3,function(u){const f=Date.now(),l=n[s];a||(a=f),r[i]=u,n[i]=f;let h=s,c=0;for(;h!==i;)c+=r[h++],h=h%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),f-a<t)return;const d=l&&f-l;return d?Math.round(c*1e3/d):void 0}}function Ch(e,t){let r=0;const n=ty(50,250);return i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,o=s-r,u=n(o),f=s<=a;r=s;const l={loaded:s,total:a,progress:a?s/a:void 0,bytes:o,rate:u||void 0,estimated:u&&a&&f?(a-s)/u:void 0,event:i};l[t?"download":"upload"]=!0,e(l)}}const Ys={http:Fm,xhr:typeof XMLHttpRequest<"u"&&function(e){return new Promise(function(r,n){let i=e.data;const s=Xr.from(e.headers).normalize(),a=e.responseType;let o;function u(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}pe.isFormData(i)&&(Dr.isStandardBrowserEnv||Dr.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let f=new XMLHttpRequest;if(e.auth){const d=e.auth.username||"",p=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(d+":"+p))}const l=Ih(e.baseURL,e.url);f.open(e.method.toUpperCase(),Eh(l,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function h(){if(!f)return;const d=Xr.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),v={data:!a||a==="text"||a==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:d,config:e,request:f};Jm(function(b){r(b),u()},function(b){n(b),u()},v),f=null}if("onloadend"in f?f.onloadend=h:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(h)},f.onabort=function(){f&&(n(new ze("Request aborted",ze.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new ze("Network Error",ze.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let p=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const v=e.transitional||_h;e.timeoutErrorMessage&&(p=e.timeoutErrorMessage),n(new ze(p,v.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,e,f)),f=null},Dr.isStandardBrowserEnv){const d=(e.withCredentials||Qm(l))&&e.xsrfCookieName&&Ym.read(e.xsrfCookieName);d&&s.set(e.xsrfHeaderName,d)}i===void 0&&s.setContentType(null),"setRequestHeader"in f&&pe.forEach(s.toJSON(),function(p,v){f.setRequestHeader(v,p)}),pe.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),a&&a!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",Ch(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",Ch(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=d=>{f&&(n(!d||d.type?new Ki(null,e,f):d),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const c=ey(l);if(c&&Dr.protocols.indexOf(c)===-1){n(new ze("Unsupported protocol "+c+":",ze.ERR_BAD_REQUEST,e));return}f.send(i||null)})}};pe.forEach(Ys,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ry={getAdapter:e=>{e=pe.isArray(e)?e:[e];const{length:t}=e;let r,n;for(let i=0;i<t&&(r=e[i],!(n=pe.isString(r)?Ys[r.toLowerCase()]:r));i++);if(!n)throw n===!1?new ze(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(pe.hasOwnProp(Ys,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!pe.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:Ys};function nu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ki(null,e)}function Oh(e){return nu(e),e.headers=Xr.from(e.headers),e.data=ru.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ry.getAdapter(e.adapter||eu.adapter)(e).then(function(n){return nu(e),n.data=ru.call(e,e.transformResponse,n),n.headers=Xr.from(n.headers),n},function(n){return Fh(n)||(nu(e),n&&n.response&&(n.response.data=ru.call(e,e.transformResponse,n.response),n.response.headers=Xr.from(n.response.headers))),Promise.reject(n)})}const Rh=e=>e instanceof Xr?e.toJSON():e;function Qn(e,t){t=t||{};const r={};function n(f,l,h){return pe.isPlainObject(f)&&pe.isPlainObject(l)?pe.merge.call({caseless:h},f,l):pe.isPlainObject(l)?pe.merge({},l):pe.isArray(l)?l.slice():l}function i(f,l,h){if(pe.isUndefined(l)){if(!pe.isUndefined(f))return n(void 0,f,h)}else return n(f,l,h)}function s(f,l){if(!pe.isUndefined(l))return n(void 0,l)}function a(f,l){if(pe.isUndefined(l)){if(!pe.isUndefined(f))return n(void 0,f)}else return n(void 0,l)}function o(f,l,h){if(h in t)return n(f,l);if(h in e)return n(void 0,f)}const u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(f,l)=>i(Rh(f),Rh(l),!0)};return pe.forEach(Object.keys(Object.assign({},e,t)),function(l){const h=u[l]||i,c=h(e[l],t[l],l);pe.isUndefined(c)&&h!==o||(r[l]=c)}),r}const Dh="1.4.0",iu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{iu[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Mh={};iu.transitional=function(t,r,n){function i(s,a){return"[Axios v"+Dh+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(t===!1)throw new ze(i(a," has been removed"+(r?" in "+r:"")),ze.ERR_DEPRECATED);return r&&!Mh[a]&&(Mh[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,a,o):!0}};function ny(e,t,r){if(typeof e!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],a=t[s];if(a){const o=e[s],u=o===void 0||a(o,s,e);if(u!==!0)throw new ze("option "+s+" must be "+u,ze.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ze("Unknown option "+s,ze.ERR_BAD_OPTION)}}const su={assertOptions:ny,validators:iu},ln=su.validators;class Xs{constructor(t){this.defaults=t,this.interceptors={request:new Ah,response:new Ah}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Qn(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&su.assertOptions(n,{silentJSONParsing:ln.transitional(ln.boolean),forcedJSONParsing:ln.transitional(ln.boolean),clarifyTimeoutError:ln.transitional(ln.boolean)},!1),i!=null&&(pe.isFunction(i)?r.paramsSerializer={serialize:i}:su.assertOptions(i,{encode:ln.function,serialize:ln.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a;a=s&&pe.merge(s.common,s[r.method]),a&&pe.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=Xr.concat(a,s);const o=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(u=u&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const f=[];this.interceptors.response.forEach(function(v){f.push(v.fulfilled,v.rejected)});let l,h=0,c;if(!u){const p=[Oh.bind(this),void 0];for(p.unshift.apply(p,o),p.push.apply(p,f),c=p.length,l=Promise.resolve(r);h<c;)l=l.then(p[h++],p[h++]);return l}c=o.length;let d=r;for(h=0;h<c;){const p=o[h++],v=o[h++];try{d=p(d)}catch(y){v.call(this,y);break}}try{l=Oh.call(this,d)}catch(p){return Promise.reject(p)}for(h=0,c=f.length;h<c;)l=l.then(f[h++],f[h++]);return l}getUri(t){t=Qn(this.defaults,t);const r=Ih(t.baseURL,t.url);return Eh(r,t.params,t.paramsSerializer)}}pe.forEach(["delete","get","head","options"],function(t){Xs.prototype[t]=function(r,n){return this.request(Qn(n||{},{method:t,url:r,data:(n||{}).data}))}}),pe.forEach(["post","put","patch"],function(t){function r(n){return function(s,a,o){return this.request(Qn(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Xs.prototype[t]=r(),Xs.prototype[t+"Form"]=r(!0)});const Zs=Xs;class au{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},t(function(s,a,o){n.reason||(n.reason=new Ki(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new au(function(i){t=i}),cancel:t}}}const iy=au;function sy(e){return function(r){return e.apply(null,r)}}function ay(e){return pe.isObject(e)&&e.isAxiosError===!0}const ou={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ou).forEach(([e,t])=>{ou[t]=e});const oy=ou;function Bh(e){const t=new Zs(e),r=oh(Zs.prototype.request,t);return pe.extend(r,Zs.prototype,t,{allOwnKeys:!0}),pe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return Bh(Qn(e,i))},r}const Pt=Bh(eu);Pt.Axios=Zs,Pt.CanceledError=Ki,Pt.CancelToken=iy,Pt.isCancel=Fh,Pt.VERSION=Dh,Pt.toFormData=$s,Pt.AxiosError=ze,Pt.Cancel=Pt.CanceledError,Pt.all=function(t){return Promise.all(t)},Pt.spread=sy,Pt.isAxiosError=ay,Pt.mergeConfig=Qn,Pt.AxiosHeaders=Xr,Pt.formToJSON=e=>Th(pe.isHTMLForm(e)?new FormData(e):e),Pt.HttpStatusCode=oy,Pt.default=Pt;const ur=Pt;function Mr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}var ei=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function fu(e,t){return e(t={exports:{}},t.exports),t.exports}var Rn=fu(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){var i=this;this.locked=new Map,this.addToLocked=function(s,a){var o=i.locked.get(s);o===void 0?a===void 0?i.locked.set(s,[]):i.locked.set(s,[a]):a!==void 0&&(o.unshift(a),i.locked.set(s,o))},this.isLocked=function(s){return i.locked.has(s)},this.lock=function(s){return new Promise(function(a,o){i.isLocked(s)?i.addToLocked(s,a):(i.addToLocked(s),a())})},this.unlock=function(s){var a=i.locked.get(s);if(a!==void 0&&a.length!==0){var o=a.pop();i.locked.set(s,a),o!==void 0&&setTimeout(o,0)}else i.locked.delete(s)}}return n.getInstance=function(){return n.instance===void 0&&(n.instance=new n),n.instance},n}();t.default=function(){return r.getInstance()}});uu(Rn);var uy=uu(fu(function(e,t){var r=ei&&ei.__awaiter||function(u,f,l,h){return new(l||(l=Promise))(function(c,d){function p(b){try{y(h.next(b))}catch(A){d(A)}}function v(b){try{y(h.throw(b))}catch(A){d(A)}}function y(b){b.done?c(b.value):new l(function(A){A(b.value)}).then(p,v)}y((h=h.apply(u,f||[])).next())})},n=ei&&ei.__generator||function(u,f){var l,h,c,d,p={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function v(y){return function(b){return function(A){if(l)throw new TypeError("Generator is already executing.");for(;p;)try{if(l=1,h&&(c=2&A[0]?h.return:A[0]?h.throw||((c=h.return)&&c.call(h),0):h.next)&&!(c=c.call(h,A[1])).done)return c;switch(h=0,c&&(A=[2&A[0],c.value]),A[0]){case 0:case 1:c=A;break;case 4:return p.label++,{value:A[1],done:!1};case 5:p.label++,h=A[1],A=[0];continue;case 7:A=p.ops.pop(),p.trys.pop();continue;default:if(c=p.trys,!((c=c.length>0&&c[c.length-1])||A[0]!==6&&A[0]!==2)){p=0;continue}if(A[0]===3&&(!c||A[1]>c[0]&&A[1]<c[3])){p.label=A[1];break}if(A[0]===6&&p.label<c[1]){p.label=c[1],c=A;break}if(c&&p.label<c[2]){p.label=c[2],p.ops.push(A);break}c[2]&&p.ops.pop(),p.trys.pop();continue}A=f.call(u,p)}catch(D){A=[6,D],h=0}finally{l=c=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([y,b])}}};Object.defineProperty(t,"__esModule",{value:!0});var i="browser-tabs-lock-key";function s(u){return new Promise(function(f){return setTimeout(f,u)})}function a(u){for(var f="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",l="",h=0;h<u;h++)l+=f[Math.floor(Math.random()*f.length)];return l}var o=function(){function u(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+a(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),u.waiters===void 0&&(u.waiters=[])}return u.prototype.acquireLock=function(f,l){return l===void 0&&(l=5e3),r(this,void 0,void 0,function(){var h,c,d,p,v,y;return n(this,function(b){switch(b.label){case 0:h=Date.now()+a(4),c=Date.now()+l,d=i+"-"+f,p=window.localStorage,b.label=1;case 1:return Date.now()<c?[4,s(30)]:[3,8];case 2:return b.sent(),p.getItem(d)!==null?[3,5]:(v=this.id+"-"+f+"-"+h,[4,s(Math.floor(25*Math.random()))]);case 3:return b.sent(),p.setItem(d,JSON.stringify({id:this.id,iat:h,timeoutKey:v,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,s(30)];case 4:return b.sent(),(y=p.getItem(d))!==null&&(y=JSON.parse(y)).id===this.id&&y.iat===h?(this.acquiredIatSet.add(h),this.refreshLockWhileAcquired(d,h),[2,!0]):[3,7];case 5:return u.lockCorrector(),[4,this.waitForSomethingToChange(c)];case 6:b.sent(),b.label=7;case 7:return h=Date.now()+a(4),[3,1];case 8:return[2,!1]}})})},u.prototype.refreshLockWhileAcquired=function(f,l){return r(this,void 0,void 0,function(){var h=this;return n(this,function(c){return setTimeout(function(){return r(h,void 0,void 0,function(){var d,p;return n(this,function(v){switch(v.label){case 0:return[4,Rn.default().lock(l)];case 1:return v.sent(),this.acquiredIatSet.has(l)?(d=window.localStorage,(p=d.getItem(f))===null?(Rn.default().unlock(l),[2]):((p=JSON.parse(p)).timeRefreshed=Date.now(),d.setItem(f,JSON.stringify(p)),Rn.default().unlock(l),this.refreshLockWhileAcquired(f,l),[2])):(Rn.default().unlock(l),[2])}})})},1e3),[2]})})},u.prototype.waitForSomethingToChange=function(f){return r(this,void 0,void 0,function(){return n(this,function(l){switch(l.label){case 0:return[4,new Promise(function(h){var c=!1,d=Date.now(),p=!1;function v(){if(p||(window.removeEventListener("storage",v),u.removeFromWaiting(v),clearTimeout(y),p=!0),!c){c=!0;var b=50-(Date.now()-d);b>0?setTimeout(h,b):h()}}window.addEventListener("storage",v),u.addToWaiting(v);var y=setTimeout(v,Math.max(0,f-Date.now()))})];case 1:return l.sent(),[2]}})})},u.addToWaiting=function(f){this.removeFromWaiting(f),u.waiters!==void 0&&u.waiters.push(f)},u.removeFromWaiting=function(f){u.waiters!==void 0&&(u.waiters=u.waiters.filter(function(l){return l!==f}))},u.notifyWaiters=function(){u.waiters!==void 0&&u.waiters.slice().forEach(function(f){return f()})},u.prototype.releaseLock=function(f){return r(this,void 0,void 0,function(){return n(this,function(l){switch(l.label){case 0:return[4,this.releaseLock__private__(f)];case 1:return[2,l.sent()]}})})},u.prototype.releaseLock__private__=function(f){return r(this,void 0,void 0,function(){var l,h,c;return n(this,function(d){switch(d.label){case 0:return l=window.localStorage,h=i+"-"+f,(c=l.getItem(h))===null?[2]:(c=JSON.parse(c)).id!==this.id?[3,2]:[4,Rn.default().lock(c.iat)];case 1:d.sent(),this.acquiredIatSet.delete(c.iat),l.removeItem(h),Rn.default().unlock(c.iat),u.notifyWaiters(),d.label=2;case 2:return[2]}})})},u.lockCorrector=function(){for(var f=Date.now()-5e3,l=window.localStorage,h=Object.keys(l),c=!1,d=0;d<h.length;d++){var p=h[d];if(p.includes(i)){var v=l.getItem(p);v!==null&&((v=JSON.parse(v)).timeRefreshed===void 0&&v.timeAcquired<f||v.timeRefreshed!==void 0&&v.timeRefreshed<f)&&(l.removeItem(p),c=!0)}}c&&u.notifyWaiters()},u.waiters=void 0,u}();t.default=o}));const fy={timeoutInSeconds:60},Nh={name:"auth0-spa-js",version:"2.0.7"},kh=()=>Date.now();class Vt extends Error{constructor(t,r){super(r),this.error=t,this.error_description=r,Object.setPrototypeOf(this,Vt.prototype)}static fromPayload({error:t,error_description:r}){return new Vt(t,r)}}class cu extends Vt{constructor(t,r,n,i=null){super(t,r),this.state=n,this.appState=i,Object.setPrototypeOf(this,cu.prototype)}}class zi extends Vt{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,zi.prototype)}}class lu extends zi{constructor(t){super(),this.popup=t,Object.setPrototypeOf(this,lu.prototype)}}class hu extends Vt{constructor(t){super("cancelled","Popup closed"),this.popup=t,Object.setPrototypeOf(this,hu.prototype)}}class du extends Vt{constructor(t,r,n){super(t,r),this.mfa_token=n,Object.setPrototypeOf(this,du.prototype)}}let pu=class extends Vt{constructor(t,r){super("missing_refresh_token",`Missing Refresh Token (audience: '${jh(t,["default"])}', scope: '${jh(r)}')`),this.audience=t,this.scope=r,Object.setPrototypeOf(this,pu.prototype)}};function jh(e,t=[]){return e&&!t.includes(e)?e:""}const Qs=()=>window.crypto,vu=()=>{const e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let t="";return Array.from(Qs().getRandomValues(new Uint8Array(43))).forEach(r=>t+=e[r%e.length]),t},Lh=e=>btoa(e),gu=e=>{var{clientId:t}=e,r=Mr(e,["clientId"]);return new URLSearchParams((n=>Object.keys(n).filter(i=>n[i]!==void 0).reduce((i,s)=>Object.assign(Object.assign({},i),{[s]:n[s]}),{}))(Object.assign({client_id:t},r))).toString()},Vh=e=>(t=>decodeURIComponent(atob(t).split("").map(r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join("")))(e.replace(/_/g,"/").replace(/-/g,"+")),cy=async(e,t)=>{const r=await fetch(e,t);return{ok:r.ok,json:await r.json()}},ly=async(e,t,r)=>{const n=new AbortController;let i;return t.signal=n.signal,Promise.race([cy(e,t),new Promise((s,a)=>{i=setTimeout(()=>{n.abort(),a(new Error("Timeout when executing 'fetch'"))},r)})]).finally(()=>{clearTimeout(i)})},hy=async(e,t,r,n,i,s,a)=>{return o={auth:{audience:t,scope:r},timeout:i,fetchUrl:e,fetchOptions:n,useFormData:a},u=s,new Promise(function(f,l){const h=new MessageChannel;h.port1.onmessage=function(c){c.data.error?l(new Error(c.data.error)):f(c.data),h.port1.close()},u.postMessage(o,[h.port2])});var o,u},dy=async(e,t,r,n,i,s,a=1e4)=>i?hy(e,t,r,n,a,i,s):ly(e,n,a);async function py(e,t){var{baseUrl:r,timeout:n,audience:i,scope:s,auth0Client:a,useFormData:o}=e,u=Mr(e,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const f=o?gu(u):JSON.stringify(u);return await async function(l,h,c,d,p,v,y){let b,A=null;for(let R=0;R<3;R++)try{b=await dy(l,c,d,p,v,y,h),A=null;break}catch(P){A=P}if(A)throw A;const D=b.json,{error:k,error_description:L}=D,_=Mr(D,["error","error_description"]),{ok:F}=b;if(!F){const R=L||`HTTP error. Unable to fetch ${l}`;throw k==="mfa_required"?new du(k,R,_.mfa_token):k==="missing_refresh_token"?new pu(c,d):new Vt(k||"request_error",R)}return _}(`${r}/oauth/token`,n,i||"default",s,{method:"POST",body:f,headers:{"Content-Type":o?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(a||Nh))}},t,o)}const ea=(...e)=>{return(t=e.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(t))).join(" ");var t};class Br{constructor(t,r="@@auth0spajs@@",n){this.prefix=r,this.suffix=n,this.clientId=t.clientId,this.scope=t.scope,this.audience=t.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(t){const[r,n,i,s]=t.split("::");return new Br({clientId:n,scope:s,audience:i},r)}static fromCacheEntry(t){const{scope:r,audience:n,client_id:i}=t;return new Br({scope:r,audience:n,clientId:i})}}let vy=class{set(t,r){localStorage.setItem(t,JSON.stringify(r))}get(t){const r=window.localStorage.getItem(t);if(r)try{return JSON.parse(r)}catch{return}}remove(t){localStorage.removeItem(t)}allKeys(){return Object.keys(window.localStorage).filter(t=>t.startsWith("@@auth0spajs@@"))}};class Hh{constructor(){this.enclosedCache=function(){let t={};return{set(r,n){t[r]=n},get(r){const n=t[r];if(n)return n},remove(r){delete t[r]},allKeys:()=>Object.keys(t)}}()}}class gy{constructor(t,r,n){this.cache=t,this.keyManifest=r,this.nowProvider=n||kh}async setIdToken(t,r,n){var i;const s=this.getIdTokenCacheKey(t);await this.cache.set(s,{id_token:r,decodedToken:n}),await((i=this.keyManifest)===null||i===void 0?void 0:i.add(s))}async getIdToken(t){const r=await this.cache.get(this.getIdTokenCacheKey(t.clientId));if(!r&&t.scope&&t.audience){const n=await this.get(t);return!n||!n.id_token||!n.decodedToken?void 0:{id_token:n.id_token,decodedToken:n.decodedToken}}if(r)return{id_token:r.id_token,decodedToken:r.decodedToken}}async get(t,r=0){var n;let i=await this.cache.get(t.toKey());if(!i){const o=await this.getCacheKeys();if(!o)return;const u=this.matchExistingCacheKey(t,o);u&&(i=await this.cache.get(u))}if(!i)return;const s=await this.nowProvider(),a=Math.floor(s/1e3);return i.expiresAt-r<a?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},await this.cache.set(t.toKey(),i),i.body):(await this.cache.remove(t.toKey()),void await((n=this.keyManifest)===null||n===void 0?void 0:n.remove(t.toKey()))):i.body}async set(t){var r;const n=new Br({clientId:t.client_id,scope:t.scope,audience:t.audience}),i=await this.wrapCacheEntry(t);await this.cache.set(n.toKey(),i),await((r=this.keyManifest)===null||r===void 0?void 0:r.add(n.toKey()))}async clear(t){var r;const n=await this.getCacheKeys();n&&(await n.filter(i=>!t||i.includes(t)).reduce(async(i,s)=>{await i,await this.cache.remove(s)},Promise.resolve()),await((r=this.keyManifest)===null||r===void 0?void 0:r.clear()))}async wrapCacheEntry(t){const r=await this.nowProvider();return{body:t,expiresAt:Math.floor(r/1e3)+t.expires_in}}async getCacheKeys(){var t;return this.keyManifest?(t=await this.keyManifest.get())===null||t===void 0?void 0:t.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(t){return new Br({clientId:t},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(t,r){return r.filter(n=>{var i;const s=Br.fromKey(n),a=new Set(s.scope&&s.scope.split(" ")),o=((i=t.scope)===null||i===void 0?void 0:i.split(" "))||[],u=s.scope&&o.reduce((f,l)=>f&&a.has(l),!0);return s.prefix==="@@auth0spajs@@"&&s.clientId===t.clientId&&s.audience===t.audience&&u})[0]}}class my{constructor(t,r,n){this.storage=t,this.clientId=r,this.cookieDomain=n,this.storageKey=`a0.spajs.txs.${this.clientId}`,this.transaction=this.storage.get(this.storageKey)}create(t){this.transaction=t,this.storage.save(this.storageKey,t,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.transaction}remove(){delete this.transaction,this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const $i=e=>typeof e=="number",yy=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],by=e=>{if(!e.id_token)throw new Error("ID token is required but missing");const t=(s=>{const a=s.split("."),[o,u,f]=a;if(a.length!==3||!o||!u||!f)throw new Error("ID token could not be decoded");const l=JSON.parse(Vh(u)),h={__raw:s},c={};return Object.keys(l).forEach(d=>{h[d]=l[d],yy.includes(d)||(c[d]=l[d])}),{encoded:{header:o,payload:u,signature:f},header:JSON.parse(Vh(o)),claims:h,user:c}})(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${e.iss}", found "${t.claims.iss}"`);if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(t.header.alg!=="RS256")throw new Error(`Signature algorithm of "${t.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!t.claims.aud||typeof t.claims.aud!="string"&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but was not one of "${t.claims.aud.join(", ")}"`);if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${e.aud}", found "${t.claims.azp}"`)}}else if(t.claims.aud!==e.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but found "${t.claims.aud}"`);if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${e.nonce}", found "${t.claims.nonce}"`)}if(e.max_age&&!$i(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(t.claims.exp==null||!$i(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!$i(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const r=e.leeway||60,n=new Date(e.now||Date.now()),i=new Date(0);if(i.setUTCSeconds(t.claims.exp+r),n>i)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${n}) is after expiration time (${i})`);if(t.claims.nbf!=null&&$i(t.claims.nbf)){const s=new Date(0);if(s.setUTCSeconds(t.claims.nbf-r),n<s)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${n}) is before ${s}`)}if(t.claims.auth_time!=null&&$i(t.claims.auth_time)){const s=new Date(0);if(s.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+r),n>s)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${n}) is after last auth at ${s}`)}if(e.organizationId){if(!t.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(e.organizationId!==t.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${e.organizationId}", found "${t.claims.org_id}"`)}return t};var Dn=fu(function(e,t){var r=ei&&ei.__assign||function(){return r=Object.assign||function(u){for(var f,l=1,h=arguments.length;l<h;l++)for(var c in f=arguments[l])Object.prototype.hasOwnProperty.call(f,c)&&(u[c]=f[c]);return u},r.apply(this,arguments)};function n(u,f){if(!f)return"";var l="; "+u;return f===!0?l:l+"="+f}function i(u,f,l){return encodeURIComponent(u).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(f).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(h){if(typeof h.expires=="number"){var c=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*h.expires),h.expires=c}return n("Expires",h.expires?h.expires.toUTCString():"")+n("Domain",h.domain)+n("Path",h.path)+n("Secure",h.secure)+n("SameSite",h.sameSite)}(l)}function s(u){for(var f={},l=u?u.split("; "):[],h=/(%[\dA-F]{2})+/gi,c=0;c<l.length;c++){var d=l[c].split("="),p=d.slice(1).join("=");p.charAt(0)==='"'&&(p=p.slice(1,-1));try{f[d[0].replace(h,decodeURIComponent)]=p.replace(h,decodeURIComponent)}catch{}}return f}function a(){return s(document.cookie)}function o(u,f,l){document.cookie=i(u,f,r({path:"/"},l))}t.__esModule=!0,t.encode=i,t.parse=s,t.getAll=a,t.get=function(u){return a()[u]},t.set=o,t.remove=function(u,f){o(u,"",r(r({},f),{expires:-1}))}});uu(Dn),Dn.encode,Dn.parse,Dn.getAll;var wy=Dn.get,Uh=Dn.set,qh=Dn.remove;const ti={get(e){const t=wy(e);if(t!==void 0)return JSON.parse(t)},save(e,t,r){let n={};window.location.protocol==="https:"&&(n={secure:!0,sameSite:"none"}),r!=null&&r.daysUntilExpire&&(n.expires=r.daysUntilExpire),r!=null&&r.cookieDomain&&(n.domain=r.cookieDomain),Uh(e,JSON.stringify(t),n)},remove(e,t){let r={};t!=null&&t.cookieDomain&&(r.domain=t.cookieDomain),qh(e,r)}},xy={get(e){return ti.get(e)||ti.get(`_legacy_${e}`)},save(e,t,r){let n={};window.location.protocol==="https:"&&(n={secure:!0}),r!=null&&r.daysUntilExpire&&(n.expires=r.daysUntilExpire),r!=null&&r.cookieDomain&&(n.domain=r.cookieDomain),Uh(`_legacy_${e}`,JSON.stringify(t),n),ti.save(e,t,r)},remove(e,t){let r={};t!=null&&t.cookieDomain&&(r.domain=t.cookieDomain),qh(e,r),ti.remove(e,t),ti.remove(`_legacy_${e}`,t)}},Sy={get(e){if(typeof sessionStorage>"u")return;const t=sessionStorage.getItem(e);return t!=null?JSON.parse(t):void 0},save(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove(e){sessionStorage.removeItem(e)}};function Ey(e,t,r){var n=t===void 0?null:t,i=function(u,f){var l=atob(u);if(f){for(var h=new Uint8Array(l.length),c=0,d=l.length;c<d;++c)h[c]=l.charCodeAt(c);return String.fromCharCode.apply(null,new Uint16Array(h.buffer))}return l}(e,r!==void 0&&r),s=i.indexOf(`
`,10)+1,a=i.substring(s)+(n?"//# sourceMappingURL="+n:""),o=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(o)}var Kh,zh,$h,mu,Ay=(Kh="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9Y29uc3Qgcz1lPT57dmFye2NsaWVudElkOnR9PWUscj1mdW5jdGlvbihlLHQpe3ZhciByPXt9O2Zvcih2YXIgcyBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHMpJiZ0LmluZGV4T2Yocyk8MCYmKHJbc109ZVtzXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPHMubGVuZ3RoO28rKyl0LmluZGV4T2Yoc1tvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsc1tvXSkmJihyW3Nbb11dPWVbc1tvXV0pfXJldHVybiByfShlLFsiY2xpZW50SWQiXSk7cmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoKGU9Pk9iamVjdC5rZXlzKGUpLmZpbHRlcigodD0+dm9pZCAwIT09ZVt0XSkpLnJlZHVjZSgoKHQscik9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7W3JdOmVbcl19KSkse30pKShPYmplY3QuYXNzaWduKHtjbGllbnRfaWQ6dH0scikpKS50b1N0cmluZygpfTtsZXQgbz17fTtjb25zdCBuPShlLHQpPT5gJHtlfXwke3R9YDthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoYXN5bmMoe2RhdGE6e3RpbWVvdXQ6ZSxhdXRoOnIsZmV0Y2hVcmw6aSxmZXRjaE9wdGlvbnM6Yyx1c2VGb3JtRGF0YTphfSxwb3J0czpbZl19KT0+e2xldCBwO2NvbnN0e2F1ZGllbmNlOmwsc2NvcGU6dX09cnx8e307dHJ5e2NvbnN0IHI9YT8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShjLmJvZHkpOkpTT04ucGFyc2UoYy5ib2R5KTtpZighci5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1yLmdyYW50X3R5cGUpe2NvbnN0IGU9KChlLHQpPT5vW24oZSx0KV0pKGwsdSk7aWYoIWUpdGhyb3cgbmV3IHQobCx1KTtjLmJvZHk9YT9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjplfSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjplfSkpfWxldCBkLGc7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixjLnNpZ25hbD1kLnNpZ25hbCk7dHJ5e2c9YXdhaXQgUHJvbWlzZS5yYWNlKFsoaD1lLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsaCkpKSksZmV0Y2goaSxPYmplY3QuYXNzaWduKHt9LGMpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIGYucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFnKXJldHVybiBkJiZkLmFib3J0KCksdm9pZCBmLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO3A9YXdhaXQgZy5qc29uKCkscC5yZWZyZXNoX3Rva2VuPygoKGUsdCxyKT0+e29bbih0LHIpXT1lfSkocC5yZWZyZXNoX3Rva2VuLGwsdSksZGVsZXRlIHAucmVmcmVzaF90b2tlbik6KChlLHQpPT57ZGVsZXRlIG9bbihlLHQpXX0pKGwsdSksZi5wb3N0TWVzc2FnZSh7b2s6Zy5vayxqc29uOnB9KX1jYXRjaChlKXtmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcjplLmVycm9yLGVycm9yX2Rlc2NyaXB0aW9uOmUubWVzc2FnZX19KX12YXIgaH0pKX0oKTsKCg==",zh=null,$h=!1,function(e){return mu=mu||Ey(Kh,zh,$h),new Worker(mu,e)});const yu={};class _y{constructor(t,r){this.cache=t,this.clientId=r,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(t){var r;const n=new Set(((r=await this.cache.get(this.manifestKey))===null||r===void 0?void 0:r.keys)||[]);n.add(t),await this.cache.set(this.manifestKey,{keys:[...n]})}async remove(t){const r=await this.cache.get(this.manifestKey);if(r){const n=new Set(r.keys);return n.delete(t),n.size>0?await this.cache.set(this.manifestKey,{keys:[...n]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(t){return`@@auth0spajs@@::${t}`}}const Ty={memory:()=>new Hh().enclosedCache,localstorage:()=>new vy},Wh=e=>Ty[e],Gh=e=>{const{openUrl:t,onRedirect:r}=e,n=Mr(e,["openUrl","onRedirect"]);return Object.assign(Object.assign({},n),{openUrl:t===!1||t?t:r})},bu=new uy;class Py{constructor(t){let r,n;if(this.userCache=new Hh().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await bu.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),t),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),t.authorizationParams)}),typeof window<"u"&&(()=>{if(!Qs())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(Qs().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),t.cache&&t.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),t.cache)n=t.cache;else{if(r=t.cacheLocation||"memory",!Wh(r))throw new Error(`Invalid cache location "${r}"`);n=Wh(r)()}this.httpTimeoutMs=t.httpTimeoutInSeconds?1e3*t.httpTimeoutInSeconds:1e4,this.cookieStorage=t.legacySameSiteCookie===!1?ti:xy,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(a=>`auth0.${a}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=t.sessionCheckExpiryDays||1;const i=t.useCookiesForTransactions?this.cookieStorage:Sy;var s;this.scope=ea("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new my(i,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||kh,this.cacheManager=new gy(n,n.allKeys?void 0:new _y(n,this.options.clientId),this.nowProvider),this.domainUrl=(s=this.options.domain,/^https?:\/\//.test(s)?s:`https://${s}`),this.tokenIssuer=((a,o)=>a?a.startsWith("https://")?a:`https://${a}/`:`${o}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&r==="memory"&&(this.worker=new Ay)}_url(t){const r=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||Nh)));return`${this.domainUrl}${t}&auth0Client=${r}`}_authorizeUrl(t){return this._url(`/authorize?${gu(t)}`)}async _verifyIdToken(t,r,n){const i=await this.nowProvider();return by({iss:this.tokenIssuer,aud:this.options.clientId,id_token:t,nonce:r,organizationId:n,leeway:this.options.leeway,max_age:(s=this.options.authorizationParams.max_age,typeof s!="string"?s:parseInt(s,10)||void 0),now:i});var s}_processOrgIdHint(t){t?this.cookieStorage.save(this.orgHintCookieName,t,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(t,r,n){const i=Lh(vu()),s=Lh(vu()),a=vu(),o=(l=>{const h=new Uint8Array(l);return(c=>{const d={"+":"-","/":"_","=":""};return c.replace(/[+/=]/g,p=>d[p])})(window.btoa(String.fromCharCode(...Array.from(h))))})(await(async l=>await Qs().subtle.digest({name:"SHA-256"},new TextEncoder().encode(l)))(a)),u=((l,h,c,d,p,v,y,b)=>Object.assign(Object.assign(Object.assign({client_id:l.clientId},l.authorizationParams),c),{scope:ea(h,c.scope),response_type:"code",response_mode:b||"query",state:d,nonce:p,redirect_uri:y||l.authorizationParams.redirect_uri,code_challenge:v,code_challenge_method:"S256"}))(this.options,this.scope,t,i,s,o,t.redirect_uri||this.options.authorizationParams.redirect_uri||n,r==null?void 0:r.response_mode),f=this._authorizeUrl(u);return{nonce:s,code_verifier:a,scope:u.scope,audience:u.audience||"default",redirect_uri:u.redirect_uri,state:i,url:f}}async loginWithPopup(t,r){var n;if(t=t||{},!(r=r||{}).popup&&(r.popup=(o=>{const u=window.screenX+(window.innerWidth-400)/2,f=window.screenY+(window.innerHeight-600)/2;return window.open(o,"auth0:authorize:popup",`left=${u},top=${f},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!r.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const i=await this._prepareAuthorizeUrl(t.authorizationParams||{},{response_mode:"web_message"},window.location.origin);r.popup.location.href=i.url;const s=await(o=>new Promise((u,f)=>{let l;const h=setInterval(()=>{o.popup&&o.popup.closed&&(clearInterval(h),clearTimeout(c),window.removeEventListener("message",l,!1),f(new hu(o.popup)))},1e3),c=setTimeout(()=>{clearInterval(h),f(new lu(o.popup)),window.removeEventListener("message",l,!1)},1e3*(o.timeoutInSeconds||60));l=function(d){if(d.data&&d.data.type==="authorization_response"){if(clearTimeout(c),clearInterval(h),window.removeEventListener("message",l,!1),o.popup.close(),d.data.response.error)return f(Vt.fromPayload(d.data.response));u(d.data.response)}},window.addEventListener("message",l)}))(Object.assign(Object.assign({},r),{timeoutInSeconds:r.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(i.state!==s.state)throw new Vt("state_mismatch","Invalid state");const a=((n=t.authorizationParams)===null||n===void 0?void 0:n.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:i.audience,scope:i.scope,code_verifier:i.code_verifier,grant_type:"authorization_code",code:s.code,redirect_uri:i.redirect_uri},{nonceIn:i.nonce,organizationId:a})}async getUser(){var t;const r=await this._getIdTokenFromCache();return(t=r==null?void 0:r.decodedToken)===null||t===void 0?void 0:t.user}async getIdTokenClaims(){var t;const r=await this._getIdTokenFromCache();return(t=r==null?void 0:r.decodedToken)===null||t===void 0?void 0:t.claims}async loginWithRedirect(t={}){var r;const n=Gh(t),{openUrl:i,fragment:s,appState:a}=n,o=Mr(n,["openUrl","fragment","appState"]),u=((r=o.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization,f=await this._prepareAuthorizeUrl(o.authorizationParams||{}),{url:l}=f,h=Mr(f,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},h),{appState:a}),u&&{organizationId:u}));const c=s?`${l}#${s}`:l;i?await i(c):window.location.assign(c)}async handleRedirectCallback(t=window.location.href){const r=t.split("?").slice(1);if(r.length===0)throw new Error("There are no query params available for parsing.");const{state:n,code:i,error:s,error_description:a}=(h=>{h.indexOf("#")>-1&&(h=h.substring(0,h.indexOf("#")));const c=new URLSearchParams(h);return{state:c.get("state"),code:c.get("code")||void 0,error:c.get("error")||void 0,error_description:c.get("error_description")||void 0}})(r.join("")),o=this.transactionManager.get();if(!o)throw new Vt("missing_transaction","Invalid state");if(this.transactionManager.remove(),s)throw new cu(s,a||s,n,o.appState);if(!o.code_verifier||o.state&&o.state!==n)throw new Vt("state_mismatch","Invalid state");const u=o.organizationId,f=o.nonce,l=o.redirect_uri;return await this._requestToken(Object.assign({audience:o.audience,scope:o.scope,code_verifier:o.code_verifier,grant_type:"authorization_code",code:i},l?{redirect_uri:l}:{}),{nonceIn:f,organizationId:u}),{appState:o.appState}}async checkSession(t){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(t)}catch{}}async getTokenSilently(t={}){var r;const n=Object.assign(Object.assign({cacheMode:"on"},t),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),t.authorizationParams),{scope:ea(this.scope,(r=t.authorizationParams)===null||r===void 0?void 0:r.scope)})}),i=await((s,a)=>{let o=yu[a];return o||(o=s().finally(()=>{delete yu[a],o=null}),yu[a]=o),o})(()=>this._getTokenSilently(n),`${this.options.clientId}::${n.authorizationParams.audience}::${n.authorizationParams.scope}`);return t.detailedResponse?i:i==null?void 0:i.access_token}async _getTokenSilently(t){const{cacheMode:r}=t,n=Mr(t,["cacheMode"]);if(r!=="off"){const i=await this._getEntryFromCache({scope:n.authorizationParams.scope,audience:n.authorizationParams.audience||"default",clientId:this.options.clientId});if(i)return i}if(r!=="cache-only"){if(!await(async(i,s=3)=>{for(let a=0;a<s;a++)if(await i())return!0;return!1})(()=>bu.acquireLock("auth0.lock.getTokenSilently",5e3),10))throw new zi;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),r!=="off"){const f=await this._getEntryFromCache({scope:n.authorizationParams.scope,audience:n.authorizationParams.audience||"default",clientId:this.options.clientId});if(f)return f}const i=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(n):await this._getTokenFromIFrame(n),{id_token:s,access_token:a,oauthTokenScope:o,expires_in:u}=i;return Object.assign(Object.assign({id_token:s,access_token:a},o?{scope:o}:null),{expires_in:u})}finally{await bu.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(t={},r={}){var n;const i=Object.assign(Object.assign({},t),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),t.authorizationParams),{scope:ea(this.scope,(n=t.authorizationParams)===null||n===void 0?void 0:n.scope)})});return r=Object.assign(Object.assign({},fy),r),await this.loginWithPopup(i,r),(await this.cacheManager.get(new Br({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(t){t.clientId!==null?t.clientId=t.clientId||this.options.clientId:delete t.clientId;const r=t.logoutParams||{},{federated:n}=r,i=Mr(r,["federated"]),s=n?"&federated":"";return this._url(`/v2/logout?${gu(Object.assign({clientId:t.clientId},i))}`)+s}async logout(t={}){const r=Gh(t),{openUrl:n}=r,i=Mr(r,["openUrl"]);t.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(t.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const s=this._buildLogoutUrl(i);n?await n(s):n!==!1&&window.location.assign(s)}async _getTokenFromIFrame(t){const r=Object.assign(Object.assign({},t.authorizationParams),{prompt:"none"}),n=this.cookieStorage.get(this.orgHintCookieName);n&&!r.organization&&(r.organization=n);const{url:i,state:s,nonce:a,code_verifier:o,redirect_uri:u,scope:f,audience:l}=await this._prepareAuthorizeUrl(r,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Vt("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const h=t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,c=await((p,v,y=60)=>new Promise((b,A)=>{const D=window.document.createElement("iframe");D.setAttribute("width","0"),D.setAttribute("height","0"),D.style.display="none";const k=()=>{window.document.body.contains(D)&&(window.document.body.removeChild(D),window.removeEventListener("message",L,!1))};let L;const _=setTimeout(()=>{A(new zi),k()},1e3*y);L=function(F){if(F.origin!=v||!F.data||F.data.type!=="authorization_response")return;const R=F.source;R&&R.close(),F.data.response.error?A(Vt.fromPayload(F.data.response)):b(F.data.response),clearTimeout(_),window.removeEventListener("message",L,!1),setTimeout(k,2e3)},window.addEventListener("message",L,!1),window.document.body.appendChild(D),D.setAttribute("src",p)}))(i,this.domainUrl,h);if(s!==c.state)throw new Vt("state_mismatch","Invalid state");const d=await this._requestToken(Object.assign(Object.assign({},t.authorizationParams),{code_verifier:o,code:c.code,grant_type:"authorization_code",redirect_uri:u,timeout:t.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a});return Object.assign(Object.assign({},d),{scope:f,oauthTokenScope:d.scope,audience:l})}catch(h){throw h.error==="login_required"&&this.logout({openUrl:!1}),h}}async _getTokenUsingRefreshToken(t){const r=await this.cacheManager.get(new Br({scope:t.authorizationParams.scope,audience:t.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(r&&r.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(t);throw new pu(t.authorizationParams.audience||"default",t.authorizationParams.scope)}const n=t.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,i=typeof t.timeoutInSeconds=="number"?1e3*t.timeoutInSeconds:null;try{const s=await this._requestToken(Object.assign(Object.assign(Object.assign({},t.authorizationParams),{grant_type:"refresh_token",refresh_token:r&&r.refresh_token,redirect_uri:n}),i&&{timeout:i}));return Object.assign(Object.assign({},s),{scope:t.authorizationParams.scope,oauthTokenScope:s.scope,audience:t.authorizationParams.audience||"default"})}catch(s){if((s.message.indexOf("Missing Refresh Token")>-1||s.message&&s.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(t);throw s}}async _saveEntryInCache(t){const{id_token:r,decodedToken:n}=t,i=Mr(t,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:r,decodedToken:n}),await this.cacheManager.setIdToken(this.options.clientId,t.id_token,t.decodedToken),await this.cacheManager.set(i)}async _getIdTokenFromCache(){const t=this.options.authorizationParams.audience||"default",r=await this.cacheManager.getIdToken(new Br({clientId:this.options.clientId,audience:t,scope:this.scope})),n=this.userCache.get("@@user@@");return r&&r.id_token===(n==null?void 0:n.id_token)?n:(this.userCache.set("@@user@@",r),r)}async _getEntryFromCache({scope:t,audience:r,clientId:n}){const i=await this.cacheManager.get(new Br({scope:t,audience:r,clientId:n}),60);if(i&&i.access_token){const{access_token:s,oauthTokenScope:a,expires_in:o}=i,u=await this._getIdTokenFromCache();return u&&Object.assign(Object.assign({id_token:u.id_token,access_token:s},a?{scope:a}:null),{expires_in:o})}}async _requestToken(t,r){const{nonceIn:n,organizationId:i}=r||{},s=await py(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},t),this.worker),a=await this._verifyIdToken(s.id_token,n,i);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},s),{decodedToken:a,scope:t.scope,audience:t.audience||"default"}),s.scope?{oauthTokenScope:s.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgIdHint(a.claims.org_id),Object.assign(Object.assign({},s),{decodedToken:a})}}async function Fy(e){const t=new Py(e);return await t.checkSession(),t}function wu(e){this.message=e}wu.prototype=new Error,wu.prototype.name="InvalidCharacterError";var Jh=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new wu("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,i=0,s=0,a="";n=t.charAt(s++);~n&&(r=i%4?64*r+n:n,i++%4)?a+=String.fromCharCode(255&r>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return a};function Iy(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(r){return decodeURIComponent(Jh(r).replace(/(.)/g,function(n,i){var s=i.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}(t)}catch{return Jh(t)}}function ta(e){this.message=e}function hn(e,t){if(typeof e!="string")throw new ta("Invalid token specified");var r=(t=t||{}).header===!0?0:1;try{return JSON.parse(Iy(e.split(".")[r]))}catch(n){throw new ta("Invalid token specified: "+n.message)}}ta.prototype=new Error,ta.prototype.name="InvalidTokenError";const Cy=e=>{const t=new DataView(e);let r="";for(let n=0;n<t.byteLength;n+=4)r+=t.getUint32(n).toString(16).padStart(8,"0");return r},ra=(e=>async(t,{outputFormat:r="hex"}={})=>{typeof t=="string"&&(t=new globalThis.TextEncoder().encode(t));const n=await globalThis.crypto.subtle.digest(e,t);return r==="hex"?Cy(n):n})("SHA-256");var Zr={},er={},Oy={get exports(){return er},set exports(e){er=e}};const xu=xg(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));(function(e){(function(t,r){function n(C,m){if(!C)throw new Error(m||"Assertion failed")}function i(C,m){C.super_=m;var E=function(){};E.prototype=m.prototype,C.prototype=new E,C.prototype.constructor=C}function s(C,m,E){if(s.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((m==="le"||m==="be")&&(E=m,m=10),this._init(C||0,m||10,E||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=xu.Buffer}catch{}s.isBN=function(m){return m instanceof s?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===s.wordSize&&Array.isArray(m.words)},s.max=function(m,E){return m.cmp(E)>0?m:E},s.min=function(m,E){return m.cmp(E)<0?m:E},s.prototype._init=function(m,E,T){if(typeof m=="number")return this._initNumber(m,E,T);if(typeof m=="object")return this._initArray(m,E,T);E==="hex"&&(E=16),n(E===(E|0)&&E>=2&&E<=36),m=m.toString().replace(/\s+/g,"");var O=0;m[0]==="-"&&(O++,this.negative=1),O<m.length&&(E===16?this._parseHex(m,O,T):(this._parseBase(m,E,O),T==="le"&&this._initArray(this.toArray(),E,T)))},s.prototype._initNumber=function(m,E,T){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(n(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),E,T)},s.prototype._initArray=function(m,E,T){if(n(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var N,H,Z=0;if(T==="be")for(O=m.length-1,N=0;O>=0;O-=3)H=m[O]|m[O-1]<<8|m[O-2]<<16,this.words[N]|=H<<Z&67108863,this.words[N+1]=H>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,N++);else if(T==="le")for(O=0,N=0;O<m.length;O+=3)H=m[O]|m[O+1]<<8|m[O+2]<<16,this.words[N]|=H<<Z&67108863,this.words[N+1]=H>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,N++);return this.strip()};function o(C,m){var E=C.charCodeAt(m);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function u(C,m,E){var T=o(C,E);return E-1>=m&&(T|=o(C,E-1)<<4),T}s.prototype._parseHex=function(m,E,T){this.length=Math.ceil((m.length-E)/6),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var N=0,H=0,Z;if(T==="be")for(O=m.length-1;O>=E;O-=2)Z=u(m,E,O)<<N,this.words[H]|=Z&67108863,N>=18?(N-=18,H+=1,this.words[H]|=Z>>>26):N+=8;else{var K=m.length-E;for(O=K%2===0?E+1:E;O<m.length;O+=2)Z=u(m,E,O)<<N,this.words[H]|=Z&67108863,N>=18?(N-=18,H+=1,this.words[H]|=Z>>>26):N+=8}this.strip()};function f(C,m,E,T){for(var O=0,N=Math.min(C.length,E),H=m;H<N;H++){var Z=C.charCodeAt(H)-48;O*=T,Z>=49?O+=Z-49+10:Z>=17?O+=Z-17+10:O+=Z}return O}s.prototype._parseBase=function(m,E,T){this.words=[0],this.length=1;for(var O=0,N=1;N<=67108863;N*=E)O++;O--,N=N/E|0;for(var H=m.length-T,Z=H%O,K=Math.min(H,H-Z)+T,x=0,V=T;V<K;V+=O)x=f(m,V,V+O,E),this.imuln(N),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x);if(Z!==0){var z=1;for(x=f(m,V,m.length,E),V=0;V<Z;V++)z*=E;this.imuln(z),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x)}this.strip()},s.prototype.copy=function(m){m.words=new Array(this.length);for(var E=0;E<this.length;E++)m.words[E]=this.words[E];m.length=this.length,m.negative=this.negative,m.red=this.red},s.prototype.clone=function(){var m=new s(null);return this.copy(m),m},s.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(m,E){m=m||10,E=E|0||1;var T;if(m===16||m==="hex"){T="";for(var O=0,N=0,H=0;H<this.length;H++){var Z=this.words[H],K=((Z<<O|N)&16777215).toString(16);N=Z>>>24-O&16777215,N!==0||H!==this.length-1?T=l[6-K.length]+K+T:T=K+T,O+=2,O>=26&&(O-=26,H--)}for(N!==0&&(T=N.toString(16)+T);T.length%E!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(m===(m|0)&&m>=2&&m<=36){var x=h[m],V=c[m];T="";var z=this.clone();for(z.negative=0;!z.isZero();){var G=z.modn(V).toString(m);z=z.idivn(V),z.isZero()?T=G+T:T=l[x-G.length]+G+T}for(this.isZero()&&(T="0"+T);T.length%E!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(m,E){return n(typeof a<"u"),this.toArrayLike(a,m,E)},s.prototype.toArray=function(m,E){return this.toArrayLike(Array,m,E)},s.prototype.toArrayLike=function(m,E,T){var O=this.byteLength(),N=T||Math.max(1,O);n(O<=N,"byte array longer than desired length"),n(N>0,"Requested array length <= 0"),this.strip();var H=E==="le",Z=new m(N),K,x,V=this.clone();if(H){for(x=0;!V.isZero();x++)K=V.andln(255),V.iushrn(8),Z[x]=K;for(;x<N;x++)Z[x]=0}else{for(x=0;x<N-O;x++)Z[x]=0;for(x=0;!V.isZero();x++)K=V.andln(255),V.iushrn(8),Z[N-x-1]=K}return Z},Math.clz32?s.prototype._countBits=function(m){return 32-Math.clz32(m)}:s.prototype._countBits=function(m){var E=m,T=0;return E>=4096&&(T+=13,E>>>=13),E>=64&&(T+=7,E>>>=7),E>=8&&(T+=4,E>>>=4),E>=2&&(T+=2,E>>>=2),T+E},s.prototype._zeroBits=function(m){if(m===0)return 26;var E=m,T=0;return E&8191||(T+=13,E>>>=13),E&127||(T+=7,E>>>=7),E&15||(T+=4,E>>>=4),E&3||(T+=2,E>>>=2),E&1||T++,T},s.prototype.bitLength=function(){var m=this.words[this.length-1],E=this._countBits(m);return(this.length-1)*26+E};function d(C){for(var m=new Array(C.bitLength()),E=0;E<m.length;E++){var T=E/26|0,O=E%26;m[E]=(C.words[T]&1<<O)>>>O}return m}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,E=0;E<this.length;E++){var T=this._zeroBits(this.words[E]);if(m+=T,T!==26)break}return m},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},s.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var E=0;E<m.length;E++)this.words[E]=this.words[E]|m.words[E];return this.strip()},s.prototype.ior=function(m){return n((this.negative|m.negative)===0),this.iuor(m)},s.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},s.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},s.prototype.iuand=function(m){var E;this.length>m.length?E=m:E=this;for(var T=0;T<E.length;T++)this.words[T]=this.words[T]&m.words[T];return this.length=E.length,this.strip()},s.prototype.iand=function(m){return n((this.negative|m.negative)===0),this.iuand(m)},s.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},s.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},s.prototype.iuxor=function(m){var E,T;this.length>m.length?(E=this,T=m):(E=m,T=this);for(var O=0;O<T.length;O++)this.words[O]=E.words[O]^T.words[O];if(this!==E)for(;O<E.length;O++)this.words[O]=E.words[O];return this.length=E.length,this.strip()},s.prototype.ixor=function(m){return n((this.negative|m.negative)===0),this.iuxor(m)},s.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},s.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},s.prototype.inotn=function(m){n(typeof m=="number"&&m>=0);var E=Math.ceil(m/26)|0,T=m%26;this._expand(E),T>0&&E--;for(var O=0;O<E;O++)this.words[O]=~this.words[O]&67108863;return T>0&&(this.words[O]=~this.words[O]&67108863>>26-T),this.strip()},s.prototype.notn=function(m){return this.clone().inotn(m)},s.prototype.setn=function(m,E){n(typeof m=="number"&&m>=0);var T=m/26|0,O=m%26;return this._expand(T+1),E?this.words[T]=this.words[T]|1<<O:this.words[T]=this.words[T]&~(1<<O),this.strip()},s.prototype.iadd=function(m){var E;if(this.negative!==0&&m.negative===0)return this.negative=0,E=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,E=this.isub(m),m.negative=1,E._normSign();var T,O;this.length>m.length?(T=this,O=m):(T=m,O=this);for(var N=0,H=0;H<O.length;H++)E=(T.words[H]|0)+(O.words[H]|0)+N,this.words[H]=E&67108863,N=E>>>26;for(;N!==0&&H<T.length;H++)E=(T.words[H]|0)+N,this.words[H]=E&67108863,N=E>>>26;if(this.length=T.length,N!==0)this.words[this.length]=N,this.length++;else if(T!==this)for(;H<T.length;H++)this.words[H]=T.words[H];return this},s.prototype.add=function(m){var E;return m.negative!==0&&this.negative===0?(m.negative=0,E=this.sub(m),m.negative^=1,E):m.negative===0&&this.negative!==0?(this.negative=0,E=m.sub(this),this.negative=1,E):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},s.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var E=this.iadd(m);return m.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var T=this.cmp(m);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;var O,N;T>0?(O=this,N=m):(O=m,N=this);for(var H=0,Z=0;Z<N.length;Z++)E=(O.words[Z]|0)-(N.words[Z]|0)+H,H=E>>26,this.words[Z]=E&67108863;for(;H!==0&&Z<O.length;Z++)E=(O.words[Z]|0)+H,H=E>>26,this.words[Z]=E&67108863;if(H===0&&Z<O.length&&O!==this)for(;Z<O.length;Z++)this.words[Z]=O.words[Z];return this.length=Math.max(this.length,Z),O!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(m){return this.clone().isub(m)};function p(C,m,E){E.negative=m.negative^C.negative;var T=C.length+m.length|0;E.length=T,T=T-1|0;var O=C.words[0]|0,N=m.words[0]|0,H=O*N,Z=H&67108863,K=H/67108864|0;E.words[0]=Z;for(var x=1;x<T;x++){for(var V=K>>>26,z=K&67108863,G=Math.min(x,m.length-1),$=Math.max(0,x-C.length+1);$<=G;$++){var ae=x-$|0;O=C.words[ae]|0,N=m.words[$]|0,H=O*N+z,V+=H/67108864|0,z=H&67108863}E.words[x]=z|0,K=V|0}return K!==0?E.words[x]=K|0:E.length--,E.strip()}var v=function(m,E,T){var O=m.words,N=E.words,H=T.words,Z=0,K,x,V,z=O[0]|0,G=z&8191,$=z>>>13,ae=O[1]|0,he=ae&8191,ue=ae>>>13,fe=O[2]|0,ce=fe&8191,j=fe>>>13,W=O[3]|0,U=W&8191,Q=W>>>13,ee=O[4]|0,te=ee&8191,B=ee>>>13,w=O[5]|0,S=w&8191,I=w>>>13,q=O[6]|0,Y=q&8191,se=q>>>13,me=O[7]|0,ge=me&8191,X=me>>>13,ne=O[8]|0,ie=ne&8191,le=ne>>>13,xe=O[9]|0,Re=xe&8191,Ee=xe>>>13,Be=N[0]|0,be=Be&8191,Te=Be>>>13,Ce=N[1]|0,Ne=Ce&8191,De=Ce>>>13,po=N[2]|0,ot=po&8191,dt=po>>>13,cn=N[3]|0,ut=cn&8191,ft=cn>>>13,Ms=N[4]|0,wt=Ms&8191,pt=Ms>>>13,vo=N[5]|0,vt=vo&8191,gt=vo>>>13,go=N[6]|0,xt=go&8191,mt=go>>>13,mo=N[7]|0,St=mo&8191,Et=mo>>>13,yo=N[8]|0,J=yo&8191,ve=yo>>>13,Se=N[9]|0,_e=Se&8191,Ie=Se>>>13;T.negative=m.negative^E.negative,T.length=19,K=Math.imul(G,be),x=Math.imul(G,Te),x=x+Math.imul($,be)|0,V=Math.imul($,Te);var Ge=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,K=Math.imul(he,be),x=Math.imul(he,Te),x=x+Math.imul(ue,be)|0,V=Math.imul(ue,Te),K=K+Math.imul(G,Ne)|0,x=x+Math.imul(G,De)|0,x=x+Math.imul($,Ne)|0,V=V+Math.imul($,De)|0;var He=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(He>>>26)|0,He&=67108863,K=Math.imul(ce,be),x=Math.imul(ce,Te),x=x+Math.imul(j,be)|0,V=Math.imul(j,Te),K=K+Math.imul(he,Ne)|0,x=x+Math.imul(he,De)|0,x=x+Math.imul(ue,Ne)|0,V=V+Math.imul(ue,De)|0,K=K+Math.imul(G,ot)|0,x=x+Math.imul(G,dt)|0,x=x+Math.imul($,ot)|0,V=V+Math.imul($,dt)|0;var je=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(je>>>26)|0,je&=67108863,K=Math.imul(U,be),x=Math.imul(U,Te),x=x+Math.imul(Q,be)|0,V=Math.imul(Q,Te),K=K+Math.imul(ce,Ne)|0,x=x+Math.imul(ce,De)|0,x=x+Math.imul(j,Ne)|0,V=V+Math.imul(j,De)|0,K=K+Math.imul(he,ot)|0,x=x+Math.imul(he,dt)|0,x=x+Math.imul(ue,ot)|0,V=V+Math.imul(ue,dt)|0,K=K+Math.imul(G,ut)|0,x=x+Math.imul(G,ft)|0,x=x+Math.imul($,ut)|0,V=V+Math.imul($,ft)|0;var Ot=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,K=Math.imul(te,be),x=Math.imul(te,Te),x=x+Math.imul(B,be)|0,V=Math.imul(B,Te),K=K+Math.imul(U,Ne)|0,x=x+Math.imul(U,De)|0,x=x+Math.imul(Q,Ne)|0,V=V+Math.imul(Q,De)|0,K=K+Math.imul(ce,ot)|0,x=x+Math.imul(ce,dt)|0,x=x+Math.imul(j,ot)|0,V=V+Math.imul(j,dt)|0,K=K+Math.imul(he,ut)|0,x=x+Math.imul(he,ft)|0,x=x+Math.imul(ue,ut)|0,V=V+Math.imul(ue,ft)|0,K=K+Math.imul(G,wt)|0,x=x+Math.imul(G,pt)|0,x=x+Math.imul($,wt)|0,V=V+Math.imul($,pt)|0;var it=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(it>>>26)|0,it&=67108863,K=Math.imul(S,be),x=Math.imul(S,Te),x=x+Math.imul(I,be)|0,V=Math.imul(I,Te),K=K+Math.imul(te,Ne)|0,x=x+Math.imul(te,De)|0,x=x+Math.imul(B,Ne)|0,V=V+Math.imul(B,De)|0,K=K+Math.imul(U,ot)|0,x=x+Math.imul(U,dt)|0,x=x+Math.imul(Q,ot)|0,V=V+Math.imul(Q,dt)|0,K=K+Math.imul(ce,ut)|0,x=x+Math.imul(ce,ft)|0,x=x+Math.imul(j,ut)|0,V=V+Math.imul(j,ft)|0,K=K+Math.imul(he,wt)|0,x=x+Math.imul(he,pt)|0,x=x+Math.imul(ue,wt)|0,V=V+Math.imul(ue,pt)|0,K=K+Math.imul(G,vt)|0,x=x+Math.imul(G,gt)|0,x=x+Math.imul($,vt)|0,V=V+Math.imul($,gt)|0;var ct=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(ct>>>26)|0,ct&=67108863,K=Math.imul(Y,be),x=Math.imul(Y,Te),x=x+Math.imul(se,be)|0,V=Math.imul(se,Te),K=K+Math.imul(S,Ne)|0,x=x+Math.imul(S,De)|0,x=x+Math.imul(I,Ne)|0,V=V+Math.imul(I,De)|0,K=K+Math.imul(te,ot)|0,x=x+Math.imul(te,dt)|0,x=x+Math.imul(B,ot)|0,V=V+Math.imul(B,dt)|0,K=K+Math.imul(U,ut)|0,x=x+Math.imul(U,ft)|0,x=x+Math.imul(Q,ut)|0,V=V+Math.imul(Q,ft)|0,K=K+Math.imul(ce,wt)|0,x=x+Math.imul(ce,pt)|0,x=x+Math.imul(j,wt)|0,V=V+Math.imul(j,pt)|0,K=K+Math.imul(he,vt)|0,x=x+Math.imul(he,gt)|0,x=x+Math.imul(ue,vt)|0,V=V+Math.imul(ue,gt)|0,K=K+Math.imul(G,xt)|0,x=x+Math.imul(G,mt)|0,x=x+Math.imul($,xt)|0,V=V+Math.imul($,mt)|0;var Kt=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,K=Math.imul(ge,be),x=Math.imul(ge,Te),x=x+Math.imul(X,be)|0,V=Math.imul(X,Te),K=K+Math.imul(Y,Ne)|0,x=x+Math.imul(Y,De)|0,x=x+Math.imul(se,Ne)|0,V=V+Math.imul(se,De)|0,K=K+Math.imul(S,ot)|0,x=x+Math.imul(S,dt)|0,x=x+Math.imul(I,ot)|0,V=V+Math.imul(I,dt)|0,K=K+Math.imul(te,ut)|0,x=x+Math.imul(te,ft)|0,x=x+Math.imul(B,ut)|0,V=V+Math.imul(B,ft)|0,K=K+Math.imul(U,wt)|0,x=x+Math.imul(U,pt)|0,x=x+Math.imul(Q,wt)|0,V=V+Math.imul(Q,pt)|0,K=K+Math.imul(ce,vt)|0,x=x+Math.imul(ce,gt)|0,x=x+Math.imul(j,vt)|0,V=V+Math.imul(j,gt)|0,K=K+Math.imul(he,xt)|0,x=x+Math.imul(he,mt)|0,x=x+Math.imul(ue,xt)|0,V=V+Math.imul(ue,mt)|0,K=K+Math.imul(G,St)|0,x=x+Math.imul(G,Et)|0,x=x+Math.imul($,St)|0,V=V+Math.imul($,Et)|0;var Yr=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,K=Math.imul(ie,be),x=Math.imul(ie,Te),x=x+Math.imul(le,be)|0,V=Math.imul(le,Te),K=K+Math.imul(ge,Ne)|0,x=x+Math.imul(ge,De)|0,x=x+Math.imul(X,Ne)|0,V=V+Math.imul(X,De)|0,K=K+Math.imul(Y,ot)|0,x=x+Math.imul(Y,dt)|0,x=x+Math.imul(se,ot)|0,V=V+Math.imul(se,dt)|0,K=K+Math.imul(S,ut)|0,x=x+Math.imul(S,ft)|0,x=x+Math.imul(I,ut)|0,V=V+Math.imul(I,ft)|0,K=K+Math.imul(te,wt)|0,x=x+Math.imul(te,pt)|0,x=x+Math.imul(B,wt)|0,V=V+Math.imul(B,pt)|0,K=K+Math.imul(U,vt)|0,x=x+Math.imul(U,gt)|0,x=x+Math.imul(Q,vt)|0,V=V+Math.imul(Q,gt)|0,K=K+Math.imul(ce,xt)|0,x=x+Math.imul(ce,mt)|0,x=x+Math.imul(j,xt)|0,V=V+Math.imul(j,mt)|0,K=K+Math.imul(he,St)|0,x=x+Math.imul(he,Et)|0,x=x+Math.imul(ue,St)|0,V=V+Math.imul(ue,Et)|0,K=K+Math.imul(G,J)|0,x=x+Math.imul(G,ve)|0,x=x+Math.imul($,J)|0,V=V+Math.imul($,ve)|0;var ki=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(ki>>>26)|0,ki&=67108863,K=Math.imul(Re,be),x=Math.imul(Re,Te),x=x+Math.imul(Ee,be)|0,V=Math.imul(Ee,Te),K=K+Math.imul(ie,Ne)|0,x=x+Math.imul(ie,De)|0,x=x+Math.imul(le,Ne)|0,V=V+Math.imul(le,De)|0,K=K+Math.imul(ge,ot)|0,x=x+Math.imul(ge,dt)|0,x=x+Math.imul(X,ot)|0,V=V+Math.imul(X,dt)|0,K=K+Math.imul(Y,ut)|0,x=x+Math.imul(Y,ft)|0,x=x+Math.imul(se,ut)|0,V=V+Math.imul(se,ft)|0,K=K+Math.imul(S,wt)|0,x=x+Math.imul(S,pt)|0,x=x+Math.imul(I,wt)|0,V=V+Math.imul(I,pt)|0,K=K+Math.imul(te,vt)|0,x=x+Math.imul(te,gt)|0,x=x+Math.imul(B,vt)|0,V=V+Math.imul(B,gt)|0,K=K+Math.imul(U,xt)|0,x=x+Math.imul(U,mt)|0,x=x+Math.imul(Q,xt)|0,V=V+Math.imul(Q,mt)|0,K=K+Math.imul(ce,St)|0,x=x+Math.imul(ce,Et)|0,x=x+Math.imul(j,St)|0,V=V+Math.imul(j,Et)|0,K=K+Math.imul(he,J)|0,x=x+Math.imul(he,ve)|0,x=x+Math.imul(ue,J)|0,V=V+Math.imul(ue,ve)|0,K=K+Math.imul(G,_e)|0,x=x+Math.imul(G,Ie)|0,x=x+Math.imul($,_e)|0,V=V+Math.imul($,Ie)|0;var sr=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(sr>>>26)|0,sr&=67108863,K=Math.imul(Re,Ne),x=Math.imul(Re,De),x=x+Math.imul(Ee,Ne)|0,V=Math.imul(Ee,De),K=K+Math.imul(ie,ot)|0,x=x+Math.imul(ie,dt)|0,x=x+Math.imul(le,ot)|0,V=V+Math.imul(le,dt)|0,K=K+Math.imul(ge,ut)|0,x=x+Math.imul(ge,ft)|0,x=x+Math.imul(X,ut)|0,V=V+Math.imul(X,ft)|0,K=K+Math.imul(Y,wt)|0,x=x+Math.imul(Y,pt)|0,x=x+Math.imul(se,wt)|0,V=V+Math.imul(se,pt)|0,K=K+Math.imul(S,vt)|0,x=x+Math.imul(S,gt)|0,x=x+Math.imul(I,vt)|0,V=V+Math.imul(I,gt)|0,K=K+Math.imul(te,xt)|0,x=x+Math.imul(te,mt)|0,x=x+Math.imul(B,xt)|0,V=V+Math.imul(B,mt)|0,K=K+Math.imul(U,St)|0,x=x+Math.imul(U,Et)|0,x=x+Math.imul(Q,St)|0,V=V+Math.imul(Q,Et)|0,K=K+Math.imul(ce,J)|0,x=x+Math.imul(ce,ve)|0,x=x+Math.imul(j,J)|0,V=V+Math.imul(j,ve)|0,K=K+Math.imul(he,_e)|0,x=x+Math.imul(he,Ie)|0,x=x+Math.imul(ue,_e)|0,V=V+Math.imul(ue,Ie)|0;var nl=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(nl>>>26)|0,nl&=67108863,K=Math.imul(Re,ot),x=Math.imul(Re,dt),x=x+Math.imul(Ee,ot)|0,V=Math.imul(Ee,dt),K=K+Math.imul(ie,ut)|0,x=x+Math.imul(ie,ft)|0,x=x+Math.imul(le,ut)|0,V=V+Math.imul(le,ft)|0,K=K+Math.imul(ge,wt)|0,x=x+Math.imul(ge,pt)|0,x=x+Math.imul(X,wt)|0,V=V+Math.imul(X,pt)|0,K=K+Math.imul(Y,vt)|0,x=x+Math.imul(Y,gt)|0,x=x+Math.imul(se,vt)|0,V=V+Math.imul(se,gt)|0,K=K+Math.imul(S,xt)|0,x=x+Math.imul(S,mt)|0,x=x+Math.imul(I,xt)|0,V=V+Math.imul(I,mt)|0,K=K+Math.imul(te,St)|0,x=x+Math.imul(te,Et)|0,x=x+Math.imul(B,St)|0,V=V+Math.imul(B,Et)|0,K=K+Math.imul(U,J)|0,x=x+Math.imul(U,ve)|0,x=x+Math.imul(Q,J)|0,V=V+Math.imul(Q,ve)|0,K=K+Math.imul(ce,_e)|0,x=x+Math.imul(ce,Ie)|0,x=x+Math.imul(j,_e)|0,V=V+Math.imul(j,Ie)|0;var il=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(il>>>26)|0,il&=67108863,K=Math.imul(Re,ut),x=Math.imul(Re,ft),x=x+Math.imul(Ee,ut)|0,V=Math.imul(Ee,ft),K=K+Math.imul(ie,wt)|0,x=x+Math.imul(ie,pt)|0,x=x+Math.imul(le,wt)|0,V=V+Math.imul(le,pt)|0,K=K+Math.imul(ge,vt)|0,x=x+Math.imul(ge,gt)|0,x=x+Math.imul(X,vt)|0,V=V+Math.imul(X,gt)|0,K=K+Math.imul(Y,xt)|0,x=x+Math.imul(Y,mt)|0,x=x+Math.imul(se,xt)|0,V=V+Math.imul(se,mt)|0,K=K+Math.imul(S,St)|0,x=x+Math.imul(S,Et)|0,x=x+Math.imul(I,St)|0,V=V+Math.imul(I,Et)|0,K=K+Math.imul(te,J)|0,x=x+Math.imul(te,ve)|0,x=x+Math.imul(B,J)|0,V=V+Math.imul(B,ve)|0,K=K+Math.imul(U,_e)|0,x=x+Math.imul(U,Ie)|0,x=x+Math.imul(Q,_e)|0,V=V+Math.imul(Q,Ie)|0;var sl=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(sl>>>26)|0,sl&=67108863,K=Math.imul(Re,wt),x=Math.imul(Re,pt),x=x+Math.imul(Ee,wt)|0,V=Math.imul(Ee,pt),K=K+Math.imul(ie,vt)|0,x=x+Math.imul(ie,gt)|0,x=x+Math.imul(le,vt)|0,V=V+Math.imul(le,gt)|0,K=K+Math.imul(ge,xt)|0,x=x+Math.imul(ge,mt)|0,x=x+Math.imul(X,xt)|0,V=V+Math.imul(X,mt)|0,K=K+Math.imul(Y,St)|0,x=x+Math.imul(Y,Et)|0,x=x+Math.imul(se,St)|0,V=V+Math.imul(se,Et)|0,K=K+Math.imul(S,J)|0,x=x+Math.imul(S,ve)|0,x=x+Math.imul(I,J)|0,V=V+Math.imul(I,ve)|0,K=K+Math.imul(te,_e)|0,x=x+Math.imul(te,Ie)|0,x=x+Math.imul(B,_e)|0,V=V+Math.imul(B,Ie)|0;var al=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(al>>>26)|0,al&=67108863,K=Math.imul(Re,vt),x=Math.imul(Re,gt),x=x+Math.imul(Ee,vt)|0,V=Math.imul(Ee,gt),K=K+Math.imul(ie,xt)|0,x=x+Math.imul(ie,mt)|0,x=x+Math.imul(le,xt)|0,V=V+Math.imul(le,mt)|0,K=K+Math.imul(ge,St)|0,x=x+Math.imul(ge,Et)|0,x=x+Math.imul(X,St)|0,V=V+Math.imul(X,Et)|0,K=K+Math.imul(Y,J)|0,x=x+Math.imul(Y,ve)|0,x=x+Math.imul(se,J)|0,V=V+Math.imul(se,ve)|0,K=K+Math.imul(S,_e)|0,x=x+Math.imul(S,Ie)|0,x=x+Math.imul(I,_e)|0,V=V+Math.imul(I,Ie)|0;var ol=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(ol>>>26)|0,ol&=67108863,K=Math.imul(Re,xt),x=Math.imul(Re,mt),x=x+Math.imul(Ee,xt)|0,V=Math.imul(Ee,mt),K=K+Math.imul(ie,St)|0,x=x+Math.imul(ie,Et)|0,x=x+Math.imul(le,St)|0,V=V+Math.imul(le,Et)|0,K=K+Math.imul(ge,J)|0,x=x+Math.imul(ge,ve)|0,x=x+Math.imul(X,J)|0,V=V+Math.imul(X,ve)|0,K=K+Math.imul(Y,_e)|0,x=x+Math.imul(Y,Ie)|0,x=x+Math.imul(se,_e)|0,V=V+Math.imul(se,Ie)|0;var ul=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(ul>>>26)|0,ul&=67108863,K=Math.imul(Re,St),x=Math.imul(Re,Et),x=x+Math.imul(Ee,St)|0,V=Math.imul(Ee,Et),K=K+Math.imul(ie,J)|0,x=x+Math.imul(ie,ve)|0,x=x+Math.imul(le,J)|0,V=V+Math.imul(le,ve)|0,K=K+Math.imul(ge,_e)|0,x=x+Math.imul(ge,Ie)|0,x=x+Math.imul(X,_e)|0,V=V+Math.imul(X,Ie)|0;var fl=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(fl>>>26)|0,fl&=67108863,K=Math.imul(Re,J),x=Math.imul(Re,ve),x=x+Math.imul(Ee,J)|0,V=Math.imul(Ee,ve),K=K+Math.imul(ie,_e)|0,x=x+Math.imul(ie,Ie)|0,x=x+Math.imul(le,_e)|0,V=V+Math.imul(le,Ie)|0;var cl=(Z+K|0)+((x&8191)<<13)|0;Z=(V+(x>>>13)|0)+(cl>>>26)|0,cl&=67108863,K=Math.imul(Re,_e),x=Math.imul(Re,Ie),x=x+Math.imul(Ee,_e)|0,V=Math.imul(Ee,Ie);var ll=(Z+K|0)+((x&8191)<<13)|0;return Z=(V+(x>>>13)|0)+(ll>>>26)|0,ll&=67108863,H[0]=Ge,H[1]=He,H[2]=je,H[3]=Ot,H[4]=it,H[5]=ct,H[6]=Kt,H[7]=Yr,H[8]=ki,H[9]=sr,H[10]=nl,H[11]=il,H[12]=sl,H[13]=al,H[14]=ol,H[15]=ul,H[16]=fl,H[17]=cl,H[18]=ll,Z!==0&&(H[19]=Z,T.length++),T};Math.imul||(v=p);function y(C,m,E){E.negative=m.negative^C.negative,E.length=C.length+m.length;for(var T=0,O=0,N=0;N<E.length-1;N++){var H=O;O=0;for(var Z=T&67108863,K=Math.min(N,m.length-1),x=Math.max(0,N-C.length+1);x<=K;x++){var V=N-x,z=C.words[V]|0,G=m.words[x]|0,$=z*G,ae=$&67108863;H=H+($/67108864|0)|0,ae=ae+Z|0,Z=ae&67108863,H=H+(ae>>>26)|0,O+=H>>>26,H&=67108863}E.words[N]=Z,T=H,H=O}return T!==0?E.words[N]=T:E.length--,E.strip()}function b(C,m,E){var T=new A;return T.mulp(C,m,E)}s.prototype.mulTo=function(m,E){var T,O=this.length+m.length;return this.length===10&&m.length===10?T=v(this,m,E):O<63?T=p(this,m,E):O<1024?T=y(this,m,E):T=b(this,m,E),T};function A(C,m){this.x=C,this.y=m}A.prototype.makeRBT=function(m){for(var E=new Array(m),T=s.prototype._countBits(m)-1,O=0;O<m;O++)E[O]=this.revBin(O,T,m);return E},A.prototype.revBin=function(m,E,T){if(m===0||m===T-1)return m;for(var O=0,N=0;N<E;N++)O|=(m&1)<<E-N-1,m>>=1;return O},A.prototype.permute=function(m,E,T,O,N,H){for(var Z=0;Z<H;Z++)O[Z]=E[m[Z]],N[Z]=T[m[Z]]},A.prototype.transform=function(m,E,T,O,N,H){this.permute(H,m,E,T,O,N);for(var Z=1;Z<N;Z<<=1)for(var K=Z<<1,x=Math.cos(2*Math.PI/K),V=Math.sin(2*Math.PI/K),z=0;z<N;z+=K)for(var G=x,$=V,ae=0;ae<Z;ae++){var he=T[z+ae],ue=O[z+ae],fe=T[z+ae+Z],ce=O[z+ae+Z],j=G*fe-$*ce;ce=G*ce+$*fe,fe=j,T[z+ae]=he+fe,O[z+ae]=ue+ce,T[z+ae+Z]=he-fe,O[z+ae+Z]=ue-ce,ae!==K&&(j=x*G-V*$,$=x*$+V*G,G=j)}},A.prototype.guessLen13b=function(m,E){var T=Math.max(E,m)|1,O=T&1,N=0;for(T=T/2|0;T;T=T>>>1)N++;return 1<<N+1+O},A.prototype.conjugate=function(m,E,T){if(!(T<=1))for(var O=0;O<T/2;O++){var N=m[O];m[O]=m[T-O-1],m[T-O-1]=N,N=E[O],E[O]=-E[T-O-1],E[T-O-1]=-N}},A.prototype.normalize13b=function(m,E){for(var T=0,O=0;O<E/2;O++){var N=Math.round(m[2*O+1]/E)*8192+Math.round(m[2*O]/E)+T;m[O]=N&67108863,N<67108864?T=0:T=N/67108864|0}return m},A.prototype.convert13b=function(m,E,T,O){for(var N=0,H=0;H<E;H++)N=N+(m[H]|0),T[2*H]=N&8191,N=N>>>13,T[2*H+1]=N&8191,N=N>>>13;for(H=2*E;H<O;++H)T[H]=0;n(N===0),n((N&-8192)===0)},A.prototype.stub=function(m){for(var E=new Array(m),T=0;T<m;T++)E[T]=0;return E},A.prototype.mulp=function(m,E,T){var O=2*this.guessLen13b(m.length,E.length),N=this.makeRBT(O),H=this.stub(O),Z=new Array(O),K=new Array(O),x=new Array(O),V=new Array(O),z=new Array(O),G=new Array(O),$=T.words;$.length=O,this.convert13b(m.words,m.length,Z,O),this.convert13b(E.words,E.length,V,O),this.transform(Z,H,K,x,O,N),this.transform(V,H,z,G,O,N);for(var ae=0;ae<O;ae++){var he=K[ae]*z[ae]-x[ae]*G[ae];x[ae]=K[ae]*G[ae]+x[ae]*z[ae],K[ae]=he}return this.conjugate(K,x,O),this.transform(K,x,$,H,O,N),this.conjugate($,H,O),this.normalize13b($,O),T.negative=m.negative^E.negative,T.length=m.length+E.length,T.strip()},s.prototype.mul=function(m){var E=new s(null);return E.words=new Array(this.length+m.length),this.mulTo(m,E)},s.prototype.mulf=function(m){var E=new s(null);return E.words=new Array(this.length+m.length),b(this,m,E)},s.prototype.imul=function(m){return this.clone().mulTo(m,this)},s.prototype.imuln=function(m){n(typeof m=="number"),n(m<67108864);for(var E=0,T=0;T<this.length;T++){var O=(this.words[T]|0)*m,N=(O&67108863)+(E&67108863);E>>=26,E+=O/67108864|0,E+=N>>>26,this.words[T]=N&67108863}return E!==0&&(this.words[T]=E,this.length++),this},s.prototype.muln=function(m){return this.clone().imuln(m)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(m){var E=d(m);if(E.length===0)return new s(1);for(var T=this,O=0;O<E.length&&E[O]===0;O++,T=T.sqr());if(++O<E.length)for(var N=T.sqr();O<E.length;O++,N=N.sqr())E[O]!==0&&(T=T.mul(N));return T},s.prototype.iushln=function(m){n(typeof m=="number"&&m>=0);var E=m%26,T=(m-E)/26,O=67108863>>>26-E<<26-E,N;if(E!==0){var H=0;for(N=0;N<this.length;N++){var Z=this.words[N]&O,K=(this.words[N]|0)-Z<<E;this.words[N]=K|H,H=Z>>>26-E}H&&(this.words[N]=H,this.length++)}if(T!==0){for(N=this.length-1;N>=0;N--)this.words[N+T]=this.words[N];for(N=0;N<T;N++)this.words[N]=0;this.length+=T}return this.strip()},s.prototype.ishln=function(m){return n(this.negative===0),this.iushln(m)},s.prototype.iushrn=function(m,E,T){n(typeof m=="number"&&m>=0);var O;E?O=(E-E%26)/26:O=0;var N=m%26,H=Math.min((m-N)/26,this.length),Z=67108863^67108863>>>N<<N,K=T;if(O-=H,O=Math.max(0,O),K){for(var x=0;x<H;x++)K.words[x]=this.words[x];K.length=H}if(H!==0)if(this.length>H)for(this.length-=H,x=0;x<this.length;x++)this.words[x]=this.words[x+H];else this.words[0]=0,this.length=1;var V=0;for(x=this.length-1;x>=0&&(V!==0||x>=O);x--){var z=this.words[x]|0;this.words[x]=V<<26-N|z>>>N,V=z&Z}return K&&V!==0&&(K.words[K.length++]=V),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(m,E,T){return n(this.negative===0),this.iushrn(m,E,T)},s.prototype.shln=function(m){return this.clone().ishln(m)},s.prototype.ushln=function(m){return this.clone().iushln(m)},s.prototype.shrn=function(m){return this.clone().ishrn(m)},s.prototype.ushrn=function(m){return this.clone().iushrn(m)},s.prototype.testn=function(m){n(typeof m=="number"&&m>=0);var E=m%26,T=(m-E)/26,O=1<<E;if(this.length<=T)return!1;var N=this.words[T];return!!(N&O)},s.prototype.imaskn=function(m){n(typeof m=="number"&&m>=0);var E=m%26,T=(m-E)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(E!==0&&T++,this.length=Math.min(T,this.length),E!==0){var O=67108863^67108863>>>E<<E;this.words[this.length-1]&=O}return this.strip()},s.prototype.maskn=function(m){return this.clone().imaskn(m)},s.prototype.iaddn=function(m){return n(typeof m=="number"),n(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},s.prototype._iaddn=function(m){this.words[0]+=m;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},s.prototype.isubn=function(m){if(n(typeof m=="number"),n(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},s.prototype.addn=function(m){return this.clone().iaddn(m)},s.prototype.subn=function(m){return this.clone().isubn(m)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(m,E,T){var O=m.length+T,N;this._expand(O);var H,Z=0;for(N=0;N<m.length;N++){H=(this.words[N+T]|0)+Z;var K=(m.words[N]|0)*E;H-=K&67108863,Z=(H>>26)-(K/67108864|0),this.words[N+T]=H&67108863}for(;N<this.length-T;N++)H=(this.words[N+T]|0)+Z,Z=H>>26,this.words[N+T]=H&67108863;if(Z===0)return this.strip();for(n(Z===-1),Z=0,N=0;N<this.length;N++)H=-(this.words[N]|0)+Z,Z=H>>26,this.words[N]=H&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(m,E){var T=this.length-m.length,O=this.clone(),N=m,H=N.words[N.length-1]|0,Z=this._countBits(H);T=26-Z,T!==0&&(N=N.ushln(T),O.iushln(T),H=N.words[N.length-1]|0);var K=O.length-N.length,x;if(E!=="mod"){x=new s(null),x.length=K+1,x.words=new Array(x.length);for(var V=0;V<x.length;V++)x.words[V]=0}var z=O.clone()._ishlnsubmul(N,1,K);z.negative===0&&(O=z,x&&(x.words[K]=1));for(var G=K-1;G>=0;G--){var $=(O.words[N.length+G]|0)*67108864+(O.words[N.length+G-1]|0);for($=Math.min($/H|0,67108863),O._ishlnsubmul(N,$,G);O.negative!==0;)$--,O.negative=0,O._ishlnsubmul(N,1,G),O.isZero()||(O.negative^=1);x&&(x.words[G]=$)}return x&&x.strip(),O.strip(),E!=="div"&&T!==0&&O.iushrn(T),{div:x||null,mod:O}},s.prototype.divmod=function(m,E,T){if(n(!m.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var O,N,H;return this.negative!==0&&m.negative===0?(H=this.neg().divmod(m,E),E!=="mod"&&(O=H.div.neg()),E!=="div"&&(N=H.mod.neg(),T&&N.negative!==0&&N.iadd(m)),{div:O,mod:N}):this.negative===0&&m.negative!==0?(H=this.divmod(m.neg(),E),E!=="mod"&&(O=H.div.neg()),{div:O,mod:H.mod}):this.negative&m.negative?(H=this.neg().divmod(m.neg(),E),E!=="div"&&(N=H.mod.neg(),T&&N.negative!==0&&N.isub(m)),{div:H.div,mod:N}):m.length>this.length||this.cmp(m)<0?{div:new s(0),mod:this}:m.length===1?E==="div"?{div:this.divn(m.words[0]),mod:null}:E==="mod"?{div:null,mod:new s(this.modn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new s(this.modn(m.words[0]))}:this._wordDiv(m,E)},s.prototype.div=function(m){return this.divmod(m,"div",!1).div},s.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},s.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},s.prototype.divRound=function(m){var E=this.divmod(m);if(E.mod.isZero())return E.div;var T=E.div.negative!==0?E.mod.isub(m):E.mod,O=m.ushrn(1),N=m.andln(1),H=T.cmp(O);return H<0||N===1&&H===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},s.prototype.modn=function(m){n(m<=67108863);for(var E=(1<<26)%m,T=0,O=this.length-1;O>=0;O--)T=(E*T+(this.words[O]|0))%m;return T},s.prototype.idivn=function(m){n(m<=67108863);for(var E=0,T=this.length-1;T>=0;T--){var O=(this.words[T]|0)+E*67108864;this.words[T]=O/m|0,E=O%m}return this.strip()},s.prototype.divn=function(m){return this.clone().idivn(m)},s.prototype.egcd=function(m){n(m.negative===0),n(!m.isZero());var E=this,T=m.clone();E.negative!==0?E=E.umod(m):E=E.clone();for(var O=new s(1),N=new s(0),H=new s(0),Z=new s(1),K=0;E.isEven()&&T.isEven();)E.iushrn(1),T.iushrn(1),++K;for(var x=T.clone(),V=E.clone();!E.isZero();){for(var z=0,G=1;!(E.words[0]&G)&&z<26;++z,G<<=1);if(z>0)for(E.iushrn(z);z-- >0;)(O.isOdd()||N.isOdd())&&(O.iadd(x),N.isub(V)),O.iushrn(1),N.iushrn(1);for(var $=0,ae=1;!(T.words[0]&ae)&&$<26;++$,ae<<=1);if($>0)for(T.iushrn($);$-- >0;)(H.isOdd()||Z.isOdd())&&(H.iadd(x),Z.isub(V)),H.iushrn(1),Z.iushrn(1);E.cmp(T)>=0?(E.isub(T),O.isub(H),N.isub(Z)):(T.isub(E),H.isub(O),Z.isub(N))}return{a:H,b:Z,gcd:T.iushln(K)}},s.prototype._invmp=function(m){n(m.negative===0),n(!m.isZero());var E=this,T=m.clone();E.negative!==0?E=E.umod(m):E=E.clone();for(var O=new s(1),N=new s(0),H=T.clone();E.cmpn(1)>0&&T.cmpn(1)>0;){for(var Z=0,K=1;!(E.words[0]&K)&&Z<26;++Z,K<<=1);if(Z>0)for(E.iushrn(Z);Z-- >0;)O.isOdd()&&O.iadd(H),O.iushrn(1);for(var x=0,V=1;!(T.words[0]&V)&&x<26;++x,V<<=1);if(x>0)for(T.iushrn(x);x-- >0;)N.isOdd()&&N.iadd(H),N.iushrn(1);E.cmp(T)>=0?(E.isub(T),O.isub(N)):(T.isub(E),N.isub(O))}var z;return E.cmpn(1)===0?z=O:z=N,z.cmpn(0)<0&&z.iadd(m),z},s.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var E=this.clone(),T=m.clone();E.negative=0,T.negative=0;for(var O=0;E.isEven()&&T.isEven();O++)E.iushrn(1),T.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;T.isEven();)T.iushrn(1);var N=E.cmp(T);if(N<0){var H=E;E=T,T=H}else if(N===0||T.cmpn(1)===0)break;E.isub(T)}while(!0);return T.iushln(O)},s.prototype.invm=function(m){return this.egcd(m).a.umod(m)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(m){return this.words[0]&m},s.prototype.bincn=function(m){n(typeof m=="number");var E=m%26,T=(m-E)/26,O=1<<E;if(this.length<=T)return this._expand(T+1),this.words[T]|=O,this;for(var N=O,H=T;N!==0&&H<this.length;H++){var Z=this.words[H]|0;Z+=N,N=Z>>>26,Z&=67108863,this.words[H]=Z}return N!==0&&(this.words[H]=N,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(m){var E=m<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this.strip();var T;if(this.length>1)T=1;else{E&&(m=-m),n(m<=67108863,"Number is too big");var O=this.words[0]|0;T=O===m?0:O<m?-1:1}return this.negative!==0?-T|0:T},s.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var E=this.ucmp(m);return this.negative!==0?-E|0:E},s.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var E=0,T=this.length-1;T>=0;T--){var O=this.words[T]|0,N=m.words[T]|0;if(O!==N){O<N?E=-1:O>N&&(E=1);break}}return E},s.prototype.gtn=function(m){return this.cmpn(m)===1},s.prototype.gt=function(m){return this.cmp(m)===1},s.prototype.gten=function(m){return this.cmpn(m)>=0},s.prototype.gte=function(m){return this.cmp(m)>=0},s.prototype.ltn=function(m){return this.cmpn(m)===-1},s.prototype.lt=function(m){return this.cmp(m)===-1},s.prototype.lten=function(m){return this.cmpn(m)<=0},s.prototype.lte=function(m){return this.cmp(m)<=0},s.prototype.eqn=function(m){return this.cmpn(m)===0},s.prototype.eq=function(m){return this.cmp(m)===0},s.red=function(m){return new P(m)},s.prototype.toRed=function(m){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(m){return this.red=m,this},s.prototype.forceRed=function(m){return n(!this.red,"Already a number in reduction context"),this._forceRed(m)},s.prototype.redAdd=function(m){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},s.prototype.redIAdd=function(m){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},s.prototype.redSub=function(m){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},s.prototype.redISub=function(m){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},s.prototype.redShl=function(m){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},s.prototype.redMul=function(m){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},s.prototype.redIMul=function(m){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(m){return n(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var D={k256:null,p224:null,p192:null,p25519:null};function k(C,m){this.name=C,this.p=new s(m,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var m=new s(null);return m.words=new Array(Math.ceil(this.n/13)),m},k.prototype.ireduce=function(m){var E=m,T;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),T=E.bitLength();while(T>this.n);var O=T<this.n?-1:E.ucmp(this.p);return O===0?(E.words[0]=0,E.length=1):O>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},k.prototype.split=function(m,E){m.iushrn(this.n,0,E)},k.prototype.imulK=function(m){return m.imul(this.k)};function L(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(L,k),L.prototype.split=function(m,E){for(var T=4194303,O=Math.min(m.length,9),N=0;N<O;N++)E.words[N]=m.words[N];if(E.length=O,m.length<=9){m.words[0]=0,m.length=1;return}var H=m.words[9];for(E.words[E.length++]=H&T,N=10;N<m.length;N++){var Z=m.words[N]|0;m.words[N-10]=(Z&T)<<4|H>>>22,H=Z}H>>>=22,m.words[N-10]=H,H===0&&m.length>10?m.length-=10:m.length-=9},L.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var E=0,T=0;T<m.length;T++){var O=m.words[T]|0;E+=O*977,m.words[T]=E&67108863,E=O*64+(E/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function _(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(_,k);function F(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(F,k);function R(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(R,k),R.prototype.imulK=function(m){for(var E=0,T=0;T<m.length;T++){var O=(m.words[T]|0)*19+E,N=O&67108863;O>>>=26,m.words[T]=N,E=O}return E!==0&&(m.words[m.length++]=E),m},s._prime=function(m){if(D[m])return D[m];var E;if(m==="k256")E=new L;else if(m==="p224")E=new _;else if(m==="p192")E=new F;else if(m==="p25519")E=new R;else throw new Error("Unknown prime "+m);return D[m]=E,E};function P(C){if(typeof C=="string"){var m=s._prime(C);this.m=m.p,this.prime=m}else n(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}P.prototype._verify1=function(m){n(m.negative===0,"red works only with positives"),n(m.red,"red works only with red numbers")},P.prototype._verify2=function(m,E){n((m.negative|E.negative)===0,"red works only with positives"),n(m.red&&m.red===E.red,"red works only with red numbers")},P.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):m.umod(this.m)._forceRed(this)},P.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},P.prototype.add=function(m,E){this._verify2(m,E);var T=m.add(E);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},P.prototype.iadd=function(m,E){this._verify2(m,E);var T=m.iadd(E);return T.cmp(this.m)>=0&&T.isub(this.m),T},P.prototype.sub=function(m,E){this._verify2(m,E);var T=m.sub(E);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},P.prototype.isub=function(m,E){this._verify2(m,E);var T=m.isub(E);return T.cmpn(0)<0&&T.iadd(this.m),T},P.prototype.shl=function(m,E){return this._verify1(m),this.imod(m.ushln(E))},P.prototype.imul=function(m,E){return this._verify2(m,E),this.imod(m.imul(E))},P.prototype.mul=function(m,E){return this._verify2(m,E),this.imod(m.mul(E))},P.prototype.isqr=function(m){return this.imul(m,m.clone())},P.prototype.sqr=function(m){return this.mul(m,m)},P.prototype.sqrt=function(m){if(m.isZero())return m.clone();var E=this.m.andln(3);if(n(E%2===1),E===3){var T=this.m.add(new s(1)).iushrn(2);return this.pow(m,T)}for(var O=this.m.subn(1),N=0;!O.isZero()&&O.andln(1)===0;)N++,O.iushrn(1);n(!O.isZero());var H=new s(1).toRed(this),Z=H.redNeg(),K=this.m.subn(1).iushrn(1),x=this.m.bitLength();for(x=new s(2*x*x).toRed(this);this.pow(x,K).cmp(Z)!==0;)x.redIAdd(Z);for(var V=this.pow(x,O),z=this.pow(m,O.addn(1).iushrn(1)),G=this.pow(m,O),$=N;G.cmp(H)!==0;){for(var ae=G,he=0;ae.cmp(H)!==0;he++)ae=ae.redSqr();n(he<$);var ue=this.pow(V,new s(1).iushln($-he-1));z=z.redMul(ue),V=ue.redSqr(),G=G.redMul(V),$=he}return z},P.prototype.invm=function(m){var E=m._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},P.prototype.pow=function(m,E){if(E.isZero())return new s(1).toRed(this);if(E.cmpn(1)===0)return m.clone();var T=4,O=new Array(1<<T);O[0]=new s(1).toRed(this),O[1]=m;for(var N=2;N<O.length;N++)O[N]=this.mul(O[N-1],m);var H=O[0],Z=0,K=0,x=E.bitLength()%26;for(x===0&&(x=26),N=E.length-1;N>=0;N--){for(var V=E.words[N],z=x-1;z>=0;z--){var G=V>>z&1;if(H!==O[0]&&(H=this.sqr(H)),G===0&&Z===0){K=0;continue}Z<<=1,Z|=G,K++,!(K!==T&&(N!==0||z!==0))&&(H=this.mul(H,O[Z]),K=0,Z=0)}x=26}return H},P.prototype.convertTo=function(m){var E=m.umod(this.m);return E===m?E.clone():E},P.prototype.convertFrom=function(m){var E=m.clone();return E.red=null,E},s.mont=function(m){return new M(m)};function M(C){P.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(M,P),M.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},M.prototype.convertFrom=function(m){var E=this.imod(m.mul(this.rinv));return E.red=null,E},M.prototype.imul=function(m,E){if(m.isZero()||E.isZero())return m.words[0]=0,m.length=1,m;var T=m.imul(E),O=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=T.isub(O).iushrn(this.shift),H=N;return N.cmp(this.m)>=0?H=N.isub(this.m):N.cmpn(0)<0&&(H=N.iadd(this.m)),H._forceRed(this)},M.prototype.mul=function(m,E){if(m.isZero()||E.isZero())return new s(0)._forceRed(this);var T=m.mul(E),O=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=T.isub(O).iushrn(this.shift),H=N;return N.cmp(this.m)>=0?H=N.isub(this.m):N.cmpn(0)<0&&(H=N.iadd(this.m)),H._forceRed(this)},M.prototype.invm=function(m){var E=this.imod(m._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(e,we)})(Oy);var Yh={},Su={},Eu={},Wi={};Wi.byteLength=My,Wi.toByteArray=Ny,Wi.fromByteArray=Ly;for(var Nr=[],fr=[],Ry=typeof Uint8Array<"u"?Uint8Array:Array,Au="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ri=0,Dy=Au.length;ri<Dy;++ri)Nr[ri]=Au[ri],fr[Au.charCodeAt(ri)]=ri;fr["-".charCodeAt(0)]=62,fr["_".charCodeAt(0)]=63;function Xh(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function My(e){var t=Xh(e),r=t[0],n=t[1];return(r+n)*3/4-n}function By(e,t,r){return(t+r)*3/4-r}function Ny(e){var t,r=Xh(e),n=r[0],i=r[1],s=new Ry(By(e,n,i)),a=0,o=i>0?n-4:n,u;for(u=0;u<o;u+=4)t=fr[e.charCodeAt(u)]<<18|fr[e.charCodeAt(u+1)]<<12|fr[e.charCodeAt(u+2)]<<6|fr[e.charCodeAt(u+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=t&255;return i===2&&(t=fr[e.charCodeAt(u)]<<2|fr[e.charCodeAt(u+1)]>>4,s[a++]=t&255),i===1&&(t=fr[e.charCodeAt(u)]<<10|fr[e.charCodeAt(u+1)]<<4|fr[e.charCodeAt(u+2)]>>2,s[a++]=t>>8&255,s[a++]=t&255),s}function ky(e){return Nr[e>>18&63]+Nr[e>>12&63]+Nr[e>>6&63]+Nr[e&63]}function jy(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(ky(n));return i.join("")}function Ly(e){for(var t,r=e.length,n=r%3,i=[],s=16383,a=0,o=r-n;a<o;a+=s)i.push(jy(e,a,a+s>o?o:a+s));return n===1?(t=e[r-1],i.push(Nr[t>>2]+Nr[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Nr[t>>10]+Nr[t>>4&63]+Nr[t<<2&63]+"=")),i.join("")}var _u={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */_u.read=function(e,t,r,n,i){var s,a,o=i*8-n-1,u=(1<<o)-1,f=u>>1,l=-7,h=r?i-1:0,c=r?-1:1,d=e[t+h];for(h+=c,s=d&(1<<-l)-1,d>>=-l,l+=o;l>0;s=s*256+e[t+h],h+=c,l-=8);for(a=s&(1<<-l)-1,s>>=-l,l+=n;l>0;a=a*256+e[t+h],h+=c,l-=8);if(s===0)s=1-f;else{if(s===u)return a?NaN:(d?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-f}return(d?-1:1)*a*Math.pow(2,s-n)},_u.write=function(e,t,r,n,i,s){var a,o,u,f=s*8-i-1,l=(1<<f)-1,h=l>>1,c=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+h>=1?t+=c/u:t+=c*Math.pow(2,1-h),t*u>=2&&(a++,u/=2),a+h>=l?(o=0,a=l):a+h>=1?(o=(t*u-1)*Math.pow(2,i),a=a+h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=o&255,d+=p,o/=256,i-=8);for(a=a<<i|o,f+=i;f>0;e[r+d]=a&255,d+=p,a/=256,f-=8);e[r+d-p]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=Wi,r=_u,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=A,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var B=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(B,w),B.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(B){if(B>i)throw new RangeError('The value "'+B+'" is invalid for option "size"');var w=new Uint8Array(B);return Object.setPrototypeOf(w,o.prototype),w}function o(B,w,S){if(typeof B=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(B)}return u(B,w,S)}o.poolSize=8192;function u(B,w,S){if(typeof B=="string")return c(B,w);if(ArrayBuffer.isView(B))return p(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(Q(B,ArrayBuffer)||B&&Q(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Q(B,SharedArrayBuffer)||B&&Q(B.buffer,SharedArrayBuffer)))return v(B,w,S);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var I=B.valueOf&&B.valueOf();if(I!=null&&I!==B)return o.from(I,w,S);var q=y(B);if(q)return q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return o.from(B[Symbol.toPrimitive]("string"),w,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}o.from=function(B,w,S){return u(B,w,S)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function f(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function l(B,w,S){return f(B),B<=0?a(B):w!==void 0?typeof S=="string"?a(B).fill(w,S):a(B).fill(w):a(B)}o.alloc=function(B,w,S){return l(B,w,S)};function h(B){return f(B),a(B<0?0:b(B)|0)}o.allocUnsafe=function(B){return h(B)},o.allocUnsafeSlow=function(B){return h(B)};function c(B,w){if((typeof w!="string"||w==="")&&(w="utf8"),!o.isEncoding(w))throw new TypeError("Unknown encoding: "+w);var S=D(B,w)|0,I=a(S),q=I.write(B,w);return q!==S&&(I=I.slice(0,q)),I}function d(B){for(var w=B.length<0?0:b(B.length)|0,S=a(w),I=0;I<w;I+=1)S[I]=B[I]&255;return S}function p(B){if(Q(B,Uint8Array)){var w=new Uint8Array(B);return v(w.buffer,w.byteOffset,w.byteLength)}return d(B)}function v(B,w,S){if(w<0||B.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<w+(S||0))throw new RangeError('"length" is outside of buffer bounds');var I;return w===void 0&&S===void 0?I=new Uint8Array(B):S===void 0?I=new Uint8Array(B,w):I=new Uint8Array(B,w,S),Object.setPrototypeOf(I,o.prototype),I}function y(B){if(o.isBuffer(B)){var w=b(B.length)|0,S=a(w);return S.length===0||B.copy(S,0,0,w),S}if(B.length!==void 0)return typeof B.length!="number"||ee(B.length)?a(0):d(B);if(B.type==="Buffer"&&Array.isArray(B.data))return d(B.data)}function b(B){if(B>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return B|0}function A(B){return+B!=B&&(B=0),o.alloc(+B)}o.isBuffer=function(w){return w!=null&&w._isBuffer===!0&&w!==o.prototype},o.compare=function(w,S){if(Q(w,Uint8Array)&&(w=o.from(w,w.offset,w.byteLength)),Q(S,Uint8Array)&&(S=o.from(S,S.offset,S.byteLength)),!o.isBuffer(w)||!o.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===S)return 0;for(var I=w.length,q=S.length,Y=0,se=Math.min(I,q);Y<se;++Y)if(w[Y]!==S[Y]){I=w[Y],q=S[Y];break}return I<q?-1:q<I?1:0},o.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(w,S){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return o.alloc(0);var I;if(S===void 0)for(S=0,I=0;I<w.length;++I)S+=w[I].length;var q=o.allocUnsafe(S),Y=0;for(I=0;I<w.length;++I){var se=w[I];if(Q(se,Uint8Array))Y+se.length>q.length?o.from(se).copy(q,Y):Uint8Array.prototype.set.call(q,se,Y);else if(o.isBuffer(se))se.copy(q,Y);else throw new TypeError('"list" argument must be an Array of Buffers');Y+=se.length}return q};function D(B,w){if(o.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||Q(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);var S=B.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&S===0)return 0;for(var q=!1;;)switch(w){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return fe(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S*2;case"hex":return S>>>1;case"base64":return W(B).length;default:if(q)return I?-1:fe(B).length;w=(""+w).toLowerCase(),q=!0}}o.byteLength=D;function k(B,w,S){var I=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((S===void 0||S>this.length)&&(S=this.length),S<=0)||(S>>>=0,w>>>=0,S<=w))return"";for(B||(B="utf8");;)switch(B){case"hex":return K(this,w,S);case"utf8":case"utf-8":return T(this,w,S);case"ascii":return H(this,w,S);case"latin1":case"binary":return Z(this,w,S);case"base64":return E(this,w,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,w,S);default:if(I)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),I=!0}}o.prototype._isBuffer=!0;function L(B,w,S){var I=B[w];B[w]=B[S],B[S]=I}o.prototype.swap16=function(){var w=this.length;if(w%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var S=0;S<w;S+=2)L(this,S,S+1);return this},o.prototype.swap32=function(){var w=this.length;if(w%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var S=0;S<w;S+=4)L(this,S,S+3),L(this,S+1,S+2);return this},o.prototype.swap64=function(){var w=this.length;if(w%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var S=0;S<w;S+=8)L(this,S,S+7),L(this,S+1,S+6),L(this,S+2,S+5),L(this,S+3,S+4);return this},o.prototype.toString=function(){var w=this.length;return w===0?"":arguments.length===0?T(this,0,w):k.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(w){if(!o.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w?!0:o.compare(this,w)===0},o.prototype.inspect=function(){var w="",S=e.INSPECT_MAX_BYTES;return w=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(w+=" ... "),"<Buffer "+w+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(w,S,I,q,Y){if(Q(w,Uint8Array)&&(w=o.from(w,w.offset,w.byteLength)),!o.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(S===void 0&&(S=0),I===void 0&&(I=w?w.length:0),q===void 0&&(q=0),Y===void 0&&(Y=this.length),S<0||I>w.length||q<0||Y>this.length)throw new RangeError("out of range index");if(q>=Y&&S>=I)return 0;if(q>=Y)return-1;if(S>=I)return 1;if(S>>>=0,I>>>=0,q>>>=0,Y>>>=0,this===w)return 0;for(var se=Y-q,me=I-S,ge=Math.min(se,me),X=this.slice(q,Y),ne=w.slice(S,I),ie=0;ie<ge;++ie)if(X[ie]!==ne[ie]){se=X[ie],me=ne[ie];break}return se<me?-1:me<se?1:0};function _(B,w,S,I,q){if(B.length===0)return-1;if(typeof S=="string"?(I=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),S=+S,ee(S)&&(S=q?0:B.length-1),S<0&&(S=B.length+S),S>=B.length){if(q)return-1;S=B.length-1}else if(S<0)if(q)S=0;else return-1;if(typeof w=="string"&&(w=o.from(w,I)),o.isBuffer(w))return w.length===0?-1:F(B,w,S,I,q);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(B,w,S):Uint8Array.prototype.lastIndexOf.call(B,w,S):F(B,[w],S,I,q);throw new TypeError("val must be string, number or Buffer")}function F(B,w,S,I,q){var Y=1,se=B.length,me=w.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(B.length<2||w.length<2)return-1;Y=2,se/=2,me/=2,S/=2}function ge(xe,Re){return Y===1?xe[Re]:xe.readUInt16BE(Re*Y)}var X;if(q){var ne=-1;for(X=S;X<se;X++)if(ge(B,X)===ge(w,ne===-1?0:X-ne)){if(ne===-1&&(ne=X),X-ne+1===me)return ne*Y}else ne!==-1&&(X-=X-ne),ne=-1}else for(S+me>se&&(S=se-me),X=S;X>=0;X--){for(var ie=!0,le=0;le<me;le++)if(ge(B,X+le)!==ge(w,le)){ie=!1;break}if(ie)return X}return-1}o.prototype.includes=function(w,S,I){return this.indexOf(w,S,I)!==-1},o.prototype.indexOf=function(w,S,I){return _(this,w,S,I,!0)},o.prototype.lastIndexOf=function(w,S,I){return _(this,w,S,I,!1)};function R(B,w,S,I){S=Number(S)||0;var q=B.length-S;I?(I=Number(I),I>q&&(I=q)):I=q;var Y=w.length;I>Y/2&&(I=Y/2);for(var se=0;se<I;++se){var me=parseInt(w.substr(se*2,2),16);if(ee(me))return se;B[S+se]=me}return se}function P(B,w,S,I){return U(fe(w,B.length-S),B,S,I)}function M(B,w,S,I){return U(ce(w),B,S,I)}function C(B,w,S,I){return U(W(w),B,S,I)}function m(B,w,S,I){return U(j(w,B.length-S),B,S,I)}o.prototype.write=function(w,S,I,q){if(S===void 0)q="utf8",I=this.length,S=0;else if(I===void 0&&typeof S=="string")q=S,I=this.length,S=0;else if(isFinite(S))S=S>>>0,isFinite(I)?(I=I>>>0,q===void 0&&(q="utf8")):(q=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Y=this.length-S;if((I===void 0||I>Y)&&(I=Y),w.length>0&&(I<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");for(var se=!1;;)switch(q){case"hex":return R(this,w,S,I);case"utf8":case"utf-8":return P(this,w,S,I);case"ascii":case"latin1":case"binary":return M(this,w,S,I);case"base64":return C(this,w,S,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,w,S,I);default:if(se)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),se=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(B,w,S){return w===0&&S===B.length?t.fromByteArray(B):t.fromByteArray(B.slice(w,S))}function T(B,w,S){S=Math.min(B.length,S);for(var I=[],q=w;q<S;){var Y=B[q],se=null,me=Y>239?4:Y>223?3:Y>191?2:1;if(q+me<=S){var ge,X,ne,ie;switch(me){case 1:Y<128&&(se=Y);break;case 2:ge=B[q+1],(ge&192)===128&&(ie=(Y&31)<<6|ge&63,ie>127&&(se=ie));break;case 3:ge=B[q+1],X=B[q+2],(ge&192)===128&&(X&192)===128&&(ie=(Y&15)<<12|(ge&63)<<6|X&63,ie>2047&&(ie<55296||ie>57343)&&(se=ie));break;case 4:ge=B[q+1],X=B[q+2],ne=B[q+3],(ge&192)===128&&(X&192)===128&&(ne&192)===128&&(ie=(Y&15)<<18|(ge&63)<<12|(X&63)<<6|ne&63,ie>65535&&ie<1114112&&(se=ie))}}se===null?(se=65533,me=1):se>65535&&(se-=65536,I.push(se>>>10&1023|55296),se=56320|se&1023),I.push(se),q+=me}return N(I)}var O=4096;function N(B){var w=B.length;if(w<=O)return String.fromCharCode.apply(String,B);for(var S="",I=0;I<w;)S+=String.fromCharCode.apply(String,B.slice(I,I+=O));return S}function H(B,w,S){var I="";S=Math.min(B.length,S);for(var q=w;q<S;++q)I+=String.fromCharCode(B[q]&127);return I}function Z(B,w,S){var I="";S=Math.min(B.length,S);for(var q=w;q<S;++q)I+=String.fromCharCode(B[q]);return I}function K(B,w,S){var I=B.length;(!w||w<0)&&(w=0),(!S||S<0||S>I)&&(S=I);for(var q="",Y=w;Y<S;++Y)q+=te[B[Y]];return q}function x(B,w,S){for(var I=B.slice(w,S),q="",Y=0;Y<I.length-1;Y+=2)q+=String.fromCharCode(I[Y]+I[Y+1]*256);return q}o.prototype.slice=function(w,S){var I=this.length;w=~~w,S=S===void 0?I:~~S,w<0?(w+=I,w<0&&(w=0)):w>I&&(w=I),S<0?(S+=I,S<0&&(S=0)):S>I&&(S=I),S<w&&(S=w);var q=this.subarray(w,S);return Object.setPrototypeOf(q,o.prototype),q};function V(B,w,S){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+w>S)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(w,S,I){w=w>>>0,S=S>>>0,I||V(w,S,this.length);for(var q=this[w],Y=1,se=0;++se<S&&(Y*=256);)q+=this[w+se]*Y;return q},o.prototype.readUintBE=o.prototype.readUIntBE=function(w,S,I){w=w>>>0,S=S>>>0,I||V(w,S,this.length);for(var q=this[w+--S],Y=1;S>0&&(Y*=256);)q+=this[w+--S]*Y;return q},o.prototype.readUint8=o.prototype.readUInt8=function(w,S){return w=w>>>0,S||V(w,1,this.length),this[w]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(w,S){return w=w>>>0,S||V(w,2,this.length),this[w]|this[w+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(w,S){return w=w>>>0,S||V(w,2,this.length),this[w]<<8|this[w+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(w,S){return w=w>>>0,S||V(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+this[w+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(w,S){return w=w>>>0,S||V(w,4,this.length),this[w]*16777216+(this[w+1]<<16|this[w+2]<<8|this[w+3])},o.prototype.readIntLE=function(w,S,I){w=w>>>0,S=S>>>0,I||V(w,S,this.length);for(var q=this[w],Y=1,se=0;++se<S&&(Y*=256);)q+=this[w+se]*Y;return Y*=128,q>=Y&&(q-=Math.pow(2,8*S)),q},o.prototype.readIntBE=function(w,S,I){w=w>>>0,S=S>>>0,I||V(w,S,this.length);for(var q=S,Y=1,se=this[w+--q];q>0&&(Y*=256);)se+=this[w+--q]*Y;return Y*=128,se>=Y&&(se-=Math.pow(2,8*S)),se},o.prototype.readInt8=function(w,S){return w=w>>>0,S||V(w,1,this.length),this[w]&128?(255-this[w]+1)*-1:this[w]},o.prototype.readInt16LE=function(w,S){w=w>>>0,S||V(w,2,this.length);var I=this[w]|this[w+1]<<8;return I&32768?I|4294901760:I},o.prototype.readInt16BE=function(w,S){w=w>>>0,S||V(w,2,this.length);var I=this[w+1]|this[w]<<8;return I&32768?I|4294901760:I},o.prototype.readInt32LE=function(w,S){return w=w>>>0,S||V(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},o.prototype.readInt32BE=function(w,S){return w=w>>>0,S||V(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},o.prototype.readFloatLE=function(w,S){return w=w>>>0,S||V(w,4,this.length),r.read(this,w,!0,23,4)},o.prototype.readFloatBE=function(w,S){return w=w>>>0,S||V(w,4,this.length),r.read(this,w,!1,23,4)},o.prototype.readDoubleLE=function(w,S){return w=w>>>0,S||V(w,8,this.length),r.read(this,w,!0,52,8)},o.prototype.readDoubleBE=function(w,S){return w=w>>>0,S||V(w,8,this.length),r.read(this,w,!1,52,8)};function z(B,w,S,I,q,Y){if(!o.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>q||w<Y)throw new RangeError('"value" argument is out of bounds');if(S+I>B.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(w,S,I,q){if(w=+w,S=S>>>0,I=I>>>0,!q){var Y=Math.pow(2,8*I)-1;z(this,w,S,I,Y,0)}var se=1,me=0;for(this[S]=w&255;++me<I&&(se*=256);)this[S+me]=w/se&255;return S+I},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(w,S,I,q){if(w=+w,S=S>>>0,I=I>>>0,!q){var Y=Math.pow(2,8*I)-1;z(this,w,S,I,Y,0)}var se=I-1,me=1;for(this[S+se]=w&255;--se>=0&&(me*=256);)this[S+se]=w/me&255;return S+I},o.prototype.writeUint8=o.prototype.writeUInt8=function(w,S,I){return w=+w,S=S>>>0,I||z(this,w,S,1,255,0),this[S]=w&255,S+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(w,S,I){return w=+w,S=S>>>0,I||z(this,w,S,2,65535,0),this[S]=w&255,this[S+1]=w>>>8,S+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(w,S,I){return w=+w,S=S>>>0,I||z(this,w,S,2,65535,0),this[S]=w>>>8,this[S+1]=w&255,S+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(w,S,I){return w=+w,S=S>>>0,I||z(this,w,S,4,4294967295,0),this[S+3]=w>>>24,this[S+2]=w>>>16,this[S+1]=w>>>8,this[S]=w&255,S+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(w,S,I){return w=+w,S=S>>>0,I||z(this,w,S,4,4294967295,0),this[S]=w>>>24,this[S+1]=w>>>16,this[S+2]=w>>>8,this[S+3]=w&255,S+4},o.prototype.writeIntLE=function(w,S,I,q){if(w=+w,S=S>>>0,!q){var Y=Math.pow(2,8*I-1);z(this,w,S,I,Y-1,-Y)}var se=0,me=1,ge=0;for(this[S]=w&255;++se<I&&(me*=256);)w<0&&ge===0&&this[S+se-1]!==0&&(ge=1),this[S+se]=(w/me>>0)-ge&255;return S+I},o.prototype.writeIntBE=function(w,S,I,q){if(w=+w,S=S>>>0,!q){var Y=Math.pow(2,8*I-1);z(this,w,S,I,Y-1,-Y)}var se=I-1,me=1,ge=0;for(this[S+se]=w&255;--se>=0&&(me*=256);)w<0&&ge===0&&this[S+se+1]!==0&&(ge=1),this[S+se]=(w/me>>0)-ge&255;return S+I},o.prototype.writeInt8=function(w,S,I){return w=+w,S=S>>>0,I||z(this,w,S,1,127,-128),w<0&&(w=255+w+1),this[S]=w&255,S+1},o.prototype.writeInt16LE=function(w,S,I){return w=+w,S=S>>>0,I||z(this,w,S,2,32767,-32768),this[S]=w&255,this[S+1]=w>>>8,S+2},o.prototype.writeInt16BE=function(w,S,I){return w=+w,S=S>>>0,I||z(this,w,S,2,32767,-32768),this[S]=w>>>8,this[S+1]=w&255,S+2},o.prototype.writeInt32LE=function(w,S,I){return w=+w,S=S>>>0,I||z(this,w,S,4,2147483647,-2147483648),this[S]=w&255,this[S+1]=w>>>8,this[S+2]=w>>>16,this[S+3]=w>>>24,S+4},o.prototype.writeInt32BE=function(w,S,I){return w=+w,S=S>>>0,I||z(this,w,S,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[S]=w>>>24,this[S+1]=w>>>16,this[S+2]=w>>>8,this[S+3]=w&255,S+4};function G(B,w,S,I,q,Y){if(S+I>B.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function $(B,w,S,I,q){return w=+w,S=S>>>0,q||G(B,w,S,4),r.write(B,w,S,I,23,4),S+4}o.prototype.writeFloatLE=function(w,S,I){return $(this,w,S,!0,I)},o.prototype.writeFloatBE=function(w,S,I){return $(this,w,S,!1,I)};function ae(B,w,S,I,q){return w=+w,S=S>>>0,q||G(B,w,S,8),r.write(B,w,S,I,52,8),S+8}o.prototype.writeDoubleLE=function(w,S,I){return ae(this,w,S,!0,I)},o.prototype.writeDoubleBE=function(w,S,I){return ae(this,w,S,!1,I)},o.prototype.copy=function(w,S,I,q){if(!o.isBuffer(w))throw new TypeError("argument should be a Buffer");if(I||(I=0),!q&&q!==0&&(q=this.length),S>=w.length&&(S=w.length),S||(S=0),q>0&&q<I&&(q=I),q===I||w.length===0||this.length===0)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),w.length-S<q-I&&(q=w.length-S+I);var Y=q-I;return this===w&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(S,I,q):Uint8Array.prototype.set.call(w,this.subarray(I,q),S),Y},o.prototype.fill=function(w,S,I,q){if(typeof w=="string"){if(typeof S=="string"?(q=S,S=0,I=this.length):typeof I=="string"&&(q=I,I=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!o.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(w.length===1){var Y=w.charCodeAt(0);(q==="utf8"&&Y<128||q==="latin1")&&(w=Y)}}else typeof w=="number"?w=w&255:typeof w=="boolean"&&(w=Number(w));if(S<0||this.length<S||this.length<I)throw new RangeError("Out of range index");if(I<=S)return this;S=S>>>0,I=I===void 0?this.length:I>>>0,w||(w=0);var se;if(typeof w=="number")for(se=S;se<I;++se)this[se]=w;else{var me=o.isBuffer(w)?w:o.from(w,q),ge=me.length;if(ge===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(se=0;se<I-S;++se)this[se+S]=me[se%ge]}return this};var he=/[^+/0-9A-Za-z-_]/g;function ue(B){if(B=B.split("=")[0],B=B.trim().replace(he,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function fe(B,w){w=w||1/0;for(var S,I=B.length,q=null,Y=[],se=0;se<I;++se){if(S=B.charCodeAt(se),S>55295&&S<57344){if(!q){if(S>56319){(w-=3)>-1&&Y.push(239,191,189);continue}else if(se+1===I){(w-=3)>-1&&Y.push(239,191,189);continue}q=S;continue}if(S<56320){(w-=3)>-1&&Y.push(239,191,189),q=S;continue}S=(q-55296<<10|S-56320)+65536}else q&&(w-=3)>-1&&Y.push(239,191,189);if(q=null,S<128){if((w-=1)<0)break;Y.push(S)}else if(S<2048){if((w-=2)<0)break;Y.push(S>>6|192,S&63|128)}else if(S<65536){if((w-=3)<0)break;Y.push(S>>12|224,S>>6&63|128,S&63|128)}else if(S<1114112){if((w-=4)<0)break;Y.push(S>>18|240,S>>12&63|128,S>>6&63|128,S&63|128)}else throw new Error("Invalid code point")}return Y}function ce(B){for(var w=[],S=0;S<B.length;++S)w.push(B.charCodeAt(S)&255);return w}function j(B,w){for(var S,I,q,Y=[],se=0;se<B.length&&!((w-=2)<0);++se)S=B.charCodeAt(se),I=S>>8,q=S%256,Y.push(q),Y.push(I);return Y}function W(B){return t.toByteArray(ue(B))}function U(B,w,S,I){for(var q=0;q<I&&!(q+S>=w.length||q>=B.length);++q)w[q+S]=B[q];return q}function Q(B,w){return B instanceof w||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===w.name}function ee(B){return B!==B}var te=function(){for(var B="0123456789abcdef",w=new Array(256),S=0;S<16;++S)for(var I=S*16,q=0;q<16;++q)w[I+q]=B[S]+B[q];return w}()})(Eu);var na=Eu,ni=na.Buffer,cr={},lr;for(lr in na)na.hasOwnProperty(lr)&&(lr==="SlowBuffer"||lr==="Buffer"||(cr[lr]=na[lr]));var ii=cr.Buffer={};for(lr in ni)ni.hasOwnProperty(lr)&&(lr==="allocUnsafe"||lr==="allocUnsafeSlow"||(ii[lr]=ni[lr]));if(cr.Buffer.prototype=ni.prototype,(!ii.from||ii.from===Uint8Array.from)&&(ii.from=function(e,t,r){if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&typeof e.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return ni(e,t,r)}),ii.alloc||(ii.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=ni(e);return!t||t.length===0?n.fill(0):typeof r=="string"?n.fill(t,r):n.fill(t),n}),!cr.kStringMaxLength)try{cr.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}cr.constants||(cr.constants={MAX_LENGTH:cr.kMaxLength},cr.kStringMaxLength&&(cr.constants.MAX_STRING_LENGTH=cr.kStringMaxLength));var Tu=cr,ia={};const Vy=ar();function hr(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}ia.Reporter=hr,hr.prototype.isError=function(t){return t instanceof si},hr.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},hr.prototype.restore=function(t){const r=this._reporterState;r.obj=t.obj,r.path=r.path.slice(0,t.pathLen)},hr.prototype.enterKey=function(t){return this._reporterState.path.push(t)},hr.prototype.exitKey=function(t){const r=this._reporterState;r.path=r.path.slice(0,t-1)},hr.prototype.leaveKey=function(t,r,n){const i=this._reporterState;this.exitKey(t),i.obj!==null&&(i.obj[r]=n)},hr.prototype.path=function(){return this._reporterState.path.join("/")},hr.prototype.enterObject=function(){const t=this._reporterState,r=t.obj;return t.obj={},r},hr.prototype.leaveObject=function(t){const r=this._reporterState,n=r.obj;return r.obj=t,n},hr.prototype.error=function(t){let r;const n=this._reporterState,i=t instanceof si;if(i?r=t:r=new si(n.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),t.message||t,t.stack),!n.options.partial)throw r;return i||n.errors.push(r),r},hr.prototype.wrapResult=function(t){const r=this._reporterState;return r.options.partial?{result:this.isError(t)?null:t,errors:r.errors}:t};function si(e,t){this.path=e,this.rethrow(t)}Vy(si,Error),si.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,si),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this};var Mn={};const Hy=ar(),sa=ia.Reporter,ai=Tu.Buffer;function dr(e,t){if(sa.call(this,t),!ai.isBuffer(e)){this.error("Input not Buffer");return}this.base=e,this.offset=0,this.length=e.length}Hy(dr,sa),Mn.DecoderBuffer=dr,dr.isDecoderBuffer=function(t){return t instanceof dr?!0:typeof t=="object"&&ai.isBuffer(t.base)&&t.constructor.name==="DecoderBuffer"&&typeof t.offset=="number"&&typeof t.length=="number"&&typeof t.save=="function"&&typeof t.restore=="function"&&typeof t.isEmpty=="function"&&typeof t.readUInt8=="function"&&typeof t.skip=="function"&&typeof t.raw=="function"},dr.prototype.save=function(){return{offset:this.offset,reporter:sa.prototype.save.call(this)}},dr.prototype.restore=function(t){const r=new dr(this.base);return r.offset=t.offset,r.length=this.offset,this.offset=t.offset,sa.prototype.restore.call(this,t.reporter),r},dr.prototype.isEmpty=function(){return this.offset===this.length},dr.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},dr.prototype.skip=function(t,r){if(!(this.offset+t<=this.length))return this.error(r||"DecoderBuffer overrun");const n=new dr(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n},dr.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)};function oi(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(r){return oi.isEncoderBuffer(r)||(r=new oi(r,t)),this.length+=r.length,r},this);else if(typeof e=="number"){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if(typeof e=="string")this.value=e,this.length=ai.byteLength(e);else if(ai.isBuffer(e))this.value=e,this.length=e.length;else return t.error("Unsupported type: "+typeof e)}Mn.EncoderBuffer=oi,oi.isEncoderBuffer=function(t){return t instanceof oi?!0:typeof t=="object"&&t.constructor.name==="EncoderBuffer"&&typeof t.length=="number"&&typeof t.join=="function"},oi.prototype.join=function(t,r){return t||(t=ai.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(t,r),r+=n.length}):(typeof this.value=="number"?t[r]=this.value:typeof this.value=="string"?t.write(this.value,r):ai.isBuffer(this.value)&&this.value.copy(t,r),r+=this.length)),t};var dn=Zh;function Zh(e,t){if(!e)throw new Error(t||"Assertion failed")}Zh.equal=function(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};const Uy=ia.Reporter,qy=Mn.EncoderBuffer,Ky=Mn.DecoderBuffer,zt=dn,Qh=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],zy=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(Qh),$y=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function et(e,t,r){const n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}var Pu=et;const Wy=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];et.prototype.clone=function(){const t=this._baseState,r={};Wy.forEach(function(i){r[i]=t[i]});const n=new this.constructor(r.parent);return n._baseState=r,n},et.prototype._wrap=function(){const t=this._baseState;zy.forEach(function(r){this[r]=function(){const i=new this.constructor(this);return t.children.push(i),i[r].apply(i,arguments)}},this)},et.prototype._init=function(t){const r=this._baseState;zt(r.parent===null),t.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),zt.equal(r.children.length,1,"Root node can have only one child")},et.prototype._useArgs=function(t){const r=this._baseState,n=t.filter(function(i){return i instanceof this.constructor},this);t=t.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(zt(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),t.length!==0&&(zt(r.args===null),r.args=t,r.reverseArgs=t.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;const s={};return Object.keys(i).forEach(function(a){a==(a|0)&&(a|=0);const o=i[a];s[o]=a}),s}))},$y.forEach(function(e){et.prototype[e]=function(){const r=this._baseState;throw new Error(e+" not implemented for encoding: "+r.enc)}}),Qh.forEach(function(e){et.prototype[e]=function(){const r=this._baseState,n=Array.prototype.slice.call(arguments);return zt(r.tag===null),r.tag=e,this._useArgs(n),this}}),et.prototype.use=function(t){zt(t);const r=this._baseState;return zt(r.use===null),r.use=t,this},et.prototype.optional=function(){const t=this._baseState;return t.optional=!0,this},et.prototype.def=function(t){const r=this._baseState;return zt(r.default===null),r.default=t,r.optional=!0,this},et.prototype.explicit=function(t){const r=this._baseState;return zt(r.explicit===null&&r.implicit===null),r.explicit=t,this},et.prototype.implicit=function(t){const r=this._baseState;return zt(r.explicit===null&&r.implicit===null),r.implicit=t,this},et.prototype.obj=function(){const t=this._baseState,r=Array.prototype.slice.call(arguments);return t.obj=!0,r.length!==0&&this._useArgs(r),this},et.prototype.key=function(t){const r=this._baseState;return zt(r.key===null),r.key=t,this},et.prototype.any=function(){const t=this._baseState;return t.any=!0,this},et.prototype.choice=function(t){const r=this._baseState;return zt(r.choice===null),r.choice=t,this._useArgs(Object.keys(t).map(function(n){return t[n]})),this},et.prototype.contains=function(t){const r=this._baseState;return zt(r.use===null),r.contains=t,this},et.prototype._decode=function(t,r){const n=this._baseState;if(n.parent===null)return t.wrapResult(n.children[0]._decode(t,r));let i=n.default,s=!0,a=null;if(n.key!==null&&(a=t.enterKey(n.key)),n.optional){let u=null;if(n.explicit!==null?u=n.explicit:n.implicit!==null?u=n.implicit:n.tag!==null&&(u=n.tag),u===null&&!n.any){const f=t.save();try{n.choice===null?this._decodeGeneric(n.tag,t,r):this._decodeChoice(t,r),s=!0}catch{s=!1}t.restore(f)}else if(s=this._peekTag(t,u,n.any),t.isError(s))return s}let o;if(n.obj&&s&&(o=t.enterObject()),s){if(n.explicit!==null){const f=this._decodeTag(t,n.explicit);if(t.isError(f))return f;t=f}const u=t.offset;if(n.use===null&&n.choice===null){let f;n.any&&(f=t.save());const l=this._decodeTag(t,n.implicit!==null?n.implicit:n.tag,n.any);if(t.isError(l))return l;n.any?i=t.raw(f):t=l}if(r&&r.track&&n.tag!==null&&r.track(t.path(),u,t.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(t.path(),t.offset,t.length,"content"),n.any||(n.choice===null?i=this._decodeGeneric(n.tag,t,r):i=this._decodeChoice(t,r)),t.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(l){l._decode(t,r)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){const f=new Ky(i);i=this._getUse(n.contains,t._reporterState.obj)._decode(f,r)}}return n.obj&&s&&(i=t.leaveObject(o)),n.key!==null&&(i!==null||s===!0)?t.leaveKey(a,n.key,i):a!==null&&t.exitKey(a),i},et.prototype._decodeGeneric=function(t,r,n){const i=this._baseState;return t==="seq"||t==="set"?null:t==="seqof"||t==="setof"?this._decodeList(r,t,i.args[0],n):/str$/.test(t)?this._decodeStr(r,t,n):t==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):t==="objid"?this._decodeObjid(r,null,null,n):t==="gentime"||t==="utctime"?this._decodeTime(r,t,n):t==="null_"?this._decodeNull(r,n):t==="bool"?this._decodeBool(r,n):t==="objDesc"?this._decodeStr(r,t,n):t==="int"||t==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+t)},et.prototype._getUse=function(t,r){const n=this._baseState;return n.useDecoder=this._use(t,r),zt(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},et.prototype._decodeChoice=function(t,r){const n=this._baseState;let i=null,s=!1;return Object.keys(n.choice).some(function(a){const o=t.save(),u=n.choice[a];try{const f=u._decode(t,r);if(t.isError(f))return!1;i={type:a,value:f},s=!0}catch{return t.restore(o),!1}return!0},this),s?i:t.error("Choice not matched")},et.prototype._createEncoderBuffer=function(t){return new qy(t,this.reporter)},et.prototype._encode=function(t,r,n){const i=this._baseState;if(i.default!==null&&i.default===t)return;const s=this._encodeValue(t,r,n);if(s!==void 0&&!this._skipDefault(s,r,n))return s},et.prototype._encodeValue=function(t,r,n){const i=this._baseState;if(i.parent===null)return i.children[0]._encode(t,r||new Uy);let s=null;if(this.reporter=r,i.optional&&t===void 0)if(i.default!==null)t=i.default;else return;let a=null,o=!1;if(i.any)s=this._createEncoderBuffer(t);else if(i.choice)s=this._encodeChoice(t,r);else if(i.contains)a=this._getUse(i.contains,n)._encode(t,r),o=!0;else if(i.children)a=i.children.map(function(u){if(u._baseState.tag==="null_")return u._encode(null,r,t);if(u._baseState.key===null)return r.error("Child should have a key");const f=r.enterKey(u._baseState.key);if(typeof t!="object")return r.error("Child expected, but input is not object");const l=u._encode(t[u._baseState.key],r,t);return r.leaveKey(f),l},this).filter(function(u){return u}),a=this._createEncoderBuffer(a);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(t))return r.error("seqof/setof, but data is not Array");const u=this.clone();u._baseState.implicit=null,a=this._createEncoderBuffer(t.map(function(f){const l=this._baseState;return this._getUse(l.args[0],t)._encode(f,r)},u))}else i.use!==null?s=this._getUse(i.use,n)._encode(t,r):(a=this._encodePrimitive(i.tag,t),o=!0);if(!i.any&&i.choice===null){const u=i.implicit!==null?i.implicit:i.tag,f=i.implicit===null?"universal":"context";u===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(s=this._encodeComposite(u,o,f,a))}return i.explicit!==null&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},et.prototype._encodeChoice=function(t,r){const n=this._baseState,i=n.choice[t.type];return i||zt(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(t.value,r)},et.prototype._encodePrimitive=function(t,r){const n=this._baseState;if(/str$/.test(t))return this._encodeStr(r,t);if(t==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(t==="objid")return this._encodeObjid(r,null,null);if(t==="gentime"||t==="utctime")return this._encodeTime(r,t);if(t==="null_")return this._encodeNull();if(t==="int"||t==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(t==="bool")return this._encodeBool(r);if(t==="objDesc")return this._encodeStr(r,t);throw new Error("Unsupported tag: "+t)},et.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},et.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)};var aa={};(function(e){function t(r){const n={};return Object.keys(r).forEach(function(i){(i|0)==i&&(i=i|0);const s=r[i];n[s]=i}),n}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=t(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=t(e.tag)})(aa);const Gy=ar(),Qr=Tu.Buffer,ed=Pu,Fu=aa;function td(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new Er,this.tree._init(e.body)}var rd=td;td.prototype.encode=function(t,r){return this.tree._encode(t,r).join()};function Er(e){ed.call(this,"der",e)}Gy(Er,ed),Er.prototype._encodeComposite=function(t,r,n,i){const s=Jy(t,r,n,this.reporter);if(i.length<128){const u=Qr.alloc(2);return u[0]=s,u[1]=i.length,this._createEncoderBuffer([u,i])}let a=1;for(let u=i.length;u>=256;u>>=8)a++;const o=Qr.alloc(1+1+a);o[0]=s,o[1]=128|a;for(let u=1+a,f=i.length;f>0;u--,f>>=8)o[u]=f&255;return this._createEncoderBuffer([o,i])},Er.prototype._encodeStr=function(t,r){if(r==="bitstr")return this._createEncoderBuffer([t.unused|0,t.data]);if(r==="bmpstr"){const n=Qr.alloc(t.length*2);for(let i=0;i<t.length;i++)n.writeUInt16BE(t.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(t):r==="objDesc"?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+r+" unsupported")},Er.prototype._encodeObjid=function(t,r,n){if(typeof t=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=r[t].split(/[\s.]+/g);for(let o=0;o<t.length;o++)t[o]|=0}else if(Array.isArray(t)){t=t.slice();for(let o=0;o<t.length;o++)t[o]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,t[0]*40+t[1])}let i=0;for(let o=0;o<t.length;o++){let u=t[o];for(i++;u>=128;u>>=7)i++}const s=Qr.alloc(i);let a=s.length-1;for(let o=t.length-1;o>=0;o--){let u=t[o];for(s[a--]=u&127;(u>>=7)>0;)s[a--]=128|u&127}return this._createEncoderBuffer(s)};function pr(e){return e<10?"0"+e:e}Er.prototype._encodeTime=function(t,r){let n;const i=new Date(t);return r==="gentime"?n=[pr(i.getUTCFullYear()),pr(i.getUTCMonth()+1),pr(i.getUTCDate()),pr(i.getUTCHours()),pr(i.getUTCMinutes()),pr(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[pr(i.getUTCFullYear()%100),pr(i.getUTCMonth()+1),pr(i.getUTCDate()),pr(i.getUTCHours()),pr(i.getUTCMinutes()),pr(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")},Er.prototype._encodeNull=function(){return this._createEncoderBuffer("")},Er.prototype._encodeInt=function(t,r){if(typeof t=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=r[t]}if(typeof t!="number"&&!Qr.isBuffer(t)){const s=t.toArray();!t.sign&&s[0]&128&&s.unshift(0),t=Qr.from(s)}if(Qr.isBuffer(t)){let s=t.length;t.length===0&&s++;const a=Qr.alloc(s);return t.copy(a),t.length===0&&(a[0]=0),this._createEncoderBuffer(a)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let n=1;for(let s=t;s>=256;s>>=8)n++;const i=new Array(n);for(let s=i.length-1;s>=0;s--)i[s]=t&255,t>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(Qr.from(i))},Er.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},Er.prototype._use=function(t,r){return typeof t=="function"&&(t=t(r)),t._getEncoder("der").tree},Er.prototype._skipDefault=function(t,r,n){const i=this._baseState;let s;if(i.default===null)return!1;const a=t.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),a.length!==i.defaultBuffer.length)return!1;for(s=0;s<a.length;s++)if(a[s]!==i.defaultBuffer[s])return!1;return!0};function Jy(e,t,r,n){let i;if(e==="seqof"?e="seq":e==="setof"&&(e="set"),Fu.tagByName.hasOwnProperty(e))i=Fu.tagByName[e];else if(typeof e=="number"&&(e|0)===e)i=e;else return n.error("Unknown tag: "+e);return i>=31?n.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=Fu.tagClassByName[r||"universal"]<<6,i)}const Yy=ar(),Iu=rd;function Cu(e){Iu.call(this,e),this.enc="pem"}Yy(Cu,Iu);var Xy=Cu;Cu.prototype.encode=function(t,r){const i=Iu.prototype.encode.call(this,t).toString("base64"),s=["-----BEGIN "+r.label+"-----"];for(let a=0;a<i.length;a+=64)s.push(i.slice(a,a+64));return s.push("-----END "+r.label+"-----"),s.join(`
`)},function(e){const t=e;t.der=rd,t.pem=Xy}(Su);var Ou={};const Zy=ar(),Qy=er,nd=Mn.DecoderBuffer,id=Pu,sd=aa;function ad(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new tr,this.tree._init(e.body)}var od=ad;ad.prototype.decode=function(t,r){return nd.isDecoderBuffer(t)||(t=new nd(t,r)),this.tree._decode(t,r)};function tr(e){id.call(this,"der",e)}Zy(tr,id),tr.prototype._peekTag=function(t,r,n){if(t.isEmpty())return!1;const i=t.save(),s=Ru(t,'Failed to peek tag: "'+r+'"');return t.isError(s)?s:(t.restore(i),s.tag===r||s.tagStr===r||s.tagStr+"of"===r||n)},tr.prototype._decodeTag=function(t,r,n){const i=Ru(t,'Failed to decode tag of "'+r+'"');if(t.isError(i))return i;let s=ud(t,i.primitive,'Failed to get length of "'+r+'"');if(t.isError(s))return s;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return t.error('Failed to match tag: "'+r+'"');if(i.primitive||s!==null)return t.skip(s,'Failed to match body of: "'+r+'"');const a=t.save(),o=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(o)?o:(s=t.offset-a.offset,t.restore(a),t.skip(s,'Failed to match body of: "'+r+'"'))},tr.prototype._skipUntilEnd=function(t,r){for(;;){const n=Ru(t,r);if(t.isError(n))return n;const i=ud(t,n.primitive,r);if(t.isError(i))return i;let s;if(n.primitive||i!==null?s=t.skip(i):s=this._skipUntilEnd(t,r),t.isError(s))return s;if(n.tagStr==="end")break}},tr.prototype._decodeList=function(t,r,n,i){const s=[];for(;!t.isEmpty();){const a=this._peekTag(t,"end");if(t.isError(a))return a;const o=n.decode(t,"der",i);if(t.isError(o)&&a)break;s.push(o)}return s},tr.prototype._decodeStr=function(t,r){if(r==="bitstr"){const n=t.readUInt8();return t.isError(n)?n:{unused:n,data:t.raw()}}else if(r==="bmpstr"){const n=t.raw();if(n.length%2===1)return t.error("Decoding of string type: bmpstr length mismatch");let i="";for(let s=0;s<n.length/2;s++)i+=String.fromCharCode(n.readUInt16BE(s*2));return i}else if(r==="numstr"){const n=t.raw().toString("ascii");return this._isNumstr(n)?n:t.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return t.raw();if(r==="objDesc")return t.raw();if(r==="printstr"){const n=t.raw().toString("ascii");return this._isPrintstr(n)?n:t.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?t.raw().toString():t.error("Decoding of string type: "+r+" unsupported")}},tr.prototype._decodeObjid=function(t,r,n){let i;const s=[];let a=0,o=0;for(;!t.isEmpty();)o=t.readUInt8(),a<<=7,a|=o&127,o&128||(s.push(a),a=0);o&128&&s.push(a);const u=s[0]/40|0,f=s[0]%40;if(n?i=s:i=[u,f].concat(s.slice(1)),r){let l=r[i.join(" ")];l===void 0&&(l=r[i.join(".")]),l!==void 0&&(i=l)}return i},tr.prototype._decodeTime=function(t,r){const n=t.raw().toString();let i,s,a,o,u,f;if(r==="gentime")i=n.slice(0,4)|0,s=n.slice(4,6)|0,a=n.slice(6,8)|0,o=n.slice(8,10)|0,u=n.slice(10,12)|0,f=n.slice(12,14)|0;else if(r==="utctime")i=n.slice(0,2)|0,s=n.slice(2,4)|0,a=n.slice(4,6)|0,o=n.slice(6,8)|0,u=n.slice(8,10)|0,f=n.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return t.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,s-1,a,o,u,f,0)},tr.prototype._decodeNull=function(){return null},tr.prototype._decodeBool=function(t){const r=t.readUInt8();return t.isError(r)?r:r!==0},tr.prototype._decodeInt=function(t,r){const n=t.raw();let i=new Qy(n);return r&&(i=r[i.toString(10)]||i),i},tr.prototype._use=function(t,r){return typeof t=="function"&&(t=t(r)),t._getDecoder("der").tree};function Ru(e,t){let r=e.readUInt8(t);if(e.isError(r))return r;const n=sd.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){let a=r;for(r=0;(a&128)===128;){if(a=e.readUInt8(t),e.isError(a))return a;r<<=7,r|=a&127}}else r&=31;const s=sd.tag[r];return{cls:n,primitive:i,tag:r,tagStr:s}}function ud(e,t,r){let n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&n===128)return null;if(!(n&128))return n;const i=n&127;if(i>4)return e.error("length octect is too long");n=0;for(let s=0;s<i;s++){n<<=8;const a=e.readUInt8(r);if(e.isError(a))return a;n|=a}return n}const e2=ar(),t2=Tu.Buffer,Du=od;function Mu(e){Du.call(this,e),this.enc="pem"}e2(Mu,Du);var r2=Mu;Mu.prototype.decode=function(t,r){const n=t.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,o=-1;for(let l=0;l<n.length;l++){const h=n[l].match(s);if(h!==null&&h[2]===i)if(a===-1){if(h[1]!=="BEGIN")break;a=l}else{if(h[1]!=="END")break;o=l;break}}if(a===-1||o===-1)throw new Error("PEM section not found for: "+i);const u=n.slice(a+1,o).join("");u.replace(/[^a-z0-9+/=]+/gi,"");const f=t2.from(u,"base64");return Du.prototype.decode.call(this,f,r)},function(e){const t=e;t.der=od,t.pem=r2}(Ou),function(e){const t=Su,r=Ou,n=ar(),i=e;i.define=function(o,u){return new s(o,u)};function s(a,o){this.name=a,this.body=o,this.decoders={},this.encoders={}}s.prototype._createNamed=function(o){const u=this.name;function f(l){this._initNamed(l,u)}return n(f,o),f.prototype._initNamed=function(h,c){o.call(this,h,c)},new f(this)},s.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(r[o])),this.decoders[o]},s.prototype.decode=function(o,u,f){return this._getDecoder(u).decode(o,f)},s.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(t[o])),this.encoders[o]},s.prototype.encode=function(o,u,f){return this._getEncoder(u).encode(o,f)}}(Yh);var fd={};(function(e){const t=e;t.Reporter=ia.Reporter,t.DecoderBuffer=Mn.DecoderBuffer,t.EncoderBuffer=Mn.EncoderBuffer,t.Node=Pu})(fd);var cd={};(function(e){const t=e;t._reverse=function(n){const i={};return Object.keys(n).forEach(function(s){(s|0)==s&&(s=s|0);const a=n[s];i[a]=s}),i},t.der=aa})(cd),function(e){const t=e;t.bignum=er,t.define=Yh.define,t.base=fd,t.constants=cd,t.decoders=Ou,t.encoders=Su}(Zr);var Gi={},n2={get exports(){return Gi},set exports(e){Gi=e}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=Eu,n=r.Buffer;function i(a,o){for(var u in a)o[u]=a[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(a,o,u){return n(a,o,u)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(a,o,u){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,o,u)},s.alloc=function(a,o,u){if(typeof a!="number")throw new TypeError("Argument must be a number");var f=n(a);return o!==void 0?typeof u=="string"?f.fill(o,u):f.fill(o):f.fill(0),f},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}})(n2,Gi);var ld={};const i2={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}};var rr={},Bu={};(function(e){var t=e;function r(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var o=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)o[u]=s[u]|0;return o}if(a==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)o.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var f=s.charCodeAt(u),l=f>>8,h=f&255;l?o.push(l,h):o.push(h)}return o}t.toArray=r;function n(s){return s.length===1?"0"+s:s}t.zero2=n;function i(s){for(var a="",o=0;o<s.length;o++)a+=n(s[o].toString(16));return a}t.toHex=i,t.encode=function(a,o){return o==="hex"?i(a):a}})(Bu),function(e){var t=e,r=er,n=dn,i=Bu;t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode;function s(l,h,c){var d=new Array(Math.max(l.bitLength(),c)+1);d.fill(0);for(var p=1<<h+1,v=l.clone(),y=0;y<d.length;y++){var b,A=v.andln(p-1);v.isOdd()?(A>(p>>1)-1?b=(p>>1)-A:b=A,v.isubn(b)):b=0,d[y]=b,v.iushrn(1)}return d}t.getNAF=s;function a(l,h){var c=[[],[]];l=l.clone(),h=h.clone();for(var d=0,p=0,v;l.cmpn(-d)>0||h.cmpn(-p)>0;){var y=l.andln(3)+d&3,b=h.andln(3)+p&3;y===3&&(y=-1),b===3&&(b=-1);var A;y&1?(v=l.andln(7)+d&7,(v===3||v===5)&&b===2?A=-y:A=y):A=0,c[0].push(A);var D;b&1?(v=h.andln(7)+p&7,(v===3||v===5)&&y===2?D=-b:D=b):D=0,c[1].push(D),2*d===A+1&&(d=1-d),2*p===D+1&&(p=1-p),l.iushrn(1),h.iushrn(1)}return c}t.getJSF=a;function o(l,h,c){var d="_"+h;l.prototype[h]=function(){return this[d]!==void 0?this[d]:this[d]=c.call(this)}}t.cachedProperty=o;function u(l){return typeof l=="string"?t.toArray(l,"hex"):l}t.parseBytes=u;function f(l){return new r(l,"hex","le")}t.intFromLE=f}(rr);var Ji={},s2={get exports(){return Ji},set exports(e){Ji=e}},Nu;s2.exports=function(t){return Nu||(Nu=new pn(null)),Nu.generate(t)};function pn(e){this.rand=e}if(Ji.Rand=pn,pn.prototype.generate=function(t){return this._rand(t)},pn.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var r=new Uint8Array(t),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r},typeof self=="object")self.crypto&&self.crypto.getRandomValues?pn.prototype._rand=function(t){var r=new Uint8Array(t);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?pn.prototype._rand=function(t){var r=new Uint8Array(t);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(pn.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var hd=xu;if(typeof hd.randomBytes!="function")throw new Error("Not supported");pn.prototype._rand=function(t){return hd.randomBytes(t)}}catch{}var ku={},Bn=er,Yi=rr,oa=Yi.getNAF,a2=Yi.getJSF,ua=Yi.assert;function vn(e,t){this.type=e,this.p=new Bn(t.p,16),this.red=t.prime?Bn.red(t.prime):Bn.mont(this.p),this.zero=new Bn(0).toRed(this.red),this.one=new Bn(1).toRed(this.red),this.two=new Bn(2).toRed(this.red),this.n=t.n&&new Bn(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var fa=vn;vn.prototype.point=function(){throw new Error("Not implemented")},vn.prototype.validate=function(){throw new Error("Not implemented")},vn.prototype._fixedNafMul=function(t,r){ua(t.precomputed);var n=t._getDoubles(),i=oa(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],o,u;for(o=0;o<i.length;o+=n.step){u=0;for(var f=o+n.step-1;f>=o;f--)u=(u<<1)+i[f];a.push(u)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),c=s;c>0;c--){for(o=0;o<a.length;o++)u=a[o],u===c?h=h.mixedAdd(n.points[o]):u===-c&&(h=h.mixedAdd(n.points[o].neg()));l=l.add(h)}return l.toP()},vn.prototype._wnafMul=function(t,r){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=oa(r,n,this._bitLength),o=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var f=0;u>=0&&a[u]===0;u--)f++;if(u>=0&&f++,o=o.dblp(f),u<0)break;var l=a[u];ua(l!==0),t.type==="affine"?l>0?o=o.mixedAdd(s[l-1>>1]):o=o.mixedAdd(s[-l-1>>1].neg()):l>0?o=o.add(s[l-1>>1]):o=o.add(s[-l-1>>1].neg())}return t.type==="affine"?o.toP():o},vn.prototype._wnafMulAdd=function(t,r,n,i,s){var a=this._wnafT1,o=this._wnafT2,u=this._wnafT3,f=0,l,h,c;for(l=0;l<i;l++){c=r[l];var d=c._getNAFPoints(t);a[l]=d.wnd,o[l]=d.points}for(l=i-1;l>=1;l-=2){var p=l-1,v=l;if(a[p]!==1||a[v]!==1){u[p]=oa(n[p],a[p],this._bitLength),u[v]=oa(n[v],a[v],this._bitLength),f=Math.max(u[p].length,f),f=Math.max(u[v].length,f);continue}var y=[r[p],null,null,r[v]];r[p].y.cmp(r[v].y)===0?(y[1]=r[p].add(r[v]),y[2]=r[p].toJ().mixedAdd(r[v].neg())):r[p].y.cmp(r[v].y.redNeg())===0?(y[1]=r[p].toJ().mixedAdd(r[v]),y[2]=r[p].add(r[v].neg())):(y[1]=r[p].toJ().mixedAdd(r[v]),y[2]=r[p].toJ().mixedAdd(r[v].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],A=a2(n[p],n[v]);for(f=Math.max(A[0].length,f),u[p]=new Array(f),u[v]=new Array(f),h=0;h<f;h++){var D=A[0][h]|0,k=A[1][h]|0;u[p][h]=b[(D+1)*3+(k+1)],u[v][h]=0,o[p]=y}}var L=this.jpoint(null,null,null),_=this._wnafT4;for(l=f;l>=0;l--){for(var F=0;l>=0;){var R=!0;for(h=0;h<i;h++)_[h]=u[h][l]|0,_[h]!==0&&(R=!1);if(!R)break;F++,l--}if(l>=0&&F++,L=L.dblp(F),l<0)break;for(h=0;h<i;h++){var P=_[h];P!==0&&(P>0?c=o[h][P-1>>1]:P<0&&(c=o[h][-P-1>>1].neg()),c.type==="affine"?L=L.mixedAdd(c):L=L.add(c))}}for(l=0;l<i;l++)o[l]=null;return s?L:L.toP()};function vr(e,t){this.curve=e,this.type=t,this.precomputed=null}vn.BasePoint=vr,vr.prototype.eq=function(){throw new Error("Not implemented")},vr.prototype.validate=function(){return this.curve.validate(this)},vn.prototype.decodePoint=function(t,r){t=Yi.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?ua(t[t.length-1]%2===0):t[0]===7&&ua(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")},vr.prototype.encodeCompressed=function(t){return this.encode(t,!0)},vr.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},vr.prototype.encode=function(t,r){return Yi.encode(this._encode(r),t)},vr.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this},vr.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1},vr.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=t){for(var a=0;a<t;a++)i=i.dbl();n.push(i)}return{step:t,points:n}},vr.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:t,points:r}},vr.prototype._getBeta=function(){return null},vr.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var o2=rr,yt=er,ju=ar(),ui=fa,u2=o2.assert;function gr(e){ui.call(this,"short",e),this.a=new yt(e.a,16).toRed(this.red),this.b=new yt(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ju(gr,ui);var f2=gr;gr.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new yt(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(t.lambda)n=new yt(t.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],u2(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return t.basis?a=t.basis.map(function(o){return{a:new yt(o.a,16),b:new yt(o.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}},gr.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:yt.mont(t),n=new yt(2).toRed(r).redInvm(),i=n.redNeg(),s=new yt(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),o=i.redSub(s).fromRed();return[a,o]},gr.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,i=this.n.clone(),s=new yt(1),a=new yt(0),o=new yt(0),u=new yt(1),f,l,h,c,d,p,v,y=0,b,A;n.cmpn(0)!==0;){var D=i.div(n);b=i.sub(D.mul(n)),A=o.sub(D.mul(s));var k=u.sub(D.mul(a));if(!h&&b.cmp(r)<0)f=v.neg(),l=s,h=b.neg(),c=A;else if(h&&++y===2)break;v=b,i=n,n=b,o=s,s=A,u=a,a=k}d=b.neg(),p=A;var L=h.sqr().add(c.sqr()),_=d.sqr().add(p.sqr());return _.cmp(L)>=0&&(d=f,p=l),h.negative&&(h=h.neg(),c=c.neg()),d.negative&&(d=d.neg(),p=p.neg()),[{a:h,b:c},{a:d,b:p}]},gr.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(t).divRound(this.n),a=n.b.neg().mul(t).divRound(this.n),o=s.mul(n.a),u=a.mul(i.a),f=s.mul(n.b),l=a.mul(i.b),h=t.sub(o).sub(u),c=f.add(l).neg();return{k1:h,k2:c}},gr.prototype.pointFromX=function(t,r){t=new yt(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(t,i)},gr.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},gr.prototype._endoWnafMulAdd=function(t,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<t.length;a++){var o=this._endoSplit(r[a]),u=t[a],f=u._getBeta();o.k1.negative&&(o.k1.ineg(),u=u.neg(!0)),o.k2.negative&&(o.k2.ineg(),f=f.neg(!0)),i[a*2]=u,i[a*2+1]=f,s[a*2]=o.k1,s[a*2+1]=o.k2}for(var l=this._wnafMulAdd(1,i,s,a*2,n),h=0;h<a*2;h++)i[h]=null,s[h]=null;return l};function Rt(e,t,r,n){ui.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new yt(t,16),this.y=new yt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}ju(Rt,ui.BasePoint),gr.prototype.point=function(t,r,n){return new Rt(this,t,r,n)},gr.prototype.pointFromJSON=function(t,r){return Rt.fromJSON(this,t,r)},Rt.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r}},Rt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Rt.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=t.point(r[0],r[1],n);if(!r[2])return i;function s(o){return t.point(o[0],o[1],n)}var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i},Rt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Rt.prototype.isInfinity=function(){return this.inf},Rt.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},Rt.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),o=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},Rt.prototype.getX=function(){return this.x.fromRed()},Rt.prototype.getY=function(){return this.y.fromRed()},Rt.prototype.mul=function(t){return t=new yt(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Rt.prototype.mulAdd=function(t,r,n){var i=[this,r],s=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},Rt.prototype.jmulAdd=function(t,r,n){var i=[this,r],s=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},Rt.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)},Rt.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r},Rt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function jt(e,t,r,n){ui.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new yt(0)):(this.x=new yt(t,16),this.y=new yt(r,16),this.z=new yt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ju(jt,ui.BasePoint),gr.prototype.jpoint=function(t,r,n){return new jt(this,t,r,n)},jt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)},jt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},jt.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=t.x.redMul(n),a=this.y.redMul(r.redMul(t.z)),o=t.y.redMul(n.redMul(this.z)),u=i.redSub(s),f=a.redSub(o);if(u.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=u.redSqr(),h=l.redMul(u),c=i.redMul(l),d=f.redSqr().redIAdd(h).redISub(c).redISub(c),p=f.redMul(c.redISub(d)).redISub(a.redMul(h)),v=this.z.redMul(t.z).redMul(u);return this.curve.jpoint(d,p,v)},jt.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=t.x.redMul(r),s=this.y,a=t.y.redMul(r).redMul(this.z),o=n.redSub(i),u=s.redSub(a);if(o.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=o.redSqr(),l=f.redMul(o),h=n.redMul(f),c=u.redSqr().redIAdd(l).redISub(h).redISub(h),d=u.redMul(h.redISub(c)).redISub(s.redMul(l)),p=this.z.redMul(o);return this.curve.jpoint(c,d,p)},jt.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,o=this.y,u=this.z,f=u.redSqr().redSqr(),l=o.redAdd(o);for(r=0;r<t;r++){var h=a.redSqr(),c=l.redSqr(),d=c.redSqr(),p=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(f)),v=a.redMul(c),y=p.redSqr().redISub(v.redAdd(v)),b=v.redISub(y),A=p.redMul(b);A=A.redIAdd(A).redISub(d);var D=l.redMul(u);r+1<t&&(f=f.redMul(d)),a=y,u=D,l=A}return this.curve.jpoint(a,l.redMul(s),u)},jt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},jt.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var u=i.redAdd(i).redIAdd(i),f=u.redSqr().redISub(o).redISub(o),l=a.redIAdd(a);l=l.redIAdd(l),l=l.redIAdd(l),t=f,r=u.redMul(o.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),c=this.y.redSqr(),d=c.redSqr(),p=this.x.redAdd(c).redSqr().redISub(h).redISub(d);p=p.redIAdd(p);var v=h.redAdd(h).redIAdd(h),y=v.redSqr(),b=d.redIAdd(d);b=b.redIAdd(b),b=b.redIAdd(b),t=y.redISub(p).redISub(p),r=v.redMul(p.redISub(t)).redISub(b),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)},jt.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=u.redSqr().redISub(o).redISub(o);t=f;var l=a.redIAdd(a);l=l.redIAdd(l),l=l.redIAdd(l),r=u.redMul(o.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),c=this.y.redSqr(),d=this.x.redMul(c),p=this.x.redSub(h).redMul(this.x.redAdd(h));p=p.redAdd(p).redIAdd(p);var v=d.redIAdd(d);v=v.redIAdd(v);var y=v.redAdd(v);t=p.redSqr().redISub(y),n=this.y.redAdd(this.z).redSqr().redISub(c).redISub(h);var b=c.redSqr();b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b),r=p.redMul(v.redISub(t)).redISub(b)}return this.curve.jpoint(t,r,n)},jt.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=r.redSqr(),o=n.redSqr(),u=a.redAdd(a).redIAdd(a).redIAdd(t.redMul(s)),f=r.redAdd(r);f=f.redIAdd(f);var l=f.redMul(o),h=u.redSqr().redISub(l.redAdd(l)),c=l.redISub(h),d=o.redSqr();d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var p=u.redMul(c).redISub(d),v=n.redAdd(n).redMul(i);return this.curve.jpoint(h,p,v)},jt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=t.redAdd(t).redIAdd(t),a=s.redSqr(),o=this.x.redAdd(r).redSqr().redISub(t).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var u=o.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var l=s.redIAdd(o).redSqr().redISub(a).redISub(u).redISub(f),h=r.redMul(l);h=h.redIAdd(h),h=h.redIAdd(h);var c=this.x.redMul(u).redISub(h);c=c.redIAdd(c),c=c.redIAdd(c);var d=this.y.redMul(l.redMul(f.redISub(l)).redISub(o.redMul(u)));d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var p=this.z.redAdd(o).redSqr().redISub(n).redISub(u);return this.curve.jpoint(c,d,p)},jt.prototype.mul=function(t,r){return t=new yt(t,r),this.curve._wnafMul(this,t)},jt.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(t.z);return this.y.redMul(s).redISub(t.y.redMul(i)).cmpn(0)===0},jt.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=t.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},jt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},jt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var fi=er,dd=ar(),ca=fa,c2=rr;function ci(e){ca.call(this,"mont",e),this.a=new fi(e.a,16).toRed(this.red),this.b=new fi(e.b,16).toRed(this.red),this.i4=new fi(4).toRed(this.red).redInvm(),this.two=new fi(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}dd(ci,ca);var l2=ci;ci.prototype.validate=function(t){var r=t.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function Dt(e,t,r){ca.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new fi(t,16),this.z=new fi(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}dd(Dt,ca.BasePoint),ci.prototype.decodePoint=function(t,r){return this.point(c2.toArray(t,r),1)},ci.prototype.point=function(t,r){return new Dt(this,t,r)},ci.prototype.pointFromJSON=function(t){return Dt.fromJSON(this,t)},Dt.prototype.precompute=function(){},Dt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Dt.fromJSON=function(t,r){return new Dt(t,r[0],r[1]||t.one)},Dt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Dt.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Dt.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),a=r.redMul(i),o=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(a,o)},Dt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Dt.prototype.diffAdd=function(t,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=t.x.redAdd(t.z),a=t.x.redSub(t.z),o=a.redMul(n),u=s.redMul(i),f=r.z.redMul(o.redAdd(u).redSqr()),l=r.x.redMul(o.redISub(u).redSqr());return this.curve.point(f,l)},Dt.prototype.mul=function(t){for(var r=t.clone(),n=this,i=this.curve.point(null,null),s=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var o=a.length-1;o>=0;o--)a[o]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i},Dt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Dt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Dt.prototype.eq=function(t){return this.getX().cmp(t.getX())===0},Dt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Dt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var h2=rr,en=er,pd=ar(),la=fa,d2=h2.assert;function kr(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,la.call(this,"edwards",e),this.a=new en(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new en(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new en(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),d2(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}pd(kr,la);var p2=kr;kr.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},kr.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},kr.prototype.jpoint=function(t,r,n,i){return this.point(t,r,n,i)},kr.prototype.pointFromX=function(t,r){t=new en(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(s.redInvm()),o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var u=o.fromRed().isOdd();return(r&&!u||!r&&u)&&(o=o.redNeg()),this.point(t,o)},kr.prototype.pointFromY=function(t,r){t=new en(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(s.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,t)},kr.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function tt(e,t,r,n,i){la.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new en(t,16),this.y=new en(r,16),this.z=n?new en(n,16):this.curve.one,this.t=i&&new en(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}pd(tt,la.BasePoint),kr.prototype.pointFromJSON=function(t){return tt.fromJSON(this,t)},kr.prototype.point=function(t,r,n,i){return new tt(this,t,r,n,i)},tt.fromJSON=function(t,r){return new tt(t,r[0],r[1],r[2])},tt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},tt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},tt.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(t),s=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),a=i.redAdd(r),o=a.redSub(n),u=i.redSub(r),f=s.redMul(o),l=a.redMul(u),h=s.redMul(u),c=o.redMul(a);return this.curve.point(f,l,c,h)},tt.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,a,o,u,f;if(this.curve.twisted){o=this.curve._mulA(r);var l=o.redAdd(n);this.zOne?(i=t.redSub(r).redSub(n).redMul(l.redSub(this.curve.two)),s=l.redMul(o.redSub(n)),a=l.redSqr().redSub(l).redSub(l)):(u=this.z.redSqr(),f=l.redSub(u).redISub(u),i=t.redSub(r).redISub(n).redMul(f),s=l.redMul(o.redSub(n)),a=l.redMul(f))}else o=r.redAdd(n),u=this.curve._mulC(this.z).redSqr(),f=o.redSub(u).redSub(u),i=this.curve._mulC(t.redISub(o)).redMul(f),s=this.curve._mulC(o).redMul(r.redISub(n)),a=o.redMul(f);return this.curve.point(i,s,a)},tt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},tt.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),s=this.z.redMul(t.z.redAdd(t.z)),a=n.redSub(r),o=s.redSub(i),u=s.redAdd(i),f=n.redAdd(r),l=a.redMul(o),h=u.redMul(f),c=a.redMul(f),d=o.redMul(u);return this.curve.point(l,h,d,c)},tt.prototype._projAdd=function(t){var r=this.z.redMul(t.z),n=r.redSqr(),i=this.x.redMul(t.x),s=this.y.redMul(t.y),a=this.curve.d.redMul(i).redMul(s),o=n.redSub(a),u=n.redAdd(a),f=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(i).redISub(s),l=r.redMul(o).redMul(f),h,c;return this.curve.twisted?(h=r.redMul(u).redMul(s.redSub(this.curve._mulA(i))),c=o.redMul(u)):(h=r.redMul(u).redMul(s.redSub(i)),c=this.curve._mulC(o).redMul(u)),this.curve.point(l,h,c)},tt.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},tt.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},tt.prototype.mulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)},tt.prototype.jmulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)},tt.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},tt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},tt.prototype.getX=function(){return this.normalize(),this.x.fromRed()},tt.prototype.getY=function(){return this.normalize(),this.y.fromRed()},tt.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0},tt.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}},tt.prototype.toP=tt.prototype.normalize,tt.prototype.mixedAdd=tt.prototype.add,function(e){var t=e;t.base=fa,t.short=f2,t.mont=l2,t.edwards=p2}(ku);var ha={},da={},Ue={},v2=dn,g2=ar();Ue.inherits=g2;function m2(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function y2(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):m2(e,i)?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<e.length;i++)r[i]=e[i]|0;return r}Ue.toArray=y2;function b2(e){for(var t="",r=0;r<e.length;r++)t+=gd(e[r].toString(16));return t}Ue.toHex=b2;function vd(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}Ue.htonl=vd;function w2(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];t==="little"&&(i=vd(i)),r+=md(i.toString(16))}return r}Ue.toHex32=w2;function gd(e){return e.length===1?"0"+e:e}Ue.zero2=gd;function md(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}Ue.zero8=md;function x2(e,t,r,n){var i=r-t;v2(i%4===0);for(var s=new Array(i/4),a=0,o=t;a<s.length;a++,o+=4){var u;n==="big"?u=e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]:u=e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o],s[a]=u>>>0}return s}Ue.join32=x2;function S2(e,t){for(var r=new Array(e.length*4),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];t==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}Ue.split32=S2;function E2(e,t){return e>>>t|e<<32-t}Ue.rotr32=E2;function A2(e,t){return e<<t|e>>>32-t}Ue.rotl32=A2;function _2(e,t){return e+t>>>0}Ue.sum32=_2;function T2(e,t,r){return e+t+r>>>0}Ue.sum32_3=T2;function P2(e,t,r,n){return e+t+r+n>>>0}Ue.sum32_4=P2;function F2(e,t,r,n,i){return e+t+r+n+i>>>0}Ue.sum32_5=F2;function I2(e,t,r,n){var i=e[t],s=e[t+1],a=n+s>>>0,o=(a<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=a}Ue.sum64=I2;function C2(e,t,r,n){var i=t+n>>>0,s=(i<t?1:0)+e+r;return s>>>0}Ue.sum64_hi=C2;function O2(e,t,r,n){var i=t+n;return i>>>0}Ue.sum64_lo=O2;function R2(e,t,r,n,i,s,a,o){var u=0,f=t;f=f+n>>>0,u+=f<t?1:0,f=f+s>>>0,u+=f<s?1:0,f=f+o>>>0,u+=f<o?1:0;var l=e+r+i+a+u;return l>>>0}Ue.sum64_4_hi=R2;function D2(e,t,r,n,i,s,a,o){var u=t+n+s+o;return u>>>0}Ue.sum64_4_lo=D2;function M2(e,t,r,n,i,s,a,o,u,f){var l=0,h=t;h=h+n>>>0,l+=h<t?1:0,h=h+s>>>0,l+=h<s?1:0,h=h+o>>>0,l+=h<o?1:0,h=h+f>>>0,l+=h<f?1:0;var c=e+r+i+a+u+l;return c>>>0}Ue.sum64_5_hi=M2;function B2(e,t,r,n,i,s,a,o,u,f){var l=t+n+s+o+f;return l>>>0}Ue.sum64_5_lo=B2;function N2(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}Ue.rotr64_hi=N2;function k2(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}Ue.rotr64_lo=k2;function j2(e,t,r){return e>>>r}Ue.shr64_hi=j2;function L2(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}Ue.shr64_lo=L2;var li={},yd=Ue,V2=dn;function pa(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}li.BlockHash=pa,pa.prototype.update=function(t,r){if(t=yd.toArray(t,r),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),this.pending.length===0&&(this.pending=null),t=yd.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},pa.prototype.digest=function(t){return this.update(this._pad()),V2(this.pending===null),this._digest(t)},pa.prototype._pad=function(){var t=this.pendingTotal,r=this._delta8,n=r-(t+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(t<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=t>>>24&255,i[s++]=t>>>16&255,i[s++]=t>>>8&255,i[s++]=t&255}else for(i[s++]=t&255,i[s++]=t>>>8&255,i[s++]=t>>>16&255,i[s++]=t>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,a=8;a<this.padLength;a++)i[s++]=0;return i};var hi={},jr={},H2=Ue,Lr=H2.rotr32;function U2(e,t,r,n){if(e===0)return bd(t,r,n);if(e===1||e===3)return xd(t,r,n);if(e===2)return wd(t,r,n)}jr.ft_1=U2;function bd(e,t,r){return e&t^~e&r}jr.ch32=bd;function wd(e,t,r){return e&t^e&r^t&r}jr.maj32=wd;function xd(e,t,r){return e^t^r}jr.p32=xd;function q2(e){return Lr(e,2)^Lr(e,13)^Lr(e,22)}jr.s0_256=q2;function K2(e){return Lr(e,6)^Lr(e,11)^Lr(e,25)}jr.s1_256=K2;function z2(e){return Lr(e,7)^Lr(e,18)^e>>>3}jr.g0_256=z2;function $2(e){return Lr(e,17)^Lr(e,19)^e>>>10}jr.g1_256=$2;var di=Ue,W2=li,G2=jr,Lu=di.rotl32,Xi=di.sum32,J2=di.sum32_5,Y2=G2.ft_1,Sd=W2.BlockHash,X2=[1518500249,1859775393,2400959708,3395469782];function Vr(){if(!(this instanceof Vr))return new Vr;Sd.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}di.inherits(Vr,Sd);var Z2=Vr;Vr.blockSize=512,Vr.outSize=160,Vr.hmacStrength=80,Vr.padLength=64,Vr.prototype._update=function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=Lu(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],a=this.h[1],o=this.h[2],u=this.h[3],f=this.h[4];for(i=0;i<n.length;i++){var l=~~(i/20),h=J2(Lu(s,5),Y2(l,a,o,u),f,n[i],X2[l]);f=u,u=o,o=Lu(a,30),a=s,s=h}this.h[0]=Xi(this.h[0],s),this.h[1]=Xi(this.h[1],a),this.h[2]=Xi(this.h[2],o),this.h[3]=Xi(this.h[3],u),this.h[4]=Xi(this.h[4],f)},Vr.prototype._digest=function(t){return t==="hex"?di.toHex32(this.h,"big"):di.split32(this.h,"big")};var pi=Ue,Q2=li,vi=jr,eb=dn,Ar=pi.sum32,tb=pi.sum32_4,rb=pi.sum32_5,nb=vi.ch32,ib=vi.maj32,sb=vi.s0_256,ab=vi.s1_256,ob=vi.g0_256,ub=vi.g1_256,Ed=Q2.BlockHash,fb=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Hr(){if(!(this instanceof Hr))return new Hr;Ed.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=fb,this.W=new Array(64)}pi.inherits(Hr,Ed);var Ad=Hr;Hr.blockSize=512,Hr.outSize=256,Hr.hmacStrength=192,Hr.padLength=64,Hr.prototype._update=function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=tb(ub(n[i-2]),n[i-7],ob(n[i-15]),n[i-16]);var s=this.h[0],a=this.h[1],o=this.h[2],u=this.h[3],f=this.h[4],l=this.h[5],h=this.h[6],c=this.h[7];for(eb(this.k.length===n.length),i=0;i<n.length;i++){var d=rb(c,ab(f),nb(f,l,h),this.k[i],n[i]),p=Ar(sb(s),ib(s,a,o));c=h,h=l,l=f,f=Ar(u,d),u=o,o=a,a=s,s=Ar(d,p)}this.h[0]=Ar(this.h[0],s),this.h[1]=Ar(this.h[1],a),this.h[2]=Ar(this.h[2],o),this.h[3]=Ar(this.h[3],u),this.h[4]=Ar(this.h[4],f),this.h[5]=Ar(this.h[5],l),this.h[6]=Ar(this.h[6],h),this.h[7]=Ar(this.h[7],c)},Hr.prototype._digest=function(t){return t==="hex"?pi.toHex32(this.h,"big"):pi.split32(this.h,"big")};var Vu=Ue,_d=Ad;function tn(){if(!(this instanceof tn))return new tn;_d.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Vu.inherits(tn,_d);var cb=tn;tn.blockSize=512,tn.outSize=224,tn.hmacStrength=192,tn.padLength=64,tn.prototype._digest=function(t){return t==="hex"?Vu.toHex32(this.h.slice(0,7),"big"):Vu.split32(this.h.slice(0,7),"big")};var Yt=Ue,lb=li,hb=dn,Ur=Yt.rotr64_hi,qr=Yt.rotr64_lo,Td=Yt.shr64_hi,Pd=Yt.shr64_lo,gn=Yt.sum64,Hu=Yt.sum64_hi,Uu=Yt.sum64_lo,db=Yt.sum64_4_hi,pb=Yt.sum64_4_lo,vb=Yt.sum64_5_hi,gb=Yt.sum64_5_lo,Fd=lb.BlockHash,mb=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _r(){if(!(this instanceof _r))return new _r;Fd.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=mb,this.W=new Array(160)}Yt.inherits(_r,Fd);var Id=_r;_r.blockSize=1024,_r.outSize=512,_r.hmacStrength=192,_r.padLength=128,_r.prototype._prepareBlock=function(t,r){for(var n=this.W,i=0;i<32;i++)n[i]=t[r+i];for(;i<n.length;i+=2){var s=Fb(n[i-4],n[i-3]),a=Ib(n[i-4],n[i-3]),o=n[i-14],u=n[i-13],f=Tb(n[i-30],n[i-29]),l=Pb(n[i-30],n[i-29]),h=n[i-32],c=n[i-31];n[i]=db(s,a,o,u,f,l,h,c),n[i+1]=pb(s,a,o,u,f,l,h,c)}},_r.prototype._update=function(t,r){this._prepareBlock(t,r);var n=this.W,i=this.h[0],s=this.h[1],a=this.h[2],o=this.h[3],u=this.h[4],f=this.h[5],l=this.h[6],h=this.h[7],c=this.h[8],d=this.h[9],p=this.h[10],v=this.h[11],y=this.h[12],b=this.h[13],A=this.h[14],D=this.h[15];hb(this.k.length===n.length);for(var k=0;k<n.length;k+=2){var L=A,_=D,F=Ab(c,d),R=_b(c,d),P=yb(c,d,p,v,y),M=bb(c,d,p,v,y,b),C=this.k[k],m=this.k[k+1],E=n[k],T=n[k+1],O=vb(L,_,F,R,P,M,C,m,E,T),N=gb(L,_,F,R,P,M,C,m,E,T);L=Sb(i,s),_=Eb(i,s),F=wb(i,s,a,o,u),R=xb(i,s,a,o,u,f);var H=Hu(L,_,F,R),Z=Uu(L,_,F,R);A=y,D=b,y=p,b=v,p=c,v=d,c=Hu(l,h,O,N),d=Uu(h,h,O,N),l=u,h=f,u=a,f=o,a=i,o=s,i=Hu(O,N,H,Z),s=Uu(O,N,H,Z)}gn(this.h,0,i,s),gn(this.h,2,a,o),gn(this.h,4,u,f),gn(this.h,6,l,h),gn(this.h,8,c,d),gn(this.h,10,p,v),gn(this.h,12,y,b),gn(this.h,14,A,D)},_r.prototype._digest=function(t){return t==="hex"?Yt.toHex32(this.h,"big"):Yt.split32(this.h,"big")};function yb(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function bb(e,t,r,n,i,s){var a=t&n^~t&s;return a<0&&(a+=4294967296),a}function wb(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function xb(e,t,r,n,i,s){var a=t&n^t&s^n&s;return a<0&&(a+=4294967296),a}function Sb(e,t){var r=Ur(e,t,28),n=Ur(t,e,2),i=Ur(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function Eb(e,t){var r=qr(e,t,28),n=qr(t,e,2),i=qr(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function Ab(e,t){var r=Ur(e,t,14),n=Ur(e,t,18),i=Ur(t,e,9),s=r^n^i;return s<0&&(s+=4294967296),s}function _b(e,t){var r=qr(e,t,14),n=qr(e,t,18),i=qr(t,e,9),s=r^n^i;return s<0&&(s+=4294967296),s}function Tb(e,t){var r=Ur(e,t,1),n=Ur(e,t,8),i=Td(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function Pb(e,t){var r=qr(e,t,1),n=qr(e,t,8),i=Pd(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function Fb(e,t){var r=Ur(e,t,19),n=Ur(t,e,29),i=Td(e,t,6),s=r^n^i;return s<0&&(s+=4294967296),s}function Ib(e,t){var r=qr(e,t,19),n=qr(t,e,29),i=Pd(e,t,6),s=r^n^i;return s<0&&(s+=4294967296),s}var qu=Ue,Cd=Id;function rn(){if(!(this instanceof rn))return new rn;Cd.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}qu.inherits(rn,Cd);var Cb=rn;rn.blockSize=1024,rn.outSize=384,rn.hmacStrength=192,rn.padLength=128,rn.prototype._digest=function(t){return t==="hex"?qu.toHex32(this.h.slice(0,12),"big"):qu.split32(this.h.slice(0,12),"big")},hi.sha1=Z2,hi.sha224=cb,hi.sha256=Ad,hi.sha384=Cb,hi.sha512=Id;var Od={},Nn=Ue,Ob=li,va=Nn.rotl32,Rd=Nn.sum32,Zi=Nn.sum32_3,Dd=Nn.sum32_4,Md=Ob.BlockHash;function Kr(){if(!(this instanceof Kr))return new Kr;Md.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Nn.inherits(Kr,Md),Od.ripemd160=Kr,Kr.blockSize=512,Kr.outSize=160,Kr.hmacStrength=192,Kr.padLength=64,Kr.prototype._update=function(t,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],o=this.h[4],u=n,f=i,l=s,h=a,c=o,d=0;d<80;d++){var p=Rd(va(Dd(n,Bd(d,i,s,a),t[Mb[d]+r],Rb(d)),Nb[d]),o);n=o,o=a,a=va(s,10),s=i,i=p,p=Rd(va(Dd(u,Bd(79-d,f,l,h),t[Bb[d]+r],Db(d)),kb[d]),c),u=c,c=h,h=va(l,10),l=f,f=p}p=Zi(this.h[1],s,h),this.h[1]=Zi(this.h[2],a,c),this.h[2]=Zi(this.h[3],o,u),this.h[3]=Zi(this.h[4],n,f),this.h[4]=Zi(this.h[0],i,l),this.h[0]=p},Kr.prototype._digest=function(t){return t==="hex"?Nn.toHex32(this.h,"little"):Nn.split32(this.h,"little")};function Bd(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function Rb(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Db(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var Mb=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Bb=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Nb=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],kb=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],jb=Ue,Lb=dn;function gi(e,t,r){if(!(this instanceof gi))return new gi(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(jb.toArray(t,r))}var Vb=gi;gi.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),Lb(t.length<=this.blockSize);for(var r=t.length;r<this.blockSize;r++)t.push(0);for(r=0;r<t.length;r++)t[r]^=54;for(this.inner=new this.Hash().update(t),r=0;r<t.length;r++)t[r]^=106;this.outer=new this.Hash().update(t)},gi.prototype.update=function(t,r){return this.inner.update(t,r),this},gi.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(e){var t=e;t.utils=Ue,t.common=li,t.sha=hi,t.ripemd=Od,t.hmac=Vb,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(da);var Ku,Nd;function Hb(){return Nd||(Nd=1,Ku={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Ku}(function(e){var t=e,r=da,n=ku,i=rr,s=i.assert;function a(f){f.type==="short"?this.curve=new n.short(f):f.type==="edwards"?this.curve=new n.edwards(f):this.curve=new n.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=a;function o(f,l){Object.defineProperty(t,f,{configurable:!0,enumerable:!0,get:function(){var h=new a(l);return Object.defineProperty(t,f,{configurable:!0,enumerable:!0,value:h}),h}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=Hb()}catch{u=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})})(ha);var Ub=da,kn=Bu,kd=dn;function mn(e){if(!(this instanceof mn))return new mn(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=kn.toArray(e.entropy,e.entropyEnc||"hex"),r=kn.toArray(e.nonce,e.nonceEnc||"hex"),n=kn.toArray(e.pers,e.persEnc||"hex");kd(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var qb=mn;mn.prototype._init=function(t,r,n){var i=t.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},mn.prototype._hmac=function(){return new Ub.hmac(this.hash,this.K)},mn.prototype._update=function(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},mn.prototype.reseed=function(t,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),t=kn.toArray(t,r),n=kn.toArray(n,i),kd(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},mn.prototype.generate=function(t,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=kn.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,t);return this._update(n),this._reseed++,kn.encode(a,r)};var Kb=er,zb=rr,zu=zb.assert;function Ht(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var $b=Ht;Ht.fromPublic=function(t,r,n){return r instanceof Ht?r:new Ht(t,{pub:r,pubEnc:n})},Ht.fromPrivate=function(t,r,n){return r instanceof Ht?r:new Ht(t,{priv:r,privEnc:n})},Ht.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Ht.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub},Ht.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv},Ht.prototype._importPrivate=function(t,r){this.priv=new Kb(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)},Ht.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?zu(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&zu(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)},Ht.prototype.derive=function(t){return t.validate()||zu(t.validate(),"public point not validated"),t.mul(this.priv).getX()},Ht.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)},Ht.prototype.verify=function(t,r){return this.ec.verify(t,r,this)},Ht.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var ga=er,$u=rr,Wb=$u.assert;function ma(e,t){if(e instanceof ma)return e;this._importDER(e,t)||(Wb(e.r&&e.s,"Signature without r or s"),this.r=new ga(e.r,16),this.s=new ga(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Gb=ma;function Jb(){this.place=0}function Wu(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,a=t.place;s<n;s++,a++)i<<=8,i|=e[a],i>>>=0;return i<=127?!1:(t.place=a,i)}function jd(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}ma.prototype._importDER=function(t,r){t=$u.toArray(t,r);var n=new Jb;if(t[n.place++]!==48)return!1;var i=Wu(t,n);if(i===!1||i+n.place!==t.length||t[n.place++]!==2)return!1;var s=Wu(t,n);if(s===!1)return!1;var a=t.slice(n.place,s+n.place);if(n.place+=s,t[n.place++]!==2)return!1;var o=Wu(t,n);if(o===!1||t.length!==o+n.place)return!1;var u=t.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new ga(a),this.s=new ga(u),this.recoveryParam=null,!0};function Gu(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}ma.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=jd(r),n=jd(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Gu(i,r.length),i=i.concat(r),i.push(2),Gu(i,n.length);var s=i.concat(n),a=[48];return Gu(a,s.length),a=a.concat(s),$u.encode(a,t)};var jn=er,Ld=qb,Yb=rr,Ju=ha,Xb=Ji,Vd=Yb.assert,Yu=$b,ya=Gb;function mr(e){if(!(this instanceof mr))return new mr(e);typeof e=="string"&&(Vd(Object.prototype.hasOwnProperty.call(Ju,e),"Unknown curve "+e),e=Ju[e]),e instanceof Ju.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Zb=mr;mr.prototype.keyPair=function(t){return new Yu(this,t)},mr.prototype.keyFromPrivate=function(t,r){return Yu.fromPrivate(this,t,r)},mr.prototype.keyFromPublic=function(t,r){return Yu.fromPublic(this,t,r)},mr.prototype.genKeyPair=function(t){t||(t={});for(var r=new Ld({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Xb(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new jn(2));;){var s=new jn(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},mr.prototype._truncateToN=function(t,r){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t},mr.prototype.sign=function(t,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),t=this._truncateToN(new jn(t,16));for(var s=this.n.byteLength(),a=r.getPrivate().toArray("be",s),o=t.toArray("be",s),u=new Ld({hash:this.hash,entropy:a,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new jn(1)),l=0;;l++){var h=i.k?i.k(l):new jn(u.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(f)>=0)){var c=this.g.mul(h);if(!c.isInfinity()){var d=c.getX(),p=d.umod(this.n);if(p.cmpn(0)!==0){var v=h.invm(this.n).mul(p.mul(r.getPrivate()).iadd(t));if(v=v.umod(this.n),v.cmpn(0)!==0){var y=(c.getY().isOdd()?1:0)|(d.cmp(p)!==0?2:0);return i.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),y^=1),new ya({r:p,s:v,recoveryParam:y})}}}}}},mr.prototype.verify=function(t,r,n,i){t=this._truncateToN(new jn(t,16)),n=this.keyFromPublic(n,i),r=new ya(r,"hex");var s=r.r,a=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),u=o.mul(t).umod(this.n),f=o.mul(s).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(u,n.getPublic(),f),l.isInfinity()?!1:l.eqXToP(s)):(l=this.g.mulAdd(u,n.getPublic(),f),l.isInfinity()?!1:l.getX().umod(this.n).cmp(s)===0)},mr.prototype.recoverPubKey=function(e,t,r,n){Vd((3&r)===r,"The recovery param is more than two bits"),t=new ya(t,n);var i=this.n,s=new jn(e),a=t.r,o=t.s,u=r&1,f=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?a=this.curve.pointFromX(a.add(this.curve.n),u):a=this.curve.pointFromX(a,u);var l=t.r.invm(i),h=i.sub(s).mul(l).umod(i),c=o.mul(l).umod(i);return this.g.mulAdd(h,a,c)},mr.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new ya(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Qi=rr,Hd=Qi.assert,Ud=Qi.parseBytes,mi=Qi.cachedProperty;function Mt(e,t){this.eddsa=e,this._secret=Ud(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=Ud(t.pub)}Mt.fromPublic=function(t,r){return r instanceof Mt?r:new Mt(t,{pub:r})},Mt.fromSecret=function(t,r){return r instanceof Mt?r:new Mt(t,{secret:r})},Mt.prototype.secret=function(){return this._secret},mi(Mt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),mi(Mt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),mi(Mt,"privBytes",function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,i=r.slice(0,t.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i}),mi(Mt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),mi(Mt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),mi(Mt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),Mt.prototype.sign=function(t){return Hd(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},Mt.prototype.verify=function(t,r){return this.eddsa.verify(t,r,this)},Mt.prototype.getSecret=function(t){return Hd(this._secret,"KeyPair is public only"),Qi.encode(this.secret(),t)},Mt.prototype.getPublic=function(t){return Qi.encode(this.pubBytes(),t)};var Qb=Mt,ew=er,ba=rr,tw=ba.assert,wa=ba.cachedProperty,rw=ba.parseBytes;function Ln(e,t){this.eddsa=e,typeof t!="object"&&(t=rw(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),tw(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof ew&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}wa(Ln,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),wa(Ln,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),wa(Ln,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),wa(Ln,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Ln.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Ln.prototype.toHex=function(){return ba.encode(this.toBytes(),"hex").toUpperCase()};var nw=Ln,iw=da,sw=ha,yi=rr,aw=yi.assert,qd=yi.parseBytes,Kd=Qb,zd=nw;function Xt(e){if(aw(e==="ed25519","only tested with ed25519 so far"),!(this instanceof Xt))return new Xt(e);e=sw[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=iw.sha512}var ow=Xt;Xt.prototype.sign=function(t,r){t=qd(t);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),t),s=this.g.mul(i),a=this.encodePoint(s),o=this.hashInt(a,n.pubBytes(),t).mul(n.priv()),u=i.add(o).umod(this.curve.n);return this.makeSignature({R:s,S:u,Rencoded:a})},Xt.prototype.verify=function(t,r,n){t=qd(t),r=this.makeSignature(r);var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),t),a=this.g.mul(r.S()),o=r.R().add(i.pub().mul(s));return o.eq(a)},Xt.prototype.hashInt=function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return yi.intFromLE(t.digest()).umod(this.curve.n)},Xt.prototype.keyFromPublic=function(t){return Kd.fromPublic(this,t)},Xt.prototype.keyFromSecret=function(t){return Kd.fromSecret(this,t)},Xt.prototype.makeSignature=function(t){return t instanceof zd?t:new zd(this,t)},Xt.prototype.encodePoint=function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r},Xt.prototype.decodePoint=function(t){t=yi.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),i=(t[r]&128)!==0,s=yi.intFromLE(n);return this.curve.pointFromY(s,i)},Xt.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},Xt.prototype.decodeInt=function(t){return yi.intFromLE(t)},Xt.prototype.isPoint=function(t){return t instanceof this.pointClass},function(e){var t=e;t.version=i2.version,t.utils=rr,t.rand=Ji,t.curve=ku,t.curves=ha,t.ec=Zb,t.eddsa=ow}(ld);var uw=Zr.bignum,fw=Gi.Buffer,$d=function(t,r){var n=fw.from(t,"base64"),i=t=new uw(n,10,"be").iabs();return r&&n.fill(0),i},Wd=Zr.define("AlgorithmIdentifer",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}),cw=Wd,Gd=Zr.define("PublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(cw),this.key("PublicKey").bitstr())}),Xu=Zr.define("Version",function(){this.int()}),lw=Wd,hw=Xu,Jd=Zr.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").use(hw),this.key("privateKeyAlgorithm").use(lw),this.key("privateKey").octstr(),this.key("attributes").optional().any())}),Yd=Zr,Xd=Gi.Buffer,dw=ld.ec,Zu=$d,pw=Gd,vw=Jd,gw=Xu,mw=Yd.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),yw=1,bw=Yd.define("ECPrivateKey",function(){this.seq().obj(this.key("version").use(gw),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())}),ww={"P-256":"p256","P-384":"p384","P-521":"p521"},Qu={"P-256":[1,2,840,10045,3,1,7],"P-384":[1,3,132,0,34],"P-521":[1,3,132,0,35]},ef={},tf={};Object.keys(Qu).forEach(function(e){ef[e]=mw.encode({type:"namedCurve",value:Qu[e]},"der"),tf[e]={algorithm:[1,2,840,10045,2,1],parameters:ef[e]}}),Qu=null;function xw(e,t){if(typeof e.crv!="string")throw new TypeError('Expected "jwk.crv" to be a String');var r=typeof e.d=="string",n=r?["undefined","string"]:["string"];if(n.indexOf(typeof e.x)===-1)throw new TypeError('Expected "jwk.x" to be a String');if(n.indexOf(typeof e.y)===-1)throw new TypeError('Expected "jwk.y" to be a String');if(t.private&&!r)throw new TypeError('Expected "jwk.d" to be a String');var i=ww[e.crv];if(!i)throw new Error('Unsupported curve "'+e.crv+'"');var s=new dw(i),a={},o=e.x&&e.y;o&&(a.pub={x:Zu(e.x,!1),y:Zu(e.y,!1)}),(t.private||!o)&&(a.priv=Zu(e.d,!0)),a=s.keyPair(a);var u=a.validate();if(!u.result)throw new Error('Invalid key for curve: "'+u.reason+'"');var f=Sw(e.crv,a,t);return f}function Sw(e,t,r){var n=!1,i=t.getPublic(n,"hex");i=Xd.from(i,"hex"),i={unused:0,data:i};var s;if(r.private){var a=t.getPrivate("hex");a=Xd.from(a,"hex"),s=vw.encode({version:0,privateKeyAlgorithm:tf[e],privateKey:bw.encode({version:yw,privateKey:a,parameters:ef[e],publicKey:i},"der")},"pem",{label:"PRIVATE KEY"}),a.fill(0)}else s=pw.encode({algorithm:tf[e],PublicKey:i},"pem",{label:"PUBLIC KEY"});return s.slice(-1)!==`
`&&(s+=`
`),s}var Ew=xw,Zd=Zr,zr=$d,Aw=Gd,_w=Jd,Tw=Xu,Pw=Zd.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").use(Tw),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}),Fw=Zd.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}),Qd={algorithm:[1,2,840,113549,1,1,1],parameters:[5,0]};function Iw(e,t){if(typeof e.e!="string")throw new TypeError('Expected "jwk.e" to be a String');if(typeof e.n!="string")throw new TypeError('Expected "jwk.n" to be a String');if(t.private){if(typeof e.d!="string")throw new TypeError('Expected "jwk.d" to be a String');if(typeof e.p!="string")throw new TypeError('Expected "jwk.p" to be a String');if(typeof e.q!="string")throw new TypeError('Expected "jwk.q" to be a String');if(typeof e.dp!="string")throw new TypeError('Expected "jwk.dp" to be a String');if(typeof e.dq!="string")throw new TypeError('Expected "jwk.dq" to be a String');if(typeof e.qi!="string")throw new TypeError('Expected "jwk.qi" to be a String')}var r;return t.private?r=_w.encode({version:0,privateKeyAlgorithm:Qd,privateKey:Pw.encode({version:0,modulus:zr(e.n,!1),publicExponent:zr(e.e,!1),privateExponent:zr(e.d,!0),prime1:zr(e.p,!0),prime2:zr(e.q,!0),exponent1:zr(e.dp,!0),exponent2:zr(e.dq,!0),coefficient:zr(e.qi,!0)},"der")},"pem",{label:"PRIVATE KEY"}):r=Aw.encode({algorithm:Qd,PublicKey:{unused:0,data:Fw.encode({modulus:zr(e.n,!1),publicExponent:zr(e.e,!1)},"der")}},"pem",{label:"PUBLIC KEY"}),r.slice(-1)!==`
`&&(r+=`
`),r}var Cw=Iw,Ow=Ew,Rw=Cw;function Dw(e,t){if(typeof e!="object"||e===null)throw new TypeError('Expected "jwk" to be an Object');var r=e.kty;if(typeof r!="string")throw new TypeError('Expected "jwk.kty" to be a String');switch(t=t||{},t.private=t.private===!0,r){case"EC":return Ow(e,t);case"RSA":return Rw(e,t);default:throw new Error('Unsupported key type "'+r+'"')}}var e0=Dw,es={};es.userAgent=!1;var bi={};/*! CryptoJS v3.1.2 core-fix.js
 * code.google.com/p/crypto-js
 * (c) 2009-2013 by Jeff Mott. All rights reserved.
 * code.google.com/p/crypto-js/wiki/License
 * THIS IS FIX of 'core.js' to fix Hmac issue.
 * https://code.google.com/p/crypto-js/issues/detail?id=84
 * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
 */var Ae=Ae||function(e,t){var r={},n=r.lib={},i=n.Base=function(){function c(){}return{extend:function(d){c.prototype=this;var p=new c;return d&&p.mixIn(d),p.hasOwnProperty("init")||(p.init=function(){p.$super.init.apply(this,arguments)}),p.init.prototype=p,p.$super=this,p},create:function(){var d=this.extend();return d.init.apply(d,arguments),d},init:function(){},mixIn:function(d){for(var p in d)d.hasOwnProperty(p)&&(this[p]=d[p]);d.hasOwnProperty("toString")&&(this.toString=d.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=n.WordArray=i.extend({init:function(c,d){c=this.words=c||[],d!=t?this.sigBytes=d:this.sigBytes=c.length*4},toString:function(c){return(c||o).stringify(this)},concat:function(c){var d=this.words,p=c.words,v=this.sigBytes,y=c.sigBytes;if(this.clamp(),v%4)for(var b=0;b<y;b++){var A=p[b>>>2]>>>24-b%4*8&255;d[v+b>>>2]|=A<<24-(v+b)%4*8}else for(var b=0;b<y;b+=4)d[v+b>>>2]=p[b>>>2];return this.sigBytes+=y,this},clamp:function(){var c=this.words,d=this.sigBytes;c[d>>>2]&=4294967295<<32-d%4*8,c.length=e.ceil(d/4)},clone:function(){var c=i.clone.call(this);return c.words=this.words.slice(0),c},random:function(c){for(var d=[],p=0;p<c;p+=4)d.push(e.random()*4294967296|0);return new s.init(d,c)}}),a=r.enc={},o=a.Hex={stringify:function(c){for(var d=c.words,p=c.sigBytes,v=[],y=0;y<p;y++){var b=d[y>>>2]>>>24-y%4*8&255;v.push((b>>>4).toString(16)),v.push((b&15).toString(16))}return v.join("")},parse:function(c){for(var d=c.length,p=[],v=0;v<d;v+=2)p[v>>>3]|=parseInt(c.substr(v,2),16)<<24-v%8*4;return new s.init(p,d/2)}},u=a.Latin1={stringify:function(c){for(var d=c.words,p=c.sigBytes,v=[],y=0;y<p;y++){var b=d[y>>>2]>>>24-y%4*8&255;v.push(String.fromCharCode(b))}return v.join("")},parse:function(c){for(var d=c.length,p=[],v=0;v<d;v++)p[v>>>2]|=(c.charCodeAt(v)&255)<<24-v%4*8;return new s.init(p,d)}},f=a.Utf8={stringify:function(c){try{return decodeURIComponent(escape(u.stringify(c)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(c){return u.parse(unescape(encodeURIComponent(c)))}},l=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(c){typeof c=="string"&&(c=f.parse(c)),this._data.concat(c),this._nDataBytes+=c.sigBytes},_process:function(c){var d=this._data,p=d.words,v=d.sigBytes,y=this.blockSize,b=y*4,A=v/b;c?A=e.ceil(A):A=e.max((A|0)-this._minBufferSize,0);var D=A*y,k=e.min(D*4,v);if(D){for(var L=0;L<D;L+=y)this._doProcessBlock(p,L);var _=p.splice(0,D);d.sigBytes-=k}return new s.init(_,k)},clone:function(){var c=i.clone.call(this);return c._data=this._data.clone(),c},_minBufferSize:0});n.Hasher=l.extend({cfg:i.extend(),init:function(c){this.cfg=this.cfg.extend(c),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(c){return this._append(c),this._process(),this},finalize:function(c){c&&this._append(c);var d=this._doFinalize();return d},blockSize:512/32,_createHelper:function(c){return function(d,p){return new c.init(p).finalize(d)}},_createHmacHelper:function(c){return function(d,p){return new h.HMAC.init(c,p).finalize(d)}}});var h=r.algo={};return r}(Math);(function(e){var i=Ae,t=i.lib,r=t.Base,n=t.WordArray,i=i.x64={};i.Word=r.extend({init:function(s,a){this.high=s,this.low=a}}),i.WordArray=r.extend({init:function(s,a){s=this.words=s||[],this.sigBytes=a!=e?a:8*s.length},toX32:function(){for(var s=this.words,a=s.length,o=[],u=0;u<a;u++){var f=s[u];o.push(f.high),o.push(f.low)}return n.create(o,this.sigBytes)},clone:function(){for(var s=r.clone.call(this),a=s.words=this.words.slice(0),o=a.length,u=0;u<o;u++)a[u]=a[u].clone();return s}})})(),Ae.lib.Cipher||function(e){var d=Ae,t=d.lib,r=t.Base,n=t.WordArray,i=t.BufferedBlockAlgorithm,s=d.enc.Base64,a=d.algo.EvpKDF,o=t.Cipher=i.extend({cfg:r.extend(),createEncryptor:function(v,y){return this.create(this._ENC_XFORM_MODE,v,y)},createDecryptor:function(v,y){return this.create(this._DEC_XFORM_MODE,v,y)},init:function(v,y,b){this.cfg=this.cfg.extend(b),this._xformMode=v,this._key=y,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(v){return this._append(v),this._process()},finalize:function(v){return v&&this._append(v),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(v){return{encrypt:function(y,b,A){return(typeof b=="string"?p:c).encrypt(v,y,b,A)},decrypt:function(y,b,A){return(typeof b=="string"?p:c).decrypt(v,y,b,A)}}}});t.StreamCipher=o.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var h=d.mode={},u=function(v,y,b){var A=this._iv;A?this._iv=e:A=this._prevBlock;for(var D=0;D<b;D++)v[y+D]^=A[D]},f=(t.BlockCipherMode=r.extend({createEncryptor:function(v,y){return this.Encryptor.create(v,y)},createDecryptor:function(v,y){return this.Decryptor.create(v,y)},init:function(v,y){this._cipher=v,this._iv=y}})).extend();f.Encryptor=f.extend({processBlock:function(v,y){var b=this._cipher,A=b.blockSize;u.call(this,v,y,A),b.encryptBlock(v,y),this._prevBlock=v.slice(y,y+A)}}),f.Decryptor=f.extend({processBlock:function(v,y){var b=this._cipher,A=b.blockSize,D=v.slice(y,y+A);b.decryptBlock(v,y),u.call(this,v,y,A),this._prevBlock=D}}),h=h.CBC=f,f=(d.pad={}).Pkcs7={pad:function(v,y){for(var b=4*y,b=b-v.sigBytes%b,A=b<<24|b<<16|b<<8|b,D=[],k=0;k<b;k+=4)D.push(A);b=n.create(D,b),v.concat(b)},unpad:function(v){v.sigBytes-=v.words[v.sigBytes-1>>>2]&255}},t.BlockCipher=o.extend({cfg:o.cfg.extend({mode:h,padding:f}),reset:function(){o.reset.call(this);var y=this.cfg,v=y.iv,y=y.mode;if(this._xformMode==this._ENC_XFORM_MODE)var b=y.createEncryptor;else b=y.createDecryptor,this._minBufferSize=1;this._mode=b.call(y,this,v&&v.words)},_doProcessBlock:function(v,y){this._mode.processBlock(v,y)},_doFinalize:function(){var v=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){v.pad(this._data,this.blockSize);var y=this._process(!0)}else y=this._process(!0),v.unpad(y);return y},blockSize:4});var l=t.CipherParams=r.extend({init:function(v){this.mixIn(v)},toString:function(v){return(v||this.formatter).stringify(this)}}),h=(d.format={}).OpenSSL={stringify:function(v){var y=v.ciphertext;return v=v.salt,(v?n.create([1398893684,1701076831]).concat(v).concat(y):y).toString(s)},parse:function(v){v=s.parse(v);var y=v.words;if(y[0]==1398893684&&y[1]==1701076831){var b=n.create(y.slice(2,4));y.splice(0,4),v.sigBytes-=16}return l.create({ciphertext:v,salt:b})}},c=t.SerializableCipher=r.extend({cfg:r.extend({format:h}),encrypt:function(v,y,b,A){A=this.cfg.extend(A);var D=v.createEncryptor(b,A);return y=D.finalize(y),D=D.cfg,l.create({ciphertext:y,key:b,iv:D.iv,algorithm:v,mode:D.mode,padding:D.padding,blockSize:v.blockSize,formatter:A.format})},decrypt:function(v,y,b,A){return A=this.cfg.extend(A),y=this._parse(y,A.format),v.createDecryptor(b,A).finalize(y.ciphertext)},_parse:function(v,y){return typeof v=="string"?y.parse(v,this):v}}),d=(d.kdf={}).OpenSSL={execute:function(v,y,b,A){return A||(A=n.random(8)),v=a.create({keySize:y+b}).compute(v,A),b=n.create(v.words.slice(y),4*b),v.sigBytes=4*y,l.create({key:v,iv:b,salt:A})}},p=t.PasswordBasedCipher=c.extend({cfg:c.cfg.extend({kdf:d}),encrypt:function(v,y,b,A){return A=this.cfg.extend(A),b=A.kdf.execute(b,v.keySize,v.ivSize),A.iv=b.iv,v=c.encrypt.call(this,v,y,b.key,A),v.mixIn(b),v},decrypt:function(v,y,b,A){return A=this.cfg.extend(A),y=this._parse(y,A.format),b=A.kdf.execute(b,v.keySize,v.ivSize,y.salt),A.iv=b.iv,c.decrypt.call(this,v,y,b.key,A)}})}(),function(){for(var e=Ae,t=e.lib.BlockCipher,_=e.algo,r=[],n=[],i=[],s=[],a=[],o=[],u=[],f=[],l=[],h=[],c=[],d=0;256>d;d++)c[d]=128>d?d<<1:d<<1^283;for(var p=0,v=0,d=0;256>d;d++){var y=v^v<<1^v<<2^v<<3^v<<4,y=y>>>8^y&255^99;r[p]=y,n[y]=p;var b=c[p],A=c[b],D=c[A],k=257*c[y]^16843008*y;i[p]=k<<24|k>>>8,s[p]=k<<16|k>>>16,a[p]=k<<8|k>>>24,o[p]=k,k=16843009*D^65537*A^257*b^16843008*p,u[y]=k<<24|k>>>8,f[y]=k<<16|k>>>16,l[y]=k<<8|k>>>24,h[y]=k,p?(p=b^c[c[c[D^b]]],v^=c[c[v]]):p=v=1}var L=[0,1,2,4,8,16,32,64,128,27,54],_=_.AES=t.extend({_doReset:function(){for(var P=this._key,F=P.words,R=P.sigBytes/4,P=4*((this._nRounds=R+6)+1),M=this._keySchedule=[],C=0;C<P;C++)if(C<R)M[C]=F[C];else{var m=M[C-1];C%R?6<R&&C%R==4&&(m=r[m>>>24]<<24|r[m>>>16&255]<<16|r[m>>>8&255]<<8|r[m&255]):(m=m<<8|m>>>24,m=r[m>>>24]<<24|r[m>>>16&255]<<16|r[m>>>8&255]<<8|r[m&255],m^=L[C/R|0]<<24),M[C]=M[C-R]^m}for(F=this._invKeySchedule=[],R=0;R<P;R++)C=P-R,m=R%4?M[C]:M[C-4],F[R]=4>R||4>=C?m:u[r[m>>>24]]^f[r[m>>>16&255]]^l[r[m>>>8&255]]^h[r[m&255]]},encryptBlock:function(F,R){this._doCryptBlock(F,R,this._keySchedule,i,s,a,o,r)},decryptBlock:function(F,R){var P=F[R+1];F[R+1]=F[R+3],F[R+3]=P,this._doCryptBlock(F,R,this._invKeySchedule,u,f,l,h,n),P=F[R+1],F[R+1]=F[R+3],F[R+3]=P},_doCryptBlock:function(F,R,P,M,C,m,E,T){for(var O=this._nRounds,z=F[R]^P[0],G=F[R+1]^P[1],$=F[R+2]^P[2],V=F[R+3]^P[3],N=4,H=1;H<O;H++)var Z=M[z>>>24]^C[G>>>16&255]^m[$>>>8&255]^E[V&255]^P[N++],K=M[G>>>24]^C[$>>>16&255]^m[V>>>8&255]^E[z&255]^P[N++],x=M[$>>>24]^C[V>>>16&255]^m[z>>>8&255]^E[G&255]^P[N++],V=M[V>>>24]^C[z>>>16&255]^m[G>>>8&255]^E[$&255]^P[N++],z=Z,G=K,$=x;Z=(T[z>>>24]<<24|T[G>>>16&255]<<16|T[$>>>8&255]<<8|T[V&255])^P[N++],K=(T[G>>>24]<<24|T[$>>>16&255]<<16|T[V>>>8&255]<<8|T[z&255])^P[N++],x=(T[$>>>24]<<24|T[V>>>16&255]<<16|T[z>>>8&255]<<8|T[G&255])^P[N++],V=(T[V>>>24]<<24|T[z>>>16&255]<<16|T[G>>>8&255]<<8|T[$&255])^P[N++],F[R]=Z,F[R+1]=K,F[R+2]=x,F[R+3]=V},keySize:8});e.AES=t._createHelper(_)}(),function(){function e(c,d){var p=(this._lBlock>>>c^this._rBlock)&d;this._rBlock^=p,this._lBlock^=p<<c}function t(c,d){var p=(this._rBlock>>>c^this._lBlock)&d;this._lBlock^=p,this._rBlock^=p<<c}var r=Ae,i=r.lib,n=i.WordArray,i=i.BlockCipher,s=r.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=s.DES=i.extend({_doReset:function(){for(var c=this._key.words,d=[],p=0;56>p;p++){var v=a[p]-1;d[p]=c[v>>>5]>>>31-v%32&1}for(c=this._subKeys=[],v=0;16>v;v++){for(var y=c[v]=[],b=u[v],p=0;24>p;p++)y[p/6|0]|=d[(o[p]-1+b)%28]<<31-p%6,y[4+(p/6|0)]|=d[28+(o[p+24]-1+b)%28]<<31-p%6;for(y[0]=y[0]<<1|y[0]>>>31,p=1;7>p;p++)y[p]>>>=4*(p-1)+3;y[7]=y[7]<<5|y[7]>>>27}for(d=this._invSubKeys=[],p=0;16>p;p++)d[p]=c[15-p]},encryptBlock:function(c,d){this._doCryptBlock(c,d,this._subKeys)},decryptBlock:function(c,d){this._doCryptBlock(c,d,this._invSubKeys)},_doCryptBlock:function(c,d,p){this._lBlock=c[d],this._rBlock=c[d+1],e.call(this,4,252645135),e.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var v=0;16>v;v++){for(var y=p[v],b=this._lBlock,A=this._rBlock,D=0,k=0;8>k;k++)D|=f[k][((A^y[k])&l[k])>>>0];this._lBlock=A,this._rBlock=b^D}p=this._lBlock,this._lBlock=this._rBlock,this._rBlock=p,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),c[d]=this._lBlock,c[d+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});r.DES=i._createHelper(h),s=s.TripleDES=i.extend({_doReset:function(){var c=this._key.words;this._des1=h.createEncryptor(n.create(c.slice(0,2))),this._des2=h.createEncryptor(n.create(c.slice(2,4))),this._des3=h.createEncryptor(n.create(c.slice(4,6)))},encryptBlock:function(c,d){this._des1.encryptBlock(c,d),this._des2.decryptBlock(c,d),this._des3.encryptBlock(c,d)},decryptBlock:function(c,d){this._des3.decryptBlock(c,d),this._des2.encryptBlock(c,d),this._des1.decryptBlock(c,d)},keySize:6,ivSize:2,blockSize:2}),r.TripleDES=i._createHelper(s)}(),function(){var e=Ae,t=e.lib.WordArray;e.enc.Base64={stringify:function(r){var n=r.words,i=r.sigBytes,s=this._map;r.clamp(),r=[];for(var a=0;a<i;a+=3)for(var o=(n[a>>>2]>>>24-8*(a%4)&255)<<16|(n[a+1>>>2]>>>24-8*((a+1)%4)&255)<<8|n[a+2>>>2]>>>24-8*((a+2)%4)&255,u=0;4>u&&a+.75*u<i;u++)r.push(s.charAt(o>>>6*(3-u)&63));if(n=s.charAt(64))for(;r.length%4;)r.push(n);return r.join("")},parse:function(r){var n=r.length,i=this._map,s=i.charAt(64);s&&(s=r.indexOf(s),s!=-1&&(n=s));for(var s=[],a=0,o=0;o<n;o++)if(o%4){var u=i.indexOf(r.charAt(o-1))<<2*(o%4),f=i.indexOf(r.charAt(o))>>>6-2*(o%4);s[a>>>2]|=(u|f)<<24-8*(a%4),a++}return t.create(s,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(h,c,d,p,v,y,b){return h=h+(c&d|~c&p)+v+b,(h<<y|h>>>32-y)+c}function r(h,c,d,p,v,y,b){return h=h+(c&p|d&~p)+v+b,(h<<y|h>>>32-y)+c}function n(h,c,d,p,v,y,b){return h=h+(c^d^p)+v+b,(h<<y|h>>>32-y)+c}function i(h,c,d,p,v,y,b){return h=h+(d^(c|~p))+v+b,(h<<y|h>>>32-y)+c}for(var s=Ae,u=s.lib,a=u.WordArray,o=u.Hasher,u=s.algo,f=[],l=0;64>l;l++)f[l]=4294967296*e.abs(e.sin(l+1))|0;u=u.MD5=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(h,c){for(var d=0;16>d;d++){var p=c+d,v=h[p];h[p]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}var d=this._hash.words,p=h[c+0],v=h[c+1],y=h[c+2],b=h[c+3],A=h[c+4],D=h[c+5],k=h[c+6],L=h[c+7],_=h[c+8],F=h[c+9],R=h[c+10],P=h[c+11],M=h[c+12],C=h[c+13],m=h[c+14],E=h[c+15],T=d[0],H=d[1],N=d[2],O=d[3],T=t(T,H,N,O,p,7,f[0]),O=t(O,T,H,N,v,12,f[1]),N=t(N,O,T,H,y,17,f[2]),H=t(H,N,O,T,b,22,f[3]),T=t(T,H,N,O,A,7,f[4]),O=t(O,T,H,N,D,12,f[5]),N=t(N,O,T,H,k,17,f[6]),H=t(H,N,O,T,L,22,f[7]),T=t(T,H,N,O,_,7,f[8]),O=t(O,T,H,N,F,12,f[9]),N=t(N,O,T,H,R,17,f[10]),H=t(H,N,O,T,P,22,f[11]),T=t(T,H,N,O,M,7,f[12]),O=t(O,T,H,N,C,12,f[13]),N=t(N,O,T,H,m,17,f[14]),H=t(H,N,O,T,E,22,f[15]),T=r(T,H,N,O,v,5,f[16]),O=r(O,T,H,N,k,9,f[17]),N=r(N,O,T,H,P,14,f[18]),H=r(H,N,O,T,p,20,f[19]),T=r(T,H,N,O,D,5,f[20]),O=r(O,T,H,N,R,9,f[21]),N=r(N,O,T,H,E,14,f[22]),H=r(H,N,O,T,A,20,f[23]),T=r(T,H,N,O,F,5,f[24]),O=r(O,T,H,N,m,9,f[25]),N=r(N,O,T,H,b,14,f[26]),H=r(H,N,O,T,_,20,f[27]),T=r(T,H,N,O,C,5,f[28]),O=r(O,T,H,N,y,9,f[29]),N=r(N,O,T,H,L,14,f[30]),H=r(H,N,O,T,M,20,f[31]),T=n(T,H,N,O,D,4,f[32]),O=n(O,T,H,N,_,11,f[33]),N=n(N,O,T,H,P,16,f[34]),H=n(H,N,O,T,m,23,f[35]),T=n(T,H,N,O,v,4,f[36]),O=n(O,T,H,N,A,11,f[37]),N=n(N,O,T,H,L,16,f[38]),H=n(H,N,O,T,R,23,f[39]),T=n(T,H,N,O,C,4,f[40]),O=n(O,T,H,N,p,11,f[41]),N=n(N,O,T,H,b,16,f[42]),H=n(H,N,O,T,k,23,f[43]),T=n(T,H,N,O,F,4,f[44]),O=n(O,T,H,N,M,11,f[45]),N=n(N,O,T,H,E,16,f[46]),H=n(H,N,O,T,y,23,f[47]),T=i(T,H,N,O,p,6,f[48]),O=i(O,T,H,N,L,10,f[49]),N=i(N,O,T,H,m,15,f[50]),H=i(H,N,O,T,D,21,f[51]),T=i(T,H,N,O,M,6,f[52]),O=i(O,T,H,N,b,10,f[53]),N=i(N,O,T,H,R,15,f[54]),H=i(H,N,O,T,v,21,f[55]),T=i(T,H,N,O,_,6,f[56]),O=i(O,T,H,N,E,10,f[57]),N=i(N,O,T,H,k,15,f[58]),H=i(H,N,O,T,C,21,f[59]),T=i(T,H,N,O,A,6,f[60]),O=i(O,T,H,N,P,10,f[61]),N=i(N,O,T,H,y,15,f[62]),H=i(H,N,O,T,F,21,f[63]);d[0]=d[0]+T|0,d[1]=d[1]+H|0,d[2]=d[2]+N|0,d[3]=d[3]+O|0},_doFinalize:function(){var h=this._data,c=h.words,d=8*this._nDataBytes,p=8*h.sigBytes;c[p>>>5]|=128<<24-p%32;var v=e.floor(d/4294967296);for(c[(p+64>>>9<<4)+15]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,c[(p+64>>>9<<4)+14]=(d<<8|d>>>24)&16711935|(d<<24|d>>>8)&4278255360,h.sigBytes=4*(c.length+1),this._process(),h=this._hash,c=h.words,d=0;4>d;d++)p=c[d],c[d]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360;return h},clone:function(){var h=o.clone.call(this);return h._hash=this._hash.clone(),h}}),s.MD5=o._createHelper(u),s.HmacMD5=o._createHmacHelper(u)}(Math),function(){var e=Ae,i=e.lib,t=i.WordArray,r=i.Hasher,n=[],i=e.algo.SHA1=r.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(s,a){for(var o=this._hash.words,u=o[0],f=o[1],l=o[2],h=o[3],c=o[4],d=0;80>d;d++){if(16>d)n[d]=s[a+d]|0;else{var p=n[d-3]^n[d-8]^n[d-14]^n[d-16];n[d]=p<<1|p>>>31}p=(u<<5|u>>>27)+c+n[d],p=20>d?p+((f&l|~f&h)+1518500249):40>d?p+((f^l^h)+1859775393):60>d?p+((f&l|f&h|l&h)-1894007588):p+((f^l^h)-899497514),c=h,h=l,l=f<<30|f>>>2,f=u,u=p}o[0]=o[0]+u|0,o[1]=o[1]+f|0,o[2]=o[2]+l|0,o[3]=o[3]+h|0,o[4]=o[4]+c|0},_doFinalize:function(){var s=this._data,a=s.words,o=8*this._nDataBytes,u=8*s.sigBytes;return a[u>>>5]|=128<<24-u%32,a[(u+64>>>9<<4)+14]=Math.floor(o/4294967296),a[(u+64>>>9<<4)+15]=o,s.sigBytes=4*a.length,this._process(),this._hash},clone:function(){var s=r.clone.call(this);return s._hash=this._hash.clone(),s}});e.SHA1=r._createHelper(i),e.HmacSHA1=r._createHmacHelper(i)}(),function(e){for(var t=Ae,d=t.lib,r=d.WordArray,n=d.Hasher,d=t.algo,i=[],s=[],a=function(v){return 4294967296*(v-(v|0))|0},o=2,u=0;64>u;){var f;e:{f=o;for(var l=e.sqrt(f),h=2;h<=l;h++)if(!(f%h)){f=!1;break e}f=!0}f&&(8>u&&(i[u]=a(e.pow(o,.5))),s[u]=a(e.pow(o,1/3)),u++),o++}var c=[],d=d.SHA256=n.extend({_doReset:function(){this._hash=new r.init(i.slice(0))},_doProcessBlock:function(p,v){for(var y=this._hash.words,b=y[0],A=y[1],D=y[2],k=y[3],L=y[4],_=y[5],F=y[6],R=y[7],P=0;64>P;P++){if(16>P)c[P]=p[v+P]|0;else{var M=c[P-15],C=c[P-2];c[P]=((M<<25|M>>>7)^(M<<14|M>>>18)^M>>>3)+c[P-7]+((C<<15|C>>>17)^(C<<13|C>>>19)^C>>>10)+c[P-16]}M=R+((L<<26|L>>>6)^(L<<21|L>>>11)^(L<<7|L>>>25))+(L&_^~L&F)+s[P]+c[P],C=((b<<30|b>>>2)^(b<<19|b>>>13)^(b<<10|b>>>22))+(b&A^b&D^A&D),R=F,F=_,_=L,L=k+M|0,k=D,D=A,A=b,b=M+C|0}y[0]=y[0]+b|0,y[1]=y[1]+A|0,y[2]=y[2]+D|0,y[3]=y[3]+k|0,y[4]=y[4]+L|0,y[5]=y[5]+_|0,y[6]=y[6]+F|0,y[7]=y[7]+R|0},_doFinalize:function(){var p=this._data,v=p.words,y=8*this._nDataBytes,b=8*p.sigBytes;return v[b>>>5]|=128<<24-b%32,v[(b+64>>>9<<4)+14]=e.floor(y/4294967296),v[(b+64>>>9<<4)+15]=y,p.sigBytes=4*v.length,this._process(),this._hash},clone:function(){var p=n.clone.call(this);return p._hash=this._hash.clone(),p}});t.SHA256=n._createHelper(d),t.HmacSHA256=n._createHmacHelper(d)}(Math),function(){var e=Ae,t=e.lib.WordArray,n=e.algo,r=n.SHA256,n=n.SHA224=r.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var i=r._doFinalize.call(this);return i.sigBytes-=4,i}});e.SHA224=r._createHelper(n),e.HmacSHA224=r._createHmacHelper(n)}(),function(){function e(){return n.create.apply(n,arguments)}for(var t=Ae,r=t.lib.Hasher,s=t.x64,n=s.Word,i=s.WordArray,s=t.algo,a=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],o=[],u=0;80>u;u++)o[u]=e();s=s.SHA512=r.extend({_doReset:function(){this._hash=new i.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(f,l){for(var A=this._hash.words,h=A[0],c=A[1],d=A[2],p=A[3],v=A[4],y=A[5],b=A[6],A=A[7],D=h.high,k=h.low,L=c.high,_=c.low,F=d.high,R=d.low,P=p.high,M=p.low,C=v.high,m=v.low,E=y.high,T=y.low,O=b.high,N=b.low,H=A.high,Z=A.low,K=D,x=k,V=L,z=_,G=F,$=R,ae=P,he=M,ue=C,fe=m,ce=E,j=T,W=O,U=N,Q=H,ee=Z,te=0;80>te;te++){var ie=o[te];if(16>te)var B=ie.high=f[l+2*te]|0,ne=ie.low=f[l+2*te+1]|0;else{var B=o[te-15],ne=B.high,q=B.low,B=(ne>>>1|q<<31)^(ne>>>8|q<<24)^ne>>>7,q=(q>>>1|ne<<31)^(q>>>8|ne<<24)^(q>>>7|ne<<25),Y=o[te-2],ne=Y.high,ge=Y.low,Y=(ne>>>19|ge<<13)^(ne<<3|ge>>>29)^ne>>>6,ge=(ge>>>19|ne<<13)^(ge<<3|ne>>>29)^(ge>>>6|ne<<26),ne=o[te-7],w=ne.high,S=o[te-16],X=S.high,S=S.low,ne=q+ne.low,B=B+w+(ne>>>0<q>>>0?1:0),ne=ne+ge,B=B+Y+(ne>>>0<ge>>>0?1:0),ne=ne+S,B=B+X+(ne>>>0<S>>>0?1:0);ie.high=B,ie.low=ne}var w=ue&ce^~ue&W,S=fe&j^~fe&U,ie=K&V^K&G^V&G,I=x&z^x&$^z&$,q=(K>>>28|x<<4)^(K<<30|x>>>2)^(K<<25|x>>>7),Y=(x>>>28|K<<4)^(x<<30|K>>>2)^(x<<25|K>>>7),ge=a[te],se=ge.high,me=ge.low,ge=ee+((fe>>>14|ue<<18)^(fe>>>18|ue<<14)^(fe<<23|ue>>>9)),X=Q+((ue>>>14|fe<<18)^(ue>>>18|fe<<14)^(ue<<23|fe>>>9))+(ge>>>0<ee>>>0?1:0),ge=ge+S,X=X+w+(ge>>>0<S>>>0?1:0),ge=ge+me,X=X+se+(ge>>>0<me>>>0?1:0),ge=ge+ne,X=X+B+(ge>>>0<ne>>>0?1:0),ne=Y+I,ie=q+ie+(ne>>>0<Y>>>0?1:0),Q=W,ee=U,W=ce,U=j,ce=ue,j=fe,fe=he+ge|0,ue=ae+X+(fe>>>0<he>>>0?1:0)|0,ae=G,he=$,G=V,$=z,V=K,z=x,x=ge+ne|0,K=X+ie+(x>>>0<ge>>>0?1:0)|0}k=h.low=k+x,h.high=D+K+(k>>>0<x>>>0?1:0),_=c.low=_+z,c.high=L+V+(_>>>0<z>>>0?1:0),R=d.low=R+$,d.high=F+G+(R>>>0<$>>>0?1:0),M=p.low=M+he,p.high=P+ae+(M>>>0<he>>>0?1:0),m=v.low=m+fe,v.high=C+ue+(m>>>0<fe>>>0?1:0),T=y.low=T+j,y.high=E+ce+(T>>>0<j>>>0?1:0),N=b.low=N+U,b.high=O+W+(N>>>0<U>>>0?1:0),Z=A.low=Z+ee,A.high=H+Q+(Z>>>0<ee>>>0?1:0)},_doFinalize:function(){var f=this._data,l=f.words,h=8*this._nDataBytes,c=8*f.sigBytes;return l[c>>>5]|=128<<24-c%32,l[(c+128>>>10<<5)+30]=Math.floor(h/4294967296),l[(c+128>>>10<<5)+31]=h,f.sigBytes=4*l.length,this._process(),this._hash.toX32()},clone:function(){var f=r.clone.call(this);return f._hash=this._hash.clone(),f},blockSize:32}),t.SHA512=r._createHelper(s),t.HmacSHA512=r._createHmacHelper(s)}(),function(){var e=Ae,i=e.x64,t=i.Word,r=i.WordArray,i=e.algo,n=i.SHA512,i=i.SHA384=n.extend({_doReset:function(){this._hash=new r.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var s=n._doFinalize.call(this);return s.sigBytes-=16,s}});e.SHA384=n._createHelper(i),e.HmacSHA384=n._createHmacHelper(i)}(),function(){var e=Ae,f=e.lib,t=f.WordArray,r=f.Hasher,f=e.algo,n=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),i=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),s=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),a=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),o=t.create([0,1518500249,1859775393,2400959708,2840853838]),u=t.create([1352829926,1548603684,1836072691,2053994217,0]),f=f.RIPEMD160=r.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,h){for(var c=0;16>c;c++){var d=h+c,p=l[d];l[d]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360}var d=this._hash.words,p=o.words,v=u.words,y=n.words,b=i.words,A=s.words,D=a.words,k,L,_,F,R,P,M,C,m,E;P=k=d[0],M=L=d[1],C=_=d[2],m=F=d[3],E=R=d[4];for(var T,c=0;80>c;c+=1)T=k+l[h+y[c]]|0,T=16>c?T+((L^_^F)+p[0]):32>c?T+((L&_|~L&F)+p[1]):48>c?T+(((L|~_)^F)+p[2]):64>c?T+((L&F|_&~F)+p[3]):T+((L^(_|~F))+p[4]),T|=0,T=T<<A[c]|T>>>32-A[c],T=T+R|0,k=R,R=F,F=_<<10|_>>>22,_=L,L=T,T=P+l[h+b[c]]|0,T=16>c?T+((M^(C|~m))+v[0]):32>c?T+((M&m|C&~m)+v[1]):48>c?T+(((M|~C)^m)+v[2]):64>c?T+((M&C|~M&m)+v[3]):T+((M^C^m)+v[4]),T|=0,T=T<<D[c]|T>>>32-D[c],T=T+E|0,P=E,E=m,m=C<<10|C>>>22,C=M,M=T;T=d[1]+_+m|0,d[1]=d[2]+F+E|0,d[2]=d[3]+R+P|0,d[3]=d[4]+k+M|0,d[4]=d[0]+L+C|0,d[0]=T},_doFinalize:function(){var l=this._data,h=l.words,c=8*this._nDataBytes,d=8*l.sigBytes;for(h[d>>>5]|=128<<24-d%32,h[(d+64>>>9<<4)+14]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360,l.sigBytes=4*(h.length+1),this._process(),l=this._hash,h=l.words,c=0;5>c;c++)d=h[c],h[c]=(d<<8|d>>>24)&16711935|(d<<24|d>>>8)&4278255360;return l},clone:function(){var l=r.clone.call(this);return l._hash=this._hash.clone(),l}});e.RIPEMD160=r._createHelper(f),e.HmacRIPEMD160=r._createHmacHelper(f)}(),function(){var e=Ae,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(r,n){r=this._hasher=new r.init,typeof n=="string"&&(n=t.parse(n));var i=r.blockSize,s=4*i;n.sigBytes>s&&(n=r.finalize(n)),n.clamp();for(var a=this._oKey=n.clone(),o=this._iKey=n.clone(),u=a.words,f=o.words,l=0;l<i;l++)u[l]^=1549556828,f[l]^=909522486;a.sigBytes=o.sigBytes=s,this.reset()},reset:function(){var r=this._hasher;r.reset(),r.update(this._iKey)},update:function(r){return this._hasher.update(r),this},finalize:function(r){var n=this._hasher;return r=n.finalize(r),n.reset(),n.finalize(this._oKey.clone().concat(r))}})}(),function(){var e=Ae,n=e.lib,t=n.Base,r=n.WordArray,n=e.algo,i=n.HMAC,s=n.PBKDF2=t.extend({cfg:t.extend({keySize:4,hasher:n.SHA1,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,o){for(var p=this.cfg,u=i.create(p.hasher,a),f=r.create(),l=r.create([1]),h=f.words,c=l.words,d=p.keySize,p=p.iterations;h.length<d;){var v=u.update(o).finalize(l);u.reset();for(var y=v.words,b=y.length,A=v,D=1;D<p;D++){A=u.finalize(A),u.reset();for(var k=A.words,L=0;L<b;L++)y[L]^=k[L]}f.concat(v),c[0]++}return f.sigBytes=4*d,f}});e.PBKDF2=function(a,o,u){return s.create(u).compute(a,o)}}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t0="=";function ts(e){var t,r,n="";for(t=0;t+3<=e.length;t+=3)r=parseInt(e.substring(t,t+3),16),n+=wi.charAt(r>>6)+wi.charAt(r&63);for(t+1==e.length?(r=parseInt(e.substring(t,t+1),16),n+=wi.charAt(r<<2)):t+2==e.length&&(r=parseInt(e.substring(t,t+2),16),n+=wi.charAt(r>>2)+wi.charAt((r&3)<<4));(n.length&3)>0;)n+=t0;return n}function rf(e){var t="",r,n=0,i,s;for(r=0;r<e.length&&e.charAt(r)!=t0;++r)s=wi.indexOf(e.charAt(r)),!(s<0)&&(n==0?(t+=nn(s>>2),i=s&3,n=1):n==1?(t+=nn(i<<2|s>>4),i=s&15,n=2):n==2?(t+=nn(i),t+=nn(s>>2),i=s&3,n=3):(t+=nn(i<<2|s>>4),t+=nn(s&15),n=0));return n==1&&(t+=nn(i<<2)),t}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
*/var yn;function re(e,t,r){e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}function Ke(){return new re(null)}function Mw(e,t,r,n,i,s){for(;--s>=0;){var a=t*this[e++]+r[n]+i;i=Math.floor(a/67108864),r[n++]=a&67108863}return i}function Bw(e,t,r,n,i,s){for(var a=t&32767,o=t>>15;--s>=0;){var u=this[e]&32767,f=this[e++]>>15,l=o*u+f*a;u=a*u+((l&32767)<<15)+r[n]+(i&1073741823),i=(u>>>30)+(l>>>15)+o*f+(i>>>30),r[n++]=u&1073741823}return i}function Nw(e,t,r,n,i,s){for(var a=t&16383,o=t>>14;--s>=0;){var u=this[e]&16383,f=this[e++]>>14,l=o*u+f*a;u=a*u+((l&16383)<<14)+r[n]+i,i=(u>>28)+(l>>14)+o*f,r[n++]=u&268435455}return i}es.appName=="Microsoft Internet Explorer"?(re.prototype.am=Bw,yn=30):es.appName!="Netscape"?(re.prototype.am=Mw,yn=26):(re.prototype.am=Nw,yn=28),re.prototype.DB=yn,re.prototype.DM=(1<<yn)-1,re.prototype.DV=1<<yn;var nf=52;re.prototype.FV=Math.pow(2,nf),re.prototype.F1=nf-yn,re.prototype.F2=2*yn-nf;var kw="0123456789abcdefghijklmnopqrstuvwxyz",xa=new Array,xi,yr;for(xi="0".charCodeAt(0),yr=0;yr<=9;++yr)xa[xi++]=yr;for(xi="a".charCodeAt(0),yr=10;yr<36;++yr)xa[xi++]=yr;for(xi="A".charCodeAt(0),yr=10;yr<36;++yr)xa[xi++]=yr;function nn(e){return kw.charAt(e)}function r0(e,t){var r=xa[e.charCodeAt(t)];return r??-1}function jw(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function Lw(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function bn(e){var t=Ke();return t.fromInt(e),t}function Vw(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,s=0;--n>=0;){var a=r==8?e[n]&255:r0(e,n);if(a<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this[this.t++]=a:s+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&e[0]&128&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&re.ZERO.subTo(this,this)}function Hw(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function Uw(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,s="",a=this.t,o=this.DB-a*this.DB%t;if(a-- >0)for(o<this.DB&&(n=this[a]>>o)>0&&(i=!0,s=nn(n));a>=0;)o<t?(n=(this[a]&(1<<o)-1)<<t-o,n|=this[--a]>>(o+=this.DB-t)):(n=this[a]>>(o-=t)&r,o<=0&&(o+=this.DB,--a)),n>0&&(i=!0),i&&(s+=nn(n));return i?s:"0"}function qw(){var e=Ke();return re.ZERO.subTo(this,e),e}function Kw(){return this.s<0?this.negate():this}function zw(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this[r]-e[r])!=0)return t;return 0}function Sa(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function $w(){return this.t<=0?0:this.DB*(this.t-1)+Sa(this[this.t-1]^this.s&this.DM)}function Ww(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s}function Gw(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s}function Jw(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM,o;for(o=this.t-1;o>=0;--o)t[o+s+1]=this[o]>>n|a,a=(this[o]&i)<<r;for(o=s-1;o>=0;--o)t[o]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()}function Yw(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)t[a-r-1]|=(this[a]&s)<<i,t[a-r]=this[a]>>n;n>0&&(t[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}function Xw(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()}function Zw(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t[i]=0;for(i=0;i<n.t;++i)t[i+r.t]=r.am(0,n[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&re.ZERO.subTo(t,t)}function Qw(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()}function e4(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Ke());var s=Ke(),a=this.s,o=e.s,u=this.DB-Sa(n[n.t-1]);u>0?(n.lShiftTo(u,s),i.lShiftTo(u,r)):(n.copyTo(s),i.copyTo(r));var f=s.t,l=s[f-1];if(l!=0){var h=l*(1<<this.F1)+(f>1?s[f-2]>>this.F2:0),c=this.FV/h,d=(1<<this.F1)/h,p=1<<this.F2,v=r.t,y=v-f,b=t??Ke();for(s.dlShiftTo(y,b),r.compareTo(b)>=0&&(r[r.t++]=1,r.subTo(b,r)),re.ONE.dlShiftTo(f,b),b.subTo(s,s);s.t<f;)s[s.t++]=0;for(;--y>=0;){var A=r[--v]==l?this.DM:Math.floor(r[v]*c+(r[v-1]+p)*d);if((r[v]+=s.am(0,A,r,y,0,f))<A)for(s.dlShiftTo(y,b),r.subTo(b,r);r[v]<--A;)r.subTo(b,r)}t!=null&&(r.drShiftTo(f,t),a!=o&&re.ZERO.subTo(t,t)),r.t=f,r.clamp(),u>0&&r.rShiftTo(u,r),a<0&&re.ZERO.subTo(r,r)}}}function t4(e){var t=Ke();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(re.ZERO)>0&&e.subTo(t,t),t}function Vn(e){this.m=e}function r4(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function n4(e){return e}function i4(e){e.divRemTo(this.m,null,e)}function s4(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function a4(e,t){e.squareTo(t),this.reduce(t)}Vn.prototype.convert=r4,Vn.prototype.revert=n4,Vn.prototype.reduce=i4,Vn.prototype.mulTo=s4,Vn.prototype.sqrTo=a4;function o4(){if(this.t<1)return 0;var e=this[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function Hn(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function u4(e){var t=Ke();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(re.ZERO)>0&&this.m.subTo(t,t),t}function f4(e){var t=Ke();return e.copyTo(t),this.reduce(t),t}function c4(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e[t]&32767,n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e[r]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function l4(e,t){e.squareTo(t),this.reduce(t)}function h4(e,t,r){e.multiplyTo(t,r),this.reduce(r)}Hn.prototype.convert=u4,Hn.prototype.revert=f4,Hn.prototype.reduce=c4,Hn.prototype.mulTo=h4,Hn.prototype.sqrTo=l4;function d4(){return(this.t>0?this[0]&1:this.s)==0}function p4(e,t){if(e>4294967295||e<1)return re.ONE;var r=Ke(),n=Ke(),i=t.convert(this),s=Sa(e)-1;for(i.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)}function v4(e,t){var r;return e<256||t.isEven()?r=new Vn(t):r=new Hn(t),this.exp(e,r)}re.prototype.copyTo=jw,re.prototype.fromInt=Lw,re.prototype.fromString=Vw,re.prototype.clamp=Hw,re.prototype.dlShiftTo=Ww,re.prototype.drShiftTo=Gw,re.prototype.lShiftTo=Jw,re.prototype.rShiftTo=Yw,re.prototype.subTo=Xw,re.prototype.multiplyTo=Zw,re.prototype.squareTo=Qw,re.prototype.divRemTo=e4,re.prototype.invDigit=o4,re.prototype.isEven=d4,re.prototype.exp=p4,re.prototype.toString=Uw,re.prototype.negate=qw,re.prototype.abs=Kw,re.prototype.compareTo=zw,re.prototype.bitLength=$w,re.prototype.mod=t4,re.prototype.modPowInt=v4,re.ZERO=bn(0),re.ONE=bn(1);/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function g4(){var e=Ke();return this.copyTo(e),e}function m4(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function y4(){return this.t==0?this.s:this[0]<<24>>24}function b4(){return this.t==0?this.s:this[0]<<16>>16}function w4(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function x4(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function S4(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=bn(r),i=Ke(),s=Ke(),a="";for(this.divRemTo(n,i,s);i.signum()>0;)a=(r+s.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,s);return s.intValue().toString(e)+a}function E4(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,s=0,a=0,o=0;o<e.length;++o){var u=r0(e,o);if(u<0){e.charAt(o)=="-"&&this.signum()==0&&(i=!0);continue}a=t*a+u,++s>=r&&(this.dMultiply(n),this.dAddOffset(a,0),s=0,a=0)}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),i&&re.ZERO.subTo(this,this)}function A4(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(re.ONE.shiftLeft(e-1),sf,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(re.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function _4(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function T4(e){return this.compareTo(e)==0}function P4(e){return this.compareTo(e)<0?this:e}function F4(e){return this.compareTo(e)>0?this:e}function I4(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r[n]=t(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r[n]=t(i,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function C4(e,t){return e&t}function O4(e){var t=Ke();return this.bitwiseTo(e,C4,t),t}function sf(e,t){return e|t}function R4(e){var t=Ke();return this.bitwiseTo(e,sf,t),t}function n0(e,t){return e^t}function D4(e){var t=Ke();return this.bitwiseTo(e,n0,t),t}function i0(e,t){return e&~t}function M4(e){var t=Ke();return this.bitwiseTo(e,i0,t),t}function B4(){for(var e=Ke(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function N4(e){var t=Ke();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function k4(e){var t=Ke();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function j4(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}function L4(){for(var e=0;e<this.t;++e)if(this[e]!=0)return e*this.DB+j4(this[e]);return this.s<0?this.t*this.DB:-1}function V4(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function H4(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=V4(this[r]^t);return e}function U4(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this[t]&1<<e%this.DB)!=0}function q4(e,t){var r=re.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function K4(e){return this.changeBit(e,sf)}function z4(e){return this.changeBit(e,i0)}function $4(e){return this.changeBit(e,n0)}function W4(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()}function G4(e){var t=Ke();return this.addTo(e,t),t}function J4(e){var t=Ke();return this.subTo(e,t),t}function Y4(e){var t=Ke();return this.multiplyTo(e,t),t}function X4(){var e=Ke();return this.squareTo(e),e}function Z4(e){var t=Ke();return this.divRemTo(e,t,null),t}function Q4(e){var t=Ke();return this.divRemTo(e,null,t),t}function e3(e){var t=Ke(),r=Ke();return this.divRemTo(e,t,r),new Array(t,r)}function t3(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function r3(e,t){if(e!=0){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function rs(){}function s0(e){return e}function n3(e,t,r){e.multiplyTo(t,r)}function i3(e,t){e.squareTo(t)}rs.prototype.convert=s0,rs.prototype.revert=s0,rs.prototype.mulTo=n3,rs.prototype.sqrTo=i3;function s3(e){return this.exp(e,new rs)}function a3(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r[n+this.t]=this.am(0,e[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e[n],r,n,0,t-n);r.clamp()}function o3(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}function Si(e){this.r2=Ke(),this.q3=Ke(),re.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function u3(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Ke();return e.copyTo(t),this.reduce(t),t}function f3(e){return e}function c3(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function l3(e,t){e.squareTo(t),this.reduce(t)}function h3(e,t,r){e.multiplyTo(t,r),this.reduce(r)}Si.prototype.convert=u3,Si.prototype.revert=f3,Si.prototype.reduce=c3,Si.prototype.mulTo=h3,Si.prototype.sqrTo=l3;function d3(e,t){var r=e.bitLength(),n,i=bn(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new Vn(t):t.isEven()?s=new Si(t):s=new Hn(t);var a=new Array,o=3,u=n-1,f=(1<<n)-1;if(a[1]=s.convert(this),n>1){var l=Ke();for(s.sqrTo(a[1],l);o<=f;)a[o]=Ke(),s.mulTo(l,a[o-2],a[o]),o+=2}var h=e.t-1,c,d=!0,p=Ke(),v;for(r=Sa(e[h])-1;h>=0;){for(r>=u?c=e[h]>>r-u&f:(c=(e[h]&(1<<r+1)-1)<<u-r,h>0&&(c|=e[h-1]>>this.DB+r-u)),o=n;!(c&1);)c>>=1,--o;if((r-=o)<0&&(r+=this.DB,--h),d)a[c].copyTo(i),d=!1;else{for(;o>1;)s.sqrTo(i,p),s.sqrTo(p,i),o-=2;o>0?s.sqrTo(i,p):(v=i,i=p,p=v),s.mulTo(p,a[c],i)}for(;h>=0&&!(e[h]&1<<r);)s.sqrTo(i,p),v=i,i=p,p=v,--r<0&&(r=this.DB-1,--h)}return s.revert(i)}function p3(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function v3(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this[n])%e;return r}function g3(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return re.ZERO;for(var r=e.clone(),n=this.clone(),i=bn(1),s=bn(0),a=bn(0),o=bn(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!o.isEven())&&(a.addTo(this,a),o.subTo(e,o)),a.rShiftTo(1,a)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),s.subTo(o,s)):(n.subTo(r,n),t&&a.subTo(i,a),o.subTo(s,o))}if(n.compareTo(re.ONE)!=0)return re.ZERO;if(o.compareTo(e)>=0)return o.subtract(e);if(o.signum()<0)o.addTo(e,o);else return o;return o.signum()<0?o.add(e):o}var $t=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],m3=(1<<26)/$t[$t.length-1];function y3(e){var t,r=this.abs();if(r.t==1&&r[0]<=$t[$t.length-1]){for(t=0;t<$t.length;++t)if(r[0]==$t[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<$t.length;){for(var n=$t[t],i=t+1;i<$t.length&&n<m3;)n*=$t[i++];for(n=r.modInt(n);t<i;)if(n%$t[t++]==0)return!1}return r.millerRabin(e)}function b3(e){var t=this.subtract(re.ONE),r=t.getLowestSetBit();if(r<=0)return!1;var n=t.shiftRight(r);e=e+1>>1,e>$t.length&&(e=$t.length);for(var i=Ke(),s=0;s<e;++s){i.fromInt($t[Math.floor(Math.random()*$t.length)]);var a=i.modPow(n,this);if(a.compareTo(re.ONE)!=0&&a.compareTo(t)!=0){for(var o=1;o++<r&&a.compareTo(t)!=0;)if(a=a.modPowInt(2,this),a.compareTo(re.ONE)==0)return!1;if(a.compareTo(t)!=0)return!1}}return!0}re.prototype.chunkSize=w4,re.prototype.toRadix=S4,re.prototype.fromRadix=E4,re.prototype.fromNumber=A4,re.prototype.bitwiseTo=I4,re.prototype.changeBit=q4,re.prototype.addTo=W4,re.prototype.dMultiply=t3,re.prototype.dAddOffset=r3,re.prototype.multiplyLowerTo=a3,re.prototype.multiplyUpperTo=o3,re.prototype.modInt=v3,re.prototype.millerRabin=b3,re.prototype.clone=g4,re.prototype.intValue=m4,re.prototype.byteValue=y4,re.prototype.shortValue=b4,re.prototype.signum=x4,re.prototype.toByteArray=_4,re.prototype.equals=T4,re.prototype.min=P4,re.prototype.max=F4,re.prototype.and=O4,re.prototype.or=R4,re.prototype.xor=D4,re.prototype.andNot=M4,re.prototype.not=B4,re.prototype.shiftLeft=N4,re.prototype.shiftRight=k4,re.prototype.getLowestSetBit=L4,re.prototype.bitCount=H4,re.prototype.testBit=U4,re.prototype.setBit=K4,re.prototype.clearBit=z4,re.prototype.flipBit=$4,re.prototype.add=G4,re.prototype.subtract=J4,re.prototype.multiply=Y4,re.prototype.divide=Z4,re.prototype.remainder=Q4,re.prototype.divideAndRemainder=e3,re.prototype.modPow=d3,re.prototype.modInverse=g3,re.prototype.pow=s3,re.prototype.gcd=p3,re.prototype.isProbablePrime=y3,re.prototype.square=X4;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function af(){this.i=0,this.j=0,this.S=new Array}function w3(e){var t,r,n;for(t=0;t<256;++t)this.S[t]=t;for(r=0,t=0;t<256;++t)r=r+this.S[t]+e[t%e.length]&255,n=this.S[t],this.S[t]=this.S[r],this.S[r]=n;this.i=0,this.j=0}function x3(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}af.prototype.init=w3,af.prototype.next=x3;function S3(){return new af}var of=256;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var Ea,nr,Bt;function E3(e){nr[Bt++]^=e&255,nr[Bt++]^=e>>8&255,nr[Bt++]^=e>>16&255,nr[Bt++]^=e>>24&255,Bt>=of&&(Bt-=of)}function a0(){E3(new Date().getTime())}if(nr==null){nr=new Array,Bt=0;var Tr;if(bi!==void 0&&(bi.crypto!==void 0||bi.msCrypto!==void 0)){var o0=bi.crypto||bi.msCrypto;if(o0.getRandomValues){var u0=new Uint8Array(32);for(o0.getRandomValues(u0),Tr=0;Tr<32;++Tr)nr[Bt++]=u0[Tr]}else if(es.appName=="Netscape"&&es.appVersion<"5"){var f0=bi.crypto.random(32);for(Tr=0;Tr<f0.length;++Tr)nr[Bt++]=f0.charCodeAt(Tr)&255}}for(;Bt<of;)Tr=Math.floor(65536*Math.random()),nr[Bt++]=Tr>>>8,nr[Bt++]=Tr&255;Bt=0,a0()}function A3(){if(Ea==null){for(a0(),Ea=S3(),Ea.init(nr),Bt=0;Bt<nr.length;++Bt)nr[Bt]=0;Bt=0}return Ea.next()}function _3(e){var t;for(t=0;t<e.length;++t)e[t]=A3()}function Un(){}Un.prototype.nextBytes=_3;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Ut(e,t){return new re(e,t)}function T3(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var r=new Array,n=e.length-1;n>=0&&t>0;){var i=e.charCodeAt(n--);i<128?r[--t]=i:i>127&&i<2048?(r[--t]=i&63|128,r[--t]=i>>6|192):(r[--t]=i&63|128,r[--t]=i>>6&63|128,r[--t]=i>>12|224)}r[--t]=0;for(var s=new Un,a=new Array;t>2;){for(a[0]=0;a[0]==0;)s.nextBytes(a);r[--t]=a[0]}return r[--t]=2,r[--t]=0,new re(r)}function c0(e,t,r){for(var n="",i=0;n.length<t;)n+=r(String.fromCharCode.apply(String,e.concat([(i&4278190080)>>24,(i&16711680)>>16,(i&65280)>>8,i&255]))),i+=1;return n}function P3(e,t,r,n){var i=g.crypto.MessageDigest,s=g.crypto.Util,a=null;if(r||(r="sha1"),typeof r=="string"&&(a=i.getCanonicalAlgName(r),n=i.getHashLength(a),r=function(v){return br(s.hashHex(Fr(v),a))}),e.length+2*n+2>t)throw"Message too long for RSA";var o="",u;for(u=0;u<t-e.length-2*n-2;u+=1)o+="\0";var f=r("")+o+""+e,l=new Array(n);new Un().nextBytes(l);var h=c0(l,f.length,r),c=[];for(u=0;u<f.length;u+=1)c[u]=f.charCodeAt(u)^h.charCodeAt(u);var d=c0(c,l.length,r),p=[0];for(u=0;u<l.length;u+=1)p[u+1]=l[u]^d.charCodeAt(u);return new re(p.concat(c))}function Fe(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function F3(e,t){if(this.isPublic=!0,this.isPrivate=!1,typeof e!="string")this.n=e,this.e=t;else if(e!=null&&t!=null&&e.length>0&&t.length>0)this.n=Ut(e,16),this.e=parseInt(t,16);else throw"Invalid RSA public key"}function I3(e){return e.modPowInt(this.e,this.n)}function C3(e){var t=T3(e,this.n.bitLength()+7>>3);if(t==null)return null;var r=this.doPublic(t);if(r==null)return null;var n=r.toString(16);return n.length&1?"0"+n:n}function O3(e,t,r){var n=this.n.bitLength()+7>>3,i=P3(e,n,t,r);if(i==null)return null;var s=this.doPublic(i);if(s==null)return null;for(var a=s.toString(16);a.length<n*2;)a="0"+a;return a}Fe.prototype.doPublic=I3,Fe.prototype.setPublic=F3,Fe.prototype.encrypt=C3,Fe.prototype.encryptOAEP=O3,Fe.prototype.type="RSA";/*! (c) Tom Wu, Kenji Urushima | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function R3(e,t){for(var r=e.toByteArray(),n=0;n<r.length&&r[n]==0;)++n;if(r.length-n!=t-1||r[n]!=2)return null;for(++n;r[n]!=0;)if(++n>=r.length)return null;for(var i="";++n<r.length;){var s=r[n]&255;s<128?i+=String.fromCharCode(s):s>191&&s<224?(i+=String.fromCharCode((s&31)<<6|r[n+1]&63),++n):(i+=String.fromCharCode((s&15)<<12|(r[n+1]&63)<<6|r[n+2]&63),n+=2)}return i}function l0(e,t,r){for(var n="",i=0;n.length<t;)n+=r(e+String.fromCharCode.apply(String,[(i&4278190080)>>24,(i&16711680)>>16,(i&65280)>>8,i&255])),i+=1;return n}function D3(e,t,r,n){var i=g.crypto.MessageDigest,s=g.crypto.Util,a=null;r||(r="sha1"),typeof r=="string"&&(a=i.getCanonicalAlgName(r),n=i.getHashLength(a),r=function(y){return br(s.hashHex(Fr(y),a))}),e=e.toByteArray();var h;for(h=0;h<e.length;h+=1)e[h]&=255;for(;e.length<t;)e.unshift(0);if(e=String.fromCharCode.apply(String,e),e.length<2*n+2)throw"Cipher too short";var o=e.substr(1,n),u=e.substr(n+1),f=l0(u,n,r),l=[],h;for(h=0;h<o.length;h+=1)l[h]=o.charCodeAt(h)^f.charCodeAt(h);var c=l0(String.fromCharCode.apply(String,l),e.length-n,r),d=[];for(h=0;h<u.length;h+=1)d[h]=u.charCodeAt(h)^c.charCodeAt(h);if(d=String.fromCharCode.apply(String,d),d.substr(0,n)!==r(""))throw"Hash mismatch";d=d.substr(n);var p=d.indexOf(""),v=p!=-1?d.substr(0,p).lastIndexOf("\0"):-1;if(v+1!=p)throw"Malformed data";return d.substr(p+1)}function M3(e,t,r){if(this.isPrivate=!0,typeof e!="string")this.n=e,this.e=t,this.d=r;else if(e!=null&&t!=null&&e.length>0&&t.length>0)this.n=Ut(e,16),this.e=parseInt(t,16),this.d=Ut(r,16);else throw"Invalid RSA private key"}function B3(e,t,r,n,i,s,a,o){if(this.isPrivate=!0,this.isPublic=!1,e==null)throw"RSASetPrivateEx N == null";if(t==null)throw"RSASetPrivateEx E == null";if(e.length==0)throw"RSASetPrivateEx N.length == 0";if(t.length==0)throw"RSASetPrivateEx E.length == 0";if(e!=null&&t!=null&&e.length>0&&t.length>0)this.n=Ut(e,16),this.e=parseInt(t,16),this.d=Ut(r,16),this.p=Ut(n,16),this.q=Ut(i,16),this.dmp1=Ut(s,16),this.dmq1=Ut(a,16),this.coeff=Ut(o,16);else throw"Invalid RSA private key in RSASetPrivateEx"}function N3(e,t){var r=new Un,n=e>>1;this.e=parseInt(t,16);for(var i=new re(t,16),s=e/2-100,a=re.ONE.shiftLeft(s);;){for(;this.p=new re(e-n,1,r),!(this.p.subtract(re.ONE).gcd(i).compareTo(re.ONE)==0&&this.p.isProbablePrime(10)););for(;this.q=new re(n,1,r),!(this.q.subtract(re.ONE).gcd(i).compareTo(re.ONE)==0&&this.q.isProbablePrime(10)););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var u=this.q.subtract(this.p).abs();if(!(u.bitLength()<s||u.compareTo(a)<=0)){var f=this.p.subtract(re.ONE),l=this.q.subtract(re.ONE),h=f.multiply(l);if(h.gcd(i).compareTo(re.ONE)==0&&(this.n=this.p.multiply(this.q),this.n.bitLength()==e)){this.d=i.modInverse(h),this.dmp1=this.d.mod(f),this.dmq1=this.d.mod(l),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0}function k3(e){if(this.p==null||this.q==null)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),r=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(r)<0;)t=t.add(this.p);return t.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)}function j3(e){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var t=Ut(e,16),r=this.doPrivate(t);return r==null?null:R3(r,this.n.bitLength()+7>>3)}function L3(e,t,r){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var n=Ut(e,16),i=this.doPrivate(n);return i==null?null:D3(i,this.n.bitLength()+7>>3,t,r)}Fe.prototype.doPrivate=k3,Fe.prototype.setPrivate=M3,Fe.prototype.setPrivateEx=B3,Fe.prototype.generate=N3,Fe.prototype.decrypt=j3,Fe.prototype.decryptOAEP=L3;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Nt(e,t){this.x=t,this.q=e}function V3(e){return e==this?!0:this.q.equals(e.q)&&this.x.equals(e.x)}function H3(){return this.x}function U3(){return new Nt(this.q,this.x.negate().mod(this.q))}function q3(e){return new Nt(this.q,this.x.add(e.toBigInteger()).mod(this.q))}function K3(e){return new Nt(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))}function z3(e){return new Nt(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))}function $3(){return new Nt(this.q,this.x.square().mod(this.q))}function W3(e){return new Nt(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))}Nt.prototype.equals=V3,Nt.prototype.toBigInteger=H3,Nt.prototype.negate=U3,Nt.prototype.add=q3,Nt.prototype.subtract=K3,Nt.prototype.multiply=z3,Nt.prototype.square=$3,Nt.prototype.divide=W3,Nt.prototype.sqrt=function(){return new Nt(this.q,this.x.sqrt().mod(this.q))};function $e(e,t,r,n){this.curve=e,this.x=t,this.y=r,n==null?this.z=re.ONE:this.z=n,this.zinv=null}function G3(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function J3(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function Y3(e){if(e==this)return!0;if(this.isInfinity())return e.isInfinity();if(e.isInfinity())return this.isInfinity();var t,r;return t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),t.equals(re.ZERO)?(r=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q),r.equals(re.ZERO)):!1}function X3(){return this.x==null&&this.y==null?!0:this.z.equals(re.ZERO)&&!this.y.toBigInteger().equals(re.ZERO)}function Z3(){return new $e(this.curve,this.x,this.y.negate(),this.z)}function Q3(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),r=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(re.ZERO.equals(r))return re.ZERO.equals(t)?this.twice():this.curve.getInfinity();var n=new re("3"),i=this.x.toBigInteger(),s=this.y.toBigInteger();e.x.toBigInteger(),e.y.toBigInteger();var a=r.square(),o=a.multiply(r),u=i.multiply(a),f=t.square().multiply(this.z),l=f.subtract(u.shiftLeft(1)).multiply(e.z).subtract(o).multiply(r).mod(this.curve.q),h=u.multiply(n).multiply(t).subtract(s.multiply(o)).subtract(f.multiply(t)).multiply(e.z).add(t.multiply(o)).mod(this.curve.q),c=o.multiply(this.z).multiply(e.z).mod(this.curve.q);return new $e(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(h),c)}function e5(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var e=new re("3"),t=this.x.toBigInteger(),r=this.y.toBigInteger(),n=r.multiply(this.z),i=n.multiply(r).mod(this.curve.q),s=this.curve.a.toBigInteger(),a=t.square().multiply(e);re.ZERO.equals(s)||(a=a.add(this.z.square().multiply(s))),a=a.mod(this.curve.q);var o=a.square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(n).mod(this.curve.q),u=a.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(a.square().multiply(a)).mod(this.curve.q),f=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new $e(this.curve,this.curve.fromBigInteger(o),this.curve.fromBigInteger(u),f)}function t5(e){if(this.isInfinity())return this;if(e.signum()==0)return this.curve.getInfinity();var t=e,r=t.multiply(new re("3")),n=this.negate(),i=this,s=this.curve.q.subtract(e),a=s.multiply(new re("3")),o=new $e(this.curve,this.x,this.y),u=o.negate(),f;for(f=r.bitLength()-2;f>0;--f){i=i.twice();var l=r.testBit(f),h=t.testBit(f);l!=h&&(i=i.add(l?this:n))}for(f=a.bitLength()-2;f>0;--f){o=o.twice();var c=a.testBit(f),d=s.testBit(f);c!=d&&(o=o.add(c?o:u))}return i}function r5(e,t,r){var n;e.bitLength()>r.bitLength()?n=e.bitLength()-1:n=r.bitLength()-1;for(var i=this.curve.getInfinity(),s=this.add(t);n>=0;)i=i.twice(),e.testBit(n)?r.testBit(n)?i=i.add(s):i=i.add(this):r.testBit(n)&&(i=i.add(t)),--n;return i}$e.prototype.getX=G3,$e.prototype.getY=J3,$e.prototype.equals=Y3,$e.prototype.isInfinity=X3,$e.prototype.negate=Z3,$e.prototype.add=Q3,$e.prototype.twice=e5,$e.prototype.multiply=t5,$e.prototype.multiplyTwo=r5;function wn(e,t,r){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(r),this.infinity=new $e(this,null,null)}function n5(){return this.q}function i5(){return this.a}function s5(){return this.b}function a5(e){return e==this?!0:this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)}function o5(){return this.infinity}function u5(e){return new Nt(this.q,e)}function f5(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var t=e.substr(0,2);e.substr(2);var r=this.fromBigInteger(new re(u,16)),n=this.getA(),i=this.getB(),s=r.square().add(n).multiply(r).add(i),a=s.sqrt();return t=="03"&&(a=a.negate()),new $e(this,r,a);case 4:case 6:case 7:var o=(e.length-2)/2,u=e.substr(2,o),f=e.substr(o+2,o);return new $e(this,this.fromBigInteger(new re(u,16)),this.fromBigInteger(new re(f,16)));default:return null}}wn.prototype.getQ=n5,wn.prototype.getA=i5,wn.prototype.getB=s5,wn.prototype.equals=a5,wn.prototype.getInfinity=o5,wn.prototype.fromBigInteger=u5,wn.prototype.decodePointHex=f5;/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
 */Nt.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},$e.prototype.getEncoded=function(e){var t=function(s,a){var o=s.toByteArrayUnsigned();if(a<o.length)o=o.slice(o.length-a);else for(;a>o.length;)o.unshift(0);return o},r=this.getX().toBigInteger(),n=this.getY().toBigInteger(),i=t(r,32);return e?n.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(n,32))),i},$e.decodeFrom=function(e,t){t[0];var r=t.length-1,n=t.slice(1,1+r/2),i=t.slice(1+r/2,1+r);n.unshift(0),i.unshift(0);var s=new re(n),a=new re(i);return new $e(e,e.fromBigInteger(s),e.fromBigInteger(a))},$e.decodeFromHex=function(e,t){t.substr(0,2);var r=t.length-2,n=t.substr(2,r/2),i=t.substr(2+r/2,r/2),s=new re(n,16),a=new re(i,16);return new $e(e,e.fromBigInteger(s),e.fromBigInteger(a))},$e.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),r=e.y.subtract(this.y),n=r.divide(t),i=n.square().subtract(this.x).subtract(e.x),s=n.multiply(this.x.subtract(i)).subtract(this.y);return new $e(this.curve,i,s)},$e.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var e=this.curve.fromBigInteger(re.valueOf(2)),t=this.curve.fromBigInteger(re.valueOf(3)),r=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),n=r.square().subtract(this.x.multiply(e)),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new $e(this.curve,n,i)},$e.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(e.signum()==0)return this.curve.getInfinity();var t=e,r=t.multiply(new re("3")),n=this.negate(),i=this,s;for(s=r.bitLength()-2;s>0;--s){i=i.twice();var a=r.testBit(s),o=t.testBit(s);a!=o&&(i=i.add2D(a?this:n))}return i},$e.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),r=this.curve.getA().toBigInteger(),n=this.curve.getB().toBigInteger(),i=this.curve.getQ(),s=t.multiply(t).mod(i),a=e.multiply(e).multiply(e).add(r.multiply(e)).add(n).mod(i);return s.equals(a)},$e.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},$e.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),r=this.getY().toBigInteger();if(t.compareTo(re.ONE)<0||t.compareTo(e.subtract(re.ONE))>0)throw new Error("x coordinate out of bounds");if(r.compareTo(re.ONE)<0||r.compareTo(e.subtract(re.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var h0=function(){var e="(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)",t='(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))',r='(?:"'+t+'*")',n=new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|"+e+"|"+r+")","g"),i=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),s={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function a(l,h,c){return h?s[h]:String.fromCharCode(parseInt(c,16))}var o=new String(""),u="\\",f=Object.hasOwnProperty;return function(l,h){var c=l.match(n),d,p=c[0],v=!1;p==="{"?d={}:p==="["?d=[]:(d=[],v=!0);for(var y,b=[d],A=1-v,D=c.length;A<D;++A){p=c[A];var k;switch(p.charCodeAt(0)){default:k=b[0],k[y||k.length]=+p,y=void 0;break;case 34:if(p=p.substring(1,p.length-1),p.indexOf(u)!==-1&&(p=p.replace(i,a)),k=b[0],!y)if(k instanceof Array)y=k.length;else{y=p||o;break}k[y]=p,y=void 0;break;case 91:k=b[0],b.unshift(k[y||k.length]=[]),y=void 0;break;case 93:b.shift();break;case 102:k=b[0],k[y||k.length]=!1,y=void 0;break;case 110:k=b[0],k[y||k.length]=null,y=void 0;break;case 116:k=b[0],k[y||k.length]=!0,y=void 0;break;case 123:k=b[0],b.unshift(k[y||k.length]={}),y=void 0;break;case 125:b.shift();break}}if(v){if(b.length!==1)throw new Error;d=d[0]}else if(b.length)throw new Error;if(h){var L=function(_,F){var R=_[F];if(R&&typeof R=="object"){var P=null;for(var M in R)if(f.call(R,M)&&R!==_){var C=L(R,M);C!==void 0?R[M]=C:(P||(P=[]),P.push(M))}if(P)for(var m=P.length;--m>=0;)delete R[P[m]]}return h.call(_,F,R)};d=L({"":d},"")}return d}}();(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),g.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if(t.substr(0,1)!="-")t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var r=t.substr(1),n=r.length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var i="",s=0;s<n;s++)i+="f";var a=new re(i,16),o=a.xor(e).add(re.ONE);t=o.toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Lt(e,t)},this.newObject=function(e){var t=g,r=t.asn1,n=r.ASN1Object,i=r.DERBoolean,s=r.DERInteger,a=r.DERBitString,o=r.DEROctetString,u=r.DERNull,f=r.DERObjectIdentifier,l=r.DEREnumerated,h=r.DERUTF8String,c=r.DERNumericString,d=r.DERPrintableString,p=r.DERTeletexString,v=r.DERIA5String,y=r.DERUTCTime,b=r.DERGeneralizedTime,A=r.DERVisibleString,D=r.DERBMPString,k=r.DERSequence,L=r.DERSet,_=r.DERTaggedObject,F=r.ASN1Util.newObject;if(e instanceof r.ASN1Object)return e;var R=Object.keys(e);if(R.length!=1)throw new Error("key of param shall be only one.");var P=R[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+P+":")==-1)throw new Error("undefined key: "+P);if(P=="bool")return new i(e[P]);if(P=="int")return new s(e[P]);if(P=="bitstr")return new a(e[P]);if(P=="octstr")return new o(e[P]);if(P=="null")return new u(e[P]);if(P=="oid")return new f(e[P]);if(P=="enum")return new l(e[P]);if(P=="utf8str")return new h(e[P]);if(P=="numstr")return new c(e[P]);if(P=="prnstr")return new d(e[P]);if(P=="telstr")return new p(e[P]);if(P=="ia5str")return new v(e[P]);if(P=="utctime")return new y(e[P]);if(P=="gentime")return new b(e[P]);if(P=="visstr")return new A(e[P]);if(P=="bmpstr")return new D(e[P]);if(P=="asn1")return new n(e[P]);if(P=="seq"){for(var M=e[P],C=[],m=0;m<M.length;m++){var E=F(M[m]);C.push(E)}return new k({array:C})}if(P=="set"){for(var M=e[P],C=[],m=0;m<M.length;m++){var E=F(M[m]);C.push(E)}return new L({array:C})}if(P=="tag"){var T=e[P];if(Object.prototype.toString.call(T)==="[object Array]"&&T.length==3){var O=F(T[2]);return new _({tag:T[0],explicit:T[1],obj:O})}else return new _(T)}},this.jsonToASN1HEX=function(e){var t=this.newObject(e);return t.tohex()}},g.asn1.ASN1Util.oidHexToInt=function(e){for(var i="",t=parseInt(e.substr(0,2),16),r=Math.floor(t/40),n=t%40,i=r+"."+n,s="",a=2;a<e.length;a+=2){var o=parseInt(e.substr(a,2),16),u=("00000000"+o.toString(2)).slice(-8);if(s=s+u.substr(1,7),u.substr(0,1)=="0"){var f=new re(s,2);i=i+"."+f.toString(10),s=""}}return i},g.asn1.ASN1Util.oidIntToHex=function(e){var t=function(o){var u=o.toString(16);return u.length==1&&(u="0"+u),u},r=function(o){var u="",f=new re(o,10),l=f.toString(2),h=7-l.length%7;h==7&&(h=0);for(var c="",d=0;d<h;d++)c+="0";l=c+l;for(var d=0;d<l.length-1;d+=7){var p=l.substr(d,7);d!=l.length-7&&(p="1"+p),u+=t(parseInt(p,2))}return u};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",i=e.split("."),s=parseInt(i[0])*40+parseInt(i[1]);n+=t(s),i.splice(0,2);for(var a=0;a<i.length;a++)n+=r(i[a]);return n},g.asn1.ASN1Object=function(e){var t="";this.params=null,this.getLengthHexFromValue=function(){if(typeof this.hV>"u"||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+t.length+",v="+this.hV);var r=this.hV.length/2,n=r.toString(16);if(n.length%2==1&&(n="0"+n),r<128)return n;var i=n.length/2;if(i>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+r.toString(16));var s=128+i;return s.toString(16)+n},this.tohex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(r){this.params=r},e!=null&&e.tlv!=null&&(this.hTLV=e.tlv,this.isModified=!1)},g.asn1.DERAbstractString=function(e){g.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=cf(this.s).toLowerCase()},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},typeof e<"u"&&(typeof e=="string"?this.setString(e):typeof e.str<"u"?this.setString(e.str):typeof e.hex<"u"&&this.setStringHex(e.hex))},de(g.asn1.DERAbstractString,g.asn1.ASN1Object),g.asn1.DERAbstractTime=function(e){g.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){var r=t.getTime()+t.getTimezoneOffset()*6e4,n=new Date(r);return n},this.formatDate=function(t,r,n){var i=this.zeroPadding,s=this.localDateToUTC(t),a=String(s.getFullYear());r=="utc"&&(a=a.substr(2,2));var o=i(String(s.getMonth()+1),2),u=i(String(s.getDate()),2),f=i(String(s.getHours()),2),l=i(String(s.getMinutes()),2),h=i(String(s.getSeconds()),2),c=a+o+u+f+l+h;if(n===!0){var d=s.getMilliseconds();if(d!=0){var p=i(String(d),3);p=p.replace(/[0]+$/,""),c=c+"."+p}}return c+"Z"},this.zeroPadding=function(t,r){return t.length>=r?t:new Array(r-t.length+1).join("0")+t},this.setByParam=function(t){this.hV=null,this.hTLV=null,this.params=t},this.getString=function(){},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.params==null&&(this.params={}),this.params.str=t},this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.params==null&&(this.params={}),this.params.date=t},this.setByDateValue=function(t,r,n,i,s,a){var o=new Date(Date.UTC(t,r-1,n,i,s,a,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},de(g.asn1.DERAbstractTime,g.asn1.ASN1Object),g.asn1.DERAbstractStructured=function(e){g.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,typeof e<"u"&&typeof e.array<"u"&&(this.asn1Array=e.array)},de(g.asn1.DERAbstractStructured,g.asn1.ASN1Object),g.asn1.DERBoolean=function(e){g.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",e==!1?this.hTLV="010100":this.hTLV="0101ff"},de(g.asn1.DERBoolean,g.asn1.ASN1Object),g.asn1.DERInteger=function(e){g.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.params=null;var t=g.asn1.ASN1Util.bigIntToMinTwosComplementsHex;this.setByBigInteger=function(r){this.isModified=!0,this.params={bigint:r}},this.setByInteger=function(r){this.isModified=!0,this.params=r},this.setValueHex=function(r){this.isModified=!0,this.params={hex:r}},this.getFreshValueHex=function(){var r=this.params,n=null;if(r==null)throw new Error("value not set");if(typeof r=="object"&&r.hex!=null)return this.hV=r.hex,this.hV;if(typeof r=="number")n=new re(String(r),10);else if(r.int!=null)n=new re(String(r.int),10);else if(r.bigint!=null)n=r.bigint;else throw new Error("wrong parameter");return this.hV=t(n),this.hV},e!=null&&(this.params=e)},de(g.asn1.DERInteger,g.asn1.ASN1Object),g.asn1.DERBitString=function(e){if(e!==void 0&&typeof e.obj<"u"){var t=g.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.tohex()}g.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(r){this.hTLV=null,this.isModified=!0,this.hV=r},this.setUnusedBitsAndHexValue=function(r,n){if(r<0||7<r)throw"unused bits shall be from 0 to 7: u = "+r;var i="0"+r;this.hTLV=null,this.isModified=!0,this.hV=i+n},this.setByBinaryString=function(r){r=r.replace(/0+$/,"");var n=8-r.length%8;n==8&&(n=0),r+="0000000".substr(0,n);for(var i="",s=0;s<r.length-1;s+=8){var a=r.substr(s,8),o=parseInt(a,2).toString(16);o.length==1&&(o="0"+o),i+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+n+i},this.setByBooleanArray=function(r){for(var n="",i=0;i<r.length;i++)r[i]==!0?n+="1":n+="0";this.setByBinaryString(n)},this.newFalseArray=function(r){for(var n=new Array(r),i=0;i<r;i++)n[i]=!1;return n},this.getFreshValueHex=function(){return this.hV},typeof e<"u"&&(typeof e=="string"&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):typeof e.hex<"u"?this.setHexValueIncludingUnusedBits(e.hex):typeof e.bin<"u"?this.setByBinaryString(e.bin):typeof e.array<"u"&&this.setByBooleanArray(e.array))},de(g.asn1.DERBitString,g.asn1.ASN1Object),g.asn1.DEROctetString=function(e){if(e!==void 0&&typeof e.obj<"u"){var t=g.asn1.ASN1Util.newObject(e.obj);e.hex=t.tohex()}g.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},de(g.asn1.DEROctetString,g.asn1.DERAbstractString),g.asn1.DERNull=function(){g.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},de(g.asn1.DERNull,g.asn1.ASN1Object),g.asn1.DERObjectIdentifier=function(e){g.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){var r=b5(t);if(r==null)throw new Error("malformed oid string: "+t);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(t){var r=g.asn1.x509.OID.name2oid(t);if(r!=="")this.setValueOidString(r);else throw new Error("DERObjectIdentifier oidName undefined: "+t)},this.setValueNameOrOid=function(t){t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(t){typeof t=="string"?this.setValueNameOrOid(t):t.oid!==void 0?this.setValueNameOrOid(t.oid):t.name!==void 0?this.setValueNameOrOid(t.name):t.hex!==void 0&&this.setValueHex(t.hex)},e!==void 0&&this.setByParam(e)},de(g.asn1.DERObjectIdentifier,g.asn1.ASN1Object),g.asn1.DEREnumerated=function(e){g.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=g.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var r=new re(String(t),10);this.setByBigInteger(r)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},typeof e<"u"&&(typeof e.int<"u"?this.setByInteger(e.int):typeof e=="number"?this.setByInteger(e):typeof e.hex<"u"&&this.setValueHex(e.hex))},de(g.asn1.DEREnumerated,g.asn1.ASN1Object),g.asn1.DERUTF8String=function(e){g.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},de(g.asn1.DERUTF8String,g.asn1.DERAbstractString),g.asn1.DERNumericString=function(e){g.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},de(g.asn1.DERNumericString,g.asn1.DERAbstractString),g.asn1.DERPrintableString=function(e){g.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},de(g.asn1.DERPrintableString,g.asn1.DERAbstractString),g.asn1.DERTeletexString=function(e){g.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},de(g.asn1.DERTeletexString,g.asn1.DERAbstractString),g.asn1.DERIA5String=function(e){g.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},de(g.asn1.DERIA5String,g.asn1.DERAbstractString),g.asn1.DERVisibleString=function(e){g.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},de(g.asn1.DERVisibleString,g.asn1.DERAbstractString),g.asn1.DERBMPString=function(e){g.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},de(g.asn1.DERBMPString,g.asn1.DERAbstractString),g.asn1.DERUTCTime=function(e){g.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var t=this.params;if(this.params==null&&(t={date:new Date}),typeof t=="string")if(t.match(/^[0-9]{12}Z$/)||t.match(/^[0-9]{12}\.[0-9]+Z$/))this.hV=Pr(t);else throw new Error("malformed string for UTCTime: "+t);else if(t.str!=null)this.hV=Pr(t.str);else if(t.date==null&&t.millis==!0){var r=new Date;this.hV=Pr(this.formatDate(r,"utc",!0))}else if(t.date!=null&&t.date instanceof Date){var n=t.millis===!0;this.hV=Pr(this.formatDate(t.date,"utc",n))}else t instanceof Date&&(this.hV=Pr(this.formatDate(t,"utc")));if(this.hV==null)throw new Error("parameter not specified properly for UTCTime");return this.hV},e!=null&&this.setByParam(e)},de(g.asn1.DERUTCTime,g.asn1.DERAbstractTime),g.asn1.DERGeneralizedTime=function(e){g.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.params=e,this.getFreshValueHex=function(){var t=this.params;if(this.params==null&&(t={date:new Date}),typeof t=="string")if(t.match(/^[0-9]{14}Z$/)||t.match(/^[0-9]{14}\.[0-9]+Z$/))this.hV=Pr(t);else throw new Error("malformed string for GeneralizedTime: "+t);else if(t.str!=null)this.hV=Pr(t.str);else if(t.date==null&&t.millis==!0){var r=new Date;this.hV=Pr(this.formatDate(r,"gen",!0))}else if(t.date!=null&&t.date instanceof Date){var n=t.millis===!0;this.hV=Pr(this.formatDate(t.date,"gen",n))}else t instanceof Date&&(this.hV=Pr(this.formatDate(t,"gen")));if(this.hV==null)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},e!=null&&this.setByParam(e)},de(g.asn1.DERGeneralizedTime,g.asn1.DERAbstractTime),g.asn1.DERSequence=function(e){g.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var t="",r=0;r<this.asn1Array.length;r++){var n=this.asn1Array[r];t+=n.tohex()}return this.hV=t,this.hV}},de(g.asn1.DERSequence,g.asn1.DERAbstractStructured),g.asn1.DERSet=function(e){g.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,r=0;r<this.asn1Array.length;r++){var n=this.asn1Array[r];t.push(n.tohex())}return this.sortFlag==!0&&t.sort(),this.hV=t.join(""),this.hV},typeof e<"u"&&typeof e.sortflag<"u"&&e.sortflag==!1&&(this.sortFlag=!1)},de(g.asn1.DERSet,g.asn1.DERAbstractStructured),g.asn1.DERTaggedObject=function(e){g.asn1.DERTaggedObject.superclass.constructor.call(this);var t=g.asn1,r=ye,n=r.getV;r.isASN1HEX;var i=t.ASN1Util.newObject;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(s,a,o){this.params={tag:a,explicit:s,obj:o}},this.getFreshValueHex=function(){var s=this.params;if(s.explicit==null&&(s.explicit=!0),s.tage!=null&&(s.tag=s.tage,s.explicit=!0),s.tagi!=null&&(s.tag=s.tagi,s.explicit=!1),s.str!=null)this.hV=cf(s.str);else if(s.hex!=null)this.hV=s.hex;else if(s.obj!=null){var a;s.obj instanceof t.ASN1Object?a=s.obj.tohex():typeof s.obj=="object"&&(a=i(s.obj).tohex()),s.explicit?this.hV=a:this.hV=n(a,0)}else throw new Error("str, hex nor obj not specified");return s.tag==null&&(s.tag="a0"),this.hT=s.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(s){this.params=s},e!==void 0&&this.setByParam(e)},de(g.asn1.DERTaggedObject,g.asn1.ASN1Object);var ye=new function(){};ye.getLblen=function(e,t){if(e.substr(t+2,1)!="8")return 1;var r=parseInt(e.substr(t+3,1));return r==0?-1:0<r&&r<10?r+1:-2},ye.getL=function(e,t){var r=ye.getLblen(e,t);return r<1?"":e.substr(t+2,r*2)},ye.getVblen=function(e,t){var r,n;return r=ye.getL(e,t),r==""?-1:(r.substr(0,1)==="8"?n=new re(r.substr(2),16):n=new re(r,16),n.intValue())},ye.getVidx=function(e,t){var r=ye.getLblen(e,t);return r<0?r:t+(r+1)*2},ye.getV=function(e,t){var r=ye.getVidx(e,t),n=ye.getVblen(e,t);return e.substr(r,n*2)},ye.getTLV=function(e,t){return e.substr(t,2)+ye.getL(e,t)+ye.getV(e,t)},ye.getTLVblen=function(e,t){return 2+ye.getLblen(e,t)*2+ye.getVblen(e,t)*2},ye.getNextSiblingIdx=function(e,t){var r=ye.getVidx(e,t),n=ye.getVblen(e,t);return r+n*2},ye.getChildIdx=function(e,t){var r=ye,n=[],i,s,a;i=r.getVidx(e,t),s=r.getVblen(e,t)*2,e.substr(t,2)=="03"&&(i+=2,s-=2),a=0;for(var o=i;a<=s;){var u=r.getTLVblen(e,o);if(a+=u,a<=s&&n.push(o),o+=u,a>=s)break}return n},ye.getNthChildIdx=function(e,t,r){var n=ye.getChildIdx(e,t);return n[r]},ye.getIdxbyList=function(e,t,r,n){var i=ye,s,a;return r.length==0?n!==void 0&&e.substr(t,2)!==n?-1:t:(s=r.shift(),a=i.getChildIdx(e,t),s>=a.length?-1:i.getIdxbyList(e,a[s],r,n))},ye.getIdxbyListEx=function(e,t,r,n){var i=ye,s,a;if(r.length==0)return n!==void 0&&e.substr(t,2)!==n?-1:t;s=r.shift(),a=i.getChildIdx(e,t);for(var o=0,u=0;u<a.length;u++){var f=e.substr(a[u],2);if(typeof s=="number"&&!i.isContextTag(f)&&o==s||typeof s=="string"&&i.isContextTag(f,s))return i.getIdxbyListEx(e,a[u],r,n);i.isContextTag(f)||o++}return-1},ye.getTLVbyList=function(e,t,r,n){var i=ye,s=i.getIdxbyList(e,t,r,n);return s==-1||s>=e.length?null:i.getTLV(e,s)},ye.getTLVbyListEx=function(e,t,r,n){var i=ye,s=i.getIdxbyListEx(e,t,r,n);return s==-1?null:i.getTLV(e,s)},ye.getVbyList=function(e,t,r,n,i){var s=ye,a,o;return a=s.getIdxbyList(e,t,r,n),a==-1||a>=e.length?null:(o=s.getV(e,a),i===!0&&(o=o.substr(2)),o)},ye.getVbyListEx=function(e,t,r,n,i){var s=ye,a,o;return a=s.getIdxbyListEx(e,t,r,n),a==-1?null:(o=s.getV(e,a),e.substr(a,2)=="03"&&i!==!1&&(o=o.substr(2)),o)},ye.getInt=function(e,t,r){r==null&&(r=-1);try{var n=e.substr(t,2);if(n!="02"&&n!="03")return r;var i=ye.getV(e,t);return n=="02"?parseInt(i,16):w5(i)}catch{return r}},ye.getOID=function(e,t,r){r==null&&(r=null);try{if(e.substr(t,2)!="06")return r;var n=ye.getV(e,t);return hf(n)}catch{return r}},ye.getOIDName=function(e,t,r){r==null&&(r=null);try{var n=ye.getOID(e,t,r);if(n==r)return r;var i=g.asn1.x509.OID.oid2name(n);return i==""?n:i}catch{return r}},ye.getString=function(e,t,r){r==null&&(r=null);try{var n=ye.getV(e,t);return br(n)}catch{return r}},ye.hextooidstr=function(e){var t=function(h,c){return h.length>=c?h:new Array(c-h.length+1).join("0")+h},r=[],n=e.substr(0,2),i=parseInt(n,16);r[0]=new String(Math.floor(i/40)),r[1]=new String(i%40);for(var s=e.substr(2),a=[],o=0;o<s.length/2;o++)a.push(parseInt(s.substr(o*2,2),16));for(var u=[],f="",o=0;o<a.length;o++)a[o]&128?f=f+t((a[o]&127).toString(2),7):(f=f+t((a[o]&127).toString(2),7),u.push(new String(parseInt(f,2))),f="");var l=r.join(".");return u.length>0&&(l=l+"."+u.join(".")),l},ye.dump=function(e,t,r,n){var i=ye,s=i.getV,a=i.dump,o=i.getChildIdx,u=e;e instanceof g.asn1.ASN1Object&&(u=e.tohex());var f=function(F,R){if(F.length<=R*2)return F;var P=F.substr(0,R)+"..(total "+F.length/2+"bytes).."+F.substr(F.length-R,R);return P};t===void 0&&(t={ommit_long_octet:32}),r===void 0&&(r=0),n===void 0&&(n="");var l=t.ommit_long_octet,L=u.substr(r,2);if(L=="01"){var h=s(u,r);return h=="00"?n+`BOOLEAN FALSE
`:n+`BOOLEAN TRUE
`}if(L=="02"){var h=s(u,r);return n+"INTEGER "+f(h,l)+`
`}if(L=="03"){var h=s(u,r);if(i.isASN1HEX(h.substr(2))){var c=n+`BITSTRING, encapsulates
`;return c=c+a(h.substr(2),t,0,n+"  "),c}else return n+"BITSTRING "+f(h,l)+`
`}if(L=="04"){var h=s(u,r);if(i.isASN1HEX(h)){var c=n+`OCTETSTRING, encapsulates
`;return c=c+a(h,t,0,n+"  "),c}else return n+"OCTETSTRING "+f(h,l)+`
`}if(L=="05")return n+`NULL
`;if(L=="06"){var d=s(u,r),p=g.asn1.ASN1Util.oidHexToInt(d),v=g.asn1.x509.OID.oid2name(p),y=p.replace(/\./g," ");return v!=""?n+"ObjectIdentifier "+v+" ("+y+`)
`:n+"ObjectIdentifier ("+y+`)
`}if(L=="0a")return n+"ENUMERATED "+parseInt(s(u,r))+`
`;if(L=="0c")return n+"UTF8String '"+Ze(s(u,r))+`'
`;if(L=="13")return n+"PrintableString '"+Ze(s(u,r))+`'
`;if(L=="14")return n+"TeletexString '"+Ze(s(u,r))+`'
`;if(L=="16")return n+"IA5String '"+Ze(s(u,r))+`'
`;if(L=="17")return n+"UTCTime "+Ze(s(u,r))+`
`;if(L=="18")return n+"GeneralizedTime "+Ze(s(u,r))+`
`;if(L=="1a")return n+"VisualString '"+Ze(s(u,r))+`'
`;if(L=="1e")return n+"BMPString '"+w0(s(u,r))+`'
`;if(L=="30"){if(u.substr(r,4)=="3000")return n+`SEQUENCE {}
`;var c=n+`SEQUENCE
`,b=o(u,r),A=t;if((b.length==2||b.length==3)&&u.substr(b[0],2)=="06"&&u.substr(b[b.length-1],2)=="04"){var v=i.oidname(s(u,b[0])),D=JSON.parse(JSON.stringify(t));D.x509ExtName=v,A=D}for(var k=0;k<b.length;k++)c=c+a(u,A,b[k],n+"  ");return c}if(L=="31"){for(var c=n+`SET
`,b=o(u,r),k=0;k<b.length;k++)c=c+a(u,t,b[k],n+"  ");return c}var L=parseInt(L,16);if(L&128){var _=L&31;if(L&32){for(var c=n+"["+_+`]
`,b=o(u,r),k=0;k<b.length;k++)c=c+a(u,t,b[k],n+"  ");return c}else{var h=s(u,r);if(ye.isASN1HEX(h)){var c=n+"["+_+`]
`;return c=c+a(h,t,0,n+"  "),c}else(h.substr(0,8)=="68747470"||t.x509ExtName==="subjectAltName"&&_==2)&&(h=Ze(h));var c=n+"["+_+"] "+h+`
`;return c}}return n+"UNKNOWN("+L+") "+s(u,r)+`
`},ye.parse=function(e){var t=ye,r=t.parse,n=t.isASN1HEX,i=t.getV,s=t.getTLV,a=t.getChildIdx,o=g.asn1,u=o.ASN1Util.oidHexToInt,f=o.x509.OID.oid2name,l=Ze,h=w0,c=l5,d={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},p=function(P){for(var M=[],C=a(P,0),m=0;m<C.length;m++){var E=C[m],T=s(P,E),O=r(T);M.push(O)}return M},v=e.substr(0,2),y={},b=i(e,0);if(v=="01")return e=="0101ff"?{bool:!0}:{bool:!1};if(v=="02")return{int:{hex:b}};if(v=="03")try{if(b.substr(0,2)!="00")throw"not encap";var A=b.substr(2);if(!n(A))throw"not encap";return{bitstr:{obj:r(A)}}}catch{var D=null;return b.length<=10&&(D=x5(b)),D==null?{bitstr:{hex:b}}:{bitstr:{bin:D}}}else if(v=="04")try{if(!n(b))throw"not encap";return{octstr:{obj:r(b)}}}catch{return{octstr:{hex:b}}}else{if(v=="05")return{null:""};if(v=="06"){var k=u(b),L=f(k);return L==""?{oid:k}:{oid:L}}else{if(v=="0a")return b.length>4?{enum:{hex:b}}:{enum:parseInt(b,16)};if(v=="30"||v=="31")return y[d[v]]=p(e),y;if(v=="14"){var _=c(b);return y[d[v]]={str:_},y}else if(v=="1e"){var _=h(b);return y[d[v]]={str:_},y}else if(":0c:12:13:16:17:18:1a:".indexOf(v)!=-1){var _=l(b);return y[d[v]]={str:_},y}else if(v.match(/^8[0-9]$/)){var _=l(b);return _==null|_==""?{tag:{tag:v,explicit:!1,hex:b}}:_.match(/[\x00-\x1F\x7F-\x9F]/)!=null||_.match(/[\u0000-\u001F\u0080–\u009F]/)!=null?{tag:{tag:v,explicit:!1,hex:b}}:{tag:{tag:v,explicit:!1,str:_}}}else if(v.match(/^a[0-9]$/))try{if(!n(b))throw new Error("not encap");return{tag:{tag:v,explicit:!0,obj:r(b)}}}catch{return{tag:{tag:v,explicit:!0,hex:b}}}else{var F=new g.asn1.ASN1Object;F.hV=b;var R=F.getLengthHexFromValue();return{asn1:{tlv:v+R+b}}}}}},ye.isContextTag=function(e,t){e=e.toLowerCase();var r,n;try{r=parseInt(e,16)}catch{return-1}if(t===void 0)return(r&192)==128;try{var i=t.match(/^\[[0-9]+\]$/);return i==null||(n=parseInt(t.substr(1,t.length-1),10),n>31)?!1:(r&192)==128&&(r&31)==n}catch{return!1}},ye.isASN1HEX=function(e){var t=ye;if(e.length%2==1)return!1;var r=t.getVblen(e,0),n=e.substr(0,2),i=t.getL(e,0),s=e.length-n.length-i.length;return s==r*2},ye.checkStrictDER=function(e,t,r,n,i){var s=ye;if(r===void 0){if(typeof e!="string")throw new Error("not hex string");if(e=e.toLowerCase(),!g.lang.String.isHex(e))throw new Error("not hex string");r=e.length,n=e.length/2,n<128?i=1:i=Math.ceil(n.toString(16))+1}var a=s.getL(e,t);if(a.length>i*2)throw new Error("L of TLV too long: idx="+t);var o=s.getVblen(e,t);if(o>n)throw new Error("value of L too long than hex: idx="+t);var u=s.getTLV(e,t),f=u.length-2-s.getL(e,t).length;if(f!==o*2)throw new Error("V string length and L's value not the same:"+f+"/"+o*2);if(t===0&&e.length!=u.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+u.length);var l=e.substr(t,2);if(l==="02"){var h=s.getVidx(e,t);if(e.substr(h,2)=="00"&&e.charCodeAt(h+2)<56)throw new Error("not least zeros for DER INTEGER")}if(parseInt(l,16)&32){for(var c=s.getVblen(e,t),d=0,p=s.getChildIdx(e,t),v=0;v<p.length;v++){var y=s.getTLV(e,p[v]);d+=y.length,s.checkStrictDER(e,p[v],r,n,i)}if(c*2!=d)throw new Error("sum of children's TLV length and L unmatch: "+c*2+"!="+d)}},ye.oidname=function(e){var t=g.asn1;g.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var r=t.x509.OID.oid2name(e);return r===""&&(r=e),r},(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),(typeof g.asn1.x509>"u"||!g.asn1.x509)&&(g.asn1.x509={}),g.asn1.x509.Certificate=function(e){g.asn1.x509.Certificate.superclass.constructor.call(this);var t=g,r=t.asn1,n=r.DERBitString,i=r.DERSequence,s=r.x509,a=s.TBSCertificate,o=s.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(u){this.params=u},this.sign=function(){var u=this.params,f=u.sigalg;u.sigalg.name!=null&&(f=u.sigalg.name);var l=u.tbsobj.tohex(),h=new g.crypto.Signature({alg:f});h.init(u.cakey),h.updateHex(l),u.sighex=h.sign()},this.getPEM=function(){return Lt(this.tohex(),"CERTIFICATE")},this.tohex=function(){var u=this.params;if((u.tbsobj==null||u.tbsobj==null)&&(u.tbsobj=new a(u)),u.sighex==null&&u.cakey!=null&&this.sign(),u.sighex==null)throw new Error("sighex or cakey parameter not defined");var f=[];f.push(u.tbsobj),f.push(new o({name:u.sigalg})),f.push(new n({hex:"00"+u.sighex}));var l=new i({array:f});return l.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&(this.params=e)},de(g.asn1.x509.Certificate,g.asn1.ASN1Object),g.asn1.x509.TBSCertificate=function(e){g.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=g,r=t.asn1,n=r.x509,i=r.DERTaggedObject,s=r.DERInteger,a=r.DERSequence,o=n.AlgorithmIdentifier,u=n.Time,f=n.X500Name,l=n.Extensions,h=n.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(c){this.params=c},this.tohex=function(){var c=[],d=this.params;if(d.version!=null||d.version!=1){var p=2;d.version!=null&&(p=d.version-1);var v=new i({obj:new s({int:p})});c.push(v)}c.push(new s(d.serial)),c.push(new o({name:d.sigalg})),c.push(new f(d.issuer)),c.push(new a({array:[new u(d.notbefore),new u(d.notafter)]})),c.push(new f(d.subject)),c.push(new h(We.getKey(d.sbjpubkey))),d.ext!==void 0&&d.ext.length>0&&c.push(new i({tag:"a3",obj:new l(d.ext)}));var y=new g.asn1.DERSequence({array:c});return y.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)},de(g.asn1.x509.TBSCertificate,g.asn1.ASN1Object),g.asn1.x509.Extensions=function(e){g.asn1.x509.Extensions.superclass.constructor.call(this);var t=g,r=t.asn1,n=r.DERSequence,i=r.x509;this.aParam=[],this.setByParam=function(s){this.aParam=s},this.tohex=function(){for(var s=[],a=0;a<this.aParam.length;a++){var o=this.aParam[a],u=o.extname,f=null;if(o.extn!=null)f=new i.PrivateExtension(o);else if(u=="subjectKeyIdentifier")f=new i.SubjectKeyIdentifier(o);else if(u=="keyUsage")f=new i.KeyUsage(o);else if(u=="subjectAltName")f=new i.SubjectAltName(o);else if(u=="issuerAltName")f=new i.IssuerAltName(o);else if(u=="basicConstraints")f=new i.BasicConstraints(o);else if(u=="nameConstraints")f=new i.NameConstraints(o);else if(u=="cRLDistributionPoints")f=new i.CRLDistributionPoints(o);else if(u=="certificatePolicies")f=new i.CertificatePolicies(o);else if(u=="policyMappings")f=new i.PolicyMappings(o);else if(u=="policyConstraints")f=new i.PolicyConstraints(o);else if(u=="inhibitAnyPolicy")f=new i.InhibitAnyPolicy(o);else if(u=="authorityKeyIdentifier")f=new i.AuthorityKeyIdentifier(o);else if(u=="extKeyUsage")f=new i.ExtKeyUsage(o);else if(u=="authorityInfoAccess")f=new i.AuthorityInfoAccess(o);else if(u=="cRLNumber")f=new i.CRLNumber(o);else if(u=="cRLReason")f=new i.CRLReason(o);else if(u=="ocspNonce")f=new i.OCSPNonce(o);else if(u=="ocspNoCheck")f=new i.OCSPNoCheck(o);else if(u=="adobeTimeStamp")f=new i.AdobeTimeStamp(o);else if(u=="subjectDirectoryAttributes")f=new i.SubjectDirectoryAttributes(o);else throw new Error("extension not supported:"+JSON.stringify(o));f!=null&&s.push(f)}var l=new n({array:s});return l.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.x509.Extensions,g.asn1.ASN1Object),g.asn1.x509.Extension=function(e){g.asn1.x509.Extension.superclass.constructor.call(this);var t=g,r=t.asn1,n=r.DERObjectIdentifier,i=r.DEROctetString;r.DERBitString;var s=r.DERBoolean,a=r.DERSequence;this.tohex=function(){var o=new n({oid:this.oid}),u=new i({hex:this.getExtnValueHex()}),f=new Array;f.push(o),this.critical&&f.push(new s),f.push(u);var l=new a({array:f});return l.tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,e!==void 0&&e.critical!==void 0&&(this.critical=e.critical)},de(g.asn1.x509.Extension,g.asn1.ASN1Object),g.asn1.x509.KeyUsage=function(e){g.asn1.x509.KeyUsage.superclass.constructor.call(this,e);var t=Error,r={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var n=this.getBinValue();return this.asn1ExtnValue=new g.asn1.DERBitString({bin:n}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var n=this.params;if(typeof n!="object"||typeof n.names!="object"&&typeof n.bin!="string")throw new t("parameter not yet set");if(n.names!=null)return df(n.names,r);if(n.bin!=null)return n.bin;throw new t("parameter not set properly")},this.oid="2.5.29.15",e!==void 0&&(this.params=e)},de(g.asn1.x509.KeyUsage,g.asn1.x509.Extension),g.asn1.x509.BasicConstraints=function(e){g.asn1.x509.BasicConstraints.superclass.constructor.call(this,e);var t=g.asn1,r=t.DERBoolean,n=t.DERInteger,i=t.DERSequence;this.getExtnValueHex=function(){var s=new Array;this.cA&&s.push(new r),this.pathLen>-1&&s.push(new n({int:this.pathLen}));var a=new i({array:s});return this.asn1ExtnValue=a,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,e!==void 0&&(e.cA!==void 0&&(this.cA=e.cA),e.pathLen!==void 0&&(this.pathLen=e.pathLen))},de(g.asn1.x509.BasicConstraints,g.asn1.x509.Extension),g.asn1.x509.CRLDistributionPoints=function(e){g.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var t=g,r=t.asn1,n=r.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(i){for(var s=[],a=0;a<i.length;a++)if(i[a]instanceof g.asn1.ASN1Object)s.push(i[a]);else{var o=new n.DistributionPoint(i[a]);s.push(o)}this.asn1ExtnValue=new r.DERSequence({array:s})},this.setByOneURI=function(i){var s=new n.DistributionPoint({fulluri:i});this.setByDPArray([s])},this.oid="2.5.29.31",e!==void 0&&(e.array!==void 0?this.setByDPArray(e.array):e.uri!==void 0&&this.setByOneURI(e.uri))},de(g.asn1.x509.CRLDistributionPoints,g.asn1.x509.Extension),g.asn1.x509.DistributionPoint=function(e){g.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=g,r=t.asn1,n=r.x509.DistributionPointName;this.tohex=function(){var i=new r.DERSequence;if(this.asn1DP!=null){var s=new r.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});i.appendASN1Object(s)}return this.hTLV=i.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(e.dpobj!==void 0?this.asn1DP=e.dpobj:e.dpname!==void 0?this.asn1DP=new n(e.dpname):e.fulluri!==void 0&&(this.asn1DP=new n({full:[{uri:e.fulluri}]})))},de(g.asn1.x509.DistributionPoint,g.asn1.ASN1Object),g.asn1.x509.DistributionPointName=function(e){g.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=g,r=t.asn1,n=r.DERTaggedObject;if(this.tohex=function(){if(this.type!="full")throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new n({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0)if(r.x509.GeneralNames.prototype.isPrototypeOf(e))this.type="full",this.tag="a0",this.asn1V=e;else if(e.full!==void 0)this.type="full",this.tag="a0",this.asn1V=new r.x509.GeneralNames(e.full);else throw new Error("This class supports GeneralNames only as argument")},de(g.asn1.x509.DistributionPointName,g.asn1.ASN1Object),g.asn1.x509.CertificatePolicies=function(e){g.asn1.x509.CertificatePolicies.superclass.constructor.call(this,e);var t=g,r=t.asn1,n=r.x509,i=r.DERSequence,s=n.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var a=[],o=0;o<this.params.array.length;o++)a.push(new s(this.params.array[o]));var u=new i({array:a});return this.asn1ExtnValue=u,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",e!==void 0&&(this.params=e)},de(g.asn1.x509.CertificatePolicies,g.asn1.x509.Extension),g.asn1.x509.PolicyInformation=function(e){g.asn1.x509.PolicyInformation.superclass.constructor.call(this,e);var t=g.asn1,r=t.DERSequence,n=t.DERObjectIdentifier,i=t.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(this.params.policyoid===void 0&&this.params.array===void 0)throw new Error("parameter oid and array missing");var s=[new n(this.params.policyoid)];if(this.params.array!==void 0){for(var a=[],o=0;o<this.params.array.length;o++)a.push(new i(this.params.array[o]));a.length>0&&s.push(new r({array:a}))}var u=new r({array:s});return u.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(this.params=e)},de(g.asn1.x509.PolicyInformation,g.asn1.ASN1Object),g.asn1.x509.PolicyQualifierInfo=function(e){g.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,e);var t=g.asn1,r=t.DERSequence,n=t.DERIA5String,i=t.DERObjectIdentifier,s=t.x509.UserNotice;this.params=null,this.tohex=function(){if(this.params.cps!==void 0){var a=new r({array:[new i({oid:"1.3.6.1.5.5.7.2.1"}),new n({str:this.params.cps})]});return a.tohex()}if(this.params.unotice!=null){var a=new r({array:[new i({oid:"1.3.6.1.5.5.7.2.2"}),new s(this.params.unotice)]});return a.tohex()}},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(this.params=e)},de(g.asn1.x509.PolicyQualifierInfo,g.asn1.ASN1Object),g.asn1.x509.UserNotice=function(e){g.asn1.x509.UserNotice.superclass.constructor.call(this,e);var t=g.asn1.DERSequence;g.asn1.DERInteger;var r=g.asn1.x509.DisplayText,n=g.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var i=[];this.params.noticeref!==void 0&&i.push(new n(this.params.noticeref)),this.params.exptext!==void 0&&i.push(new r(this.params.exptext));var s=new t({array:i});return s.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(this.params=e)},de(g.asn1.x509.UserNotice,g.asn1.ASN1Object),g.asn1.x509.NoticeReference=function(e){g.asn1.x509.NoticeReference.superclass.constructor.call(this,e);var t=g.asn1.DERSequence,r=g.asn1.DERInteger,n=g.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var i=[];if(this.params.org!==void 0&&i.push(new n(this.params.org)),this.params.noticenum!==void 0){for(var s=[],a=this.params.noticenum,o=0;o<a.length;o++)s.push(new r(a[o]));i.push(new t({array:s}))}if(i.length==0)throw new Error("parameter is empty");var u=new t({array:i});return u.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(this.params=e)},de(g.asn1.x509.NoticeReference,g.asn1.ASN1Object),g.asn1.x509.DisplayText=function(e){g.asn1.x509.DisplayText.superclass.constructor.call(this,e),this.hT="0c",e!==void 0&&(e.type==="ia5"?this.hT="16":e.type==="vis"?this.hT="1a":e.type==="bmp"&&(this.hT="1e"))},de(g.asn1.x509.DisplayText,g.asn1.DERAbstractString),g.asn1.x509.PolicyMappings=function(e){g.asn1.x509.PolicyMappings.superclass.constructor.call(this,e);var t=g,r=t.asn1;r.x509;var n=r.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){for(var i=this.params,s=[],a=0;a<i.array.length;a++){var o=i.array[a];s.push({seq:[{oid:o[0]},{oid:o[1]}]})}return this.asn1ExtnValue=n({seq:s}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",e!==void 0&&(this.params=e)},de(g.asn1.x509.PolicyMappings,g.asn1.x509.Extension),g.asn1.x509.PolicyConstraints=function(e){g.asn1.x509.PolicyConstraints.superclass.constructor.call(this,e);var t=g,r=t.asn1;r.x509;var n=r.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){var i=this.params,s=[];return i.reqexp!=null&&s.push({tag:{tagi:"80",obj:{int:i.reqexp}}}),i.inhibit!=null&&s.push({tag:{tagi:"81",obj:{int:i.inhibit}}}),this.asn1ExtnValue=n({seq:s}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",e!==void 0&&(this.params=e)},de(g.asn1.x509.PolicyConstraints,g.asn1.x509.Extension),g.asn1.x509.InhibitAnyPolicy=function(e){g.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,e);var t=g,r=t.asn1;r.x509;var n=r.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=n({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",e!==void 0&&(this.params=e)},de(g.asn1.x509.InhibitAnyPolicy,g.asn1.x509.Extension),g.asn1.x509.NameConstraints=function(e){g.asn1.x509.NameConstraints.superclass.constructor.call(this,e);var t=g,r=t.asn1,n=r.x509,i=r.ASN1Util.newObject,s=n.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var a=this.params,o=[];if(a.permit!=null&&a.permit.length!=null){for(var u=[],f=0;f<a.permit.length;f++)u.push(new s(a.permit[f]));o.push({tag:{tagi:"a0",obj:{seq:u}}})}if(a.exclude!=null&&a.exclude.length!=null){for(var l=[],f=0;f<a.exclude.length;f++)l.push(new s(a.exclude[f]));o.push({tag:{tagi:"a1",obj:{seq:l}}})}return this.asn1ExtnValue=i({seq:o}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",e!==void 0&&(this.params=e)},de(g.asn1.x509.NameConstraints,g.asn1.x509.Extension),g.asn1.x509.GeneralSubtree=function(e){g.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var t=g.asn1,r=t.x509,n=r.GeneralName,i=t.ASN1Util.newObject;this.params=null,this.setByParam=function(s){this.params=s},this.tohex=function(){var s=this.params,a=[new n(s)];s.min!=null&&a.push({tag:{tagi:"80",obj:{int:s.min}}}),s.max!=null&&a.push({tag:{tagi:"81",obj:{int:s.max}}});var o=i({seq:a});return o.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)},de(g.asn1.x509.GeneralSubtree,g.asn1.ASN1Object),g.asn1.x509.ExtKeyUsage=function(e){g.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var t=g,r=t.asn1;this.setPurposeArray=function(n){this.asn1ExtnValue=new r.DERSequence;for(var i=0;i<n.length;i++){var s=new r.DERObjectIdentifier(n[i]);this.asn1ExtnValue.appendASN1Object(s)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",e!==void 0&&e.array!==void 0&&this.setPurposeArray(e.array)},de(g.asn1.x509.ExtKeyUsage,g.asn1.x509.Extension),g.asn1.x509.AuthorityKeyIdentifier=function(e){g.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var t=g,r=t.asn1,n=r.DERTaggedObject,i=r.x509.GeneralNames;t.crypto.Util.isKey,this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var s=new Array;this.asn1KID&&s.push(new n({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&s.push(new n({explicit:!1,tag:"a1",obj:new i([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&s.push(new n({explicit:!1,tag:"82",obj:this.asn1CertSN}));var a=new r.DERSequence({array:s});return this.asn1ExtnValue=a,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(s){if(s.str!==void 0||s.hex!==void 0)this.asn1KID=new g.asn1.DEROctetString(s);else if(typeof s=="object"&&g.crypto.Util.isKey(s)||typeof s=="string"&&s.indexOf("BEGIN ")!=-1){var a=s;typeof s=="string"&&(a=We.getKey(s));var o=We.getKeyID(a);this.asn1KID=new g.asn1.DEROctetString({hex:o})}},this.setCertIssuerByParam=function(s){s.str!==void 0||s.ldapstr!==void 0||s.hex!==void 0||s.certsubject!==void 0||s.certissuer!==void 0?this.asn1CertIssuer=new g.asn1.x509.X500Name(s):typeof s=="string"&&s.indexOf("BEGIN ")!=-1&&s.indexOf("CERTIFICATE")!=-1&&(this.asn1CertIssuer=new g.asn1.x509.X500Name({certissuer:s}))},this.setCertSNByParam=function(s){if(s.str!==void 0||s.bigint!==void 0||s.hex!==void 0)this.asn1CertSN=new g.asn1.DERInteger(s);else if(typeof s=="string"&&s.indexOf("BEGIN ")!=-1&&s.indexOf("CERTIFICATE")){var a=new Me;a.readCertPEM(s);var o=a.getSerialNumberHex();this.asn1CertSN=new g.asn1.DERInteger({hex:o})}},this.oid="2.5.29.35",e!==void 0&&(e.kid!==void 0&&this.setKIDByParam(e.kid),e.issuer!==void 0&&this.setCertIssuerByParam(e.issuer),e.sn!==void 0&&this.setCertSNByParam(e.sn),e.issuersn!==void 0&&typeof e.issuersn=="string"&&e.issuersn.indexOf("BEGIN ")!=-1&&e.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(e.issuersn),this.setCertIssuerByParam(e.issuersn)))},de(g.asn1.x509.AuthorityKeyIdentifier,g.asn1.x509.Extension),g.asn1.x509.SubjectKeyIdentifier=function(e){g.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,e);var t=g,r=t.asn1,n=r.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(i){if(i.str!==void 0||i.hex!==void 0)this.asn1KID=new n(i);else if(typeof i=="object"&&g.crypto.Util.isKey(i)||typeof i=="string"&&i.indexOf("BEGIN")!=-1){var s=i;typeof i=="string"&&(s=We.getKey(i));var a=We.getKeyID(s);this.asn1KID=new g.asn1.DEROctetString({hex:a})}},this.oid="2.5.29.14",e!==void 0&&e.kid!==void 0&&this.setKIDByParam(e.kid)},de(g.asn1.x509.SubjectKeyIdentifier,g.asn1.x509.Extension),g.asn1.x509.AuthorityInfoAccess=function(e){g.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e),this.setAccessDescriptionArray=function(t){for(var r=new Array,n=g,i=n.asn1,s=i.DERSequence,a=i.DERObjectIdentifier,o=i.x509.GeneralName,u=0;u<t.length;u++){var f,l=t[u];if(l.ocsp!==void 0)f=new s({array:[new a({oid:"1.3.6.1.5.5.7.48.1"}),new o({uri:l.ocsp})]});else if(l.caissuer!==void 0)f=new s({array:[new a({oid:"1.3.6.1.5.5.7.48.2"}),new o({uri:l.caissuer})]});else throw new Error("unknown AccessMethod parameter: "+JSON.stringify(l));r.push(f)}this.asn1ExtnValue=new s({array:r})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",e!==void 0&&e.array!==void 0&&this.setAccessDescriptionArray(e.array)},de(g.asn1.x509.AuthorityInfoAccess,g.asn1.x509.Extension),g.asn1.x509.SubjectAltName=function(e){g.asn1.x509.SubjectAltName.superclass.constructor.call(this,e),this.setNameArray=function(t){this.asn1ExtnValue=new g.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",e!==void 0&&e.array!==void 0&&this.setNameArray(e.array)},de(g.asn1.x509.SubjectAltName,g.asn1.x509.Extension),g.asn1.x509.IssuerAltName=function(e){g.asn1.x509.IssuerAltName.superclass.constructor.call(this,e),this.setNameArray=function(t){this.asn1ExtnValue=new g.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",e!==void 0&&e.array!==void 0&&this.setNameArray(e.array)},de(g.asn1.x509.IssuerAltName,g.asn1.x509.Extension),g.asn1.x509.SubjectDirectoryAttributes=function(e){g.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,e);var t=g.asn1,r=t.DERSequence,n=t.ASN1Util.newObject,i=t.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var s=[],a=0;a<this.params.array.length;a++){var o=this.params.array[a];if(o.attr!=null&&o.array!=null){var u={seq:[{oid:o.attr},{set:o.array}]};s.push(n(u));continue}var f={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if(o.attr=="dateOfBirth")f.seq[0].oid=i(o.attr),f.seq[1].set[0]={gentime:o.str};else if(o.attr=="placeOfBirth")f.seq[0].oid=i(o.attr),f.seq[1].set[0]={utf8str:o.str};else if(o.attr=="gender")f.seq[0].oid=i(o.attr),f.seq[1].set[0]={prnstr:o.str};else if(o.attr=="countryOfCitizenship")f.seq[0].oid=i(o.attr),f.seq[1].set[0]={prnstr:o.str};else if(o.attr=="countryOfResidence")f.seq[0].oid=i(o.attr),f.seq[1].set[0]={prnstr:o.str};else throw new Error("unsupported attribute: "+o.attr);s.push(new n(f))}var l=new r({array:s});return this.asn1ExtnValue=l,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",e!==void 0&&(this.params=e)},de(g.asn1.x509.SubjectDirectoryAttributes,g.asn1.x509.Extension),g.asn1.x509.PrivateExtension=function(e){g.asn1.x509.PrivateExtension.superclass.constructor.call(this,e);var t=g,r=t.lang.String.isHex,n=t.asn1,i=n.x509.OID.name2oid,s=n.ASN1Util.newObject;this.params=null,this.setByParam=function(a){this.oid=i(a.extname),this.params=a},this.getExtnValueHex=function(){if(this.params.extname==null||this.params.extn==null)throw new Error("extname or extnhex not specified");var a=this.params.extn;if(typeof a=="string"&&r(a))return a;if(typeof a=="object")try{return s(a).tohex()}catch{}throw new Error("unsupported extn value")},e!=null&&this.setByParam(e)},de(g.asn1.x509.PrivateExtension,g.asn1.x509.Extension),g.asn1.x509.CRL=function(e){g.asn1.x509.CRL.superclass.constructor.call(this);var t=g,r=t.asn1,n=r.DERSequence,i=r.DERBitString,s=r.x509,a=s.AlgorithmIdentifier,o=s.TBSCertList;this.params=void 0,this.setByParam=function(u){this.params=u},this.sign=function(){var u=new o(this.params).tohex(),f=new g.crypto.Signature({alg:this.params.sigalg});f.init(this.params.cakey),f.updateHex(u);var l=f.sign();this.params.sighex=l},this.getPEM=function(){return Lt(this.tohex(),"X509 CRL")},this.tohex=function(){var u=this.params;if(u.tbsobj==null&&(u.tbsobj=new o(u)),u.sighex==null&&u.cakey!=null&&this.sign(),u.sighex==null)throw new Error("sighex or cakey parameter not defined");var f=[];f.push(u.tbsobj),f.push(new a({name:u.sigalg})),f.push(new i({hex:"00"+u.sighex}));var l=new n({array:f});return l.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&(this.params=e)},de(g.asn1.x509.CRL,g.asn1.ASN1Object),g.asn1.x509.TBSCertList=function(e){g.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=g,r=t.asn1,n=r.DERInteger,i=r.DERSequence,s=r.DERTaggedObject;r.DERObjectIdentifier;var a=r.x509,o=a.AlgorithmIdentifier,u=a.Time,f=a.Extensions,l=a.X500Name;this.params=null,this.setByParam=function(h){this.params=h},this.getRevCertSequence=function(){for(var h=[],c=this.params.revcert,d=0;d<c.length;d++){var p=[new n(c[d].sn),new u(c[d].date)];c[d].ext!=null&&p.push(new f(c[d].ext)),h.push(new i({array:p}))}return new i({array:h})},this.tohex=function(){var h=[],c=this.params;if(c.version!=null){var d=c.version-1,p=new n({int:d});h.push(p)}if(h.push(new o({name:c.sigalg})),h.push(new l(c.issuer)),h.push(new u(c.thisupdate)),c.nextupdate!=null&&h.push(new u(c.nextupdate)),c.revcert!=null&&h.push(this.getRevCertSequence()),c.ext!=null){var v=new f(c.ext);h.push(new s({tag:"a0",explicit:!0,obj:v}))}var y=new i({array:h});return y.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)},de(g.asn1.x509.TBSCertList,g.asn1.ASN1Object),g.asn1.x509.CRLEntry=function(e){g.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=g,r=t.asn1;this.setCertSerial=function(n){this.sn=new r.DERInteger(n)},this.setRevocationDate=function(n){this.time=new r.x509.Time(n)},this.tohex=function(){var n=new r.DERSequence({array:[this.sn,this.time]});return this.TLV=n.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(e.time!==void 0&&this.setRevocationDate(e.time),e.sn!==void 0&&this.setCertSerial(e.sn))},de(g.asn1.x509.CRLEntry,g.asn1.ASN1Object),g.asn1.x509.CRLNumber=function(e){g.asn1.x509.CRLNumber.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new g.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",e!=null&&(this.params=e)},de(g.asn1.x509.CRLNumber,g.asn1.x509.Extension),g.asn1.x509.CRLReason=function(e){g.asn1.x509.CRLReason.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new g.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",e!=null&&(this.params=e)},de(g.asn1.x509.CRLReason,g.asn1.x509.Extension),g.asn1.x509.OCSPNonce=function(e){g.asn1.x509.OCSPNonce.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new g.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",e!=null&&(this.params=e)},de(g.asn1.x509.OCSPNonce,g.asn1.x509.Extension),g.asn1.x509.OCSPNoCheck=function(e){g.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new g.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",e!=null&&(this.params=e)},de(g.asn1.x509.OCSPNoCheck,g.asn1.x509.Extension),g.asn1.x509.AdobeTimeStamp=function(e){g.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,e);var t=g,r=t.asn1,n=r.DERInteger,i=r.DERBoolean,s=r.DERSequence,a=r.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var o=this.params,u=[new n(1)];return u.push(new a({uri:o.uri})),o.reqauth!=null&&u.push(new i(o.reqauth)),this.asn1ExtnValue=new s({array:u}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",e!==void 0&&this.setByParam(e)},de(g.asn1.x509.AdobeTimeStamp,g.asn1.x509.Extension),g.asn1.x509.X500Name=function(e){g.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=g,r=t.asn1,n=r.x509,i=n.RDN;this.setByString=function(s,a){a!==void 0&&(this.sRule=a);var o=s.split("/");o.shift();for(var u=[],f=0;f<o.length;f++)if(o[f].match(/^[^=]+=.+$/))u.push(o[f]);else{var l=u.length-1;u[l]=u[l]+"/"+o[f]}for(var f=0;f<u.length;f++)this.asn1Array.push(new i({str:u[f],rule:this.sRule}))},this.setByLdapString=function(s,a){a!==void 0&&(this.sRule=a);var o=n.X500Name.ldapToCompat(s);this.setByString(o,a)},this.setByObject=function(s,a){a!==void 0&&(this.sRule=a);for(var o in s)if(s.hasOwnProperty(o)){var u=new i({str:o+"="+s[o],rule:this.sRule});this.asn1Array?this.asn1Array.push(u):this.asn1Array=[u]}},this.setByParam=function(s){if(s.rule!==void 0&&(this.sRule=s.rule),s.array!==void 0)this.paramArray=s.array;else if(s.str!==void 0)this.setByString(s.str);else if(s.ldapstr!==void 0)this.setByLdapString(s.ldapstr);else if(s.hex!==void 0)this.hTLV=s.hex;else if(s.certissuer!==void 0){var a=new Me;a.readCertPEM(s.certissuer),this.hTLV=a.getIssuerHex()}else if(s.certsubject!==void 0){var a=new Me;a.readCertPEM(s.certsubject),this.hTLV=a.getSubjectHex()}else typeof s=="object"&&s.certsubject===void 0&&s.certissuer===void 0&&this.setByObject(s)},this.tohex=function(){if(typeof this.hTLV=="string")return this.hTLV;if(this.asn1Array.length==0&&this.paramArray.length>0)for(var s=0;s<this.paramArray.length;s++){var a={array:this.paramArray[s]};this.sRule!="utf8"&&(a.rule=this.sRule);var o=new i(a);this.asn1Array.push(o)}var u=new r.DERSequence({array:this.asn1Array});return this.hTLV=u.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)},de(g.asn1.x509.X500Name,g.asn1.ASN1Object),g.asn1.x509.X500Name.compatToLDAP=function(e){if(e.substr(0,1)!=="/")throw"malformed input";e=e.substr(1);var t=e.split("/");return t.reverse(),t=t.map(function(r){return r.replace(/,/,"\\,")}),t.join(",")},g.asn1.x509.X500Name.onelineToLDAP=function(e){return g.asn1.x509.X500Name.compatToLDAP(e)},g.asn1.x509.X500Name.ldapToCompat=function(e){for(var t=e.split(","),r=!1,n=[],i=0;t.length>0;i++){var s=t.shift();if(r===!0){var a=n.pop(),o=(a+","+s).replace(/\\,/g,",");n.push(o),r=!1}else n.push(s);s.substr(-1,1)==="\\"&&(r=!0)}return n=n.map(function(u){return u.replace("/","\\/")}),n.reverse(),"/"+n.join("/")},g.asn1.x509.X500Name.ldapToOneline=function(e){return g.asn1.x509.X500Name.ldapToCompat(e)},g.asn1.x509.RDN=function(e){g.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=g.asn1.x509.AttributeTypeAndValue;this.setByParam=function(r){r.rule!==void 0&&(this.sRule=r.rule),r.str!==void 0&&this.addByMultiValuedString(r.str),r.array!==void 0&&(this.paramArray=r.array)},this.addByString=function(r){this.asn1Array.push(new g.asn1.x509.AttributeTypeAndValue({str:r,rule:this.sRule}))},this.addByMultiValuedString=function(r){for(var n=g.asn1.x509.RDN.parseString(r),i=0;i<n.length;i++)this.addByString(n[i])},this.tohex=function(){if(this.asn1Array.length==0&&this.paramArray.length>0)for(var r=0;r<this.paramArray.length;r++){var n=this.paramArray[r];n.rule!==void 0&&this.sRule!="utf8"&&(n.rule=this.sRule);var i=new t(n);this.asn1Array.push(i)}var s=new g.asn1.DERSet({array:this.asn1Array});return this.TLV=s.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)},de(g.asn1.x509.RDN,g.asn1.ASN1Object),g.asn1.x509.RDN.parseString=function(e){for(var t=e.split(/\+/),r=!1,n=[],i=0;t.length>0;i++){var s=t.shift();if(r===!0){var a=n.pop(),o=(a+"+"+s).replace(/\\\+/g,"+");n.push(o),r=!1}else n.push(s);s.substr(-1,1)==="\\"&&(r=!0)}for(var u=!1,f=[],i=0;n.length>0;i++){var s=n.shift();if(u===!0){var l=f.pop();if(s.match(/"$/)){var o=(l+"+"+s).replace(/^([^=]+)="(.*)"$/,"$1=$2");f.push(o),u=!1}else f.push(l+"+"+s)}else f.push(s);s.match(/^[^=]+="/)&&(u=!0)}return f},g.asn1.x509.AttributeTypeAndValue=function(e){g.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var t=g,r=t.asn1,n=r.DERSequence,i=r.DERUTF8String,s=r.DERPrintableString,a=r.DERTeletexString,o=r.DERIA5String,u=r.DERVisibleString,f=r.DERBMPString,l=t.lang.String.isMail,h=t.lang.String.isPrintable;this.setByParam=function(c){if(c.rule!==void 0&&(this.sRule=c.rule),c.ds!==void 0&&(this.dsType=c.ds),c.value===void 0&&c.str!==void 0){var d=c.str,p=d.match(/^([^=]+)=(.+)$/);if(p)this.sType=p[1],this.sValue=p[2];else throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr)}else this.sType=c.type,this.sValue=c.value},this.setByString=function(c,d){d!==void 0&&(this.sRule=d);var p=c.match(/^([^=]+)=(.+)$/);if(p)this.setByAttrTypeAndValueStr(p[1],p[2]);else throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr)},this._getDsType=function(){var c=this.sType,d=this.sValue,p=this.sRule;return p==="prn"?c=="CN"&&l(d)?"ia5":h(d)?"prn":"utf8":p==="utf8"?c=="CN"&&l(d)?"ia5":c=="C"?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(c,d,p){p!==void 0&&(this.sRule=p),this.sType=c,this.sValue=d},this.getValueObj=function(c,d){if(c=="utf8")return new i({str:d});if(c=="prn")return new s({str:d});if(c=="tel")return new a({str:d});if(c=="ia5")return new o({str:d});if(c=="vis")return new u({str:d});if(c=="bmp")return new f({str:d});throw new Error("unsupported directory string type: type="+c+" value="+d)},this.tohex=function(){this.dsType==null&&(this.dsType=this._getDsType());var c=g.asn1.x509.OID.atype2obj(this.sType),d=this.getValueObj(this.dsType,this.sValue),p=new n({array:[c,d]});return this.TLV=p.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)},de(g.asn1.x509.AttributeTypeAndValue,g.asn1.ASN1Object),g.asn1.x509.SubjectPublicKeyInfo=function(e){g.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=g,r=t.asn1,n=r.DERInteger,i=r.DERBitString,s=r.DERObjectIdentifier,a=r.DERSequence,o=r.ASN1Util.newObject,u=r.x509,f=u.AlgorithmIdentifier,l=t.crypto;l.ECDSA,l.DSA,this.getASN1Object=function(){if(this.asn1AlgId==null||this.asn1SubjPKey==null)throw"algId and/or subjPubKey not set";var h=new a({array:[this.asn1AlgId,this.asn1SubjPKey]});return h},this.tohex=function(){var h=this.getASN1Object();return this.hTLV=h.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(h){try{if(h instanceof Fe){var c=o({seq:[{int:{bigint:h.n}},{int:{int:h.e}}]}),d=c.tohex();this.asn1AlgId=new f({name:"rsaEncryption"}),this.asn1SubjPKey=new i({hex:"00"+d})}}catch{}try{if(h instanceof g.crypto.ECDSA){var p=new s({name:h.curveName});this.asn1AlgId=new f({name:"ecPublicKey",asn1params:p}),this.asn1SubjPKey=new i({hex:"00"+h.pubKeyHex})}}catch{}try{if(h instanceof g.crypto.DSA){var p=new o({seq:[{int:{bigint:h.p}},{int:{bigint:h.q}},{int:{bigint:h.g}}]});this.asn1AlgId=new f({name:"dsa",asn1params:p});var v=new n({bigint:h.y});this.asn1SubjPKey=new i({hex:"00"+v.tohex()})}}catch{}},e!==void 0&&this.setPubKey(e)},de(g.asn1.x509.SubjectPublicKeyInfo,g.asn1.ASN1Object),g.asn1.x509.Time=function(e){g.asn1.x509.Time.superclass.constructor.call(this);var t=g,r=t.asn1,n=r.DERUTCTime,i=r.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(s){this.timeParams=s},this.setByParam=function(s){this.params=s},this.getType=function(s){return s.match(/^[0-9]{12}Z$/)?"utc":s.match(/^[0-9]{14}Z$/)?"gen":s.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":s.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var s=this.params,a=null;if(typeof s=="string"&&(s={str:s}),s!=null&&s.str&&(s.type==null||s.type==null)&&(s.type=this.getType(s.str)),s!=null&&s.str?(s.type=="utc"&&(a=new n(s.str)),s.type=="gen"&&(a=new i(s.str))):this.type=="gen"?a=new i:a=new n,a==null)throw new Error("wrong setting for Time");return this.TLV=a.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},g.asn1.x509.Time_bak=function(e){g.asn1.x509.Time_bak.superclass.constructor.call(this);var t=g,r=t.asn1,n=r.DERUTCTime,i=r.DERGeneralizedTime;this.setTimeParams=function(s){this.timeParams=s},this.tohex=function(){var s=null;return this.timeParams!=null?this.type=="utc"?s=new n(this.timeParams):s=new i(this.timeParams):this.type=="utc"?s=new n:s=new i,this.TLV=s.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",e!==void 0&&(e.type!==void 0?this.type=e.type:e.str!==void 0&&(e.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),e.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=e)},de(g.asn1.x509.Time,g.asn1.ASN1Object),g.asn1.x509.AlgorithmIdentifier=function(e){g.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var t=g,r=t.asn1,n=r.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(this.nameAlg===null&&this.asn1Alg===null)throw new Error("algorithm not specified");if(this.nameAlg!==null){var s=null;for(var a in n)a===this.nameAlg&&(s=n[a]);if(s!==null)return this.hTLV=s,this.hTLV}this.nameAlg!==null&&this.asn1Alg===null&&(this.asn1Alg=r.x509.OID.name2obj(this.nameAlg));var o=[this.asn1Alg];this.asn1Params!==null&&o.push(this.asn1Params);var u=new r.DERSequence({array:o});return this.hTLV=u.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(e.name!==void 0&&(this.nameAlg=e.name),e.asn1params!==void 0&&(this.asn1Params=e.asn1params),e.paramempty!==void 0&&(this.paramEmpty=e.paramempty)),this.asn1Params===null&&this.paramEmpty===!1&&this.nameAlg!==null){this.nameAlg.name!==void 0&&(this.nameAlg=this.nameAlg.name);var i=this.nameAlg.toLowerCase();i.substr(-7,7)!=="withdsa"&&i.substr(-9,9)!=="withecdsa"&&(this.asn1Params=new r.DERNull)}},de(g.asn1.x509.AlgorithmIdentifier,g.asn1.ASN1Object),g.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},g.asn1.x509.GeneralName=function(e){g.asn1.x509.GeneralName.superclass.constructor.call(this);var t=g,r=t.asn1,n=r.x509,i=n.X500Name,s=n.OtherName,a=r.DERIA5String;r.DERPrintableString;var o=r.DEROctetString,u=r.DERTaggedObject,f=r.ASN1Object,l=Error;this.params=null,this.setByParam=function(h){this.params=h},this.tohex=function(){var h=this.params,c,p,d,p=!1;if(h.other!==void 0)c="a0",d=new s(h.other);else if(h.rfc822!==void 0)c="81",d=new a({str:h.rfc822});else if(h.dns!==void 0)c="82",d=new a({str:h.dns});else if(h.dn!==void 0)c="a4",p=!0,typeof h.dn=="string"?d=new i({str:h.dn}):h.dn instanceof g.asn1.x509.X500Name?d=h.dn:d=new i(h.dn);else if(h.ldapdn!==void 0)c="a4",p=!0,d=new i({ldapstr:h.ldapdn});else if(h.certissuer!==void 0||h.certsubj!==void 0){c="a4",p=!0;var v,y,b=null;if(h.certsubj!==void 0?(v=!1,y=h.certsubj):(v=!0,y=h.certissuer),y.match(/^[0-9A-Fa-f]+$/),y.indexOf("-----BEGIN ")!=-1&&(b=Ft(y)),b==null)throw new Error("certsubj/certissuer not cert");var A=new Me;A.hex=b;var D;v?D=A.getIssuerHex():D=A.getSubjectHex(),d=new f,d.hTLV=D}else if(h.uri!==void 0)c="86",d=new a({str:h.uri});else if(h.ip!==void 0){c="87";var k,L=h.ip;try{if(L.match(/^[0-9a-f]+$/)){var _=L.length;if(_==8||_==16||_==32||_==64)k=L;else throw"err"}else k=y0(L)}catch(R){throw new l("malformed IP address: "+h.ip+":"+R.message)}d=new o({hex:k})}else throw new l("improper params");var F=new u({tag:c,explicit:p,obj:d});return F.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)},de(g.asn1.x509.GeneralName,g.asn1.ASN1Object),g.asn1.x509.GeneralNames=function(e){g.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=g,r=t.asn1;this.setByParamArray=function(n){for(var i=0;i<n.length;i++){var s=new r.x509.GeneralName(n[i]);this.asn1Array.push(s)}},this.tohex=function(){var n=new r.DERSequence({array:this.asn1Array});return n.tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,typeof e<"u"&&this.setByParamArray(e)},de(g.asn1.x509.GeneralNames,g.asn1.ASN1Object),g.asn1.x509.OtherName=function(e){g.asn1.x509.OtherName.superclass.constructor.call(this);var t=g,r=t.asn1,n=r.DERObjectIdentifier,i=r.DERSequence,s=r.ASN1Util.newObject;this.params=null,this.setByParam=function(a){this.params=a},this.tohex=function(){var a=this.params;if(a.oid==null||a.value==null)throw new Error("oid or value not specified");var o=new n({oid:a.oid}),u=s({tag:{tag:"a0",explicit:!0,obj:a.value}}),f=new i({array:[o,u]});return f.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)},de(g.asn1.x509.OtherName,g.asn1.ASN1Object),g.asn1.x509.OID=new function(){var e=g.asn1.DERObjectIdentifier;this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1",smimeMailboxLegacy:"2.23.140.1.5.1.1",smimeMailboxMulti:"2.23.140.1.5.1.2",smimeMailboxStrict:"2.23.140.1.5.1.3",smimeOrganizationLegacy:"2.23.140.1.5.2.1",smimeOrganizationMulti:"2.23.140.1.5.2.2",smimeOrganizationStrict:"2.23.140.1.5.2.3",smimeSponsorLegacy:"2.23.140.1.5.3.1",smimeSponsorMulti:"2.23.140.1.5.3.2",smimeSponsorStrict:"2.23.140.1.5.3.3",smimeIndividualLegacy:"2.23.140.1.5.4.1",smimeIndividualMulti:"2.23.140.1.5.4.2",smimeIndividualStrict:"2.23.140.1.5.4.3"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",GN:"2.5.4.42",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(t){if(typeof this.objCache[t]<"u")return this.objCache[t];if(typeof this.name2oidList[t]>"u")throw"Name of ObjectIdentifier not defined: "+t;var r=this.name2oidList[t],n=new e({oid:r});return this.objCache[t]=n,n},this.atype2obj=function(t){if(this.objCache[t]!==void 0)return this.objCache[t];var r;if(t.match(/^\d+\.\d+\.[0-9.]+$/))r=t;else if(this.atype2oidList[t]!==void 0)r=this.atype2oidList[t];else if(this.name2oidList[t]!==void 0)r=this.name2oidList[t];else throw new Error("AttributeType name undefined: "+t);var n=new e({oid:r});return this.objCache[t]=n,n},this.registerOIDs=function(t){if(this.checkOIDs(t))for(var r in t)this.name2oidList[r]=t[r]},this.checkOIDs=function(t){try{var r=Object.keys(t);return r.length==0?!1:(r.map(function(n,i,s){var a=this[n];if(!a.match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")},t),!0)}catch{return!1}}},g.asn1.x509.OID.oid2name=function(e){var t=g.asn1.x509.OID.name2oidList;for(var r in t)if(t[r]==e)return r;return""},g.asn1.x509.OID.oid2atype=function(e){var t=g.asn1.x509.OID.atype2oidList;for(var r in t)if(t[r]==e)return r;return e},g.asn1.x509.OID.name2oid=function(e){if(e.match(/^[0-9.]+$/))return e;var t=g.asn1.x509.OID.name2oidList;return t[e]===void 0?"":t[e]},g.asn1.x509.X509Util={},g.asn1.x509.X509Util.newCertPEM=function(e){var t=g.asn1.x509;t.TBSCertificate;var r=t.Certificate,n=new r(e);return n.getPEM()},(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),(typeof g.asn1.cms>"u"||!g.asn1.cms)&&(g.asn1.cms={}),g.asn1.cms.Attribute=function(e){var t=Error,r=g,n=r.asn1,i=n.DERSequence,s=n.DERSet,a=n.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(o){this.params=o},this.getValueArray=function(){throw new t("not yet implemented abstract")},this.tohex=function(){var o=new a({oid:this.typeOid}),u=new s({array:this.getValueArray()}),f=new i({array:[o,u]});return f.tohex()},this.getEncodedHex=function(){return this.tohex()}},de(g.asn1.cms.Attribute,g.asn1.ASN1Object),g.asn1.cms.ContentType=function(e){var t=g,r=t.asn1;r.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){var n=new r.DERObjectIdentifier(this.params.type);return[n]},e!=null&&this.setByParam(e)},de(g.asn1.cms.ContentType,g.asn1.cms.Attribute),g.asn1.cms.MessageDigest=function(e){var t=g,r=t.asn1,n=r.DEROctetString,i=r.cms;i.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){var s=new n(this.params);return[s]},e!=null&&this.setByParam(e)},de(g.asn1.cms.MessageDigest,g.asn1.cms.Attribute),g.asn1.cms.SigningTime=function(e){var t=g,r=t.asn1;r.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){var n=new r.x509.Time(this.params);return[n]},e!=null&&this.setByParam(e)},de(g.asn1.cms.SigningTime,g.asn1.cms.Attribute),g.asn1.cms.SigningCertificate=function(e){var t=Error,r=g,n=r.asn1,i=n.DERSequence,s=n.cms,a=s.ESSCertID;r.crypto,s.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(this.params==null||this.params==null||this.params.array==null)throw new t("parameter 'array' not specified");for(var o=this.params.array,u=[],f=0;f<o.length;f++){var l=o[f];e.hasis==!1&&typeof l=="string"&&(l.indexOf("-----BEGIN")!=-1||ye.isASN1HEX(l))&&(l={cert:l}),l.hasis!=!1&&e.hasis==!1&&(l.hasis=!1),u.push(new a(l))}var h=new i({array:u}),c=new i({array:[h]});return[c]},e!=null&&this.setByParam(e)},de(g.asn1.cms.SigningCertificate,g.asn1.cms.Attribute),g.asn1.cms.ESSCertID=function(e){g.asn1.cms.ESSCertID.superclass.constructor.call(this);var t=Error,r=g,n=r.asn1,i=n.DEROctetString,s=n.DERSequence,a=n.cms.IssuerSerial;this.params=null,this.getCertHash=function(o,u){if(o.hash!=null)return o.hash;if(typeof o=="string"&&o.indexOf("-----BEGIN")==-1&&!ye.isASN1HEX(o))return o;var f;if(typeof o=="string")f=o;else if(o.cert!=null)f=o.cert;else throw new t("hash nor cert unspecified");var l;f.indexOf("-----BEGIN")!=-1?l=Ft(f):l=f,typeof o=="string"&&(o.indexOf("-----BEGIN")!=-1?l=Ft(o):ye.isASN1HEX(o)&&(l=o));var h;if(o.alg!=null)h=o.alg;else if(u!=null)h=u;else throw new t("hash alg unspecified");return r.crypto.Util.hashHex(l,h)},this.tohex=function(){var o=this.params,u=this.getCertHash(o,"sha1"),f=[];f.push(new i({hex:u})),(typeof o=="string"&&o.indexOf("-----BEGIN")!=-1||o.cert!=null&&o.hasis!=!1||o.issuer!=null&&o.serial!=null)&&f.push(new a(o));var l=new s({array:f});return l.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.cms.ESSCertID,g.asn1.ASN1Object),g.asn1.cms.SigningCertificateV2=function(e){var t=Error,r=g,n=r.asn1,i=n.DERSequence;n.x509;var s=n.cms,a=s.ESSCertIDv2;r.crypto,s.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(this.params==null||this.params==null||this.params.array==null)throw new t("parameter 'array' not specified");for(var o=this.params.array,u=[],f=0;f<o.length;f++){var l=o[f];(e.alg!=null||e.hasis==!1)&&typeof l=="string"&&(l.indexOf("-----BEGIN")!=-1||ye.isASN1HEX(l))&&(l={cert:l}),l.alg==null&&e.alg!=null&&(l.alg=e.alg),l.hasis!=!1&&e.hasis==!1&&(l.hasis=!1),u.push(new a(l))}var h=new i({array:u}),c=new i({array:[h]});return[c]},e!=null&&this.setByParam(e)},de(g.asn1.cms.SigningCertificateV2,g.asn1.cms.Attribute),g.asn1.cms.ESSCertIDv2=function(e){g.asn1.cms.ESSCertIDv2.superclass.constructor.call(this);var t=g,r=t.asn1,n=r.DEROctetString,i=r.DERSequence,s=r.cms.IssuerSerial,a=r.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var o=this.params,u=this.getCertHash(o,"sha256"),f=[];o.alg!=null&&o.alg!="sha256"&&f.push(new a({name:o.alg})),f.push(new n({hex:u})),(typeof o=="string"&&o.indexOf("-----BEGIN")!=-1||o.cert!=null&&o.hasis!=!1||o.issuer!=null&&o.serial!=null)&&f.push(new s(o));var l=new i({array:f});return l.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.cms.ESSCertIDv2,g.asn1.cms.ESSCertID),g.asn1.cms.IssuerSerial=function(e){var t=Error,r=g,n=r.asn1,i=n.DERInteger,s=n.DERSequence,a=n.cms,o=n.x509,u=o.GeneralNames,f=Me;a.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(l){this.params=l},this.tohex=function(){var l=this.params,h,c;if(typeof l=="string"&&l.indexOf("-----BEGIN")!=-1||l.cert!=null){var d;l.cert!=null?d=l.cert:d=l;var p=new f;p.readCertPEM(d),h=p.getIssuer(),c={hex:p.getSerialNumberHex()}}else if(l.issuer!=null&&l.serial)h=l.issuer,c=l.serial;else throw new t("cert or issuer and serial parameter not specified");var v=new u([{dn:h}]),y=new i(c),b=new s({array:[v,y]});return b.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.cms.IssuerSerial,g.asn1.ASN1Object),g.asn1.cms.SignerIdentifier=function(e){var t=g,r=t.asn1;r.DERInteger,r.DERSequence;var n=r.cms,i=n.IssuerAndSerialNumber,s=n.SubjectKeyIdentifier,a=r.x509;a.X500Name,n.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var o=this.params;if(o.type=="isssn"){var u=new i(o);return u.tohex()}else if(o.type=="skid"){var f=new s(o);return f.tohex()}else throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.cms.SignerIdentifier,g.asn1.ASN1Object),g.asn1.cms.IssuerAndSerialNumber=function(e){var t=g,r=t.asn1,n=r.DERInteger,i=r.DERSequence,s=r.cms,a=r.x509,o=a.X500Name,u=Me,f=Error;s.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var l=this.params,h,c;if(typeof l=="string"&&l.indexOf("-----BEGIN")!=-1||l.cert!=null){var d;l.cert!=null?d=l.cert:d=l;var p=new u;p.readCertPEM(d),h=p.getIssuer(),c={hex:p.getSerialNumberHex()}}else if(l.issuer!=null&&l.serial)h=l.issuer,c=l.serial;else throw new f("cert or issuer and serial parameter not specified");var v=new o(h),y=new n(c),b=new i({array:[v,y]});return b.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(l){this.params=l},e!=null&&this.setByParam(e)},de(g.asn1.cms.IssuerAndSerialNumber,g.asn1.ASN1Object),g.asn1.cms.SubjectKeyIdentifier=function(e){var t=g,r=t.asn1;r.DERInteger,r.DERSequence;var n=r.ASN1Util.newObject,i=r.cms;i.IssuerAndSerialName,i.SubjectKeyIdentifier;var s=r.x509;s.X500Name;var a=Me,o=Error;i.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var u=this.params;if(u.cert==null&&u.skid==null)throw new o("property cert nor skid undefined");var f;if(u.cert!=null){var l=new a(u.cert),h=l.getExtSubjectKeyIdentifier();f=h.kid.hex}else u.skid!=null&&(f=u.skid);var c=n({tag:{tage:"a0",obj:{octstr:{hex:f}}}});return c.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.cms.SubjectKeyIdentifier,g.asn1.ASN1Object),g.asn1.cms.AttributeList=function(e){var t=Error,r=g,n=r.asn1,i=n.DERSet,s=n.cms;s.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(a){this.params=a},this.tohex=function(){var a=this.params;if(this.hTLV!=null)return this.hTLV;var o=!0;a.sortflag!=null&&(o=a.sortflag);for(var u=a.array,f=[],l=0;l<u.length;l++){var h=u[l],c=h.attr;if(c=="contentType")f.push(new s.ContentType(h));else if(c=="messageDigest")f.push(new s.MessageDigest(h));else if(c=="signingTime")f.push(new s.SigningTime(h));else if(c=="signingCertificate")f.push(new s.SigningCertificate(h));else if(c=="signingCertificateV2")f.push(new s.SigningCertificateV2(h));else if(c=="signaturePolicyIdentifier")f.push(new g.asn1.cades.SignaturePolicyIdentifier(h));else if(c=="signatureTimeStamp"||c=="timeStampToken")f.push(new g.asn1.cades.SignatureTimeStamp(h));else throw new t("unknown attr: "+c)}var d=new i({array:f,sortflag:o});return this.hTLV=d.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.cms.AttributeList,g.asn1.ASN1Object),g.asn1.cms.SignerInfo=function(e){var t=Error,r=g,n=r.asn1,i=n.DERInteger,s=n.DEROctetString,a=n.DERSequence,o=n.DERTaggedObject,u=n.cms,f=u.SignerIdentifier,l=u.AttributeList;u.ContentType,u.EncapsulatedContentInfo,u.MessageDigest,u.SignedData;var h=n.x509,c=h.AlgorithmIdentifier,d=r.crypto,p=We;u.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var v=this.params,y=v.sigalg,b=new l(v.sattrs).tohex(),A=p.getKey(v.signkey),D=new d.Signature({alg:y});D.init(A),D.updateHex(b);var k=D.sign();v.sighex=k},this.tohex=function(){var v=this.params,y=[];if(y.push(new i({int:v.version})),y.push(new f(v.id)),y.push(new c({name:v.hashalg})),v.sattrs!=null){var b=new l(v.sattrs);try{y.push(new o({tag:"a0",explicit:!1,obj:b}))}catch(D){throw new t("si sattr error: "+D)}}if(v.sigalgfield!=null?y.push(new c({name:v.sigalgfield})):y.push(new c({name:v.sigalg})),v.sighex==null&&v.signkey!=null&&this.sign(),y.push(new s({hex:v.sighex})),v.uattrs!=null){var b=new l(v.uattrs);try{y.push(new o({tag:"a1",explicit:!1,obj:b}))}catch(k){throw new t("si uattr error: "+k)}}var A=new a({array:y});return A.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.cms.SignerInfo,g.asn1.ASN1Object),g.asn1.cms.EncapsulatedContentInfo=function(e){var t=g,r=t.asn1,n=r.DERTaggedObject,i=r.DERSequence,s=r.DERObjectIdentifier,a=r.DEROctetString,o=r.cms;o.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var u=this.params,f=[];if(f.push(new s(u.type)),u.content!=null&&(u.content.hex!=null||u.content.str!=null)&&u.isDetached!=!0){var l=new a(u.content),h=new n({tag:"a0",explicit:!0,obj:l});f.push(h)}var c=new i({array:f});return c.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(u){this.params=u},e!=null&&this.setByParam(e)},de(g.asn1.cms.EncapsulatedContentInfo,g.asn1.ASN1Object),g.asn1.cms.ContentInfo=function(e){var t=g,r=t.asn1,n=r.DERTaggedObject,i=r.DERSequence,s=r.DERObjectIdentifier,a=r.x509;a.OID.name2obj,g.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var o=this.params,u=[];u.push(new s(o.type));var f=new n({tag:"a0",explicit:!0,obj:o.obj});u.push(f);var l=new i({array:u});return l.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(o){this.params=o},e!=null&&this.setByParam(e)},de(g.asn1.cms.ContentInfo,g.asn1.ASN1Object),g.asn1.cms.SignedData=function(e){var t=g,r=t.asn1;r.ASN1Object;var n=r.DERInteger,i=r.DERSet,s=r.DERSequence;r.DERTaggedObject;var a=r.cms,o=a.EncapsulatedContentInfo,u=a.SignerInfo,f=a.ContentInfo,l=a.CertificateSet,h=a.RevocationInfoChoices,c=r.x509,d=c.AlgorithmIdentifier;g.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var p=this.params;this._setDigestAlgs(p),this._setContentTypeByEContent(p),this._setMessageDigestByEContent(p),this._setSignerInfoVersion(p),this._setSignedDataVersion(p)},this._setDigestAlgs=function(p){for(var v={},y=p.sinfos,b=0;b<y.length;b++){var A=y[b];v[A.hashalg]=1}p.hashalgs=Object.keys(v).sort()},this._setContentTypeByEContent=function(p){for(var v=p.econtent.type,y=p.sinfos,b=0;b<y.length;b++){var A=y[b],D=this._getAttrParamByName(A,"contentType");D.type=v}},this._setMessageDigestByEContent=function(p){var v=p.econtent;p.econtent.type;var y=v.content.hex;y==null&&v.type=="data"&&v.content.str!=null&&(y=Fr(v.content.str));for(var b=p.sinfos,A=0;A<b.length;A++){var D=b[A],k=D.hashalg,L=this._getAttrParamByName(D,"messageDigest"),_=g.crypto.Util.hashHex(y,k);L.hex=_}},this._getAttrParamByName=function(p,v){for(var y=p.sattrs.array,b=0;b<y.length;b++)if(y[b].attr==v)return y[b]},this._setSignerInfoVersion=function(p){for(var v=p.sinfos,y=0;y<v.length;y++){var b=v[y],A=1;b.id.type=="skid"&&(A=3),b.version=A}},this._setSignedDataVersion=function(p){var v=this._getSignedDataVersion(p);p.version=v},this._getSignedDataVersion=function(p){if(p.revinfos!=null)for(var v=p.revinfos,y=0;y<v.length;y++){var b=v[y];if(b.ocsp!=null)return 5}for(var A=p.sinfos,y=0;y<A.length;y++){var D=p.sinfos[y];if(D.version==3)return 3}return p.econtent.type!="data"?3:1},this.tohex=function(){var p=this.params;this.getEncodedHexPrepare!=null&&this.getEncodedHexPrepare(),p.fixed!=!0&&this.checkAndFixParam();var v=[];v.push(new n({int:p.version}));for(var y=[],b=0;b<p.hashalgs.length;b++){var A=p.hashalgs[b];y.push(new d({name:A}))}v.push(new i({array:y})),v.push(new o(p.econtent)),p.certs!=null&&v.push(new l(p.certs)),p.revinfos!=null&&v.push(new h(p.revinfos));for(var D=[],b=0;b<p.sinfos.length;b++){var k=p.sinfos[b];D.push(new u(k))}v.push(new i({array:D}));var L=new s({array:v});return L.tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){var p=new f({type:"signed-data",obj:this});return p},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},e!=null&&this.setByParam(e)},de(g.asn1.cms.SignedData,g.asn1.ASN1Object),g.asn1.cms.CertificateSet=function(e){g.asn1.cms.CertificateSet.superclass.constructor.call(this);var t=Error,r=g.asn1,n=r.DERTaggedObject,i=r.DERSet,s=r.ASN1Object;this.params=null,this.tohex=function(){var a=this.params,o=[],u;if(a instanceof Array)u=a;else if(a.array!=null)u=a.array;else throw new t("cert array not specified");for(var f=0;f<u.length;f++){var l=u[f],h=Ft(l),c=new s;c.hTLV=h,o.push(c)}var d={array:o};a.sortflag==!1&&(d.sortflag=!1);var p=new i(d),v=new n({tag:"a0",explicit:!1,obj:p});return v.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.cms.CertificateSet,g.asn1.ASN1Object),g.asn1.cms.RevocationInfoChoices=function(e){g.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(!t instanceof Array)throw new Error("params is not array");for(var r=[],n=0;n<t.length;n++)r.push(new g.asn1.cms.RevocationInfoChoice(t[n]));var i=g.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:r}}});return i.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.cms.RevocationInfoChoices,g.asn1.ASN1Object),g.asn1.cms.RevocationInfoChoice=function(e){g.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(t.crl!=null&&typeof t.crl=="string"){var r=t.crl;return t.crl.indexOf("-----BEGIN")!=-1&&(r=Ft(t.crl)),r}else if(t.ocsp!=null){var n=g.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new g.asn1.cms.OtherRevocationFormat(t)}});return n.tohex()}else throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.cms.RevocationInfoChoice,g.asn1.ASN1Object),g.asn1.cms.OtherRevocationFormat=function(e){g.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var t=Error,r=g,n=r.asn1,i=n.ASN1Util.newObject,s=r.lang.String.isHex;this.params=null,this.tohex=function(){var a=this.params;if(a.ocsp==null)throw new t("property ocsp not specified");if(!s(a.ocsp)||!ye.isASN1HEX(a.ocsp))throw new t("ocsp value not ASN.1 hex string");var o=i({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:a.ocsp}}]});return o.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.cms.OtherRevocationFormat,g.asn1.ASN1Object),g.asn1.cms.CMSUtil=new function(){},g.asn1.cms.CMSUtil.newSignedData=function(e){return new g.asn1.cms.SignedData(e)},g.asn1.cms.CMSUtil.verifySignedData=function(e){var t=g,r=t.asn1,n=r.cms;n.SignerInfo,n.SignedData,n.SigningTime,n.SigningCertificate,n.SigningCertificateV2;var i=r.cades;i.SignaturePolicyIdentifier;var s=t.lang.String.isHex,a=ye,o=a.getVbyList,u=a.getTLVbyList,f=a.getIdxbyList,l=a.getChildIdx,h=a.getTLV,c=a.oidname,d=t.crypto.Util.hashHex;e.cms===void 0&&s(e.cms);var p=e.cms,v=function(R,P){for(var M,C=3;C<6;C++)if(M=f(R,0,[1,0,C]),M!==void 0){var m=R.substr(M,2);m==="a0"&&(P.certsIdx=M),m==="a1"&&(P.revinfosIdx=M),m==="31"&&(P.signerinfosIdx=M)}},y=function(R,P){var M=P.signerinfosIdx;if(M!==void 0){var C=l(R,M);P.signerInfoIdxList=C;for(var m=0;m<C.length;m++){var E=C[m],T={idx:E};b(R,T),P.signerInfos.push(T)}}},b=function(R,P){var M=P.idx;P.signerid_issuer1=u(R,M,[1,0],"30"),P.signerid_serial1=o(R,M,[1,1],"02"),P.hashalg=c(o(R,M,[2,0],"06"));var C=f(R,M,[3],"a0");P.idxSignedAttrs=C,A(R,P,C);var m=l(R,M),E=m.length;if(E<6)throw"malformed SignerInfo";P.sigalg=c(o(R,M,[E-2,0],"06")),P.sigval=o(R,M,[E-1],"04")},A=function(R,P,M){var C=l(R,M);P.signedAttrIdxList=C;for(var m=0;m<C.length;m++){var E=C[m],T=o(R,E,[0],"06"),O;T==="2a864886f70d010905"?(O=Ze(o(R,E,[1,0])),P.saSigningTime=O):T==="2a864886f70d010904"&&(O=o(R,E,[1,0],"04"),P.saMessageDigest=O)}},D=function(R,P){if(o(R,0,[0],"06")!=="2a864886f70d010702")return P;P.cmsType="signedData",P.econtent=o(R,0,[1,0,2,1,0]),v(R,P),P.signerInfos=[],y(R,P)},k=function(R,P){for(var M=P.parse.signerInfos,C=M.length,m=!0,E=0;E<C;E++){var T=M[E];_(R,P,T),T.isValid||(m=!1)}P.isValid=m},L=function(R,P,M,C){var m=P.parse.certsIdx,E;if(P.certs===void 0){E=[],P.certkeys=[];for(var T=l(R,m),O=0;O<T.length;O++){var N=h(R,T[O]),H=new Me;H.readCertHex(N),E[O]=H,P.certkeys[O]=H.getPublicKey()}P.certs=E}else E=P.certs;P.cccc=E.length,P.cccci=T.length;for(var O=0;O<E.length;O++){var Z=H.getIssuerHex(),K=H.getSerialNumberHex();M.signerid_issuer1===Z&&M.signerid_serial1===K&&(M.certkey_idx=O)}},_=function(R,P,M,C){M.verifyDetail={};var m=M.verifyDetail,E=P.parse.econtent,T=M.hashalg,O=M.saMessageDigest;m.validMessageDigest=!1,d(E,T)===O&&(m.validMessageDigest=!0),L(R,P,M),m.validSignatureValue=!1;var N=M.sigalg,H="31"+h(R,M.idxSignedAttrs).substr(2);M.signedattrshex=H;var Z=P.certs[M.certkey_idx].getPublicKey(),K=new g.crypto.Signature({alg:N});K.init(Z),K.updateHex(H);var x=K.verify(M.sigval);m.validSignatureValue_isValid=x,x===!0&&(m.validSignatureValue=!0),M.isValid=!1,m.validMessageDigest&&m.validSignatureValue&&(M.isValid=!0)},F={isValid:!1,parse:{}};return D(p,F.parse),k(p,F),F},g.asn1.cms.CMSParser=function(){var e=Error,t=Me,r=new t,n=ye,i=n.getV,s=n.getTLV;n.getIdxbyList;var a=n.getTLVbyList,o=n.getTLVbyListEx,u=n.getVbyList,f=n.getVbyListEx,l=n.getChildIdx;this.getCMSSignedData=function(h){var c=a(h,0,[1,0]),d=this.getSignedData(c);return d},this.getSignedData=function(h){var c=l(h,0),d={},p=i(h,c[0]),v=parseInt(p,16);d.version=v;var y=s(h,c[1]);d.hashalgs=this.getHashAlgArray(y);var b=s(h,c[2]);d.econtent=this.getEContent(b);var A=o(h,0,["[0]"]);A!=null&&(d.certs=this.getCertificateSet(A)),o(h,0,["[1]"]);var D=o(h,0,[3]);return d.sinfos=this.getSignerInfos(D),d},this.getHashAlgArray=function(h){for(var c=l(h,0),d=new t,p=[],v=0;v<c.length;v++){var y=s(h,c[v]),b=d.getAlgorithmIdentifierName(y);p.push(b)}return p},this.getEContent=function(h){var c={},d=u(h,0,[0]),p=u(h,0,[1,0]);return c.type=g.asn1.x509.OID.oid2name(ye.hextooidstr(d)),c.content={hex:p},c},this.getSignerInfos=function(h){for(var c=[],d=l(h,0),p=0;p<d.length;p++){var v=s(h,d[p]),y=this.getSignerInfo(v);c.push(y)}return c},this.getSignerInfo=function(h){var c={},d=l(h,0),p=n.getInt(h,d[0],-1);p!=-1&&(c.version=p);var v=s(h,d[1]),y=this.getIssuerAndSerialNumber(v);c.id=y;var b=s(h,d[2]),A=r.getAlgorithmIdentifierName(b);c.hashalg=A;var D=o(h,0,["[0]"]);if(D!=null){var k=this.getAttributeList(D);c.sattrs=k}var L=o(h,0,[3]),_=r.getAlgorithmIdentifierName(L);c.sigalg=_;var F=f(h,0,[4]);c.sighex=F;var R=o(h,0,["[1]"]);if(R!=null){var P=this.getAttributeList(R);c.uattrs=P}return c},this.getSignerIdentifier=function(h){if(h.substr(0,2)=="30")return this.getIssuerAndSerialNumber(h);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(h){var c={type:"isssn"},d=l(h,0),p=s(h,d[0]);c.issuer=r.getX500Name(p);var v=i(h,d[1]);return c.serial={hex:v},c},this.getAttributeList=function(h){for(var c=[],d=l(h,0),p=0;p<d.length;p++){var v=s(h,d[p]),y=this.getAttribute(v);c.push(y)}return{array:c}},this.getAttribute=function(h){var c={},d=l(h,0),p=n.getOID(h,d[0]),v=g.asn1.x509.OID.oid2name(p);c.attr=v;var y=s(h,d[1]),b=l(y,0);if(b.length==1)c.valhex=s(y,b[0]);else{for(var A=[],D=0;D<b.length;D++)A.push(s(y,b[D]));c.valhex=A}return v=="contentType"?this.setContentType(c):v=="messageDigest"?this.setMessageDigest(c):v=="signingTime"?this.setSigningTime(c):v=="signingCertificate"?this.setSigningCertificate(c):v=="signingCertificateV2"?this.setSigningCertificateV2(c):v=="signaturePolicyIdentifier"&&this.setSignaturePolicyIdentifier(c),c},this.setContentType=function(h){var c=n.getOIDName(h.valhex,0,null);c!=null&&(h.type=c,delete h.valhex)},this.setSigningTime=function(h){var c=i(h.valhex,0),d=Ze(c);h.str=d,delete h.valhex},this.setMessageDigest=function(h){var c=i(h.valhex,0);h.hex=c,delete h.valhex},this.setSigningCertificate=function(h){var c=l(h.valhex,0);if(c.length>0){for(var d=s(h.valhex,c[0]),p=l(d,0),v=[],y=0;y<p.length;y++){var b=s(d,p[y]),A=this.getESSCertID(b);v.push(A)}h.array=v}if(c.length>1){var D=s(h.valhex,c[1]);h.polhex=D}delete h.valhex},this.setSignaturePolicyIdentifier=function(h){var c=l(h.valhex,0);if(c.length>0){var d=n.getOID(h.valhex,c[0]);h.oid=d}if(c.length>1){var p=new t,v=l(h.valhex,c[1]),y=s(h.valhex,v[0]),b=p.getAlgorithmIdentifierName(y);h.alg=b;var A=i(h.valhex,v[1]);h.hash=A}delete h.valhex},this.setSigningCertificateV2=function(h){var c=l(h.valhex,0);if(c.length>0){for(var d=s(h.valhex,c[0]),p=l(d,0),v=[],y=0;y<p.length;y++){var b=s(d,p[y]),A=this.getESSCertIDv2(b);v.push(A)}h.array=v}if(c.length>1){var D=s(h.valhex,c[1]);h.polhex=D}delete h.valhex},this.getESSCertID=function(h){var c={},d=l(h,0);if(d.length>0){var p=i(h,d[0]);c.hash=p}if(d.length>1){var v=s(h,d[1]),y=this.getIssuerSerial(v);y.serial!=null&&(c.serial=y.serial),y.issuer!=null&&(c.issuer=y.issuer)}return c},this.getESSCertIDv2=function(h){var c={},d=l(h,0);if(d.length<1||3<d.length)throw new e("wrong number of elements");var p=0;if(h.substr(d[0],2)=="30"){var v=s(h,d[0]);c.alg=r.getAlgorithmIdentifierName(v),p++}else c.alg="sha256";var y=i(h,d[p]);if(c.hash=y,d.length>p+1){var b=s(h,d[p+1]),A=this.getIssuerSerial(b);c.issuer=A.issuer,c.serial=A.serial}return c},this.getIssuerSerial=function(h){var c={},d=l(h,0),p=s(h,d[0]),v=r.getGeneralNames(p),y=v[0].dn;c.issuer=y;var b=i(h,d[1]);return c.serial={hex:b},c},this.getCertificateSet=function(h){for(var c=l(h,0),d=[],p=0;p<c.length;p++){var v=s(h,c[p]);if(v.substr(0,2)=="30"){var y=Lt(v,"CERTIFICATE");d.push(y)}}return{array:d,sortflag:!1}}},(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),(typeof g.asn1.tsp>"u"||!g.asn1.tsp)&&(g.asn1.tsp={}),g.asn1.tsp.TimeStampToken=function(e){var t=g,r=t.asn1,n=r.tsp;n.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var i=new n.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=i.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.tsp.TimeStampToken,g.asn1.cms.SignedData),g.asn1.tsp.TSTInfo=function(e){var t=g,r=t.asn1,n=r.DERSequence,i=r.DERInteger,s=r.DERBoolean,a=r.DERGeneralizedTime,o=r.DERObjectIdentifier,u=r.DERTaggedObject,f=r.tsp,l=f.MessageImprint,h=f.Accuracy;r.x509.X500Name;var c=r.x509.GeneralName;if(f.TSTInfo.superclass.constructor.call(this),this.dVersion=new i({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var d=[this.dVersion];if(this.dPolicy==null)throw new Error("policy shall be specified.");if(d.push(this.dPolicy),this.dMessageImprint==null)throw new Error("messageImprint shall be specified.");if(d.push(this.dMessageImprint),this.dSerial==null)throw new Error("serialNumber shall be specified.");if(d.push(this.dSerial),this.dGenTime==null)throw new Error("genTime shall be specified.");d.push(this.dGenTime),this.dAccuracy!=null&&d.push(this.dAccuracy),this.dOrdering!=null&&d.push(this.dOrdering),this.dNonce!=null&&d.push(this.dNonce),this.dTsa!=null&&d.push(this.dTsa);var p=new n({array:d});return this.hTLV=p.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0){if(typeof e.policy=="string"){if(!e.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new o({oid:e.policy})}e.messageImprint!==void 0&&(this.dMessageImprint=new l(e.messageImprint)),e.serial!==void 0&&(this.dSerial=new i(e.serial)),e.genTime!==void 0&&(this.dGenTime=new a(e.genTime)),e.accuracy!==void 0&&(this.dAccuracy=new h(e.accuracy)),e.ordering!==void 0&&e.ordering==!0&&(this.dOrdering=new s),e.nonce!==void 0&&(this.dNonce=new i(e.nonce)),e.tsa!==void 0&&(this.dTsa=new u({tag:"a0",explicit:!0,obj:new c({dn:e.tsa})}))}},de(g.asn1.tsp.TSTInfo,g.asn1.ASN1Object),g.asn1.tsp.Accuracy=function(e){var t=g,r=t.asn1,n=r.ASN1Util.newObject;r.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var i=this.params,s=[];return i.seconds!=null&&typeof i.seconds=="number"&&s.push({int:i.seconds}),i.millis!=null&&typeof i.millis=="number"&&s.push({tag:{tagi:"80",obj:{int:i.millis}}}),i.micros!=null&&typeof i.micros=="number"&&s.push({tag:{tagi:"81",obj:{int:i.micros}}}),n({seq:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.tsp.Accuracy,g.asn1.ASN1Object),g.asn1.tsp.MessageImprint=function(e){var t=g,r=t.asn1,n=r.DERSequence,i=r.DEROctetString,s=r.x509,a=s.AlgorithmIdentifier;r.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var o=this.params,u=new a({name:o.alg}),f=new i({hex:o.hash}),l=new n({array:[u,f]});return l.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)},de(g.asn1.tsp.MessageImprint,g.asn1.ASN1Object),g.asn1.tsp.TimeStampReq=function(e){var t=g,r=t.asn1,n=r.DERSequence,i=r.DERInteger,s=r.DERBoolean;r.ASN1Object;var a=r.DERObjectIdentifier,o=r.tsp,u=o.MessageImprint;o.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var f=this.params,l=[];l.push(new i({int:1})),f.messageImprint instanceof g.asn1.ASN1Object?l.push(f.messageImprint):l.push(new u(f.messageImprint)),f.policy!=null&&l.push(new a(f.policy)),f.nonce!=null&&l.push(new i(f.nonce)),f.certreq==!0&&l.push(new s);var h=new n({array:l});return h.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.tsp.TimeStampReq,g.asn1.ASN1Object),g.asn1.tsp.TimeStampResp=function(e){var t=g,r=t.asn1,n=r.DERSequence;r.ASN1Object;var i=r.tsp,s=i.PKIStatusInfo;i.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var a=this.params,o=[];if(a.econtent!=null||a.tst!=null)if(a.statusinfo!=null?o.push(new s(a.statusinfo)):o.push(new s("granted")),a.econtent!=null)o.push(new i.TimeStampToken(a).getContentInfo());else if(a.tst instanceof r.ASN1Object)o.push(a.tst);else throw new Error("improper member tst value");else if(a.statusinfo!=null)o.push(new s(a.statusinfo));else throw new Error("parameter for token nor statusinfo not specified");var u=new n({array:o});return u.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.tsp.TimeStampResp,g.asn1.ASN1Object),g.asn1.tsp.PKIStatusInfo=function(e){var t=Error,r=g,n=r.asn1,i=n.DERSequence,s=n.tsp,a=s.PKIStatus,o=s.PKIFreeText,u=s.PKIFailureInfo;s.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var f=this.params,l=[];if(typeof f=="string")l.push(new a(f));else{if(f.status==null)throw new t("property 'status' unspecified");l.push(new a(f.status)),f.statusstr!=null&&l.push(new o(f.statusstr)),f.failinfo!=null&&l.push(new u(f.failinfo))}var h=new i({array:l});return h.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.tsp.PKIStatusInfo,g.asn1.ASN1Object),g.asn1.tsp.PKIStatus=function(e){var t=Error,r=g,n=r.asn1,i=n.DERInteger,s=n.tsp;s.PKIStatus.superclass.constructor.call(this);var a={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var o=this.params,u;if(typeof o=="string")try{u=a[o]}catch{throw new t("undefined name: "+o)}else if(typeof o=="number")u=o;else throw new t("unsupported params");return new i({int:u}).tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.tsp.PKIStatus,g.asn1.ASN1Object),g.asn1.tsp.PKIFreeText=function(e){var t=Error,r=g,n=r.asn1,i=n.DERSequence,s=n.DERUTF8String,a=n.tsp;a.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var o=this.params;if(!o instanceof Array)throw new t("wrong params: not array");for(var u=[],f=0;f<o.length;f++)u.push(new s({str:o[f]}));var l=new i({array:u});return l.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.tsp.PKIFreeText,g.asn1.ASN1Object),g.asn1.tsp.PKIFailureInfo=function(e){var t=Error,r=g,n=r.asn1,i=n.DERBitString,s=n.tsp,a=s.PKIFailureInfo,o={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};a.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var u=this.params,f=0;if(typeof u=="number"&&0<=u&&u<=25){f|=1<<u;for(var l=f.toString(2),h="",c=l.length-1;c>=0;c--)h+=l[c];return h}else{if(typeof u=="string"&&o[u]!=null)return df([u],o);if(typeof u=="object"&&u.length!=null)return df(u,o);throw new t("wrong params")}},this.tohex=function(){this.params;var u=this.getBinValue();return new i({bin:u}).tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.tsp.PKIFailureInfo,g.asn1.ASN1Object),g.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(t,r){throw"not implemented yet"}},g.asn1.tsp.SimpleTSAAdapter=function(e){var t=g,r=t.asn1,n=r.tsp,i=t.crypto.Util.hashHex;n.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(s,a){var o=i(s,a);this.params.econtent.content.messageImprint={alg:a,hash:o},this.params.econtent.content.serial={int:this.serial++};var u=Math.floor(Math.random()*1e9);this.params.econtent.content.nonce={int:u};var f=new n.TimeStampToken(this.params);return f.getContentInfoEncodedHex()},e!==void 0&&(this.params=e)},de(g.asn1.tsp.SimpleTSAAdapter,g.asn1.tsp.AbstractTSAAdapter),g.asn1.tsp.FixedTSAAdapter=function(e){var t=g,r=t.asn1,n=r.tsp,i=t.crypto.Util.hashHex;n.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(s,a){var o=i(s,a);this.params.econtent.content.messageImprint={alg:a,hash:o};var u=new n.TimeStampToken(this.params);return u.getContentInfoEncodedHex()},e!==void 0&&(this.params=e)},de(g.asn1.tsp.FixedTSAAdapter,g.asn1.tsp.AbstractTSAAdapter),g.asn1.tsp.TSPUtil=new function(){},g.asn1.tsp.TSPUtil.newTimeStampToken=function(e){return new g.asn1.tsp.TimeStampToken(e)},g.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){var t=new g.asn1.tsp.TSPParser;return t.getTimeStampReq(e)},g.asn1.tsp.TSPUtil.parseMessageImprint=function(e){var t=new g.asn1.tsp.TSPParser;return t.getMessageImprint(e)},g.asn1.tsp.TSPParser=function(){var e=Me,t=new e,r=ye,n=r.getV,i=r.getTLV,s=r.getIdxbyList;r.getTLVbyListEx;var a=r.getChildIdx,o=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],u={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(f){var l=a(f,0);if(l.length==1)return this.getPKIStatusInfo(i(f,l[0]));if(l.length>1){var h=this.getPKIStatusInfo(i(f,l[0])),c=i(f,l[1]),d=this.getToken(c);return d.statusinfo=h,d}},this.getToken=function(f){var l=new g.asn1.cms.CMSParser,h=l.getCMSSignedData(f);return this.setTSTInfo(h),h},this.setTSTInfo=function(f){var l=f.econtent;if(l.type=="tstinfo"){var h=l.content.hex,c=this.getTSTInfo(h);l.content=c}},this.getTSTInfo=function(f){var l={},h=a(f,0),c=n(f,h[1]);l.policy=hf(c);var d=i(f,h[2]);l.messageImprint=this.getMessageImprint(d);var p=n(f,h[3]);l.serial={hex:p};var v=n(f,h[4]);l.genTime={str:Ze(v)};var y=0;if(h.length>5&&f.substr(h[5],2)=="30"){var b=i(f,h[5]);l.accuracy=this.getAccuracy(b),y++}if(h.length>5+y&&f.substr(h[5+y],2)=="01"){var A=n(f,h[5+y]);A=="ff"&&(l.ordering=!0),y++}if(h.length>5+y&&f.substr(h[5+y],2)=="02"){var D=n(f,h[5+y]);l.nonce={hex:D},y++}if(h.length>5+y&&f.substr(h[5+y],2)=="a0"){var k=i(f,h[5+y]);k="30"+k.substr(2),pGeneralNames=t.getGeneralNames(k);var L=pGeneralNames[0].dn;l.tsa=L,y++}if(h.length>5+y&&f.substr(h[5+y],2)=="a1"){var _=i(f,h[5+y]);_="30"+_.substr(2);var F=t.getExtParamArray(_);l.ext=F,y++}return l},this.getAccuracy=function(f){for(var l={},h=a(f,0),c=0;c<h.length;c++){var d=f.substr(h[c],2),p=n(f,h[c]),v=parseInt(p,16);d=="02"?l.seconds=v:d=="80"?l.millis=v:d=="81"&&(l.micros=v)}return l},this.getMessageImprint=function(f){if(f.substr(0,2)!="30")throw new Error("head of messageImprint hex shall be x30");var l={};a(f,0);var h=s(f,0,[0,0]),c=n(f,h),d=r.hextooidstr(c),p=g.asn1.x509.OID.oid2name(d);if(p=="")throw new Error("hashAlg name undefined: "+d);var v=p,y=s(f,0,[1]);return l.alg=v,l.hash=n(f,y),l},this.getPKIStatusInfo=function(f){var l={},h=a(f,0),c=0;try{var d=n(f,h[0]),p=parseInt(d,16);l.status=o[p]}catch{}if(h.length>1&&f.substr(h[1],2)=="30"){var v=i(f,h[1]);l.statusstr=this.getPKIFreeText(v),c++}if(h.length>c&&f.substr(h[1+c],2)=="03"){var y=i(f,h[1+c]);l.failinfo=this.getPKIFailureInfo(y)}return l},this.getPKIFreeText=function(f){for(var l=[],h=a(f,0),c=0;c<h.length;c++)l.push(r.getString(f,h[c]));return l},this.getPKIFailureInfo=function(f){var l=r.getInt(f,0);return u[l]!=null?u[l]:l},this.getTimeStampReq=function(f){var l={};l.certreq=!1;var h=a(f,0);if(h.length<2)throw new Error("TimeStampReq must have at least 2 items");var c=i(f,h[1]);l.messageImprint=g.asn1.tsp.TSPUtil.parseMessageImprint(c);for(var d=2;d<h.length;d++){var p=h[d],v=f.substr(p,2);if(v=="06"){var y=n(f,p);l.policy=r.hextooidstr(y)}v=="02"&&(l.nonce=n(f,p)),v=="01"&&(l.certreq=!0)}return l}},(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),(typeof g.asn1.cades>"u"||!g.asn1.cades)&&(g.asn1.cades={}),g.asn1.cades.SignaturePolicyIdentifier=function(e){var t=g,r=t.asn1,n=r.cades,i=n.SignaturePolicyId;n.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new i(this.params)]},this.setByParam=function(s){this.params=s},e!=null&&this.setByParam(e)},de(g.asn1.cades.SignaturePolicyIdentifier,g.asn1.cms.Attribute),g.asn1.cades.SignaturePolicyId=function(e){var t=g,r=t.asn1,n=r.DERSequence,i=r.DERObjectIdentifier,s=r.x509;s.AlgorithmIdentifier;var a=r.cades,o=a.SignaturePolicyId,u=a.OtherHashAlgAndValue;o.superclass.constructor.call(this),this.params=null,this.tohex=function(){var f=this.params,l=[];l.push(new i(f.oid)),l.push(new u(f));var h=new n({array:l});return h.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(f){this.params=f},e!=null&&this.setByParam(e)},de(g.asn1.cades.SignaturePolicyId,g.asn1.ASN1Object),g.asn1.cades.OtherHashAlgAndValue=function(e){var t=Error,r=g,n=r.asn1,i=n.DERSequence,s=n.DEROctetString,a=n.x509,o=a.AlgorithmIdentifier,u=n.cades,f=u.OtherHashAlgAndValue;f.superclass.constructor.call(this),this.params=null,this.tohex=function(){var l=this.params;if(l.alg==null)throw new t("property 'alg' not specified");if(l.hash==null&&l.cert==null)throw new t("property 'hash' nor 'cert' not specified");var h=null;if(l.hash!=null)h=l.hash;else if(l.cert!=null){if(typeof l.cert!="string")throw new t("cert not string");var c=l.cert;l.cert.indexOf("-----BEGIN")!=-1&&(c=Ft(l.cert)),h=g.crypto.Util.hashHex(c,l.alg)}var d=[];d.push(new o({name:l.alg})),d.push(new s({hex:h}));var p=new i({array:d});return p.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.cades.OtherHashAlgAndValue,g.asn1.ASN1Object),g.asn1.cades.OtherHashValue=function(e){g.asn1.cades.OtherHashValue.superclass.constructor.call(this);var t=Error,r=g;r.lang.String.isHex;var n=r.asn1,i=n.DEROctetString;r.crypto.Util.hashHex,this.params=null,this.tohex=function(){var s=this.params;if(s.hash==null&&s.cert==null)throw new t("hash or cert not specified");var a=null;if(s.hash!=null)a=s.hash;else if(s.cert!=null){if(typeof s.cert!="string")throw new t("cert not string");var o=s.cert;s.cert.indexOf("-----BEGIN")!=-1&&(o=Ft(s.cert)),a=g.crypto.Util.hashHex(o,"sha1")}return new i({hex:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.cades.OtherHashValue,g.asn1.ASN1Object),g.asn1.cades.SignatureTimeStamp=function(e){var t=Error,r=g,n=r.lang.String.isHex,i=r.asn1,s=i.ASN1Object;i.x509;var a=i.cades;a.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var o=this.params;if(o.tst!=null)if(n(o.tst)){var u=new s;return u.hTLV=o.tst,[u]}else{if(o.tst instanceof s)return[o.tst];throw new t("params.tst has wrong value")}else if(o.res!=null){var f=o.res;if(f instanceof s&&(f=f.tohex()),typeof f!="string"||!n(f))throw new t("params.res has wrong value");ye.getTLVbyList(f,0,[1]);var u=new s;return u.hTLV=o.tst,[u]}},e!=null&&this.setByParam(e)},de(g.asn1.cades.SignatureTimeStamp,g.asn1.cms.Attribute),g.asn1.cades.CompleteCertificateRefs=function(e){var t=Error,r=g,n=r.asn1,i=n.DERSequence,s=n.cades,a=s.OtherCertID,o=r.lang.String.isHex;s.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var u=this.params,f=[],l=0;l<u.array.length;l++){var h=u.array[l];if(typeof h=="string")if(h.indexOf("-----BEGIN")!=-1)h={cert:h};else if(o(h))h={hash:h};else throw new t("unsupported value: "+h);u.alg!=null&&h.alg==null&&(h.alg=u.alg),u.hasis!=null&&h.hasis==null&&(h.hasis=u.hasis);var c=new a(h);f.push(c)}var d=new i({array:f});return[d]},e!=null&&this.setByParam(e)},de(g.asn1.cades.CompleteCertificateRefs,g.asn1.cms.Attribute),g.asn1.cades.OtherCertID=function(e){var t=g,r=t.asn1,n=r.DERSequence,i=r.cms,s=i.IssuerSerial,a=r.cades,o=a.OtherHashValue,u=a.OtherHashAlgAndValue;a.OtherCertID.superclass.constructor.call(this),this.params=e,this.tohex=function(){var f=this.params;typeof f=="string"&&(f.indexOf("-----BEGIN")!=-1?f={cert:f}:_isHex(f)&&(f={hash:f}));var l=[],h=null;if(f.alg!=null?h=new u(f):h=new o(f),l.push(h),f.cert!=null&&f.hasis==!0||f.issuer!=null&&f.serial!=null){var c=new s(f);l.push(c)}var d=new n({array:l});return d.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.cades.OtherCertID,g.asn1.ASN1Object),g.asn1.cades.OtherHash=function(e){var t=g,r=t.asn1;r.cms;var n=r.cades,i=n.OtherHashAlgAndValue,s=n.OtherHashValue;t.crypto.Util.hashHex;var a=t.lang.String.isHex;n.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var o=this.params;typeof o=="string"&&(o.indexOf("-----BEGIN")!=-1?o={cert:o}:a(o)&&(o={hash:o}));var u=null;return o.alg!=null?u=new i(o):u=new s(o),u.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)},de(g.asn1.cades.OtherHash,g.asn1.ASN1Object),g.asn1.cades.CAdESUtil=new function(){},g.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){var t=new g.asn1.cms.CMSParser,r=t.getCMSSignedData(e);return r},g.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,t,r){var n=ye,i=n.getChildIdx,s=n.getTLV,a=n.getV,o=g,u=o.asn1,f=u.ASN1Object,l=u.cms,h=l.AttributeList,c=l.SignerInfo,d={},p=i(e,t);if(p.length!=6)throw"not supported items for SignerInfo (!=6)";var v=p.shift();d.version=s(e,v);var y=p.shift();d.si=s(e,y);var b=p.shift();d.digalg=s(e,b);var A=p.shift();d.sattrs=s(e,A);var D=p.shift();d.sigalg=s(e,D);var k=p.shift();d.sig=s(e,k),d.sigval=a(e,k);var L=null;return d.obj=new c,L=new f,L.hTLV=d.version,d.obj.dCMSVersion=L,L=new f,L.hTLV=d.si,d.obj.dSignerIdentifier=L,L=new f,L.hTLV=d.digalg,d.obj.dDigestAlgorithm=L,L=new f,L.hTLV=d.sattrs,d.obj.dSignedAttrs=L,L=new f,L.hTLV=d.sigalg,d.obj.dSigAlg=L,L=new f,L.hTLV=d.sig,d.obj.dSig=L,d.obj.dUnsignedAttrs=new h,d},(typeof g.asn1.csr>"u"||!g.asn1.csr)&&(g.asn1.csr={}),g.asn1.csr.CertificationRequest=function(e){var t=g,r=t.asn1,n=r.DERBitString,i=r.DERSequence,s=r.csr;r.x509;var a=s.CertificationRequestInfo;s.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(o){this.params=o},this.sign=function(){var o=new a(this.params).tohex(),u=new g.crypto.Signature({alg:this.params.sigalg});u.init(this.params.sbjprvkey),u.updateHex(o);var f=u.sign();this.params.sighex=f},this.getPEM=function(){return Lt(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var o=this.params,u=new g.asn1.csr.CertificationRequestInfo(this.params),f=new g.asn1.x509.AlgorithmIdentifier({name:o.sigalg});if(o.sighex==null&&o.sbjprvkey!=null&&this.sign(),o.sighex==null)throw new Error("sighex or sbjprvkey parameter not defined");var l=new n({hex:"00"+o.sighex}),h=new i({array:[u,f,l]});return h.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)},de(g.asn1.csr.CertificationRequest,g.asn1.ASN1Object),g.asn1.csr.CertificationRequestInfo=function(e){var t=g,r=t.asn1;r.DERBitString;var n=r.DERSequence,i=r.DERInteger,s=r.DERUTF8String,a=r.DERTaggedObject,o=r.ASN1Util.newObject,u=r.csr,f=r.x509,l=f.X500Name,h=f.Extensions,c=f.SubjectPublicKeyInfo;u.AttributeList,u.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(p){p!=null&&(this.params=p)},this.tohex=function(){var p=this.params,v=[];if(v.push(new i({int:0})),v.push(new l(p.subject)),v.push(new c(We.getKey(p.sbjpubkey))),p.attrs!=null){var y=d(p.attrs),b=o({tag:{tage:"a0",obj:y}});v.push(b)}else if(p.extreq!=null){var A=new h(p.extreq),b=o({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[A]}]}}});v.push(b)}else v.push(new a({tag:"a0",explicit:!1,obj:new s({str:""})}));var D=new n({array:v});return D.tohex()},this.getEncodedHex=function(){return this.tohex()};function d(p){for(var v=Error,y=g.asn1.x509.Extensions,b=[],A=0;A<p.length;A++){var D=p[A],k=D.attr;if(k=="extensionRequest"){var L=new y(D.ext),_={seq:[{oid:"1.2.840.113549.1.9.14"},{set:[L]}]};b.push(_)}else if(k=="unstructuredName"){var _={seq:[{oid:"1.2.840.113549.1.9.2"},{set:D.names}]};b.push(_)}else if(k=="challengePassword"){var _={seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:D.password}]}]};b.push(_)}else throw new v("unknown CSR attribute")}return{set:b}}e!=null&&this.setByParam(e)},de(g.asn1.csr.CertificationRequestInfo,g.asn1.ASN1Object),g.asn1.csr.AttributeList=function(e){},de(g.asn1.csr.AttributeList,g.asn1.ASN1Object),g.asn1.csr.CSRUtil=new function(){},g.asn1.csr.CSRUtil.newCSRPEM=function(e){var t=g.asn1.csr,r=new t.CertificationRequest(e),n=r.getPEM();return n},g.asn1.csr.CSRUtil.getParam=function(e,t){var r=ye,n=r.getV,i=r.getIdxbyList,s=r.getTLVbyList,a=r.getTLVbyListEx,o=r.getVbyListEx,u=function(A){var D=i(A,0,[0,3,0,0],"06");return n(A,D)!="2a864886f70d01090e"?null:s(A,0,[0,3,0,1,0],"30")},f={};if(e.indexOf("-----BEGIN CERTIFICATE REQUEST")==-1)throw new Error("argument is not PEM file");var l=Ft(e,"CERTIFICATE REQUEST");t&&(f.tbs=s(l,0,[0]));try{var h=a(l,0,[0,1]);if(h=="3000")f.subject={};else{var v=new Me;f.subject=v.getX500Name(h)}}catch{}var c=a(l,0,[0,2]),d=We.getKey(c,null,"pkcs8pub");f.sbjpubkey=We.getPEM(d,"PKCS8PUB");var p=u(l),v=new Me;p!=null&&(f.extreq=v.getExtParamArray(p));try{var y=a(l,0,[1],"30"),v=new Me;f.sigalg=v.getAlgorithmIdentifierName(y)}catch{}try{var b=o(l,0,[2]);f.sighex=b}catch{}return f},g.asn1.csr.CSRUtil.verifySignature=function(e){try{var t=null;if(typeof e=="string"&&e.indexOf("-----BEGIN CERTIFICATE REQUEST")!=-1?t=g.asn1.csr.CSRUtil.getParam(e,!0):typeof e=="object"&&e.sbjpubkey!=null&&e.sigalg!=null&&e.sighex!=null&&e.tbs!=null&&(t=e),t==null)return!1;var r=new g.crypto.Signature({alg:t.sigalg});return r.init(t.sbjpubkey),r.updateHex(t.tbs),r.verify(t.sighex)}catch(n){return alert(n),!1}},(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),(typeof g.asn1.ocsp>"u"||!g.asn1.ocsp)&&(g.asn1.ocsp={}),g.asn1.ocsp.DEFAULT_HASH="sha1",g.asn1.ocsp.OCSPResponse=function(e){g.asn1.ocsp.OCSPResponse.superclass.constructor.call(this),g.asn1.DEREnumerated;var t=g.asn1.ASN1Util.newObject,r=g.asn1.ocsp.ResponseBytes,n=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var i=this.params.resstatus;return typeof i=="number"?i:typeof i!="string"?-1:n.indexOf(i)},this.setByParam=function(i){this.params=i},this.tohex=function(){var i=this.params,s=this._getStatusCode();if(s==-1)throw new Error("responseStatus not supported: "+i.resstatus);if(s!=0)return t({seq:[{enum:{int:s}}]}).tohex();var a=new r(i);return t({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:a}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)},de(g.asn1.ocsp.OCSPResponse,g.asn1.ASN1Object),g.asn1.ocsp.ResponseBytes=function(e){g.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var t=g.asn1,r=t.DERSequence,n=t.DERObjectIdentifier,i=t.DEROctetString,s=t.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(a){this.params=a},this.tohex=function(){var a=this.params;if(a.restype!="ocspBasic")throw new Error("not supported responseType: "+a.restype);var o=new s(a),u=[];u.push(new n({name:"ocspBasic"})),u.push(new i({hex:o.tohex()}));var f=new r({array:u});return f.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)},de(g.asn1.ocsp.ResponseBytes,g.asn1.ASN1Object),g.asn1.ocsp.BasicOCSPResponse=function(e){g.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var t=Error,r=g.asn1,n=r.ASN1Object,i=r.DERSequence;r.DERGeneralizedTime;var s=r.DERTaggedObject,a=r.DERBitString;r.x509.Extensions;var o=r.x509.AlgorithmIdentifier,u=r.ocsp;u.ResponderID,_SingleResponseList=u.SingleResponseList,_ResponseData=u.ResponseData,this.params=null,this.setByParam=function(f){this.params=f},this.sign=function(){var f=this.params,l=f.tbsresp.tohex(),h=new g.crypto.Signature({alg:f.sigalg});h.init(f.reskey),h.updateHex(l),f.sighex=h.sign()},this.tohex=function(){var f=this.params;f.tbsresp==null&&(f.tbsresp=new _ResponseData(f)),f.sighex==null&&f.reskey!=null&&this.sign();var l=[];if(l.push(f.tbsresp),l.push(new o({name:f.sigalg})),l.push(new a({hex:"00"+f.sighex})),f.certs!=null&&f.certs.length!=null){for(var h=[],c=0;c<f.certs.length;c++){var d=f.certs[c],p=null;if(ye.isASN1HEX(d))p=d;else if(d.match(/-----BEGIN/))p=Ft(d);else throw new t("certs["+c+"] not hex or PEM");h.push(new n({tlv:p}))}var v=new i({array:h});l.push(new s({tag:"a0",explicit:!0,obj:v}))}var y=new i({array:l});return y.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)},de(g.asn1.ocsp.BasicOCSPResponse,g.asn1.ASN1Object),g.asn1.ocsp.ResponseData=function(e){g.asn1.ocsp.ResponseData.superclass.constructor.call(this);var t=g.asn1,r=t.DERSequence,n=t.DERGeneralizedTime,i=t.DERTaggedObject,s=t.x509.Extensions,a=t.ocsp,o=a.ResponderID;_SingleResponseList=a.SingleResponseList,this.params=null,this.tohex=function(){var u=this.params;u.respid!=null,u.prodat!=null,u.array!=null;var f=[];if(f.push(new o(u.respid)),f.push(new n(u.prodat)),f.push(new _SingleResponseList(u.array)),u.ext!=null){var l=new s(u.ext);f.push(new i({tag:"a1",explicit:!0,obj:l}))}var h=new r({array:f});return h.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(u){this.params=u},e!==void 0&&this.setByParam(e)},de(g.asn1.ocsp.ResponseData,g.asn1.ASN1Object),g.asn1.ocsp.ResponderID=function(e){g.asn1.ocsp.ResponderID.superclass.constructor.call(this);var t=g,r=t.asn1,n=r.ASN1Util.newObject,i=r.x509.X500Name,s=t.lang.String.isHex,a=Error;this.params=null,this.tohex=function(){var o=this.params;if(o.key!=null){var u=null;if(typeof o.key=="string"){if(s(o.key)&&(u=o.key),o.key.match(/-----BEGIN CERTIFICATE/)){var f=new Me(o.key),l=f.getExtSubjectKeyIdentifier();l!=null&&(u=l.kid.hex)}}else if(o.key instanceof Me){var l=o.key.getExtSubjectKeyIdentifier();l!=null&&(u=l.kid.hex)}if(u==null)throw new a("wrong key member value");var h=n({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:u}}}});return h.tohex()}else if(o.name!=null){var c=null;if(typeof o.name=="string"&&o.name.match(/-----BEGIN CERTIFICATE/)){var f=new Me(o.name);c=f.getSubject()}else o.name instanceof Me?c=o.name.getSubject():typeof o.name=="object"&&(o.name.array!=null||o.name.str!=null)&&(c=o.name);if(c==null)throw new a("wrong name member value");var h=n({tag:{tag:"a1",explicit:!0,obj:new i(c)}});return h.tohex()}throw new a("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(o){this.params=o},e!==void 0&&this.setByParam(e)},de(g.asn1.ocsp.ResponderID,g.asn1.ASN1Object),g.asn1.ocsp.SingleResponseList=function(e){g.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var t=g.asn1,r=t.DERSequence,n=t.ocsp.SingleResponse;this.params=null,this.tohex=function(){var i=this.params;if(typeof i!="object"||i.length==null)throw new Error("params not specified properly");for(var s=[],a=0;a<i.length;a++)s.push(new n(i[a]));var o=new r({array:s});return o.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(i){this.params=i},e!==void 0&&this.setByParam(e)},de(g.asn1.ocsp.SingleResponseList,g.asn1.ASN1Object),g.asn1.ocsp.SingleResponse=function(e){var t=Error,r=g,n=r.asn1,i=n.DERSequence,s=n.DERGeneralizedTime,a=n.DERTaggedObject,o=n.ocsp,u=o.CertID,f=o.CertStatus,l=n.x509,h=l.Extensions;o.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var c=this.params,d=[];if(c.certid==null)throw new t("certid unspecified");if(c.status==null)throw new t("status unspecified");if(c.thisupdate==null)throw new t("thisupdate unspecified");if(d.push(new u(c.certid)),d.push(new f(c.status)),d.push(new s(c.thisupdate)),c.nextupdate!=null){var p=new s(c.nextupdate);d.push(new a({tag:"a0",explicit:!0,obj:p}))}if(c.ext!=null){var v=new h(c.ext);d.push(new a({tag:"a1",explicit:!0,obj:v}))}var y=new i({array:d});return y.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(c){this.params=c},e!==void 0&&this.setByParam(e)},de(g.asn1.ocsp.SingleResponse,g.asn1.ASN1Object),g.asn1.ocsp.CertID=function(e){var t=g,r=t.asn1,n=r.DEROctetString,i=r.DERInteger,s=r.DERSequence,a=r.x509,o=a.AlgorithmIdentifier,u=r.ocsp;u.DEFAULT_HASH;var f=t.crypto,l=f.Util.hashHex,h=Me,c=ye,d=c.getVbyList;u.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(p,v,y,b){b==null&&(b=this.DEFAULT_HASH),this.params={alg:b,issname:p,isskey:v,sbjsn:y}},this.setByCert=function(p,v,y){y==null&&(y=this.DEFAULT_HASH),this.params={alg:y,issuerCert:p,subjectCert:v}},this.getParamByCerts=function(p,v,y){y==null&&(y=this.DEFAULT_HASH);var b=new h(p),A=new h(v),D=l(b.getSubjectHex(),y),k=b.getPublicKeyHex(),L=l(d(k,0,[1],"03",!0),y),_=A.getSerialNumberHex(),F={alg:y,issname:D,isskey:L,sbjsn:_};return F},this.tohex=function(){if(typeof this.params!="object")throw new Error("params not set");var p=this.params,v,y,b,A;if(p.alg==null?A=this.DEFAULT_HASH:A=p.alg,p.issuerCert!=null&&p.subjectCert!=null){var D=this.getParamByCerts(p.issuerCert,p.subjectCert,A);v=D.issname,y=D.isskey,b=D.sbjsn}else if(p.issname!=null&&p.isskey!=null&&p.sbjsn!=null)v=p.issname,y=p.isskey,b=p.sbjsn;else throw new Error("required param members not defined");var k=new o({name:A}),L=new n({hex:v}),_=new n({hex:y}),F=new i({hex:b}),R=new s({array:[k,L,_,F]});return this.hTLV=R.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)},de(g.asn1.ocsp.CertID,g.asn1.ASN1Object),g.asn1.ocsp.CertStatus=function(e){g.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(t.status=="good")return"8000";if(t.status=="unknown")return"8200";if(t.status=="revoked"){var r=[{gentime:{str:t.time}}];t.reason!=null&&r.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:t.reason}}}});var n={tag:"a1",explicit:!1,obj:{seq:r}};return g.asn1.ASN1Util.newObject({tag:n}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},e!==void 0&&this.setByParam(e)},de(g.asn1.ocsp.CertStatus,g.asn1.ASN1Object),g.asn1.ocsp.Request=function(e){var t=g,r=t.asn1,n=r.DERSequence,i=r.ocsp;if(i.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var a=[];if(this.dReqCert===null)throw"reqCert not set";a.push(this.dReqCert);var o=new n({array:a});return this.hTLV=o.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},typeof e<"u"){var s=new i.CertID(e);this.dReqCert=s}},de(g.asn1.ocsp.Request,g.asn1.ASN1Object),g.asn1.ocsp.TBSRequest=function(e){var t=g,r=t.asn1,n=r.DERSequence,i=r.ocsp;i.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(s){for(var a=[],o=0;o<s.length;o++){var u=new i.Request(s[0]);a.push(u)}this.dRequestList=a},this.tohex=function(){var s=[];if(this.version!==0)throw"not supported version: "+this.version;if(this.dRequestorName!==null)throw"requestorName not supported";var a=new n({array:this.dRequestList});if(s.push(a),this.dRequestExt!==null)throw"requestExtensions not supported";var o=new n({array:s});return this.hTLV=o.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&e.reqList!==void 0&&this.setRequestListByParam(e.reqList)},de(g.asn1.ocsp.TBSRequest,g.asn1.ASN1Object),g.asn1.ocsp.OCSPRequest=function(e){var t=g,r=t.asn1,n=r.DERSequence,i=r.ocsp;if(i.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var a=[];if(this.dTbsRequest!==null)a.push(this.dTbsRequest);else throw"tbsRequest not set";if(this.dOptionalSignature!==null)throw"optionalSignature not supported";var o=new n({array:a});return this.hTLV=o.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&e.reqList!==void 0){var s=new i.TBSRequest(e);this.dTbsRequest=s}},de(g.asn1.ocsp.OCSPRequest,g.asn1.ASN1Object),g.asn1.ocsp.OCSPUtil={},g.asn1.ocsp.OCSPUtil.getRequestHex=function(e,t,r){var n=g,i=n.asn1,s=i.ocsp;r===void 0&&(r=s.DEFAULT_HASH);var a={alg:r,issuerCert:e,subjectCert:t},o=new s.OCSPRequest({reqList:[a]});return o.tohex()},g.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var t=ye,r=t.getVbyList,n=t.getVbyListEx,i=t.getIdxbyList;t.getIdxbyListEx;var s=t.getV,a={};try{var o=n(e,0,[0],"0a");a.responseStatus=parseInt(o,16)}catch{}if(a.responseStatus!==0)return a;try{var u=i(e,0,[1,0,1,0,0,2,0,1]);e.substr(u,2)==="80"?a.certStatus="good":e.substr(u,2)==="a1"?(a.certStatus="revoked",a.revocationTime=Ze(r(e,u,[0]))):e.substr(u,2)==="82"&&(a.certStatus="unknown")}catch{}try{var f=i(e,0,[1,0,1,0,0,2,0,2]);a.thisUpdate=Ze(s(e,f))}catch{}try{var l=i(e,0,[1,0,1,0,0,2,0,3]);e.substr(l,2)==="a0"&&(a.nextUpdate=Ze(r(e,l,[0])))}catch{}return a},g.asn1.ocsp.OCSPParser=function(){var e=Error,t=Me,r=new t,n=ye,i=n.getV,s=n.getTLV,a=n.getIdxbyList,o=n.getVbyList,u=n.getTLVbyList,f=n.getVbyListEx,l=n.getTLVbyListEx,h=n.getChildIdx;this.getOCSPRequest=function(c){var d=h(c,0);if(d.length!=1&&d.length!=2)throw new e("wrong number elements: "+d.length);var p=this.getTBSRequest(s(c,d[0]));return p},this.getTBSRequest=function(c){var d={},p=l(c,0,[0],"30");d.array=this.getRequestList(p);var v=l(c,0,["[2]",0],"30");return v!=null&&(d.ext=r.getExtParamArray(v)),d},this.getRequestList=function(c){for(var d=[],p=h(c,0),v=0;v<p.length;v++){var c=s(c,p[v]);d.push(this.getRequest(c))}return d},this.getRequest=function(c){var d=h(c,0);if(d.length!=1&&d.length!=2)throw new e("wrong number elements: "+d.length);var p=this.getCertID(s(c,d[0]));if(d.length==2){var v=a(c,0,[1,0]);p.ext=r.getExtParamArray(s(c,v))}return p},this.getCertID=function(c){var d=h(c,0);if(d.length!=4)throw new e("wrong number elements: "+d.length);var p=new t,v={};return v.alg=p.getAlgorithmIdentifierName(s(c,d[0])),v.issname=i(c,d[1]),v.isskey=i(c,d[2]),v.sbjsn=i(c,d[3]),v},this.getOCSPResponse=function(c){var d=h(c,0),p,v=i(c,d[0]),y=parseInt(v);if(d.length==1)return{resstatus:y};var b=u(c,0,[1,0]);return p=this.getResponseBytes(b),p.resstatus=y,p},this.getResponseBytes=function(c){var d=h(c,0),p,v=u(c,0,[1,0]);p=this.getBasicOCSPResponse(v);var y=i(c,d[0]);return p.restype=g.asn1.x509.OID.oid2name(hf(y)),p},this.getBasicOCSPResponse=function(c){var d=h(c,0),p;p=this.getResponseData(s(c,d[0]));var v=new Me;p.alg=v.getAlgorithmIdentifierName(s(c,d[1]));var y=i(c,d[2]);p.sighex=y.substr(2);var b=f(c,0,["[0]"]);if(b!=null){for(var A=h(b,0),D=[],k=0;k<A.length;k++){var L=s(b,A[k]);D.push(L)}p.certs=D}return p},this.getResponseData=function(c){var d=h(c,0),p=d.length,v={},y=0;c.substr(d[0],2)=="a0"&&y++,v.respid=this.getResponderID(s(c,d[y++]));var b=i(c,d[y++]);if(v.prodat=Ze(b),v.array=this.getSingleResponseList(s(c,d[y++])),c.substr(d[p-1],2)=="a1"){var A=u(c,d[p-1],[0]),D=new Me;v.ext=D.getExtParamArray(A)}return v},this.getResponderID=function(c){var d={};if(c.substr(0,2)=="a2"){var p=o(c,0,[0]);d.key=p}if(c.substr(0,2)=="a1"){var v=u(c,0,[0]),y=new Me;d.name=y.getX500Name(v)}return d},this.getSingleResponseList=function(c){for(var d=h(c,0),p=[],v=0;v<d.length;v++){var y=this.getSingleResponse(s(c,d[v]));p.push(y)}return p},this.getSingleResponse=function(c){var d=h(c,0),p={},v=this.getCertID(s(c,d[0]));p.certid=v;var y=this.getCertStatus(s(c,d[1]));if(p.status=y,c.substr(d[2],2)=="18"){var b=i(c,d[2]);p.thisupdate=Ze(b)}for(var A=3;A<d.length;A++){if(c.substr(d[A],2)=="a0"){var D=o(c,d[A],[0],"18");p.nextupdate=Ze(D)}if(c.substr(d[A],2)=="a1"){var k=new Me,L=u(c,0,[A,0]);p.ext=k.getExtParamArray(L)}}return p},this.getCertStatus=function(c){var d={};if(c=="8000")return{status:"good"};if(c=="8200")return{status:"unknown"};if(c.substr(0,2)=="a1"){d.status="revoked";var p=o(c,0,[0]),v=Ze(p);d.time=v}return d}};var g;(typeof g>"u"||!g)&&(g={}),(typeof g.lang>"u"||!g.lang)&&(g.lang={}),g.lang.String=function(){};function c5(e){for(var t=new Array,r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function uf(e){for(var t="",r=0;r<e.length;r++){var n=e[r].toString(16);n.length==1&&(n="0"+n),t=t+n}return t}function Pr(e){return uf(c5(e))}function Aa(e){return e=e.replace(/\=/g,""),e=e.replace(/\+/g,"-"),e=e.replace(/\//g,"_"),e}function ff(e){return e.length%4==2?e=e+"==":e.length%4==3&&(e=e+"="),e=e.replace(/-/g,"+"),e=e.replace(/_/g,"/"),e}function kt(e){return e.length%2==1&&(e="0"+e),Aa(ts(e))}function st(e){return rf(ff(e))}var _a,$r;typeof Buffer=="function"?(_a=function(e){return Aa(Buffer.from(e,"utf8").toString("base64"))},$r=function(e){return Buffer.from(ff(e),"base64").toString("utf8")}):(_a=function(e){return kt(d0(x0(e)))},$r=function(e){return decodeURIComponent(p0(st(e)))});function cf(e){return d0(x0(e)).toLowerCase()}function Ze(e){try{return decodeURIComponent(p0(e))}catch{return null}}function l5(e){return Ze(h5(e))}function h5(e){for(var t=e.match(/.{1,2}/g),r=[],n=0;n<t.length;n++){var i=parseInt(t[n],16);161<=i&&i<=191?(r.push("c2"),r.push(t[n])):192<=i&&i<=255?(r.push("c3"),r.push((i-64).toString(16))):r.push(t[n])}return r.join("")}function br(e){for(var t="",r=0;r<e.length-1;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t}function Fr(e){for(var t="",r=0;r<e.length;r++)t+=("0"+e.charCodeAt(r).toString(16)).slice(-2);return t}function d5(e){return ts(e)}function p5(e,t){return e=e.replace(new RegExp("(.{"+t+"})","g"),`$1\r
`),e=e.replace(/\s+$/,""),e}function v5(e){var t=e.replace(/[^0-9A-Za-z\/+=]*/g,""),r=rf(t);return r}function Lt(e,t){return"-----BEGIN "+t+`-----\r
`+p5(d5(e),64)+`\r
-----END `+t+`-----\r
`}function Ft(e,t){if(e.indexOf("-----BEGIN ")==-1)throw new Error("can't find PEM header");return t!==void 0?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),""),e=e.replace(new RegExp("-----END "+t+"-----[^]*$"),"")):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,""),e=e.replace(/-----END [^-]+-----[^]*$/,"")),v5(e)}function g5(e){var t,r,n,i,s,a,o,u,f,l;if(e=y5(e),l=e.match(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/),l)return t=parseInt(l[1]),r=parseInt(l[2])-1,n=parseInt(l[3]),i=parseInt(l[4]),s=parseInt(l[5]),a=parseInt(l[6]),o=0,u=l[7],u!==""&&(f=(u.substr(1)+"00").substr(0,3),o=parseInt(f)),Date.UTC(t,r,n,i,s,a,o);throw new Error("unsupported zulu format: "+e)}function m5(e){return Math.round(g5(e)/1e3)}function y5(e){return e.match(/^[0-9]{12}Z$/)||e.match(/^[0-9]{12}[.][0-9]*Z$/)?e.match(/^[0-4]/)?"20"+e:"19"+e:e}function d0(e){return e.replace(/%/g,"")}function p0(e){return e.replace(/(..)/g,"%$1")}function v0(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;e=e.toLowerCase();var r=e.split(":").length-1;if(r<2)throw t;var n=":".repeat(7-r+2);e=e.replace("::",n);var i=e.split(":");if(i.length!=8)throw t;for(var s=0;s<8;s++)i[s]=("0000"+i[s]).slice(-4);return i.join("")}function g0(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+e);e=e.toLowerCase();var t=e.match(/.{1,4}/g);t=t.map(function(i){return i.replace(/^0+/,"")}),t=t.map(function(i){return i==""?"0":i}),e=":"+t.join(":")+":";var r=e.match(/:(0:){2,}/g);if(r==null)return e.slice(1,-1);var n=r.sort().slice(-1)[0];return e=e.replace(n.substr(0,n.length-1),":"),e.substr(0,2)!="::"&&(e=e.substr(1)),e.substr(-2,2)!="::"&&(e=e.substr(0,e.length-1)),e}function lf(e){var t=new Error("malformed hex value");if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(e.length==8){var r;try{return r=parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16),r}catch{throw t}}else if(e.length==16)try{return lf(e.substr(0,8))+"/"+m0(e.substr(8))}catch{throw t}else{if(e.length==32)return g0(e);if(e.length==64){try{return g0(e.substr(0,32))+"/"+m0(e.substr(32))}catch{throw t}return}else return e}}function m0(e){var t=new Error("malformed mask"),r;try{r=new re(e,16).toString(2)}catch{throw t}if(!r.match(/^1*0*$/))throw t;return r.replace(/0+$/,"").length}function y0(e){var t=new Error("malformed IP address");if(e=e.toLowerCase(e),!e.match(/^[0-9a-f.:/]+$/))throw t;if(e.match(/^[0-9.]+$/)){var r=e.split(".");if(r.length!==4)throw t;var n="";try{for(var i=0;i<4;i++){var s=parseInt(r[i]);n+=("0"+s.toString(16)).slice(-2)}return n}catch{throw t}}else if(e.match(/^[0-9.]+\/[0-9]+$/)){var a=e.split("/");return y0(a[0])+b0(parseInt(a[1]),32)}else{if(e.match(/^[0-9a-f:]+$/)&&e.indexOf(":")!==-1)return v0(e);if(e.match(/^[0-9a-f:]+\/[0-9]+$/)&&e.indexOf(":")!==-1){var a=e.split("/");return v0(a[0])+b0(parseInt(a[1]),128)}else throw t}}function b0(e,t){if(t==32&&e==0)return"00000000";if(t==128&&e==0)return"00000000000000000000000000000000";var r=Array(e+1).join("1")+Array(t-e+1).join("0");return new re(r,2).toString(16)}function w0(e){function t(i){var s=parseInt(i.substr(0,2),16),a=parseInt(i.substr(2),16);if(s==0&a<128)return String.fromCharCode(a);if(s<8){var o=192|(s&7)<<3|(a&192)>>6,u=128|a&63;return Ze(o.toString(16)+u.toString(16))}var o=224|(s&240)>>4,u=128|(s&15)<<2|(a&192)>>6,f=128|a&63;return Ze(o.toString(16)+u.toString(16)+f.toString(16))}var r=e.match(/.{4}/g),n=r.map(t);return n.join("")}function x0(e){for(var t=encodeURIComponent(e),r="",n=0;n<t.length;n++)t[n]=="%"?(r=r+t.substr(n,3),n=n+2):r=r+"%"+Pr(t[n]);return r}g.lang.String.isInteger=function(e){return e.match(/^[0-9]+$/)?!0:!!e.match(/^-[0-9]+$/)},g.lang.String.isHex=function(e){return S0(e)};function S0(e){return!!(e.length%2==0&&(e.match(/^[0-9a-f]+$/)||e.match(/^[0-9A-F]+$/)))}g.lang.String.isBase64=function(e){return e=e.replace(/\s+/g,""),!!(e.match(/^[0-9A-Za-z+\/]+={0,3}$/)&&e.length%4==0)},g.lang.String.isBase64URL=function(e){return e.match(/[+/=]/)?!1:(e=ff(e),g.lang.String.isBase64(e))};function E0(e){return!!e.match(/^[0-9A-Za-z-_.]+$/)}g.lang.String.isIntegerArray=function(e){return e=e.replace(/\s+/g,""),!!e.match(/^\[[0-9,]+\]$/)},g.lang.String.isPrintable=function(e){return e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},g.lang.String.isIA5=function(e){return e.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},g.lang.String.isMail=function(e){return e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};function A0(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}function b5(e){var t=function(o){var u=o.toString(16);return u.length==1&&(u="0"+u),u},r=function(o){var u="",f=parseInt(o,10),l=f.toString(2),h=7-l.length%7;h==7&&(h=0);for(var c="",d=0;d<h;d++)c+="0";l=c+l;for(var d=0;d<l.length-1;d+=7){var p=l.substr(d,7);d!=l.length-7&&(p="1"+p),u+=t(parseInt(p,2))}return u};try{if(!e.match(/^[0-9.]+$/))return null;var n="",i=e.split("."),s=parseInt(i[0],10)*40+parseInt(i[1],10);n+=t(s),i.splice(0,2);for(var a=0;a<i.length;a++)n+=r(i[a]);return n}catch{return null}}function hf(e){if(!S0(e))return null;try{var t=[],r=e.substr(0,2),n=parseInt(r,16);t[0]=new String(Math.floor(n/40)),t[1]=new String(n%40);for(var i=e.substr(2),s=[],a=0;a<i.length/2;a++)s.push(parseInt(i.substr(a*2,2),16));for(var o=[],u="",a=0;a<s.length;a++)s[a]&128?u=u+_0((s[a]&127).toString(2),7):(u=u+_0((s[a]&127).toString(2),7),o.push(new String(parseInt(u,2))),u="");var f=t.join(".");return o.length>0&&(f=f+"."+o.join(".")),f}catch{return null}}var _0=function(e,t,r){return r==null&&(r="0"),e.length>=t?e:new Array(t-e.length+1).join(r)+e};function w5(e){if(e.length%2!=0||(e=e.toLowerCase(),e.match(/^[0-9a-f]+$/)==null))return-1;try{var t=e.substr(0,2);if(t=="00")return parseInt(e.substr(2),16);var r=parseInt(t,16);if(r>7)return-1;var n=e.substr(2),i=parseInt(n,16).toString(2);i=="0"&&(i="00000000"),i=i.slice(0,0-r);var s=parseInt(i,2);return s==NaN?-1:s}catch{return-1}}function x5(e){if(typeof e!="string"||e.length%2!=0||!e.match(/^[0-9a-f]+$/))return null;try{var t=parseInt(e.substr(0,2),16);if(t<0||7<t)return null;for(var r=e.substr(2),n="",i=0;i<r.length;i+=2){var s=r.substr(i,2),a=parseInt(s,16).toString(2);a=("0000000"+a).slice(-8),n+=a}return n.substr(0,n.length-t)}catch{return null}}function df(e,t){for(var r=0,n=0;n<e.length;n++)r|=1<<t[e[n]];for(var i=r.toString(2),s="",n=i.length-1;n>=0;n--)s+=i[n];return s}function Ei(e,n,r){if(typeof e=="object"){for(var n=String(n).split("."),i=0;i<n.length&&e;i++){var s=n[i];s.match(/^[0-9]+$/)&&(s=parseInt(s)),e=e[s]}return e||e===!1?e:r}}function de(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)}(typeof g>"u"||!g)&&(g={}),(typeof g.crypto>"u"||!g.crypto)&&(g.crypto={}),g.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:Ae.algo.MD5,sha1:Ae.algo.SHA1,sha224:Ae.algo.SHA224,sha256:Ae.algo.SHA256,sha384:Ae.algo.SHA384,sha512:Ae.algo.SHA512,ripemd160:Ae.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(typeof this.DIGESTINFOHEAD[t]>"u")throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,r){var n=this.getDigestInfoHex(e,t),i=r/4;if(n.length+22>i)throw"key is too short for SigAlg: keylen="+r+","+t;for(var s="0001",a="00"+n,o="",u=i-s.length-a.length,f=0;f<u;f+=2)o+="ff";var l=s+o+a;return l},this.hashString=function(e,t){var r=new g.crypto.MessageDigest({alg:t});return r.digestString(e)},this.hashHex=function(e,t){var r=new g.crypto.MessageDigest({alg:t});return r.digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof Fe||e instanceof g.crypto.DSA||e instanceof g.crypto.ECDSA}},g.crypto.Util.md5=function(e){var t=new g.crypto.MessageDigest({alg:"md5",prov:"cryptojs"});return t.digestString(e)},g.crypto.Util.ripemd160=function(e){var t=new g.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"});return t.digestString(e)},g.crypto.Util.SECURERANDOMGEN=new Un,g.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return g.crypto.Util.SECURERANDOMGEN.nextBytes(t),uf(t)},g.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new re(g.crypto.Util.getRandomHexOfNbytes(e),16)},g.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,r=(e-t)/8,n=new Array(r+1);return g.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<t&255^255)&n[0],uf(n)},g.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new re(g.crypto.Util.getRandomHexOfNbits(e),16)},g.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var r=g.crypto.Util.getRandomBigIntegerOfNbits(t);if(e.compareTo(r)!=-1)return r}},g.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var r=e.compareTo(t);if(r==1)throw"biMin is greater than biMax";if(r==0)return e;var n=t.subtract(e),i=g.crypto.Util.getRandomBigIntegerZeroToMax(n);return i.add(e)},g.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(t,r){if(t=g.crypto.MessageDigest.getCanonicalAlgName(t),t!==null&&r===void 0&&(r=g.crypto.Util.DEFAULTPROVIDER[t]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)!=-1&&r=="cryptojs"){try{this.md=g.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create()}catch(n){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+n}this.updateString=function(n){this.md.update(n)},this.updateHex=function(n){var i=Ae.enc.Hex.parse(n);this.md.update(i)},this.digest=function(){var n=this.md.finalize();return n.toString(Ae.enc.Hex)},this.digestString=function(n){return this.updateString(n),this.digest()},this.digestHex=function(n){return this.updateHex(n),this.digest()}}if(":sha256:".indexOf(t)!=-1&&r=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(n){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+n}this.updateString=function(n){this.md.update(n)},this.updateHex=function(n){var i=sjcl.codec.hex.toBits(n);this.md.update(i)},this.digest=function(){var n=this.md.finalize();return sjcl.codec.hex.fromBits(n)},this.digestString=function(n){return this.updateString(n),this.digest()},this.digestHex=function(n){return this.updateHex(n),this.digest()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},e!==void 0&&e.alg!==void 0&&(this.algName=e.alg,e.prov===void 0&&(this.provName=g.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},g.crypto.MessageDigest.getCanonicalAlgName=function(e){return typeof e=="string"&&(e=e.toLowerCase(),e=e.replace(/-/,"")),e},g.crypto.MessageDigest.getHashLength=function(e){var t=g.crypto.MessageDigest,r=t.getCanonicalAlgName(e);if(t.HASHLENGTH[r]===void 0)throw"not supported algorithm: "+e;return t.HASHLENGTH[r]},g.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},g.crypto.Mac=function(e){this.setAlgAndProvider=function(t,r){if(t=t.toLowerCase(),t==null&&(t="hmacsha1"),t=t.toLowerCase(),t.substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+t;r===void 0&&(r=g.crypto.Util.DEFAULTPROVIDER[t]),this.algProv=t+"/"+r;var n=t.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)!=-1&&r=="cryptojs"){try{var i=g.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=Ae.algo.HMAC.create(i,this.pass)}catch(s){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+s}this.updateString=function(s){this.mac.update(s)},this.updateHex=function(s){var a=Ae.enc.Hex.parse(s);this.mac.update(a)},this.doFinal=function(){var s=this.mac.finalize();return s.toString(Ae.enc.Hex)},this.doFinalString=function(s){return this.updateString(s),this.doFinal()},this.doFinalHex=function(s){return this.updateHex(s),this.doFinal()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(t){if(typeof t=="string"){var r=t;(t.length%2==1||!t.match(/^[0-9A-Fa-f]+$/))&&(r=Fr(t)),this.pass=Ae.enc.Hex.parse(r);return}if(typeof t!="object")throw"KJUR.crypto.Mac unsupported password type: "+t;var r=null;if(t.hex!==void 0){if(t.hex.length%2!=0||!t.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.hex;r=t.hex}if(t.utf8!==void 0&&(r=cf(t.utf8)),t.rstr!==void 0&&(r=Fr(t.rstr)),t.b64!==void 0&&(r=rf(t.b64)),t.b64u!==void 0&&(r=st(t.b64u)),r==null)throw"KJUR.crypto.Mac unsupported password type: "+t;this.pass=Ae.enc.Hex.parse(r)},e!==void 0&&(e.pass!==void 0&&this.setPassword(e.pass),e.alg!==void 0&&(this.algName=e.alg,e.prov===void 0&&(this.provName=g.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},g.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var r=this.algName.match(/^(.+)with(.+)$/);r&&(this.mdAlgName=r[1].toLowerCase(),this.pubkeyAlgName=r[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(r,n){for(var i="",s=n/4-r.length,a=0;a<s;a++)i=i+"0";return i+r},this.setAlgAndProvider=function(r,n){if(this._setAlgNames(),n!="cryptojs/jsrsa")throw new Error("provider not supported: "+n);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new g.crypto.MessageDigest({alg:this.mdAlgName})}catch(i){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+i)}this.init=function(i,s){var a=null;try{s===void 0?a=We.getKey(i):a=We.getKey(i,s)}catch(o){throw"init failed:"+o}if(a.isPrivate===!0)this.prvKey=a,this.state="SIGN";else if(a.isPublic===!0)this.pubKey=a,this.state="VERIFY";else throw"init failed.:"+a},this.updateString=function(i){this.md.updateString(i)},this.updateHex=function(i){this.md.updateHex(i)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&g.crypto.ECDSA!==void 0&&(this.prvKey=new g.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Fe&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Fe&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof g.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else if(this.prvKey instanceof g.crypto.DSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;return this.hSign},this.signString=function(i){return this.updateString(i),this.sign()},this.signHex=function(i){return this.updateHex(i),this.sign()},this.verify=function(i){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&g.crypto.ECDSA!==void 0&&(this.pubKey=new g.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Fe&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,i,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Fe&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,i);if(g.crypto.ECDSA!==void 0&&this.pubKey instanceof g.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,i);if(g.crypto.DSA!==void 0&&this.pubKey instanceof g.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,i);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(r,n){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(r){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(r){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(r){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(r){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(r){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,e!==void 0&&(e.alg!==void 0&&(this.algName=e.alg,e.prov===void 0?this.provName=g.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),e.psssaltlen!==void 0&&(this.pssSaltLen=e.psssaltlen),e.prvkeypem!==void 0)){if(e.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{var t=We.getKey(e.prvkeypem);this.init(t)}catch(r){throw"fatal error to load pem private key: "+r}}},g.crypto.Cipher=function(e){},g.crypto.Cipher.encrypt=function(e,t,r){if(t instanceof Fe&&t.isPublic){var n=g.crypto.Cipher.getAlgByKeyAndName(t,r);if(n==="RSA")return t.encrypt(e);if(n==="RSAOAEP")return t.encryptOAEP(e,"sha1");var i=n.match(/^RSAOAEP(\d+)$/);if(i!==null)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+r}else throw"Cipher.encrypt: unsupported key or algorithm"},g.crypto.Cipher.decrypt=function(e,t,r){if(t instanceof Fe&&t.isPrivate){var n=g.crypto.Cipher.getAlgByKeyAndName(t,r);if(n==="RSA")return t.decrypt(e);if(n==="RSAOAEP")return t.decryptOAEP(e,"sha1");var i=n.match(/^RSAOAEP(\d+)$/);if(i!==null)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+r}else throw"Cipher.decrypt: unsupported key or algorithm"},g.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof Fe){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t)!=-1)return t;if(t==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},g.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},(typeof g>"u"||!g)&&(g={}),(typeof g.crypto>"u"||!g.crypto)&&(g.crypto={}),g.crypto.ECDSA=function(e){var t="secp256r1",r=Error,n=re,i=$e,s=g.crypto.ECDSA,a=g.crypto.ECParameterDB,o=s.getName,u=ye,f=u.getVbyListEx,l=u.isASN1HEX,h=new Un;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(c){return new n(c.bitLength(),h).mod(c.subtract(n.ONE)).add(n.ONE)},this.setNamedCurve=function(c){this.ecparams=a.getByName(c),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=c},this.setPrivateKeyHex=function(c){this.isPrivate=!0,this.prvKeyHex=c},this.setPublicKeyHex=function(c){this.isPublic=!0,this.pubKeyHex=c},this.getPublicKeyXYHex=function(){var c=this.pubKeyHex;if(c.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var d=this.ecparams.keycharlen;if(c.length!==2+d*2)throw"malformed public key hex length";var p={};return p.x=c.substr(2,d),p.y=c.substr(2+d),p},this.getShortNISTPCurveName=function(){var c=this.curveName;return c==="secp256r1"||c==="NIST P-256"||c==="P-256"||c==="prime256v1"?"P-256":c==="secp384r1"||c==="NIST P-384"||c==="P-384"?"P-384":c==="secp521r1"||c==="NIST P-521"||c==="P-521"?"P-521":null},this.generateKeyPairHex=function(){var c=this.ecparams.n,d=this.getBigRandom(c),p=this.ecparams.keycharlen,v=("0000000000"+d.toString(16)).slice(-p);this.setPrivateKeyHex(v);var y=this.generatePublicKeyHex();return{ecprvhex:v,ecpubhex:y}},this.generatePublicKeyHex=function(){var c=new n(this.prvKeyHex,16),d=this.ecparams.G.multiply(c),p=d.getX().toBigInteger(),v=d.getY().toBigInteger(),y=this.ecparams.keycharlen,b=("0000000000"+p.toString(16)).slice(-y),A=("0000000000"+v.toString(16)).slice(-y),D="04"+b+A;return this.setPublicKeyHex(D),D},this.signWithMessageHash=function(c){return this.signHex(c,this.prvKeyHex)},this.signHex=function(c,d){var p=new n(d,16),v=this.ecparams.n,y=new n(c.substring(0,this.ecparams.keycharlen),16);do var b=this.getBigRandom(v),A=this.ecparams.G,D=A.multiply(b),k=D.getX().toBigInteger().mod(v);while(k.compareTo(n.ZERO)<=0);var L=b.modInverse(v).multiply(y.add(p.multiply(k))).mod(v);return s.biRSSigToASN1Sig(k,L)},this.sign=function(c,d){var p=d,v=this.ecparams.n,y=n.fromByteArrayUnsigned(c);do var b=this.getBigRandom(v),A=this.ecparams.G,D=A.multiply(b),k=D.getX().toBigInteger().mod(v);while(k.compareTo(re.ZERO)<=0);var L=b.modInverse(v).multiply(y.add(p.multiply(k))).mod(v);return this.serializeSig(k,L)},this.verifyWithMessageHash=function(c,d){return this.verifyHex(c,d,this.pubKeyHex)},this.verifyHex=function(c,d,p){try{var v,y,b=s.parseSigHex(d);v=b.r,y=b.s;var A=i.decodeFromHex(this.ecparams.curve,p),D=new n(c.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(D,v,y,A)}catch{return!1}},this.verify=function(c,d,p){var v,y;if(Bitcoin.Util.isArray(d)){var b=this.parseSig(d);v=b.r,y=b.s}else if(typeof d=="object"&&d.r&&d.s)v=d.r,y=d.s;else throw"Invalid value for signature";var A;if(p instanceof $e)A=p;else if(Bitcoin.Util.isArray(p))A=i.decodeFrom(this.ecparams.curve,p);else throw"Invalid format for pubkey value, must be byte array or ECPointFp";var D=n.fromByteArrayUnsigned(c);return this.verifyRaw(D,v,y,A)},this.verifyRaw=function(c,d,p,v){var y=this.ecparams.n,b=this.ecparams.G;if(d.compareTo(n.ONE)<0||d.compareTo(y)>=0||p.compareTo(n.ONE)<0||p.compareTo(y)>=0)return!1;var A=p.modInverse(y),D=c.multiply(A).mod(y),k=d.multiply(A).mod(y),L=b.multiply(D).add(v.multiply(k)),_=L.getX().toBigInteger().mod(y);return _.equals(d)},this.serializeSig=function(c,d){var p=c.toByteArraySigned(),v=d.toByteArraySigned(),y=[];return y.push(2),y.push(p.length),y=y.concat(p),y.push(2),y.push(v.length),y=y.concat(v),y.unshift(y.length),y.unshift(48),y},this.parseSig=function(c){var d;if(c[0]!=48)throw new Error("Signature not a valid DERSequence");if(d=2,c[d]!=2)throw new Error("First element in signature must be a DERInteger");var p=c.slice(d+2,d+2+c[d+1]);if(d+=2+c[d+1],c[d]!=2)throw new Error("Second element in signature must be a DERInteger");var v=c.slice(d+2,d+2+c[d+1]);d+=2+c[d+1];var y=n.fromByteArrayUnsigned(p),b=n.fromByteArrayUnsigned(v);return{r:y,s:b}},this.parseSigCompact=function(c){if(c.length!==65)throw"Signature has the wrong length";var d=c[0]-27;if(d<0||d>7)throw"Invalid signature type";var p=this.ecparams.n,v=n.fromByteArrayUnsigned(c.slice(1,33)).mod(p),y=n.fromByteArrayUnsigned(c.slice(33,65)).mod(p);return{r:v,s:y,i:d}},this.readPKCS5PrvKeyHex=function(c){if(l(c)===!1)throw new Error("not ASN.1 hex string");var d,p,v;try{d=f(c,0,["[0]",0],"06"),p=f(c,0,[1],"04");try{v=f(c,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=o(d),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(v),this.setPrivateKeyHex(p),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(c){if(l(c)===!1)throw new r("not ASN.1 hex string");var d,p,v,y;try{d=f(c,0,[1,0],"06"),p=f(c,0,[1,1],"06"),v=f(c,0,[2,0,1],"04");try{y=f(c,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new r("malformed PKCS#8 plain ECC private key")}if(this.curveName=o(p),this.curveName===void 0)throw new r("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(y),this.setPrivateKeyHex(v),this.isPublic=!1},this.readPKCS8PubKeyHex=function(c){if(l(c)===!1)throw new r("not ASN.1 hex string");var d,p,v;try{d=f(c,0,[0,0],"06"),p=f(c,0,[0,1],"06"),v=f(c,0,[1],"03")}catch{throw new r("malformed PKCS#8 ECC public key")}if(this.curveName=o(p),this.curveName===null)throw new r("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(v)},this.readCertPubKeyHex=function(c,d){if(l(c)===!1)throw new r("not ASN.1 hex string");var p,v;try{p=f(c,0,[0,5,0,1],"06"),v=f(c,0,[0,5,1],"03")}catch{throw new r("malformed X.509 certificate ECC public key")}if(this.curveName=o(p),this.curveName===null)throw new r("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(v)},e!==void 0&&e.curve!==void 0&&(this.curveName=e.curve),this.curveName===void 0&&(this.curveName=t),this.setNamedCurve(this.curveName),e!==void 0&&(e.prv!==void 0&&this.setPrivateKeyHex(e.prv),e.pub!==void 0&&this.setPublicKeyHex(e.pub))},g.crypto.ECDSA.parseSigHex=function(e){var t=g.crypto.ECDSA.parseSigHexInHexRS(e),r=new re(t.r,16),n=new re(t.s,16);return{r,s:n}},g.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=ye,r=t.getChildIdx,n=t.getV;if(t.checkStrictDER(e,0),e.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var i=r(e,0);if(i.length!=2)throw new Error("signature shall have two elements");var s=i[0],a=i[1];if(e.substr(s,2)!="02")throw new Error("1st item not ASN.1 integer");if(e.substr(a,2)!="02")throw new Error("2nd item not ASN.1 integer");var o=n(e,s),u=n(e,a);return{r:o,s:u}},g.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=g.crypto.ECDSA.parseSigHexInHexRS(e),r=t.r,n=t.s;if(r.length>=130&&r.length<=134){if(r.length%2!=0)throw Error("unknown ECDSA sig r length error");if(n.length%2!=0)throw Error("unknown ECDSA sig s length error");r.substr(0,2)=="00"&&(r=r.substr(2)),n.substr(0,2)=="00"&&(n=n.substr(2));var i=Math.max(r.length,n.length);return r=("000000"+r).slice(-i),n=("000000"+n).slice(-i),r+n}if(r.substr(0,2)=="00"&&r.length%32==2&&(r=r.substr(2)),n.substr(0,2)=="00"&&n.length%32==2&&(n=n.substr(2)),r.length%32==30&&(r="00"+r),n.length%32==30&&(n="00"+n),r.length%32!=0)throw Error("unknown ECDSA sig r length error");if(n.length%32!=0)throw Error("unknown ECDSA sig s length error");return r+n},g.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var t=e.substr(0,e.length/2),r=e.substr(e.length/2);return g.crypto.ECDSA.hexRSSigToASN1Sig(t,r)},g.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var r=new re(e,16),n=new re(t,16);return g.crypto.ECDSA.biRSSigToASN1Sig(r,n)},g.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var r=g.asn1,n=new r.DERInteger({bigint:e}),i=new r.DERInteger({bigint:t}),s=new r.DERSequence({array:[n,i]});return s.tohex()},g.crypto.ECDSA.getName=function(e){return e==="2b8104001f"?"secp192k1":e==="2a8648ce3d030107"?"secp256r1":e==="2b8104000a"?"secp256k1":e==="2b81040021"?"secp224r1":e==="2b81040022"?"secp384r1":e==="2b81040023"?"secp521r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)!==-1?"secp256r1":"|secp256k1|".indexOf(e)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(e)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(e)!==-1?"secp384r1":"|secp521r1|NIST P-521|P-521|".indexOf(e)!==-1?"secp521r1":null},(typeof g>"u"||!g)&&(g={}),(typeof g.crypto>"u"||!g.crypto)&&(g.crypto={}),g.crypto.ECParameterDB=new function(){var e={},t={};function r(n){return new re(n,16)}this.getByName=function(n){var i=n;if(typeof t[i]<"u"&&(i=t[n]),typeof e[i]<"u")return e[i];throw"unregistered EC curve name: "+i},this.regist=function(n,i,s,a,o,u,f,l,h,c,d,p){e[n]={};var v=r(s),y=r(a),b=r(o),A=r(u),D=r(f),k=new wn(v,y,b),L=k.decodePointHex("04"+l+h);e[n].name=n,e[n].keylen=i,e[n].keycharlen=Math.ceil(i/8)*2,e[n].curve=k,e[n].G=L,e[n].n=A,e[n].h=D,e[n].oid=d,e[n].info=p;for(var _=0;_<c.length;_++)t[c[_]]=n}},g.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),g.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),g.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),g.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),g.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),g.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),g.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),g.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),g.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),g.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),(typeof g>"u"||!g)&&(g={}),(typeof g.crypto>"u"||!g.crypto)&&(g.crypto={}),g.crypto.DSA=function(){var e=ye;e.getVbyList;var t=e.getVbyListEx,r=e.isASN1HEX,n=re;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(i,s,a,o,u){this.isPrivate=!0,this.p=i,this.q=s,this.g=a,this.y=o,this.x=u},this.setPrivateHex=function(i,s,a,o,u){var f,l,h,c,d;f=new re(i,16),l=new re(s,16),h=new re(a,16),typeof o=="string"&&o.length>1?c=new re(o,16):c=null,d=new re(u,16),this.setPrivate(f,l,h,c,d)},this.setPublic=function(i,s,a,o){this.isPublic=!0,this.p=i,this.q=s,this.g=a,this.y=o,this.x=null},this.setPublicHex=function(i,s,a,o){var u,f,l,h;u=new re(i,16),f=new re(s,16),l=new re(a,16),h=new re(o,16),this.setPublic(u,f,l,h)},this.signWithMessageHash=function(i){var s=this.p,a=this.q,o=this.g;this.y;var u=this.x,f=g.crypto.Util.getRandomBigIntegerMinToMax(re.ONE.add(re.ONE),a.subtract(re.ONE)),l=i.substr(0,a.bitLength()/4),h=new re(l,16),c=o.modPow(f,s).mod(a),d=f.modInverse(a).multiply(h.add(u.multiply(c))).mod(a),p=g.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:c}},{int:{bigint:d}}]});return p},this.verifyWithMessageHash=function(i,s){var a=this.p,o=this.q,u=this.g,f=this.y,l=this.parseASN1Signature(s),h=l[0],c=l[1],d=i.substr(0,o.bitLength()/4),p=new re(d,16);if(re.ZERO.compareTo(h)>0||h.compareTo(o)>0||re.ZERO.compareTo(c)>=0||c.compareTo(o)>0)throw"invalid DSA signature";var v=c.modInverse(o),y=p.multiply(v).mod(o),b=h.multiply(v).mod(o),A=u.modPow(y,a).multiply(f.modPow(b,a)).mod(a).mod(o);return A.compareTo(h)==0},this.parseASN1Signature=function(i){try{var s=new n(t(i,0,[0],"02"),16),a=new n(t(i,0,[1],"02"),16);return[s,a]}catch{throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(i){var s,a,o,u,f;if(r(i)===!1)throw new Error("not ASN.1 hex string");try{s=t(i,0,[1],"02"),a=t(i,0,[2],"02"),o=t(i,0,[3],"02"),u=t(i,0,[4],"02"),f=t(i,0,[5],"02")}catch{throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(s,a,o,u,f)},this.readPKCS8PrvKeyHex=function(i){var s,a,o,u;if(r(i)===!1)throw new Error("not ASN.1 hex string");try{s=t(i,0,[1,1,0],"02"),a=t(i,0,[1,1,1],"02"),o=t(i,0,[1,1,2],"02"),u=t(i,0,[2,0],"02")}catch{throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(s,a,o,null,u)},this.readPKCS8PubKeyHex=function(i){var s,a,o,u;if(r(i)===!1)throw new Error("not ASN.1 hex string");try{s=t(i,0,[0,1,0],"02"),a=t(i,0,[0,1,1],"02"),o=t(i,0,[0,1,2],"02"),u=t(i,0,[1,0],"02")}catch{throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(s,a,o,u)},this.readCertPubKeyHex=function(i,s){var a,o,u,f;if(r(i)===!1)throw new Error("not ASN.1 hex string");try{a=t(i,0,[0,5,0,1,0],"02"),o=t(i,0,[0,5,0,1,1],"02"),u=t(i,0,[0,5,0,1,2],"02"),f=t(i,0,[0,5,1,0],"02")}catch{throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(a,o,u,f)}};var We=function(){var e=function(p,v,y){return n(Ae.AES,p,v,y)},t=function(p,v,y){return n(Ae.TripleDES,p,v,y)},r=function(p,v,y){return n(Ae.DES,p,v,y)},n=function(p,v,y,b){var A=Ae.enc.Hex.parse(v),D=Ae.enc.Hex.parse(y),k=Ae.enc.Hex.parse(b),L={};L.key=D,L.iv=k,L.ciphertext=A;var _=p.decrypt(L,D,{iv:k});return Ae.enc.Hex.stringify(_)},i=function(p,v,y){return o(Ae.AES,p,v,y)},s=function(p,v,y){return o(Ae.TripleDES,p,v,y)},a=function(p,v,y){return o(Ae.DES,p,v,y)},o=function(p,v,y,b){var A=Ae.enc.Hex.parse(v),D=Ae.enc.Hex.parse(y),k=Ae.enc.Hex.parse(b),L=p.encrypt(A,D,{iv:k}),_=Ae.enc.Hex.parse(L.toString()),F=Ae.enc.Base64.stringify(_);return F},u={"AES-256-CBC":{proc:e,eproc:i,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:i,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:i,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:t,eproc:s,keylen:24,ivlen:8},"DES-CBC":{proc:r,eproc:a,keylen:8,ivlen:8}},f=function(p){var v=Ae.lib.WordArray.random(p),y=Ae.enc.Hex.stringify(v);return y},l=function(p){var v={},y=p.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));y&&(v.cipher=y[1],v.ivsalt=y[2]);var b=p.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));b&&(v.type=b[1]);var A=-1,D=0;p.indexOf(`\r
\r
`)!=-1&&(A=p.indexOf(`\r
\r
`),D=2),p.indexOf(`

`)!=-1&&(A=p.indexOf(`

`),D=1);var k=p.indexOf("-----END");if(A!=-1&&k!=-1){var L=p.substring(A+D*2,k-D);L=L.replace(/\s+/g,""),v.data=L}return v},h=function(p,v,y){for(var b=y.substring(0,16),A=Ae.enc.Hex.parse(b),D=Ae.enc.Utf8.parse(v),k=u[p].keylen+u[p].ivlen,L="",_=null;;){var F=Ae.algo.MD5.create();if(_!=null&&F.update(_),F.update(D),F.update(A),_=F.finalize(),L=L+Ae.enc.Hex.stringify(_),L.length>=k*2)break}var R={};return R.keyhex=L.substr(0,u[p].keylen*2),R.ivhex=L.substr(u[p].keylen*2,u[p].ivlen*2),R},c=function(p,v,y,b){var A=Ae.enc.Base64.parse(p),D=Ae.enc.Hex.stringify(A),k=u[v].proc,L=k(D,y,b);return L},d=function(p,v,y,b){var A=u[v].eproc,D=A(p,y,b);return D};return{version:"1.0.0",parsePKCS5PEM:function(p){return l(p)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(p,v,y){return h(p,v,y)},decryptKeyB64:function(p,v,y,b){return c(p,v,y,b)},getDecryptedKeyHex:function(p,v){var y=l(p),b=y.cipher,A=y.ivsalt,D=y.data,k=h(b,v,A),L=k.keyhex,_=c(D,b,L,A);return _},getEncryptedPKCS5PEMFromPrvKeyHex:function(p,v,y,b,A){var P="";if((typeof b>"u"||b==null)&&(b="AES-256-CBC"),typeof u[b]>"u")throw new Error("KEYUTIL unsupported algorithm: "+b);if(typeof A>"u"||A==null){var D=u[b].ivlen,k=f(D);A=k.toUpperCase()}var L=h(b,y,A),_=L.keyhex,F=d(v,b,_,A),R=F.replace(/(.{64})/g,`$1\r
`),P="-----BEGIN "+p+` PRIVATE KEY-----\r
`;return P+=`Proc-Type: 4,ENCRYPTED\r
`,P+="DEK-Info: "+b+","+A+`\r
`,P+=`\r
`,P+=R,P+=`\r
-----END `+p+` PRIVATE KEY-----\r
`,P},parseHexOfEncryptedPKCS8:function(p){var v=ye,y=v.getChildIdx,b=v.getV,A={},D=y(p,0);if(D.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+D.length);A.ciphertext=b(p,D[1]);var k=y(p,D[0]);if(k.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+k.length);if(b(p,k[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var L=y(p,k[1]);if(k.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+L.length);var _=y(p,L[1]);if(_.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+_.length);if(b(p,_[0])!="2a864886f70d0307")throw"this only supports TripleDES";A.encryptionSchemeAlg="TripleDES",A.encryptionSchemeIV=b(p,_[1]);var F=y(p,L[0]);if(F.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+F.length);if(b(p,F[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var R=y(p,F[1]);if(R.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+R.length);A.pbkdf2Salt=b(p,R[0]);var P=b(p,R[1]);try{A.pbkdf2Iter=parseInt(P,16)}catch{throw new Error("malformed format pbkdf2Iter: "+P)}return A},getPBKDF2KeyHexFromParam:function(p,v){var y=Ae.enc.Hex.parse(p.pbkdf2Salt),b=p.pbkdf2Iter,A=Ae.PBKDF2(v,y,{keySize:192/32,iterations:b}),D=Ae.enc.Hex.stringify(A);return D},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(p,v){var y=Ft(p,"ENCRYPTED PRIVATE KEY"),b=this.parseHexOfEncryptedPKCS8(y),A=We.getPBKDF2KeyHexFromParam(b,v),D={};D.ciphertext=Ae.enc.Hex.parse(b.ciphertext);var k=Ae.enc.Hex.parse(A),L=Ae.enc.Hex.parse(b.encryptionSchemeIV),_=Ae.TripleDES.decrypt(D,k,{iv:L}),F=Ae.enc.Hex.stringify(_);return F},getKeyFromEncryptedPKCS8PEM:function(p,v){var y=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(p,v),b=this.getKeyFromPlainPrivatePKCS8Hex(y);return b},parsePlainPrivatePKCS8Hex:function(p){var v=ye,y=v.getChildIdx,b=v.getV,A={};if(A.algparam=null,p.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var D=y(p,0);if(D.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(p.substr(D[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var k=y(p,D[1]);if(k.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(p.substr(k[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(A.algoid=b(p,k[0]),p.substr(k[1],2)=="06"&&(A.algparam=b(p,k[1])),p.substr(D[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return A.keyidx=v.getVidx(p,D[2]),A},getKeyFromPlainPrivatePKCS8PEM:function(p){var v=Ft(p,"PRIVATE KEY"),y=this.getKeyFromPlainPrivatePKCS8Hex(v);return y},getKeyFromPlainPrivatePKCS8Hex:function(p){var v=this.parsePlainPrivatePKCS8Hex(p),y;if(v.algoid=="2a864886f70d010101")y=new Fe;else if(v.algoid=="2a8648ce380401")y=new g.crypto.DSA;else if(v.algoid=="2a8648ce3d0201")y=new g.crypto.ECDSA;else throw new Error("unsupported private key algorithm");return y.readPKCS8PrvKeyHex(p),y},_getKeyFromPublicPKCS8Hex:function(p){var v,y=ye.getVbyList(p,0,[0,0],"06");if(y==="2a864886f70d010101")v=new Fe;else if(y==="2a8648ce380401")v=new g.crypto.DSA;else if(y==="2a8648ce3d0201")v=new g.crypto.ECDSA;else throw new Error("unsupported PKCS#8 public key hex");return v.readPKCS8PubKeyHex(p),v},parsePublicRawRSAKeyHex:function(p){var v=ye,y=v.getChildIdx,b=v.getV,A={};if(p.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var D=y(p,0);if(D.length!=2)throw new Error("malformed RSA key(code:002)");if(p.substr(D[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(A.n=b(p,D[0]),p.substr(D[1],2)!="02")throw new Error("malformed RSA key(code:004)");return A.e=b(p,D[1]),A},parsePublicPKCS8Hex:function(p){var v=ye,y=v.getChildIdx,b=v.getV,A={};A.algparam=null;var D=y(p,0);if(D.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+D.length);var k=D[0];if(p.substr(k,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var L=y(p,k);if(L.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(p.substr(L[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(A.algoid=b(p,L[0]),p.substr(L[1],2)=="06"?A.algparam=b(p,L[1]):p.substr(L[1],2)=="30"&&(A.algparam={},A.algparam.p=v.getVbyList(p,L[1],[0],"02"),A.algparam.q=v.getVbyList(p,L[1],[1],"02"),A.algparam.g=v.getVbyList(p,L[1],[2],"02")),p.substr(D[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return A.key=b(p,D[1]).substr(2),A}}}();We.getKey=function(e,t,r){var n=ye,i=n.getChildIdx;n.getV;var s=n.getVbyList,a=g.crypto,o=a.ECDSA,u=a.DSA,f=Fe,l=Ft,h=We;if(typeof f<"u"&&e instanceof f||typeof o<"u"&&e instanceof o||typeof u<"u"&&e instanceof u)return e;if(e.curve!==void 0&&e.xy!==void 0&&e.d===void 0)return new o({pub:e.xy,curve:e.curve});if(e.curve!==void 0&&e.d!==void 0)return new o({prv:e.d,curve:e.curve});if(e.kty===void 0&&e.n!==void 0&&e.e!==void 0&&e.d===void 0){var c=new f;return c.setPublic(e.n,e.e),c}if(e.kty===void 0&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0&&e.p!==void 0&&e.q!==void 0&&e.dp!==void 0&&e.dq!==void 0&&e.co!==void 0&&e.qi===void 0){var c=new f;return c.setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),c}if(e.kty===void 0&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0&&e.p===void 0){var c=new f;return c.setPrivate(e.n,e.e,e.d),c}if(e.p!==void 0&&e.q!==void 0&&e.g!==void 0&&e.y!==void 0&&e.x===void 0){var c=new u;return c.setPublic(e.p,e.q,e.g,e.y),c}if(e.p!==void 0&&e.q!==void 0&&e.g!==void 0&&e.y!==void 0&&e.x!==void 0){var c=new u;return c.setPrivate(e.p,e.q,e.g,e.y,e.x),c}if(e.kty==="RSA"&&e.n!==void 0&&e.e!==void 0&&e.d===void 0){var c=new f;return c.setPublic(st(e.n),st(e.e)),c}if(e.kty==="RSA"&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0&&e.p!==void 0&&e.q!==void 0&&e.dp!==void 0&&e.dq!==void 0&&e.qi!==void 0){var c=new f;return c.setPrivateEx(st(e.n),st(e.e),st(e.d),st(e.p),st(e.q),st(e.dp),st(e.dq),st(e.qi)),c}if(e.kty==="RSA"&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0){var c=new f;return c.setPrivate(st(e.n),st(e.e),st(e.d)),c}if(e.kty==="EC"&&e.crv!==void 0&&e.x!==void 0&&e.y!==void 0&&e.d===void 0){var d=new o({curve:e.crv}),p=d.ecparams.keycharlen,v=("0000000000"+st(e.x)).slice(-p),y=("0000000000"+st(e.y)).slice(-p),b="04"+v+y;return d.setPublicKeyHex(b),d}if(e.kty==="EC"&&e.crv!==void 0&&e.x!==void 0&&e.y!==void 0&&e.d!==void 0){var d=new o({curve:e.crv}),p=d.ecparams.keycharlen,v=("0000000000"+st(e.x)).slice(-p),y=("0000000000"+st(e.y)).slice(-p),b="04"+v+y,A=("0000000000"+st(e.d)).slice(-p);return d.setPublicKeyHex(b),d.setPrivateKeyHex(A),d}if(r==="pkcs5prv"){var D=e,n=ye,k,c;if(k=i(D,0),k.length===9)c=new f,c.readPKCS5PrvKeyHex(D);else if(k.length===6)c=new u,c.readPKCS5PrvKeyHex(D);else if(k.length>2&&D.substr(k[1],2)==="04")c=new o,c.readPKCS5PrvKeyHex(D);else throw new Error("unsupported PKCS#1/5 hexadecimal key");return c}if(r==="pkcs8prv"){var c=h.getKeyFromPlainPrivatePKCS8Hex(e);return c}if(r==="pkcs8pub")return h._getKeyFromPublicPKCS8Hex(e);if(r==="x509pub")return Me.getPublicKeyFromCertHex(e);if(e.indexOf("-END CERTIFICATE-",0)!=-1||e.indexOf("-END X509 CERTIFICATE-",0)!=-1||e.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Me.getPublicKeyFromCertPEM(e);if(e.indexOf("-END PUBLIC KEY-")!=-1){var L=Ft(e,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(L)}if(e.indexOf("-END RSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")==-1){var _=l(e,"RSA PRIVATE KEY");return h.getKey(_,null,"pkcs5prv")}if(e.indexOf("-END DSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")==-1){var F=l(e,"DSA PRIVATE KEY"),R=s(F,0,[1],"02"),P=s(F,0,[2],"02"),M=s(F,0,[3],"02"),C=s(F,0,[4],"02"),m=s(F,0,[5],"02"),c=new u;return c.setPrivate(new re(R,16),new re(P,16),new re(M,16),new re(C,16),new re(m,16)),c}if(e.indexOf("-END EC PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")==-1){var _=l(e,"EC PRIVATE KEY");return h.getKey(_,null,"pkcs5prv")}if(e.indexOf("-END PRIVATE KEY-")!=-1)return h.getKeyFromPlainPrivatePKCS8PEM(e);if(e.indexOf("-END RSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var E=h.getDecryptedKeyHex(e,t),T=new Fe;return T.readPKCS5PrvKeyHex(E),T}if(e.indexOf("-END EC PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var F=h.getDecryptedKeyHex(e,t),c=s(F,0,[1],"04"),O=s(F,0,[2,0],"06"),N=s(F,0,[3,0],"03").substr(2),H="";if(g.crypto.OID.oidhex2name[O]!==void 0)H=g.crypto.OID.oidhex2name[O];else throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+O);var d=new o({curve:H});return d.setPublicKeyHex(N),d.setPrivateKeyHex(c),d.isPublic=!1,d}if(e.indexOf("-END DSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var F=h.getDecryptedKeyHex(e,t),R=s(F,0,[1],"02"),P=s(F,0,[2],"02"),M=s(F,0,[3],"02"),C=s(F,0,[4],"02"),m=s(F,0,[5],"02"),c=new u;return c.setPrivate(new re(R,16),new re(P,16),new re(M,16),new re(C,16),new re(m,16)),c}if(e.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return h.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},We.generateKeypair=function(e,t){if(e=="RSA"){var r=t,n=new Fe;n.generate(r,"10001"),n.isPrivate=!0,n.isPublic=!0;var i=new Fe,s=n.n.toString(16),a=n.e.toString(16);i.setPublic(s,a),i.isPrivate=!1,i.isPublic=!0;var o={};return o.prvKeyObj=n,o.pubKeyObj=i,o}else if(e=="EC"){var u=t,f=new g.crypto.ECDSA({curve:u}),l=f.generateKeyPairHex(),n=new g.crypto.ECDSA({curve:u});n.setPublicKeyHex(l.ecpubhex),n.setPrivateKeyHex(l.ecprvhex),n.isPrivate=!0,n.isPublic=!1;var i=new g.crypto.ECDSA({curve:u});i.setPublicKeyHex(l.ecpubhex),i.isPrivate=!1,i.isPublic=!0;var o={};return o.prvKeyObj=n,o.pubKeyObj=i,o}else throw new Error("unknown algorithm: "+e)},We.getPEM=function(e,t,r,n,i,s){var a=g,o=a.asn1,u=o.DERObjectIdentifier,f=o.DERInteger,l=o.ASN1Util.newObject,h=o.x509,c=h.SubjectPublicKeyInfo,d=a.crypto,p=d.DSA,v=d.ECDSA,y=Fe;function b(N){var H=l({seq:[{int:0},{int:{bigint:N.n}},{int:N.e},{int:{bigint:N.d}},{int:{bigint:N.p}},{int:{bigint:N.q}},{int:{bigint:N.dmp1}},{int:{bigint:N.dmq1}},{int:{bigint:N.coeff}}]});return H}function A(N){var H=l({seq:[{int:1},{octstr:{hex:N.prvKeyHex}},{tag:["a0",!0,{oid:{name:N.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+N.pubKeyHex}}]}]});return H}function D(N){var H=l({seq:[{int:0},{int:{bigint:N.p}},{int:{bigint:N.q}},{int:{bigint:N.g}},{int:{bigint:N.y}},{int:{bigint:N.x}}]});return H}if((y!==void 0&&e instanceof y||p!==void 0&&e instanceof p||v!==void 0&&e instanceof v)&&e.isPublic==!0&&(t===void 0||t=="PKCS8PUB")){var k=new c(e),L=k.tohex();return Lt(L,"PUBLIC KEY")}if(t=="PKCS1PRV"&&y!==void 0&&e instanceof y&&(r===void 0||r==null)&&e.isPrivate==!0){var k=b(e),L=k.tohex();return Lt(L,"RSA PRIVATE KEY")}if(t=="PKCS1PRV"&&v!==void 0&&e instanceof v&&(r===void 0||r==null)&&e.isPrivate==!0){var _=new u({name:e.curveName}),F=_.tohex(),R=A(e),P=R.tohex(),M="";return M+=Lt(F,"EC PARAMETERS"),M+=Lt(P,"EC PRIVATE KEY"),M}if(t=="PKCS1PRV"&&p!==void 0&&e instanceof p&&(r===void 0||r==null)&&e.isPrivate==!0){var k=D(e),L=k.tohex();return Lt(L,"DSA PRIVATE KEY")}if(t=="PKCS5PRV"&&y!==void 0&&e instanceof y&&r!==void 0&&r!=null&&e.isPrivate==!0){var k=b(e),L=k.tohex();return n===void 0&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",L,r,n,s)}if(t=="PKCS5PRV"&&v!==void 0&&e instanceof v&&r!==void 0&&r!=null&&e.isPrivate==!0){var k=A(e),L=k.tohex();return n===void 0&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",L,r,n,s)}if(t=="PKCS5PRV"&&p!==void 0&&e instanceof p&&r!==void 0&&r!=null&&e.isPrivate==!0){var k=D(e),L=k.tohex();return n===void 0&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",L,r,n,s)}var C=function(N,H){var Z=m(N,H),K=new l({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Z.pbkdf2Salt}},{int:Z.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Z.encryptionSchemeIV}}]}]}]},{octstr:{hex:Z.ciphertext}}]});return K.tohex()},m=function(N,H){var Z=100,K=Ae.lib.WordArray.random(8),x="DES-EDE3-CBC",V=Ae.lib.WordArray.random(8),z=Ae.PBKDF2(H,K,{keySize:192/32,iterations:Z}),G=Ae.enc.Hex.parse(N),$=Ae.TripleDES.encrypt(G,z,{iv:V})+"",ae={};return ae.ciphertext=$,ae.pbkdf2Salt=Ae.enc.Hex.stringify(K),ae.pbkdf2Iter=Z,ae.encryptionSchemeAlg=x,ae.encryptionSchemeIV=Ae.enc.Hex.stringify(V),ae};if(t=="PKCS8PRV"&&y!=null&&e instanceof y&&e.isPrivate==!0){var E=b(e),T=E.tohex(),k=l({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:T}}]}),L=k.tohex();if(r===void 0||r==null)return Lt(L,"PRIVATE KEY");var P=C(L,r);return Lt(P,"ENCRYPTED PRIVATE KEY")}if(t=="PKCS8PRV"&&v!==void 0&&e instanceof v&&e.isPrivate==!0){var O={seq:[{int:1},{octstr:{hex:e.prvKeyHex}}]};typeof e.pubKeyHex=="string"&&O.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]});var E=new l(O),T=E.tohex(),k=l({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:T}}]}),L=k.tohex();if(r===void 0||r==null)return Lt(L,"PRIVATE KEY");var P=C(L,r);return Lt(P,"ENCRYPTED PRIVATE KEY")}if(t=="PKCS8PRV"&&p!==void 0&&e instanceof p&&e.isPrivate==!0){var E=new f({bigint:e.x}),T=E.tohex(),k=l({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:T}}]}),L=k.tohex();if(r===void 0||r==null)return Lt(L,"PRIVATE KEY");var P=C(L,r);return Lt(P,"ENCRYPTED PRIVATE KEY")}throw new Error("unsupported object nor format")},We.getKeyFromCSRPEM=function(e){var t=Ft(e,"CERTIFICATE REQUEST"),r=We.getKeyFromCSRHex(t);return r},We.getKeyFromCSRHex=function(e){var t=We.parseCSRHex(e),r=We.getKey(t.p8pubkeyhex,null,"pkcs8pub");return r},We.parseCSRHex=function(e){var t=ye,r=t.getChildIdx,n=t.getTLV,i={},s=e;if(s.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var a=r(s,0);if(a.length<1)throw new Error("malformed CSR(code:002)");if(s.substr(a[0],2)!="30")throw new Error("malformed CSR(code:003)");var o=r(s,a[0]);if(o.length<3)throw new Error("malformed CSR(code:004)");return i.p8pubkeyhex=n(s,o[2]),i},We.getKeyID=function(e){var t=We,r=ye;typeof e=="string"&&e.indexOf("BEGIN ")!=-1&&(e=t.getKey(e));var n=Ft(t.getPEM(e)),i=r.getIdxbyList(n,0,[1]),s=r.getV(n,i).substring(2);return g.crypto.Util.hashHex(s,"sha1")},We.getJWK=function(e,t,r,n,i){var s,a={},o,u=g.crypto.Util.hashHex;if(typeof e=="string")s=We.getKey(e),e.indexOf("CERTIFICATE")!=-1&&(o=Ft(e));else if(typeof e=="object")e instanceof Me?(s=e.getPublicKey(),o=e.hex):s=e;else throw new Error("unsupported keyinfo type");if(s instanceof Fe&&s.isPrivate)a.kty="RSA",a.n=kt(s.n.toString(16)),a.e=kt(s.e.toString(16)),a.d=kt(s.d.toString(16)),a.p=kt(s.p.toString(16)),a.q=kt(s.q.toString(16)),a.dp=kt(s.dmp1.toString(16)),a.dq=kt(s.dmq1.toString(16)),a.qi=kt(s.coeff.toString(16));else if(s instanceof Fe&&s.isPublic)a.kty="RSA",a.n=kt(s.n.toString(16)),a.e=kt(s.e.toString(16));else if(s instanceof g.crypto.ECDSA&&s.isPrivate){var f=s.getShortNISTPCurveName();if(f!=="P-256"&&f!=="P-384"&&f!=="P-521")throw new Error("unsupported curve name for JWT: "+f);var l=s.getPublicKeyXYHex();a.kty="EC",a.crv=f,a.x=kt(l.x),a.y=kt(l.y),a.d=kt(s.prvKeyHex)}else if(s instanceof g.crypto.ECDSA&&s.isPublic){var f=s.getShortNISTPCurveName();if(f!=="P-256"&&f!=="P-384"&&f!=="P-521")throw new Error("unsupported curve name for JWT: "+f);var l=s.getPublicKeyXYHex();a.kty="EC",a.crv=f,a.x=kt(l.x),a.y=kt(l.y)}if(a.kty==null)throw new Error("unsupported keyinfo");return!s.isPrivate&&t!=!0&&(a.kid=g.jws.JWS.getJWKthumbprint(a)),o!=null&&r!=!0&&(a.x5c=[ts(o)]),o!=null&&n!=!0&&(a.x5t=Aa(ts(u(o,"sha1")))),o!=null&&i!=!0&&(a["x5t#S256"]=Aa(ts(u(o,"sha256")))),a},We.getJWKFromKey=function(e){return We.getJWK(e,!0,!0,!0,!0)},Fe.getPosArrayOfChildrenFromHex=function(e){return ye.getChildIdx(e,0)},Fe.getHexValueArrayOfChildrenFromHex=function(e){var t=ye,r=t.getV,c=Fe.getPosArrayOfChildrenFromHex(e),n=r(e,c[0]),i=r(e,c[1]),s=r(e,c[2]),a=r(e,c[3]),o=r(e,c[4]),u=r(e,c[5]),f=r(e,c[6]),l=r(e,c[7]),h=r(e,c[8]),c=new Array;return c.push(n,i,s,a,o,u,f,l,h),c},Fe.prototype.readPrivateKeyFromPEMString=function(e){var t=Ft(e),r=Fe.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},Fe.prototype.readPKCS5PrvKeyHex=function(e){var t=Fe.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},Fe.prototype.readPKCS8PrvKeyHex=function(e){var t,r,n,i,s,a,o,u,f=ye,l=f.getVbyListEx;if(f.isASN1HEX(e)===!1)throw new Error("not ASN.1 hex string");try{t=l(e,0,[2,0,1],"02"),r=l(e,0,[2,0,2],"02"),n=l(e,0,[2,0,3],"02"),i=l(e,0,[2,0,4],"02"),s=l(e,0,[2,0,5],"02"),a=l(e,0,[2,0,6],"02"),o=l(e,0,[2,0,7],"02"),u=l(e,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,r,n,i,s,a,o,u)},Fe.prototype.readPKCS5PubKeyHex=function(e){var t=ye,r=t.getV;if(t.isASN1HEX(e)===!1)throw new Error("keyHex is not ASN.1 hex string");var n=t.getChildIdx(e,0);if(n.length!==2||e.substr(n[0],2)!=="02"||e.substr(n[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var i=r(e,n[0]),s=r(e,n[1]);this.setPublic(i,s)},Fe.prototype.readPKCS8PubKeyHex=function(e){var t=ye;if(t.isASN1HEX(e)===!1)throw new Error("not ASN.1 hex string");if(t.getTLVbyListEx(e,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var r=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(r)},Fe.prototype.readCertPubKeyHex=function(e,t){var r,n;r=new Me,r.readCertHex(e),n=r.getPublicKeyHex(),this.readPKCS8PubKeyHex(n)};function T0(e,t){for(var r="",n=t/4-e.length,i=0;i<n;i++)r=r+"0";return r+e}Fe.prototype.sign=function(e,t){var r=function(i){return g.crypto.Util.hashString(i,t)},n=r(e);return this.signWithMessageHash(n,t)},Fe.prototype.signWithMessageHash=function(e,t){var r=g.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),n=Ut(r,16),i=this.doPrivate(n),s=i.toString(16);return T0(s,this.n.bitLength())};function P0(e,t,r){for(var n="",i=0;n.length<t;)n+=br(r(Fr(e+String.fromCharCode.apply(String,[(i&4278190080)>>24,(i&16711680)>>16,(i&65280)>>8,i&255])))),i+=1;return n}Fe.prototype.signPSS=function(e,t,r){var n=function(s){return g.crypto.Util.hashHex(s,t)},i=n(Fr(e));return r===void 0&&(r=-1),this.signWithMessageHashPSS(i,t,r)},Fe.prototype.signWithMessageHashPSS=function(e,t,r){var n=br(e),i=n.length,s=this.n.bitLength()-1,a=Math.ceil(s/8),o,u=function(y){return g.crypto.Util.hashHex(y,t)};if(r===-1||r===void 0)r=i;else if(r===-2)r=a-i-2;else if(r<-2)throw new Error("invalid salt length");if(a<i+r+2)throw new Error("data too long");var f="";r>0&&(f=new Array(r),new Un().nextBytes(f),f=String.fromCharCode.apply(String,f));var l=br(u(Fr("\0\0\0\0\0\0\0\0"+n+f))),h=[];for(o=0;o<a-r-i-2;o+=1)h[o]=0;var c=String.fromCharCode.apply(String,h)+""+f,d=P0(l,c.length,u),p=[];for(o=0;o<c.length;o+=1)p[o]=c.charCodeAt(o)^d.charCodeAt(o);var v=65280>>8*a-s&255;for(p[0]&=~v,o=0;o<i;o++)p.push(l.charCodeAt(o));return p.push(188),T0(this.doPrivate(new re(p)).toString(16),this.n.bitLength())};function F0(e){for(var t in g.crypto.Util.DIGESTINFOHEAD){var r=g.crypto.Util.DIGESTINFOHEAD[t],n=r.length;if(e.substring(0,n)==r){var i=[t,e.substring(n)];return i}}return[]}Fe.prototype.verify=function(e,t){if(t=t.toLowerCase(),t.match(/^[0-9a-f]+$/)==null)return!1;var r=Ut(t,16),n=this.n.bitLength();if(r.bitLength()>n)return!1;var i=this.doPublic(r),s=i.toString(16);if(s.length+3!=n/4)return!1;var a=s.replace(/^1f+00/,""),o=F0(a);if(o.length==0)return!1;var u=o[0],f=o[1],l=function(c){return g.crypto.Util.hashString(c,u)},h=l(e);return f==h},Fe.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var r=Ut(t,16);if(r.bitLength()>this.n.bitLength())return 0;var n=this.doPublic(r),i=n.toString(16).replace(/^1f+00/,""),s=F0(i);if(s.length==0)return!1;s[0];var a=s[1];return a==e},Fe.prototype.verifyPSS=function(e,t,r,n){var i=function(a){return g.crypto.Util.hashHex(a,r)},s=i(Fr(e));return n===void 0&&(n=-1),this.verifyWithMessageHashPSS(s,t,r,n)},Fe.prototype.verifyWithMessageHashPSS=function(e,t,r,n){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i=new re(t,16),s=function(A){return g.crypto.Util.hashHex(A,r)},a=br(e),o=a.length,u=this.n.bitLength()-1,f=Math.ceil(u/8),l;if(n===-1||n===void 0)n=o;else if(n===-2)n=f-o-2;else if(n<-2)throw new Error("invalid salt length");if(f<o+n+2)throw new Error("data too long");var h=this.doPublic(i).toByteArray();for(l=0;l<h.length;l+=1)h[l]&=255;for(;h.length<f;)h.unshift(0);if(h[f-1]!==188)throw new Error("encoded message does not end in 0xbc");h=String.fromCharCode.apply(String,h);var c=h.substr(0,f-o-1),d=h.substr(c.length,o),p=65280>>8*f-u&255;if(c.charCodeAt(0)&p)throw new Error("bits beyond keysize not zero");var v=P0(d,c.length,s),y=[];for(l=0;l<c.length;l+=1)y[l]=c.charCodeAt(l)^v.charCodeAt(l);y[0]&=~p;var b=f-o-n-2;for(l=0;l<b;l+=1)if(y[l]!==0)throw new Error("leftmost octets not zero");if(y[b]!==1)throw new Error("0x01 marker not found");return d===br(s(Fr("\0\0\0\0\0\0\0\0"+a+String.fromCharCode.apply(String,y.slice(-n)))))},Fe.SALT_LEN_HLEN=-1,Fe.SALT_LEN_MAX=-2,Fe.SALT_LEN_RECOVER=-2;function Me(e){var t=ye,r=t.getChildIdx,n=t.getV;t.dump;var i=t.parse,s=t.getTLV,a=t.getVbyList,o=t.getVbyListEx,u=t.getTLVbyList,f=t.getTLVbyListEx,l=t.getIdxbyList,h=t.getIdxbyListEx,c=t.getVidx,d=t.getInt,p=t.oidname,v=t.hextooidstr,y=Ft,b,A=Error;try{b=g.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var _=u(this.hex,0,[0,0]);if(_.substr(0,2)=="a0"){var F=u(_,0,[0]),R=d(F,0);if(R<0||2<R)throw new Error("malformed version field");return this.version=R+1,this.version}else return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return o(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var _=f(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(_)},this.getAlgorithmIdentifierName=function(_){for(var F in b)if(_===b[F])return F;return p(o(_,0,[0],"06"))},this.getIssuer=function(_,F){return this.getX500Name(this.getIssuerHex(),_,F)},this.getIssuerHex=function(){return u(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){var _=this.getIssuer();return _.str},this.getSubject=function(_,F){return this.getX500Name(this.getSubjectHex(),_,F)},this.getSubjectHex=function(){return u(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){var _=this.getSubject();return _.str},this.getNotBefore=function(){var _=a(this.hex,0,[0,4+this.foffset,0]);return _=_.replace(/(..)/g,"%$1"),_=decodeURIComponent(_),_},this.getNotAfter=function(){var _=a(this.hex,0,[0,4+this.foffset,1]);return _=_.replace(/(..)/g,"%$1"),_=decodeURIComponent(_),_},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return u(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var _=this.getSPKI();return _==null?null:a(_,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return l(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var _=this.getPublicKeyIdx();return l(this.hex,_,[1,0],"30")},this.getPublicKey=function(){return We.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var _=u(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(_)},this.getSignatureValueHex=function(){return a(this.hex,0,[2],"03",!0)},this.verifySignature=function(_){var F=this.getSignatureAlgorithmField(),R=this.getSignatureValueHex(),P=u(this.hex,0,[0],"30"),M=new g.crypto.Signature({alg:F});return M.init(_),M.updateHex(P),M.verify(R)},this.parseExt=function(_){var F,R,P;if(_===void 0){if(P=this.hex,this.version!==3)return-1;F=l(P,0,[0,7,0],"30"),R=r(P,F)}else{P=Ft(_);var M=l(P,0,[0,3,0,0],"06");if(n(P,M)!="2a864886f70d01090e"){this.aExtInfo=new Array;return}F=l(P,0,[0,3,0,1,0],"30"),R=r(P,F),this.hex=P}this.aExtInfo=new Array;for(var C=0;C<R.length;C++){var m={};m.critical=!1;var E=r(P,R[C]),T=0;E.length===3&&(m.critical=!0,T=1),m.oid=t.hextooidstr(a(P,R[C],[0],"06"));var O=l(P,R[C],[1+T]);m.vidx=c(P,O),this.aExtInfo.push(m)}},this.getExtInfo=function(_){var F=this.aExtInfo,R=_;if(_.match(/^[0-9.]+$/)||(R=g.asn1.x509.OID.name2oid(_)),R!==""){for(var P=0;P<F.length;P++)if(F[P].oid===R)return F[P]}},this.getCriticalExtV=function(_,F,R){if(F!=null)return[F,R];var P=this.getExtInfo(_);return P==null?[null,null]:[s(this.hex,P.vidx),P.critical]},this.getExtBasicConstraints=function(_,F){if(_===void 0&&F===void 0){var R=this.getExtInfo("basicConstraints");if(R===void 0)return;_=s(this.hex,R.vidx),F=R.critical}var P={extname:"basicConstraints"};if(F&&(P.critical=!0),_==="3000")return P;if(_==="30030101ff")return P.cA=!0,P;if(_.substr(0,12)==="30060101ff02"){var M=n(_,10),C=parseInt(M,16);return P.cA=!0,P.pathLen=C,P}throw new Error("hExtV parse error: "+_)},this.getExtNameConstraints=function(_,F){var R=this.getCriticalExtV("nameConstraints",_,F);if(_=R[0],F=R[1],_!=null){var P={extname:"nameConstraints"};F&&(P.critical=!0);for(var M=r(_,0),C=0;C<M.length;C++){for(var m=[],E=r(_,M[C]),T=0;T<E.length;T++){var O=s(_,E[T]),N=this.getGeneralSubtree(O);m.push(N)}var H=_.substr(M[C],2);H=="a0"?P.permit=m:H=="a1"&&(P.exclude=m)}return P}},this.getGeneralSubtree=function(_){var F=r(_,0),R=F.length;if(R<1||2<R)throw new Error("wrong num elements");for(var P=this.getGeneralName(s(_,F[0])),M=1;M<R;M++){var C=_.substr(F[M],2),m=n(_,F[M]),E=parseInt(m,16);C=="80"&&(P.min=E),C=="81"&&(P.max=E)}return P},this.getExtKeyUsage=function(_,F){var R=this.getCriticalExtV("keyUsage",_,F);if(_=R[0],F=R[1],_!=null){var P={extname:"keyUsage"};return F&&(P.critical=!0),P.names=this.getExtKeyUsageString(_).split(","),P}},this.getExtKeyUsageBin=function(_){if(_===void 0){var F=this.getExtInfo("keyUsage");if(F===void 0)return"";_=s(this.hex,F.vidx)}if(_.length!=8&&_.length!=10)throw new Error("malformed key usage value: "+_);var R="000000000000000"+parseInt(_.substr(6),16).toString(2);return _.length==8&&(R=R.slice(-8)),_.length==10&&(R=R.slice(-16)),R=R.replace(/0+$/,""),R==""&&(R="0"),R},this.getExtKeyUsageString=function(_){for(var F=this.getExtKeyUsageBin(_),R=new Array,P=0;P<F.length;P++)F.substr(P,1)=="1"&&R.push(Me.KEYUSAGE_NAME[P]);return R.join(",")},this.getExtSubjectKeyIdentifier=function(_,F){if(_===void 0&&F===void 0){var R=this.getExtInfo("subjectKeyIdentifier");if(R===void 0)return;_=s(this.hex,R.vidx),F=R.critical}var P={extname:"subjectKeyIdentifier"};F&&(P.critical=!0);var M=n(_,0);return P.kid={hex:M},P},this.getExtAuthorityKeyIdentifier=function(_,F){if(_===void 0&&F===void 0){var R=this.getExtInfo("authorityKeyIdentifier");if(R===void 0)return;_=s(this.hex,R.vidx),F=R.critical}var P={extname:"authorityKeyIdentifier"};F&&(P.critical=!0);for(var M=r(_,0),C=0;C<M.length;C++){var m=_.substr(M[C],2);if(m==="80"&&(P.kid={hex:n(_,M[C])}),m==="a1"){var E=s(_,M[C]),T=this.getGeneralNames(E);P.issuer=T[0].dn}m==="82"&&(P.sn={hex:n(_,M[C])})}return P},this.getExtExtKeyUsage=function(_,F){if(_===void 0&&F===void 0){var R=this.getExtInfo("extKeyUsage");if(R===void 0)return;_=s(this.hex,R.vidx),F=R.critical}var P={extname:"extKeyUsage",array:[]};F&&(P.critical=!0);for(var M=r(_,0),C=0;C<M.length;C++)P.array.push(p(n(_,M[C])));return P},this.getExtExtKeyUsageName=function(){var _=this.getExtInfo("extKeyUsage");if(_===void 0)return _;var F=new Array,R=s(this.hex,_.vidx);if(R==="")return F;for(var P=r(R,0),M=0;M<P.length;M++)F.push(p(n(R,P[M])));return F},this.getExtSubjectAltName=function(_,F){if(_===void 0&&F===void 0){var R=this.getExtInfo("subjectAltName");if(R===void 0)return;_=s(this.hex,R.vidx),F=R.critical}var P={extname:"subjectAltName",array:[]};return F&&(P.critical=!0),P.array=this.getGeneralNames(_),P},this.getExtIssuerAltName=function(_,F){if(_===void 0&&F===void 0){var R=this.getExtInfo("issuerAltName");if(R===void 0)return;_=s(this.hex,R.vidx),F=R.critical}var P={extname:"issuerAltName",array:[]};return F&&(P.critical=!0),P.array=this.getGeneralNames(_),P},this.getGeneralNames=function(_){for(var F=r(_,0),R=[],P=0;P<F.length;P++){var M=this.getGeneralName(s(_,F[P]));M!==void 0&&R.push(M)}return R},this.getGeneralName=function(_){var F=_.substr(0,2),R=n(_,0),P=br(R);if(F=="81")return{rfc822:P};if(F=="82")return{dns:P};if(F=="86")return{uri:P};if(F=="87")return{ip:lf(R)};if(F=="a4")return{dn:this.getX500Name(R)};if(F=="a0")return{other:this.getOtherName(_)}},this.getExtSubjectAltName2=function(){var _,F,R,P=this.getExtInfo("subjectAltName");if(P===void 0)return P;for(var M=new Array,C=s(this.hex,P.vidx),m=r(C,0),E=0;E<m.length;E++)R=C.substr(m[E],2),_=n(C,m[E]),R==="81"&&(F=Ze(_),M.push(["MAIL",F])),R==="82"&&(F=Ze(_),M.push(["DNS",F])),R==="84"&&(F=Me.hex2dn(_,0),M.push(["DN",F])),R==="86"&&(F=Ze(_),M.push(["URI",F])),R==="87"&&(F=lf(_),M.push(["IP",F]));return M},this.getExtCRLDistributionPoints=function(_,F){if(_===void 0&&F===void 0){var R=this.getExtInfo("cRLDistributionPoints");if(R===void 0)return;_=s(this.hex,R.vidx),F=R.critical}var P={extname:"cRLDistributionPoints",array:[]};F&&(P.critical=!0);for(var M=r(_,0),C=0;C<M.length;C++){var m=s(_,M[C]);P.array.push(this.getDistributionPoint(m))}return P},this.getDistributionPoint=function(_){for(var F={},R=r(_,0),P=0;P<R.length;P++){var M=_.substr(R[P],2),C=s(_,R[P]);M=="a0"&&(F.dpname=this.getDistributionPointName(C))}return F},this.getDistributionPointName=function(_){for(var F={},R=r(_,0),P=0;P<R.length;P++){var M=_.substr(R[P],2),C=s(_,R[P]);M=="a0"&&(F.full=this.getGeneralNames(C))}return F},this.getExtCRLDistributionPointsURI=function(){var _=this.getExtCRLDistributionPoints();if(_==null)return _;for(var F=_.array,R=[],P=0;P<F.length;P++)try{F[P].dpname.full[0].uri!=null&&R.push(F[P].dpname.full[0].uri)}catch{}return R},this.getExtAIAInfo=function(){var _=this.getExtInfo("authorityInfoAccess");if(_===void 0)return _;for(var F={ocsp:[],caissuer:[]},R=r(this.hex,_.vidx),P=0;P<R.length;P++){var M=a(this.hex,R[P],[0],"06"),C=a(this.hex,R[P],[1],"86");M==="2b06010505073001"&&F.ocsp.push(Ze(C)),M==="2b06010505073002"&&F.caissuer.push(Ze(C))}return F},this.getExtAuthorityInfoAccess=function(_,F){if(_===void 0&&F===void 0){var R=this.getExtInfo("authorityInfoAccess");if(R===void 0)return;_=s(this.hex,R.vidx),F=R.critical}var P={extname:"authorityInfoAccess",array:[]};F&&(P.critical=!0);for(var M=r(_,0),C=0;C<M.length;C++){var m=o(_,M[C],[0],"06"),E=a(_,M[C],[1],"86"),T=Ze(E);if(m=="2b06010505073001")P.array.push({ocsp:T});else if(m=="2b06010505073002")P.array.push({caissuer:T});else throw new Error("unknown method: "+m)}return P},this.getExtCertificatePolicies=function(_,F){if(_===void 0&&F===void 0){var R=this.getExtInfo("certificatePolicies");if(R===void 0)return;_=s(this.hex,R.vidx),F=R.critical}var P={extname:"certificatePolicies",array:[]};F&&(P.critical=!0);for(var M=r(_,0),C=0;C<M.length;C++){var m=s(_,M[C]),E=this.getPolicyInformation(m);P.array.push(E)}return P},this.getPolicyInformation=function(_){var F={},R=a(_,0,[0],"06");F.policyoid=p(R);var P=h(_,0,[1],"30");if(P!=-1){F.array=[];for(var M=r(_,P),C=0;C<M.length;C++){var m=s(_,M[C]),E=this.getPolicyQualifierInfo(m);F.array.push(E)}}return F},this.getOtherName=function(_){var F={},R=r(_,0),P=a(_,R[0],[],"06"),M=a(_,R[1],[]);return F.oid=p(P),F.value=i(M),F},this.getPolicyQualifierInfo=function(_){var F={},R=a(_,0,[0],"06");if(R==="2b06010505070201"){var P=o(_,0,[1],"16");F.cps=br(P)}else if(R==="2b06010505070202"){var M=u(_,0,[1],"30");F.unotice=this.getUserNotice(M)}return F},this.getUserNotice=function(_){var F=null;try{F=t.parse(_);var R=this._asn1ToUnotice(F);return R}catch{return}},this._asn1ToUnotice=function(_){try{for(var F={},R=Ei(_,"seq"),P=0;P<R.length;P++){var M=this._asn1ToNoticeRef(R[P]);M!=null&&(F.noticeref=M);var C=this.asn1ToDisplayText(R[P]);C!=null&&(F.exptext=C)}return Object.keys(F).length>0?F:void 0}catch{return}},this._asn1ToNoticeRef=function(_){try{for(var F={},R=Ei(_,"seq"),P=0;P<R.length;P++){var M=this._asn1ToNoticeNum(R[P]);M!=null&&(F.noticenum=M);var C=this.asn1ToDisplayText(R[P]);C!=null&&(F.org=C)}return Object.keys(F).length>0?F:void 0}catch{return}},this._asn1ToNoticeNum=function(_){try{for(var F=Ei(_,"seq"),R=[],P=0;P<F.length;P++){var M=F[P];R.push(parseInt(Ei(M,"int.hex"),16))}return R}catch{return}},this.getDisplayText=function(_){var F={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"},R={};return R.type=F[_.substr(0,2)],R.str=br(n(_,0)),R},this.asn1ToDisplayText=function(_){if(_.utf8str!=null)return{type:"utf8",str:_.utf8str.str};if(_.ia5str!=null)return{type:"ia5",str:_.ia5str.str};if(_.visstr!=null)return{type:"vis",str:_.visstr.str};if(_.bmpstr!=null)return{type:"bmp",str:_.bmpstr.str};if(_.prnstr!=null)return{type:"prn",str:_.prnstr.str}},this.getExtPolicyMappings=function(_,F){var R=this.getCriticalExtV("policyMappings",_,F);if(_=R[0],F=R[1],_!=null){var P={extname:"policyMappings"};F&&(P.critical=!0);try{for(var M=i(_),C=M.seq,m=[],E=0;E<C.length;E++){var T=C[E].seq;m.push([T[0].oid,T[1].oid])}P.array=m}catch{throw new A("malformed policyMappings")}return P}},this.getExtPolicyConstraints=function(_,F){var R=this.getCriticalExtV("policyConstraints",_,F);if(_=R[0],F=R[1],_!=null){var P={extname:"policyConstraints"};F&&(P.critical=!0);var M=i(_);try{for(var C=M.seq,m=0;m<C.length;m++){var E=C[m].tag;E.explicit==!1&&(E.tag=="80"&&(P.reqexp=parseInt(E.hex,16)),E.tag=="81"&&(P.inhibit=parseInt(E.hex,16)))}}catch{return new A("malformed policyConstraints value")}return P}},this.getExtInhibitAnyPolicy=function(_,F){var R=this.getCriticalExtV("inhibitAnyPolicy",_,F);if(_=R[0],F=R[1],_!=null){var P={extname:"inhibitAnyPolicy"};F&&(P.critical=!0);var M=d(_,0);return M==-1?new A("wrong value"):(P.skip=M,P)}},this.getExtCRLNumber=function(_,F){var R={extname:"cRLNumber"};if(F&&(R.critical=!0),_.substr(0,2)=="02")return R.num={hex:n(_,0)},R;throw new A("hExtV parse error: "+_)},this.getExtCRLReason=function(_,F){var R={extname:"cRLReason"};if(F&&(R.critical=!0),_.substr(0,2)=="0a")return R.code=parseInt(n(_,0),16),R;throw new Error("hExtV parse error: "+_)},this.getExtOcspNonce=function(_,F){var R={extname:"ocspNonce"};F&&(R.critical=!0);var P=n(_,0);return R.hex=P,R},this.getExtOcspNoCheck=function(_,F){var R={extname:"ocspNoCheck"};return F&&(R.critical=!0),R},this.getExtAdobeTimeStamp=function(_,F){if(_===void 0&&F===void 0){var R=this.getExtInfo("adobeTimeStamp");if(R===void 0)return;_=s(this.hex,R.vidx),F=R.critical}var P={extname:"adobeTimeStamp"};F&&(P.critical=!0);var M=r(_,0);if(M.length>1){var C=s(_,M[1]),m=this.getGeneralName(C);m.uri!=null&&(P.uri=m.uri)}if(M.length>2){var E=s(_,M[2]);E=="0101ff"&&(P.reqauth=!0),E=="010100"&&(P.reqauth=!1)}return P},this.getExtSubjectDirectoryAttributes=function(_,F){if(_===void 0&&F===void 0){var R=this.getExtInfo("subjectDirectoryAttributes");if(R===void 0)return;_=s(this.hex,R.vidx),F=R.critical}var P={extname:"subjectDirectoryAttributes"};F&&(P.critical=!0);try{for(var M=i(_),C=[],m=0;m<M.seq.length;m++){var E=M.seq[m],T=Ei(E,"seq.0.oid"),O=Ei(E,"seq.1.set");if(T==null||O==null)throw"error";C.push({attr:T,array:O})}return P.array=C,P}catch{throw new Error("malformed subjectDirectoryAttributes extension value")}};var D=function(_){var F={};try{var R=_.seq[0].oid,P=g.asn1.x509.OID.name2oid(R);F.type=g.asn1.x509.OID.oid2atype(P);var M=_.seq[1];if(M.utf8str!=null)F.ds="utf8",F.value=M.utf8str.str;else if(M.numstr!=null)F.ds="num",F.value=M.numstr.str;else if(M.telstr!=null)F.ds="tel",F.value=M.telstr.str;else if(M.prnstr!=null)F.ds="prn",F.value=M.prnstr.str;else if(M.ia5str!=null)F.ds="ia5",F.value=M.ia5str.str;else if(M.visstr!=null)F.ds="vis",F.value=M.visstr.str;else if(M.bmpstr!=null)F.ds="bmp",F.value=M.bmpstr.str;else throw"error";return F}catch{throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},k=function(_){try{return _.set.map(function(F){return D(F)})}catch(F){throw new Error("improper ASN.1 parsed RDN: "+F)}},L=function(_){try{return _.seq.map(function(F){return k(F)})}catch(F){throw new Error("improper ASN.1 parsed X500Name: "+F)}};this.getX500NameRule=function(_){for(var F=null,R=[],P=0;P<_.length;P++)for(var M=_[P],C=0;C<M.length;C++)R.push(M[C]);for(var P=0;P<R.length;P++){var m=R[P],E=m.ds,T=m.value,O=m.type;if(E!="prn"&&E!="utf8"&&E!="ia5")return"mixed";if(E=="ia5"){if(O!="CN")return"mixed";if(g.lang.String.isMail(T))continue;return"mixed"}if(O=="C"){if(E=="prn")continue;return"mixed"}if(F==null)F=E;else if(F!==E)return"mixed"}return F??"prn"},this.getAttrTypeAndValue=function(_){var F=i(_);return D(F)},this.getRDN=function(_){var F=i(_);return k(F)},this.getX500NameArray=function(_){var F=i(_);return L(F)},this.getX500Name=function(_,F,R){var P=this.getX500NameArray(_),M=this.dnarraytostr(P),C={str:M};return C.array=P,R==!0&&(C.hex=_),F==!0&&(C.canon=this.c14nRDNArray(P)),C},this.readCertPEM=function(_){this.readCertHex(y(_))},this.readCertHex=function(_){this.hex=_,this.getVersion();try{l(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(_){var F={};return _==null&&(_={}),F.version=this.getVersion(),F.serial={hex:this.getSerialNumberHex()},F.sigalg=this.getSignatureAlgorithmField(),F.issuer=this.getIssuer(_.dncanon,_.dnhex),F.notbefore=this.getNotBefore(),F.notafter=this.getNotAfter(),F.subject=this.getSubject(_.dncanon,_.dnhex),F.sbjpubkey=Lt(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo!=null&&this.aExtInfo.length>0&&(F.ext=this.getExtParamArray()),F.sighex=this.getSignatureValueHex(),_.tbshex==!0&&(F.tbshex=u(this.hex,0,[0])),_.nodnarray==!0&&(delete F.issuer.array,delete F.subject.array),F},this.getExtParamArray=function(_){if(_==null){var F=h(this.hex,0,[0,"[3]"]);F!=-1&&(_=f(this.hex,0,[0,"[3]",0],"30"))}for(var R=[],P=r(_,0),M=0;M<P.length;M++){var C=s(_,P[M]),m=this.getExtParam(C);m!=null&&R.push(m)}return R},this.getExtParam=function(_){var F=r(_,0),R=F.length;if(R!=2&&R!=3)throw new Error("wrong number elements in Extension: "+R+" "+_);var P=v(a(_,0,[0],"06")),M=!1;R==3&&u(_,0,[1])=="0101ff"&&(M=!0);var C=u(_,0,[R-1,0]),m=void 0;if(P=="2.5.29.14"?m=this.getExtSubjectKeyIdentifier(C,M):P=="2.5.29.15"?m=this.getExtKeyUsage(C,M):P=="2.5.29.17"?m=this.getExtSubjectAltName(C,M):P=="2.5.29.18"?m=this.getExtIssuerAltName(C,M):P=="2.5.29.19"?m=this.getExtBasicConstraints(C,M):P=="2.5.29.30"?m=this.getExtNameConstraints(C,M):P=="2.5.29.31"?m=this.getExtCRLDistributionPoints(C,M):P=="2.5.29.32"?m=this.getExtCertificatePolicies(C,M):P=="2.5.29.33"?m=this.getExtPolicyMappings(C,M):P=="2.5.29.35"?m=this.getExtAuthorityKeyIdentifier(C,M):P=="2.5.29.36"?m=this.getExtPolicyConstraints(C,M):P=="2.5.29.37"?m=this.getExtExtKeyUsage(C,M):P=="2.5.29.54"?m=this.getExtInhibitAnyPolicy(C,M):P=="1.3.6.1.5.5.7.1.1"?m=this.getExtAuthorityInfoAccess(C,M):P=="2.5.29.20"?m=this.getExtCRLNumber(C,M):P=="2.5.29.21"?m=this.getExtCRLReason(C,M):P=="2.5.29.9"?m=this.getExtSubjectDirectoryAttributes(C,M):P=="1.3.6.1.5.5.7.48.1.2"?m=this.getExtOcspNonce(C,M):P=="1.3.6.1.5.5.7.48.1.5"?m=this.getExtOcspNoCheck(C,M):P=="1.2.840.113583.1.1.9.1"?m=this.getExtAdobeTimeStamp(C,M):Me.EXT_PARSER[P]!=null&&(m=Me.EXT_PARSER[P](P,M,C)),m!=null)return m;var E={extname:P,extn:C};try{E.extn=i(C)}catch{}return M&&(E.critical=!0),E},this.findExt=function(_,F){for(var R=0;R<_.length;R++)if(_[R].extname==F)return _[R];return null},this.updateExtCDPFullURI=function(_,F){var R=this.findExt(_,"cRLDistributionPoints");if(R!=null&&R.array!=null){for(var P=R.array,M=0;M<P.length;M++)if(P[M].dpname!=null&&P[M].dpname.full!=null)for(var C=P[M].dpname.full,m=0;m<C.length;m++){var E=C[M];E.uri!=null&&(E.uri=F)}}},this.updateExtAIAOCSP=function(_,F){var R=this.findExt(_,"authorityInfoAccess");if(R!=null&&R.array!=null)for(var P=R.array,M=0;M<P.length;M++)P[M].ocsp!=null&&(P[M].ocsp=F)},this.updateExtAIACAIssuer=function(_,F){var R=this.findExt(_,"authorityInfoAccess");if(R!=null&&R.array!=null)for(var P=R.array,M=0;M<P.length;M++)P[M].caissuer!=null&&(P[M].caissuer=F)},this.dnarraytostr=function(_){function F(P){return P.map(function(M){return R(M).replace(/\+/,"\\+")}).join("+")}function R(P){return P.type+"="+P.value}return"/"+_.map(function(P){return F(P).replace(/\//,"\\/")}).join("/")},this.setCanonicalizedDN=function(_){var F;if(_.str!=null&&_.array==null){var R=new g.asn1.x509.X500Name({str:_.str}),P=R.tohex();F=this.getX500NameArray(P)}else F=_.array;_.canon==null&&(_.canon=this.c14nRDNArray(F))},this.c14nRDNArray=function(_){for(var F=[],R=0;R<_.length;R++){for(var P=_[R],M=[],C=0;C<P.length;C++){var m=P[C],E=m.value;E=E.replace(/^\s*/,""),E=E.replace(/\s*$/,""),E=E.replace(/\s+/g," "),E=E.toLowerCase(),M.push(m.type.toLowerCase()+"="+E)}F.push(M.join("+"))}return"/"+F.join("/")},this.getInfo=function(){var _=function(he){for(var ue="",fe="    ",ce=`
`,j=he.array,W=0;W<j.length;W++){var U=j[W];if(U.dn!=null&&(ue+=fe+"dn: "+U.dn.str+ce),U.ip!=null&&(ue+=fe+"ip: "+U.ip+ce),U.rfc822!=null&&(ue+=fe+"rfc822: "+U.rfc822+ce),U.dns!=null&&(ue+=fe+"dns: "+U.dns+ce),U.uri!=null&&(ue+=fe+"uri: "+U.uri+ce),U.other!=null){var Q=U.other.oid,ee=JSON.stringify(U.other.value).replace(/\"/g,"");ue+=fe+"other: "+Q+"="+ee+ce}}return ue=ue.replace(/\n$/,""),ue},F=function(he){for(var ue="",fe=he.array,ce=0;ce<fe.length;ce++){var j=fe[ce];if(ue+="    policy oid: "+j.policyoid+`
`,j.array!==void 0)for(var W=0;W<j.array.length;W++){var U=j.array[W];U.cps!==void 0&&(ue+="    cps: "+U.cps+`
`)}}return ue},R=function(he){for(var ue="",fe=he.array,ce=0;ce<fe.length;ce++){var j=fe[ce];try{j.dpname.full[0].uri!==void 0&&(ue+="    "+j.dpname.full[0].uri+`
`)}catch{}try{j.dname.full[0].dn.hex!==void 0&&(ue+="    "+Me.hex2dn(j.dpname.full[0].dn.hex)+`
`)}catch{}}return ue},P=function(he){for(var ue="",fe=he.array,ce=0;ce<fe.length;ce++){var j=fe[ce];j.caissuer!==void 0&&(ue+="    caissuer: "+j.caissuer+`
`),j.ocsp!==void 0&&(ue+="    ocsp: "+j.ocsp+`
`)}return ue},M,C,m;if(M=`Basic Fields
`,M+="  serial number: "+this.getSerialNumberHex()+`
`,M+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,M+="  issuer: "+this.getIssuerString()+`
`,M+="  notBefore: "+this.getNotBefore()+`
`,M+="  notAfter: "+this.getNotAfter()+`
`,M+="  subject: "+this.getSubjectString()+`
`,M+=`  subject public key info: 
`,C=this.getPublicKey(),M+="    key algorithm: "+C.type+`
`,C.type==="RSA"&&(M+="    n="+A0(C.n.toString(16)).substr(0,16)+`...
`,M+="    e="+A0(C.e.toString(16))+`
`),m=this.aExtInfo,m!=null){M+=`X509v3 Extensions:
`;for(var E=0;E<m.length;E++){var T=m[E],O=g.asn1.x509.OID.oid2name(T.oid);O===""&&(O=T.oid);var N="";if(T.critical===!0&&(N="CRITICAL"),M+="  "+O+" "+N+`:
`,O==="basicConstraints"){var H=this.getExtBasicConstraints();H.cA===void 0?M+=`    {}
`:(M+="    cA=true",H.pathLen!==void 0&&(M+=", pathLen="+H.pathLen),M+=`
`)}else if(O=="policyMappings"){var Z=this.getExtPolicyMappings().array,K=Z.map(function(he){var ue=he;return ue[0]+":"+ue[1]}).join(", ");M+="    "+K+`
`}else if(O=="policyConstraints"){var x=this.getExtPolicyConstraints();M+="    ",x.reqexp!=null&&(M+=" reqexp="+x.reqexp),x.inhibit!=null&&(M+=" inhibit="+x.inhibit),M+=`
`}else if(O=="inhibitAnyPolicy"){var x=this.getExtInhibitAnyPolicy();M+="    skip="+x.skip+`
`}else if(O=="keyUsage")M+="    "+this.getExtKeyUsageString()+`
`;else if(O=="subjectKeyIdentifier")M+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(O=="authorityKeyIdentifier"){var V=this.getExtAuthorityKeyIdentifier();V.kid!==void 0&&(M+="    kid="+V.kid.hex+`
`)}else if(O=="extKeyUsage"){var z=this.getExtExtKeyUsage().array;M+="    "+z.join(", ")+`
`}else if(O=="subjectAltName"){var G=_(this.getExtSubjectAltName());M+=G+`
`}else if(O=="cRLDistributionPoints"){var $=this.getExtCRLDistributionPoints();M+=R($)}else if(O=="authorityInfoAccess"){var ae=this.getExtAuthorityInfoAccess();M+=P(ae)}else O=="certificatePolicies"&&(M+=F(this.getExtCertificatePolicies()))}}return M+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,M+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`,M},typeof e=="string"&&(e.indexOf("-----BEGIN")!=-1?this.readCertPEM(e):g.lang.String.isHex(e)&&this.readCertHex(e))}Me.EXT_PARSER={},Me.registExtParser=function(e,t){Me.EXT_PARSER[e]=t},Me.hex2dn=function(e,t){t===void 0&&(t=0);var r=new Me;ye.getTLV(e,t);var n=r.getX500Name(e);return n.str},Me.hex2rdn=function(e,t){if(t===void 0&&(t=0),e.substr(t,2)!=="31")throw new Error("malformed RDN");for(var r=new Array,n=ye.getChildIdx(e,t),i=0;i<n.length;i++)r.push(Me.hex2attrTypeValue(e,n[i]));return r=r.map(function(s){return s.replace("+","\\+")}),r.join("+")},Me.hex2attrTypeValue=function(e,t){var r=ye,n=r.getV;if(t===void 0&&(t=0),e.substr(t,2)!=="30")throw new Error("malformed attribute type and value");var i=r.getChildIdx(e,t);i.length!==2||e.substr(i[0],2);var s=n(e,i[0]),a=g.asn1.ASN1Util.oidHexToInt(s),o=g.asn1.x509.OID.oid2atype(a),u=n(e,i[1]),f=br(u);return o+"="+f},Me.getPublicKeyFromCertHex=function(e){var t=new Me;return t.readCertHex(e),t.getPublicKey()},Me.getPublicKeyFromCertPEM=function(e){var t=new Me;return t.readCertPEM(e),t.getPublicKey()},Me.getPublicKeyInfoPropOfCertPEM=function(e){var t=ye,r=t.getVbyList,n={},i,s;return n.algparam=null,i=new Me,i.readCertPEM(e),s=i.getPublicKeyHex(),n.keyhex=r(s,0,[1],"03").substr(2),n.algoid=r(s,0,[0,0],"06"),n.algoid==="2a8648ce3d0201"&&(n.algparam=r(s,0,[0,1],"06")),n},Me.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],(typeof g>"u"||!g)&&(g={}),(typeof g.jws>"u"||!g.jws)&&(g.jws={}),g.jws.JWS=function(){var e=g,t=e.jws.JWS,r=t.isSafeJSONString;this.parseJWS=function(n,i){if(!(this.parsedJWS!==void 0&&(i||this.parsedJWS.sigvalH!==void 0))){var s=n.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(s==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var a=s[1],o=s[2],u=s[3],f=a+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=a,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=u,this.parsedJWS.si=f,!i){var l=st(u),h=Ut(l,16);this.parsedJWS.sigvalH=l,this.parsedJWS.sigvalBI=h}var c=$r(a),d=$r(o);if(this.parsedJWS.headS=c,this.parsedJWS.payloadS=d,!r(c,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+c}}},g.jws.JWS.sign=function(e,t,r,n,i){var s=g,a=s.jws,o=a.JWS,u=o.readSafeJSONString,f=o.isSafeJSONString,l=s.crypto;l.ECDSA;var h=l.Mac,c=l.Signature,d=JSON,p,v,y;if(typeof t!="string"&&typeof t!="object")throw"spHeader must be JSON string or object: "+t;if(typeof t=="object"&&(v=t,p=d.stringify(v)),typeof t=="string"){if(p=t,!f(p))throw"JWS Head is not safe JSON string: "+p;v=u(p)}if(y=r,typeof r=="object"&&(y=d.stringify(r)),(e==""||e==null)&&v.alg!==void 0&&(e=v.alg),e!=""&&e!=null&&v.alg===void 0&&(v.alg=e,p=d.stringify(v)),e!==v.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+v.alg;var b=null;if(o.jwsalg2sigalg[e]===void 0)throw"unsupported alg name: "+e;b=o.jwsalg2sigalg[e];var A=_a(p),D=_a(y),k=A+"."+D,L="";if(b.substr(0,4)=="Hmac"){if(n===void 0)throw"mac key shall be specified for HS* alg";var _=new h({alg:b,prov:"cryptojs",pass:n});_.updateString(k),L=_.doFinal()}else if(b.indexOf("withECDSA")!=-1){var F=new c({alg:b});F.init(n,i),F.updateString(k);var R=F.sign();L=g.crypto.ECDSA.asn1SigToConcatSig(R)}else if(b!="none"){var F=new c({alg:b});F.init(n,i),F.updateString(k),L=F.sign()}var P=kt(L);return k+"."+P},g.jws.JWS.verify=function(e,t,r){var n=g,i=n.jws,s=i.JWS,a=s.readSafeJSONString,o=n.crypto,u=o.ECDSA,f=o.Mac,l=o.Signature,h;if(typeof Fe!==void 0&&(h=Fe),!E0(e))return!1;var c=e.split(".");if(c.length!==3)return!1;var d=c[0],p=c[1],v=d+"."+p,y=st(c[2]),b=a($r(c[0])),A=null,D=null;if(b.alg===void 0)throw"algorithm not specified in header";if(A=b.alg,D=A.substr(0,2),r!=null&&Object.prototype.toString.call(r)==="[object Array]"&&r.length>0){var k=":"+r.join(":")+":";if(k.indexOf(":"+A+":")==-1)throw"algorithm '"+A+"' not accepted in the list"}if(A!="none"&&t===null)throw"key shall be specified to verify.";if(typeof t=="string"&&t.indexOf("-----BEGIN ")!=-1&&(t=We.getKey(t)),(D=="RS"||D=="PS")&&!(t instanceof h))throw"key shall be a RSAKey obj for RS* and PS* algs";if(D=="ES"&&!(t instanceof u))throw"key shall be a ECDSA obj for ES* algs";var L=null;if(s.jwsalg2sigalg[b.alg]===void 0)throw"unsupported alg name: "+A;if(L=s.jwsalg2sigalg[A],L=="none")throw"not supported";if(L.substr(0,4)=="Hmac"){var _=null;if(t===void 0)throw"hexadecimal key shall be specified for HMAC";var F=new f({alg:L,pass:t});return F.updateString(v),_=F.doFinal(),y==_}else if(L.indexOf("withECDSA")!=-1){var R=null;try{R=u.concatSigToASN1Sig(y)}catch{return!1}var P=new l({alg:L});return P.init(t),P.updateString(v),P.verify(R)}else{var P=new l({alg:L});return P.init(t),P.updateString(v),P.verify(y)}},g.jws.JWS.parse=function(e){var t=e.split("."),r={},n,i,s;if(t.length!=2&&t.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return n=t[0],i=t[1],t.length==3&&(s=t[2]),r.headerObj=g.jws.JWS.readSafeJSONString($r(n)),r.payloadObj=g.jws.JWS.readSafeJSONString($r(i)),r.headerPP=JSON.stringify(r.headerObj,null,"  "),r.payloadObj==null?r.payloadPP=$r(i):r.payloadPP=JSON.stringify(r.payloadObj,null,"  "),s!==void 0&&(r.sigHex=st(s)),r},g.jws.JWS.verifyJWT=function(e,t,r){var n=g,i=n.jws,s=i.JWS,a=s.readSafeJSONString,o=s.inArray,u=s.includedArray;if(!E0(e))return!1;var f=e.split(".");if(f.length!=3)return!1;var l=f[0],h=f[1];st(f[2]);var c=a($r(l)),d=a($r(h));if(c.alg===void 0)return!1;if(r.alg===void 0)throw"acceptField.alg shall be specified";if(!o(c.alg,r.alg)||d.iss!==void 0&&typeof r.iss=="object"&&!o(d.iss,r.iss)||d.sub!==void 0&&typeof r.sub=="object"&&!o(d.sub,r.sub))return!1;if(d.aud!==void 0&&typeof r.aud=="object"){if(typeof d.aud=="string"){if(!o(d.aud,r.aud))return!1}else if(typeof d.aud=="object"&&!u(d.aud,r.aud))return!1}var p=i.IntDate.getNow();return r.verifyAt!==void 0&&typeof r.verifyAt=="number"&&(p=r.verifyAt),(r.gracePeriod===void 0||typeof r.gracePeriod!="number")&&(r.gracePeriod=0),!(d.exp!==void 0&&typeof d.exp=="number"&&d.exp+r.gracePeriod<p||d.nbf!==void 0&&typeof d.nbf=="number"&&p<d.nbf-r.gracePeriod||d.iat!==void 0&&typeof d.iat=="number"&&p<d.iat-r.gracePeriod||d.jti!==void 0&&r.jti!==void 0&&d.jti!==r.jti||!s.verify(e,t,r.alg))},g.jws.JWS.includedArray=function(e,t){var r=g.jws.JWS.inArray;if(e===null||typeof e!="object"||typeof e.length!="number")return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t))return!1;return!0},g.jws.JWS.inArray=function(e,t){if(t===null||typeof t!="object"||typeof t.length!="number")return!1;for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1},g.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},g.jws.JWS.isSafeJSONString=function(e,t,r){var n=null;try{return n=h0(e),typeof n!="object"||n.constructor===Array?0:(t&&(t[r]=n),1)}catch{return 0}},g.jws.JWS.readSafeJSONString=function(e){var t=null;try{return t=h0(e),typeof t!="object"||t.constructor===Array?null:t}catch{return null}},g.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(t==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},g.jws.JWS.getJWKthumbprint=function(e){if(e.kty!=="RSA"&&e.kty!=="EC"&&e.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var t="{";if(e.kty==="RSA"){if(typeof e.n!="string"||typeof e.e!="string")throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if(e.kty==="EC"){if(typeof e.crv!="string"||typeof e.x!="string"||typeof e.y!="string")throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if(e.kty==="oct"){if(typeof e.k!="string")throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var r=Fr(t),n=g.crypto.Util.hashHex(r,"sha256"),i=kt(n);return i},g.jws.IntDate={},g.jws.IntDate.get=function(e){var t=g.jws.IntDate,r=t.getNow,n=t.getZulu;if(e=="now")return r();if(e=="now + 1hour")return r()+60*60;if(e=="now + 1day")return r()+60*60*24;if(e=="now + 1month")return r()+60*60*24*30;if(e=="now + 1year")return r()+60*60*24*365;if(e.match(/Z$/))return n(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},g.jws.IntDate.getZulu=function(e){return m5(e)},g.jws.IntDate.getNow=function(){var e=~~(new Date/1e3);return e},g.jws.IntDate.intDate2UTCString=function(e){var t=new Date(e*1e3);return t.toUTCString()},g.jws.IntDate.intDate2Zulu=function(e){var t=new Date(e*1e3),r=("0000"+t.getUTCFullYear()).slice(-4),n=("00"+(t.getUTCMonth()+1)).slice(-2),i=("00"+t.getUTCDate()).slice(-2),s=("00"+t.getUTCHours()).slice(-2),a=("00"+t.getUTCMinutes()).slice(-2),o=("00"+t.getUTCSeconds()).slice(-2);return r+n+i+s+a+o+"Z"},(typeof g>"u"||!g)&&(g={}),(typeof g.jws>"u"||!g.jws)&&(g.jws={}),g.jws.JWSJS=function(){var e=g,t=e.jws,r=t.JWS,n=r.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(i){this.init();var s=i.split(".");if(s.length!=3)throw"malformed input JWS";this.aHeader.push(s[0]),this.sPayload=s[1],this.aSignature.push(s[2])},this.addSignature=function(i,s,a,o){if(this.sPayload===void 0||this.sPayload===null)throw"there's no JSON-JS signature to add.";var u=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var f=g.jws.JWS.sign(i,s,this.sPayload,a,o),l=f.split("."),h=l[0],c=l[2];this.aHeader.push(l[0]),this.aSignature.push(l[2])}catch(d){throw this.aHeader.length>u&&this.aHeader.pop(),this.aSignature.length>u&&this.aSignature.pop(),"addSignature failed: "+d}},this.verifyAll=function(i){if(this.aHeader.length!==i.length||this.aSignature.length!==i.length)return!1;for(var s=0;s<i.length;s++){var a=i[s];if(a.length!==2)return!1;var o=this.verifyNth(s,a[0],a[1]);if(o===!1)return!1}return!0},this.verifyNth=function(i,s,a){if(this.aHeader.length<=i||this.aSignature.length<=i)return!1;var o=this.aHeader[i],u=this.aSignature[i],f=o+"."+this.sPayload+"."+u,l=!1;try{l=r.verify(f,s,a)}catch{return!1}return l},this.readJWSJS=function(i){if(typeof i=="string"){var s=n(i);if(s==null)throw"argument is not safe JSON object string";this.aHeader=s.headers,this.sPayload=s.payload,this.aSignature=s.signatures}else try{if(i.headers.length>0)this.aHeader=i.headers;else throw"malformed header";if(typeof i.payload=="string")this.sPayload=i.payload;else throw"malformed signatures";if(i.signatures.length>0)this.aSignature=i.signatures;else throw"malformed signatures"}catch(a){throw"malformed JWS-JS JSON object: "+a}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return this.aHeader.length==0?1:0}},g.crypto.ECDSA,g.crypto.DSA,g.crypto.Signature,g.crypto.MessageDigest,g.crypto.Mac,g.crypto.Cipher;var S5=g;g.crypto,g.asn1,g.jws,g.lang;async function E5(e){const t=e.API_ID,r=window.location.href;return ur({method:"POST",url:"https://server.othent.io/use-othent",data:{API_ID:t,callbackURL:r}}).then(n=>{if(n.data.success===!1)throw new Error("Please specify an API ID (you can get one from Othent.io)");const i=()=>Fy({domain:"auth.othent.io",clientId:"dyegx4dZj5yOv0v0RkoUsc48CIqaNS6C",authorizationParams:{redirect_uri:window.location.origin}});function s(u,f){return u.getTokenSilently({detailedResponse:!0,authorizationParams:f,cacheMode:"off"})}async function a(u){let f;if(u instanceof File)f=await async function(l){return new Promise((h,c)=>{const d=new FileReader;d.onload=()=>{const p=d.result,v=Buffer.from(p);h(v)},d.onerror=c,d.readAsArrayBuffer(l)})}(u);else if(typeof u=="string")f=Buffer.from(u,"utf8");else if(Buffer.isBuffer(u))f=u;else if(u instanceof ArrayBuffer||u instanceof SharedArrayBuffer)f=Buffer.from(u);else{if(!(u instanceof Uint8Array))throw new Error("Invalid data, we accept: string | Buffer | ArrayBuffer | SharedArrayBuffer | Uint8Array | File");f=Buffer.from(u.buffer)}return f}async function o(){const u=await i(),f={transaction_input:JSON.stringify({othentFunction:"idToken"})},l=(await s(u,f)).id_token,h=hn(l);if(h.contract_id)return delete h.nonce,delete h.sid,delete h.aud,delete h.iss,delete h.iat,delete h.exp,delete h.updated_at,h;throw new Error('{ success: false, message: "Please create a Othent account" }')}return{getAPIID:async function(){const u=await i(),f={transaction_input:JSON.stringify({othentFunction:"API_ID"})},l=(await s(u,f)).id_token,h=hn(l);if(h.contract_id)return{API_ID:h.API_ID};throw new Error('{ success: false, message: "Please create a Othent account" }')},addCallbackURL:async function(u){return await ur({method:"POST",url:"https://server.othent.io/add-callback-url",data:{callbackURL:u.callbackURL}}).then(f=>f.data).catch(f=>{throw f})},queryWalletAddressTxns:async function(u){return await ur({method:"POST",url:"https://server.othent.io/query-wallet-address-txns",data:{walletAddress:u.walletAddress}}).then(f=>f.data).catch(f=>{throw f})},ping:async function(){return await ur({method:"GET",url:"https://server.othent.io/"}).then(u=>u.data).catch(u=>{throw u})},logIn:async function(){const u=await i();if(await u.isAuthenticated())return await o();{const f={authorizationParams:{transaction_input:JSON.stringify({othentFunction:"idToken"}),redirect_uri:window.location.origin}};let l=null,h="";try{await u.loginWithPopup(f);const c={transaction_input:JSON.stringify({othentFunction:"idToken"})};h=(await s(u,c)).id_token,l=hn(h)}catch(c){throw c instanceof Error&&c.message,new Error("Your browser is blocking us! Please turn off your shields or allow cross site cookies! :)")}return l&&l.contract_id?(delete l.nonce,delete l.sid,delete l.aud,delete l.iss,delete l.iat,delete l.exp,delete l.updated_at,l):await ur({method:"POST",url:"https://server.othent.io/create-user",data:{JWT:h,API_ID:t}}).then(c=>{const d=c.data;return{contract_id:d.contract_id,given_name:d.given_name,family_name:d.family_name,nickname:d.nickname,name:d.name,picture:d.picture,locale:d.locale,email:d.email,email_verified:d.email_verified,sub:d.sub,success:d.success,message:d.message}}).catch(c=>{throw console.log(c.response.data),c})}},logOut:async function(){return await(await i()).logout({logoutParams:{returnTo:window.location.origin}}),{response:"User logged out"}},userDetails:o,readContract:async function(){const u=await i(),f={transaction_input:JSON.stringify({othentFunction:"idToken"})},l=(await s(u,f)).id_token;return await ur({method:"POST",url:"https://server.othent.io/read-contract",data:{JWT:l}}).then(h=>h.data).catch(h=>{throw console.log(h.response.data),h})},signTransactionWarp:async function(u){var f;(f=u.tags)!==null&&f!==void 0||(u.tags=[]);const l={function:u.othentFunction,data:{toContractId:u.data.toContractId,toContractFunction:u.data.toContractFunction,txnData:u.data.txnData}},h=await i(),c={transaction_input:JSON.stringify({othentFunction:u.othentFunction,warpData:l})},d=await s(h,c),p=d.id_token;if(!hn(p).contract_id)throw new Error('{success: false, message:"Please create a Othent account"}');return{JWT:d.id_token,tags:u.tags}},sendTransactionWarp:async function(u){const f=u.JWT,l=u.tags;return await ur({method:"POST",url:"https://server.othent.io/send-transaction",data:{JWT:f,tags:l,API_ID:t}}).then(h=>h.data).catch(h=>{throw console.log(h.response.data),h})},signTransactionArweave:async function(u){var f;(f=u.tags)!==null&&f!==void 0||(u.tags=[]);const l=await a(u.data);if(!l)throw new Error("Invalid data, we accept: string | Buffer | ArrayBuffer | SharedArrayBuffer | Uint8Array | File");const h=await ra(l),c=await i(),d={transaction_input:JSON.stringify({othentFunction:u.othentFunction,file_hash:h})},p=await s(c,d),v=p.id_token;if(!hn(v).contract_id)throw new Error('{ success: false, message: "Please create a Othent account" }');return{data:l,JWT:p.id_token,tags:u.tags}},sendTransactionArweave:async function(u){const f=u.data,l=new Blob([f]),h=new FormData;return h.append("file",l),h.append("dataHashJWT",u.JWT),h.append("API_ID",t),h.append("tags",JSON.stringify(u.tags)),await fetch("https://server.othent.io/upload-data-arweave",{method:"POST",body:h}).then(c=>c.json()).then(c=>c).catch(c=>{throw console.log(c),c})},signTransactionBundlr:async function(u){var f;(f=u.tags)!==null&&f!==void 0||(u.tags=[]);const l=await a(u.data);if(!l)throw new Error("Invalid data, we accept: string | Buffer | ArrayBuffer | SharedArrayBuffer | Uint8Array | File");const h=await ra(l),c=await i(),d={transaction_input:JSON.stringify({othentFunction:u.othentFunction,file_hash:h})},p=await s(c,d),v=p.id_token;if(!hn(v).contract_id)throw new Error('{ success: false, message: "Please create a Othent account" }');return{data:l,JWT:p.id_token,tags:u.tags}},sendTransactionBundlr:async function(u){const f=u.data,l=new Blob([f]),h=new FormData;return h.append("file",l),h.append("dataHashJWT",u.JWT),h.append("API_ID",t),h.append("tags",JSON.stringify(u.tags)),await fetch("https://server.othent.io/upload-data-bundlr",{method:"POST",body:h}).then(c=>c.json()).then(c=>c).catch(c=>{throw console.log(c),c})},initializeJWK:async function(u){const f=u.privateKey,l=JSON.stringify(f),h=JSON.parse(l),c=e0(h),d=await i(),p={transaction_input:JSON.stringify({othentFunction:"initializeJWK",warpData:{function:"initializeJWK",data:{JWK_public_key_PEM:c,JWK_public_key:null}}})},v=(await s(d,p)).id_token;return ur({method:"POST",url:"https://server.othent.io/initialize-JWK",data:{PEM_key_JWT:v,API_ID:t}}).then(y=>y.data).catch(y=>{throw console.log(y.response.data),y})},JWKBackupTxn:async function(u){const f={iat:Math.floor(Date.now()/1e3),sub:u.sub,contract_id:u.contract_id,tags:u.tags,contract_input:{data:u.data,othentFunction:u.othentFunction}},l=u.privateKey,h=e0(l,{private:!0}),c={alg:"RS256",typ:"JWT",exp:Math.floor(Date.now()/1e3)+3600},d=S5.jws.JWS.sign("RS256",JSON.stringify(c),JSON.stringify(f),h);return await ur({method:"POST",url:"https://server.othent.io/JWK-backup-transaction",data:{JWK_signed_JWT:d,API_ID:t}}).then(p=>p.data).catch(p=>{throw console.log(p.response.data),p})},readCustomContract:async function(u){return await ur({method:"POST",url:"https://server.othent.io/read-custom-contract",data:{contract_id:u.contract_id}}).then(f=>f.data).catch(f=>{throw console.log(f.response.data),f})},verifyArweaveData:async function(u){let f;(await(await fetch(`https://arweave.net/tx/${u.transactionId}`,{headers:{responseType:"arraybuffer"}})).json()).tags.map(p=>{atob(p.name)==="File-Hash-JWT"&&(f=hn(atob(p.value)))});const h=f.file_hash;let c=(await ur.get(`https://arweave.net/${u.transactionId}`,{responseType:"arraybuffer"})).data;const d=await ra(c);return h===d?{validData:!0,contract_id:f.contract_id,onChainHash:d,tagHash:h,iat:f.iat,userId:f.sub}:{validData:!1,onChainHash:d,tagHash:h}},verifyBundlrData:async function(u){let f;(await(await fetch(`https://gateway.bundlr.network/tx/${u.transactionId}`,{headers:{responseType:"arraybuffer"}})).json()).tags.map(p=>{p.name==="File-Hash-JWT"&&(f=hn(p.value))});const h=f.file_hash;let c=(await ur.get(`https://arweave.net/${u.transactionId}`,{responseType:"arraybuffer"})).data;const d=await ra(c);return h===d?{validData:!0,contract_id:f.contract_id,onChainHash:d,tagHash:h,iat:f.iat,userId:f.sub}:{validData:!1,onChainHash:d,tagHash:h}}}}).catch(n=>{throw console.error("An error occurred:",n),n})}class A5{constructor(){Bs(this,ht);lt(this,"id","othent");lt(this,"name","Google");lt(this,"description","Sign in with Google through Othent Smart Contract Wallets");lt(this,"theme","35, 117, 239");lt(this,"logo","33nBIUNlGK4MnWtJZQy9EzkVJaAd7WoydIKfkJoMvDs");lt(this,"url","https://othent.io");Bs(this,Ds,"e923634af8cc8b63bc8c74735d177aae");Bs(this,fn,[])}__overrideApiID(t){dl(this,Ds,t)}async isAvailable(){try{return await At(this,ht,_t).call(this,!1),!0}catch{return!1}}async ping(){return await(await At(this,ht,_t).call(this,!1)).ping()}async connect(t,r,n){const s=await(await At(this,ht,_t).call(this,!1)).logIn();for(const a of Sr(this,fn))a(s.contract_id)}async disconnect(){await(await At(this,ht,_t).call(this)).logOut();for(const r of Sr(this,fn))r(void 0)}async getPermissions(){const t=await At(this,ht,_t).call(this,!1);try{const r=await t.userDetails();for(const n of Sr(this,fn))n(r.contract_id);return["ACCESS_ADDRESS","ACCESS_PUBLIC_KEY","ACCESS_ALL_ADDRESSES","SIGN_TRANSACTION","ENCRYPT","DECRYPT","SIGNATURE","ACCESS_ARWEAVE_CONFIG","DISPATCH"]}catch{return[]}}async getActiveAddress(){return(await(await At(this,ht,_t).call(this,!1)).userDetails()).contract_id}async getAllAddresses(){return[await this.getActiveAddress()]}async sign(t,r){if(r&&console.warn("[Arweave Wallet Kit] Othent does not support transaction signature options"),t.quantity!=="0"&&t.target!=="")throw new Error("[Arweave Wallet Kit] Signing with Othent only supports data type transactions");return await(await At(this,ht,_t).call(this,!1)).signTransactionArweave({othentFunction:"uploadData",data:t.data,tags:t.tags?t.tags:[]})}async signTransactionBundlr(t){return await(await At(this,ht,_t).call(this)).signTransactionBundlr(t)}async signTransactionWarp(t){return await(await At(this,ht,_t).call(this)).signTransactionWarp(t)}async sendTransactionArweave(t){return await(await At(this,ht,_t).call(this)).sendTransactionArweave(t)}async sendTransactionBundlr(t){return await(await At(this,ht,_t).call(this)).sendTransactionBundlr(t)}async sendTransactionWarp(t){return await(await At(this,ht,_t).call(this)).sendTransactionWarp(t)}async verifyArweaveData(t){return await(await At(this,ht,_t).call(this)).verifyArweaveData(t)}async verifyBundlrData(t){return await(await At(this,ht,_t).call(this)).verifyBundlrData(t)}async dispatch(t){try{const r=await At(this,ht,_t).call(this,!1),n=await r.signTransactionBundlr({othentFunction:"uploadData",data:t.data,tags:t.tags?t.tags:[]}),i=await r.sendTransactionBundlr(n);if(i.success===!0)return{id:i.transactionId,type:"BUNDLED"};try{const s=await At(this,ht,_t).call(this,!1),a=await s.signTransactionArweave({othentFunction:"uploadData",data:t.data,tags:t.tags?t.tags:[]}),o=await s.sendTransactionArweave(a);if(o.success===!0)return{id:o.transactionId,type:"BASE"};throw new Error("Failed to dispatch layer transaction. Please recheck request.")}catch(s){throw new Error(`Unable to dispatch Base layer transaction: ${s}`)}}catch(r){throw new Error(`Unable to dispatch Bundled transaction: ${r}`)}}async queryWalletAddressTxns(t){return await(await At(this,ht,_t).call(this)).queryWalletAddressTxns(t)}async userDetails(){return await(await At(this,ht,_t).call(this)).userDetails()}async readContract(){return await(await At(this,ht,_t).call(this)).readContract()}async readCustomContract(t){return await(await At(this,ht,_t).call(this)).readCustomContract(t)}addAddressEvent(t){return Sr(this,fn).push(t),t}removeAddressEvent(t){Sr(this,fn).splice(Sr(this,fn).indexOf(t),1)}}Ds=new WeakMap,fn=new WeakMap,ht=new WeakSet,_t=async function(t=!0){const r=await E5({API_ID:Sr(this,Ds)});if(!r)throw new Error("[Arweave Wallet Kit] Invalid Othent API ID");if(t&&(await this.getPermissions()).length===0)throw new Error("[Arweave Wallet Kit] You are not connected to Othent");return r};const ns=[new Gg,new Wg,new A5,new Go],is="wallet_kit_strategy_id";async function _5(e,t){let r=(localStorage==null?void 0:localStorage.getItem(is))||!1;if(r&&Ai(r))return Ai(r);for(const n of ns){const i=await n.getPermissions();if(!t&&i.length>0)return pf(n.id),Ai(n.id);if(t&&ih(e,i))return pf(n.id),Ai(n.id)}return!1}function pf(e){localStorage&&localStorage.setItem(is,e)}function Ai(e){return ns.find(t=>t.id===e)}const vf={activeModal:!1,activeStrategy:!1,givenPermissions:[],config:{permissions:[]}},I0=oe.createContext(void 0);function qt(){const e=oe.useContext(I0);return oe.useMemo(()=>e||{state:vf,dispatch:()=>{}},[e])}function C0(){const{state:e}=qt();return oe.useMemo(()=>e.activeStrategy,[e])}function Wr(){const e=C0();return oe.useMemo(()=>Ai(e),[e])}function T5(){const e=Wr();return oe.useMemo(()=>{if(!e)return;const r=e,n=["name","description","theme","logo","url","resumeSession","isAvailable","addAddressEvent","removeAddressEvent","connect"];for(const i in e)n.includes(i)&&delete r[i];return r},[e])}function ss(){const{state:e}=qt();return e==null?void 0:e.activeAddress}async function P5(){const e=Wr(),{dispatch:t}=qt();oe.useEffect(()=>{(async()=>{var i;if(!e)return;const r=async()=>{try{const s=await e.getActiveAddress();t({type:"UPDATE_ADDRESS",payload:s})}catch(s){console.error(`[Arweave Wallet Kit] Failed to sync address
${(s==null?void 0:s.message)||s}`)}};await r();const n=(i=e.addAddressEvent)==null?void 0:i.call(e,s=>t({type:"UPDATE_ADDRESS",payload:s}));return addEventListener("focus",r),()=>{n&&e.removeAddressEvent&&e.removeAddressEvent(n),removeEventListener("focus",r)}})()},[e,t])}function F5(){const[e,t]=oe.useState(),r=Wr(),n=ss();return oe.useEffect(()=>{(async()=>!r||!r.getActivePublicKey||t(await r.getActivePublicKey()))()},[n,r]),e}function O0(){const[e,t]=oe.useState([]),r=ss(),{state:n}=qt(),i=Wr();return oe.useEffect(()=>{(async()=>{if(!i)return t([]);const s=async()=>{try{t(await i.getAllAddresses())}catch(a){console.error(`[Arweave Wallet Kit] Failed to sync addresses
${(a==null?void 0:a.message)||a}`)}};return await s(),addEventListener("focus",s),()=>removeEventListener("focus",s)})()},[r,n,i]),e}function I5(){const[e,t]=oe.useState({}),r=O0(),{state:n}=qt(),i=Wr();return oe.useEffect(()=>{(async()=>{if(!i||!i.getWalletNames)return t({});try{const s=await i.getWalletNames();t(s)}catch(s){console.error(`[Arweave Wallet Kit] Failed to sync wallet names
${(s==null?void 0:s.message)||s}`)}})()},[r,n==null?void 0:n.activeStrategy]),e}var as={},C5={get exports(){return as},set exports(e){as=e}},os={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function O5(){if(R0)return os;R0=1;var e=oe,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,u,f){var l,h={},c=null,d=null;f!==void 0&&(c=""+f),u.key!==void 0&&(c=""+u.key),u.ref!==void 0&&(d=u.ref);for(l in u)n.call(u,l)&&!s.hasOwnProperty(l)&&(h[l]=u[l]);if(o&&o.defaultProps)for(l in u=o.defaultProps,u)h[l]===void 0&&(h[l]=u[l]);return{$$typeof:t,type:o,key:c,ref:d,props:h,_owner:i.current}}return os.Fragment=r,os.jsx=a,os.jsxs=a,os}var us={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function R5(){return D0||(D0=1,process.env.NODE_ENV!=="production"&&function(){var e=oe,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),l=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.for("react.offscreen"),p=Symbol.iterator,v="@@iterator";function y(J){if(J===null||typeof J!="object")return null;var ve=p&&J[p]||J[v];return typeof ve=="function"?ve:null}var b=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function A(J){{for(var ve=arguments.length,Se=new Array(ve>1?ve-1:0),_e=1;_e<ve;_e++)Se[_e-1]=arguments[_e];D("error",J,Se)}}function D(J,ve,Se){{var _e=b.ReactDebugCurrentFrame,Ie=_e.getStackAddendum();Ie!==""&&(ve+="%s",Se=Se.concat([Ie]));var Ge=Se.map(function(He){return String(He)});Ge.unshift("Warning: "+ve),Function.prototype.apply.call(console[J],console,Ge)}}var k=!1,L=!1,_=!1,F=!1,R=!1,P;P=Symbol.for("react.module.reference");function M(J){return!!(typeof J=="string"||typeof J=="function"||J===n||J===s||R||J===i||J===f||J===l||F||J===d||k||L||_||typeof J=="object"&&J!==null&&(J.$$typeof===c||J.$$typeof===h||J.$$typeof===a||J.$$typeof===o||J.$$typeof===u||J.$$typeof===P||J.getModuleId!==void 0))}function C(J,ve,Se){var _e=J.displayName;if(_e)return _e;var Ie=ve.displayName||ve.name||"";return Ie!==""?Se+"("+Ie+")":Se}function m(J){return J.displayName||"Context"}function E(J){if(J==null)return null;if(typeof J.tag=="number"&&A("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof J=="function")return J.displayName||J.name||null;if(typeof J=="string")return J;switch(J){case n:return"Fragment";case r:return"Portal";case s:return"Profiler";case i:return"StrictMode";case f:return"Suspense";case l:return"SuspenseList"}if(typeof J=="object")switch(J.$$typeof){case o:var ve=J;return m(ve)+".Consumer";case a:var Se=J;return m(Se._context)+".Provider";case u:return C(J,J.render,"ForwardRef");case h:var _e=J.displayName||null;return _e!==null?_e:E(J.type)||"Memo";case c:{var Ie=J,Ge=Ie._payload,He=Ie._init;try{return E(He(Ge))}catch{return null}}}return null}var T=Object.assign,O=0,N,H,Z,K,x,V,z;function G(){}G.__reactDisabledLog=!0;function $(){{if(O===0){N=console.log,H=console.info,Z=console.warn,K=console.error,x=console.group,V=console.groupCollapsed,z=console.groupEnd;var J={configurable:!0,enumerable:!0,value:G,writable:!0};Object.defineProperties(console,{info:J,log:J,warn:J,error:J,group:J,groupCollapsed:J,groupEnd:J})}O++}}function ae(){{if(O--,O===0){var J={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:T({},J,{value:N}),info:T({},J,{value:H}),warn:T({},J,{value:Z}),error:T({},J,{value:K}),group:T({},J,{value:x}),groupCollapsed:T({},J,{value:V}),groupEnd:T({},J,{value:z})})}O<0&&A("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var he=b.ReactCurrentDispatcher,ue;function fe(J,ve,Se){{if(ue===void 0)try{throw Error()}catch(Ie){var _e=Ie.stack.trim().match(/\n( *(at )?)/);ue=_e&&_e[1]||""}return`
`+ue+J}}var ce=!1,j;{var W=typeof WeakMap=="function"?WeakMap:Map;j=new W}function U(J,ve){if(!J||ce)return"";{var Se=j.get(J);if(Se!==void 0)return Se}var _e;ce=!0;var Ie=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Ge;Ge=he.current,he.current=null,$();try{if(ve){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(sr){_e=sr}Reflect.construct(J,[],He)}else{try{He.call()}catch(sr){_e=sr}J.call(He.prototype)}}else{try{throw Error()}catch(sr){_e=sr}J()}}catch(sr){if(sr&&_e&&typeof sr.stack=="string"){for(var je=sr.stack.split(`
`),Ot=_e.stack.split(`
`),it=je.length-1,ct=Ot.length-1;it>=1&&ct>=0&&je[it]!==Ot[ct];)ct--;for(;it>=1&&ct>=0;it--,ct--)if(je[it]!==Ot[ct]){if(it!==1||ct!==1)do if(it--,ct--,ct<0||je[it]!==Ot[ct]){var Kt=`
`+je[it].replace(" at new "," at ");return J.displayName&&Kt.includes("<anonymous>")&&(Kt=Kt.replace("<anonymous>",J.displayName)),typeof J=="function"&&j.set(J,Kt),Kt}while(it>=1&&ct>=0);break}}}finally{ce=!1,he.current=Ge,ae(),Error.prepareStackTrace=Ie}var Yr=J?J.displayName||J.name:"",ki=Yr?fe(Yr):"";return typeof J=="function"&&j.set(J,ki),ki}function Q(J,ve,Se){return U(J,!1)}function ee(J){var ve=J.prototype;return!!(ve&&ve.isReactComponent)}function te(J,ve,Se){if(J==null)return"";if(typeof J=="function")return U(J,ee(J));if(typeof J=="string")return fe(J);switch(J){case f:return fe("Suspense");case l:return fe("SuspenseList")}if(typeof J=="object")switch(J.$$typeof){case u:return Q(J.render);case h:return te(J.type,ve,Se);case c:{var _e=J,Ie=_e._payload,Ge=_e._init;try{return te(Ge(Ie),ve,Se)}catch{}}}return""}var B=Object.prototype.hasOwnProperty,w={},S=b.ReactDebugCurrentFrame;function I(J){if(J){var ve=J._owner,Se=te(J.type,J._source,ve?ve.type:null);S.setExtraStackFrame(Se)}else S.setExtraStackFrame(null)}function q(J,ve,Se,_e,Ie){{var Ge=Function.call.bind(B);for(var He in J)if(Ge(J,He)){var je=void 0;try{if(typeof J[He]!="function"){var Ot=Error((_e||"React class")+": "+Se+" type `"+He+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof J[He]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Ot.name="Invariant Violation",Ot}je=J[He](ve,He,_e,Se,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(it){je=it}je&&!(je instanceof Error)&&(I(Ie),A("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",_e||"React class",Se,He,typeof je),I(null)),je instanceof Error&&!(je.message in w)&&(w[je.message]=!0,I(Ie),A("Failed %s type: %s",Se,je.message),I(null))}}}var Y=Array.isArray;function se(J){return Y(J)}function me(J){{var ve=typeof Symbol=="function"&&Symbol.toStringTag,Se=ve&&J[Symbol.toStringTag]||J.constructor.name||"Object";return Se}}function ge(J){try{return X(J),!1}catch{return!0}}function X(J){return""+J}function ne(J){if(ge(J))return A("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",me(J)),X(J)}var ie=b.ReactCurrentOwner,le={key:!0,ref:!0,__self:!0,__source:!0},xe,Re,Ee;Ee={};function Be(J){if(B.call(J,"ref")){var ve=Object.getOwnPropertyDescriptor(J,"ref").get;if(ve&&ve.isReactWarning)return!1}return J.ref!==void 0}function be(J){if(B.call(J,"key")){var ve=Object.getOwnPropertyDescriptor(J,"key").get;if(ve&&ve.isReactWarning)return!1}return J.key!==void 0}function Te(J,ve){if(typeof J.ref=="string"&&ie.current&&ve&&ie.current.stateNode!==ve){var Se=E(ie.current.type);Ee[Se]||(A('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',E(ie.current.type),J.ref),Ee[Se]=!0)}}function Ce(J,ve){{var Se=function(){xe||(xe=!0,A("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ve))};Se.isReactWarning=!0,Object.defineProperty(J,"key",{get:Se,configurable:!0})}}function Ne(J,ve){{var Se=function(){Re||(Re=!0,A("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ve))};Se.isReactWarning=!0,Object.defineProperty(J,"ref",{get:Se,configurable:!0})}}var De=function(J,ve,Se,_e,Ie,Ge,He){var je={$$typeof:t,type:J,key:ve,ref:Se,props:He,_owner:Ge};return je._store={},Object.defineProperty(je._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(je,"_self",{configurable:!1,enumerable:!1,writable:!1,value:_e}),Object.defineProperty(je,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Ie}),Object.freeze&&(Object.freeze(je.props),Object.freeze(je)),je};function po(J,ve,Se,_e,Ie){{var Ge,He={},je=null,Ot=null;Se!==void 0&&(ne(Se),je=""+Se),be(ve)&&(ne(ve.key),je=""+ve.key),Be(ve)&&(Ot=ve.ref,Te(ve,Ie));for(Ge in ve)B.call(ve,Ge)&&!le.hasOwnProperty(Ge)&&(He[Ge]=ve[Ge]);if(J&&J.defaultProps){var it=J.defaultProps;for(Ge in it)He[Ge]===void 0&&(He[Ge]=it[Ge])}if(je||Ot){var ct=typeof J=="function"?J.displayName||J.name||"Unknown":J;je&&Ce(He,ct),Ot&&Ne(He,ct)}return De(J,je,Ot,Ie,_e,ie.current,He)}}var ot=b.ReactCurrentOwner,dt=b.ReactDebugCurrentFrame;function cn(J){if(J){var ve=J._owner,Se=te(J.type,J._source,ve?ve.type:null);dt.setExtraStackFrame(Se)}else dt.setExtraStackFrame(null)}var ut;ut=!1;function ft(J){return typeof J=="object"&&J!==null&&J.$$typeof===t}function Ms(){{if(ot.current){var J=E(ot.current.type);if(J)return`

Check the render method of \``+J+"`."}return""}}function wt(J){{if(J!==void 0){var ve=J.fileName.replace(/^.*[\\\/]/,""),Se=J.lineNumber;return`

Check your code at `+ve+":"+Se+"."}return""}}var pt={};function vo(J){{var ve=Ms();if(!ve){var Se=typeof J=="string"?J:J.displayName||J.name;Se&&(ve=`

Check the top-level render call using <`+Se+">.")}return ve}}function vt(J,ve){{if(!J._store||J._store.validated||J.key!=null)return;J._store.validated=!0;var Se=vo(ve);if(pt[Se])return;pt[Se]=!0;var _e="";J&&J._owner&&J._owner!==ot.current&&(_e=" It was passed a child from "+E(J._owner.type)+"."),cn(J),A('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Se,_e),cn(null)}}function gt(J,ve){{if(typeof J!="object")return;if(se(J))for(var Se=0;Se<J.length;Se++){var _e=J[Se];ft(_e)&&vt(_e,ve)}else if(ft(J))J._store&&(J._store.validated=!0);else if(J){var Ie=y(J);if(typeof Ie=="function"&&Ie!==J.entries)for(var Ge=Ie.call(J),He;!(He=Ge.next()).done;)ft(He.value)&&vt(He.value,ve)}}}function go(J){{var ve=J.type;if(ve==null||typeof ve=="string")return;var Se;if(typeof ve=="function")Se=ve.propTypes;else if(typeof ve=="object"&&(ve.$$typeof===u||ve.$$typeof===h))Se=ve.propTypes;else return;if(Se){var _e=E(ve);q(Se,J.props,"prop",_e,J)}else if(ve.PropTypes!==void 0&&!ut){ut=!0;var Ie=E(ve);A("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Ie||"Unknown")}typeof ve.getDefaultProps=="function"&&!ve.getDefaultProps.isReactClassApproved&&A("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function xt(J){{for(var ve=Object.keys(J.props),Se=0;Se<ve.length;Se++){var _e=ve[Se];if(_e!=="children"&&_e!=="key"){cn(J),A("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",_e),cn(null);break}}J.ref!==null&&(cn(J),A("Invalid attribute `ref` supplied to `React.Fragment`."),cn(null))}}function mt(J,ve,Se,_e,Ie,Ge){{var He=M(J);if(!He){var je="";(J===void 0||typeof J=="object"&&J!==null&&Object.keys(J).length===0)&&(je+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Ot=wt(Ie);Ot?je+=Ot:je+=Ms();var it;J===null?it="null":se(J)?it="array":J!==void 0&&J.$$typeof===t?(it="<"+(E(J.type)||"Unknown")+" />",je=" Did you accidentally export a JSX literal instead of a component?"):it=typeof J,A("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",it,je)}var ct=po(J,ve,Se,Ie,Ge);if(ct==null)return ct;if(He){var Kt=ve.children;if(Kt!==void 0)if(_e)if(se(Kt)){for(var Yr=0;Yr<Kt.length;Yr++)gt(Kt[Yr],J);Object.freeze&&Object.freeze(Kt)}else A("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else gt(Kt,J)}return J===n?xt(ct):go(ct),ct}}function mo(J,ve,Se){return mt(J,ve,Se,!0)}function St(J,ve,Se){return mt(J,ve,Se,!1)}var Et=St,yo=mo;us.Fragment=n,us.jsx=Et,us.jsxs=yo}()),us}(function(e){process.env.NODE_ENV==="production"?e.exports=O5():e.exports=R5()})(C5);const fs=as.Fragment,Pe=as.jsx,Je=as.jsxs;function D5(e){return qe.createElement("svg",Object.assign({width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),qe.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.25 10.75L12 14.25L8.75 10.75"}))}function M5(e){return qe.createElement("svg",Object.assign({width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),qe.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.25 8.75L9.75 12L13.25 15.25"}))}function B5(e){return qe.createElement("svg",Object.assign({width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),qe.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.25 6.75L6.75 17.25"}),qe.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6.75 6.75L17.25 17.25"}))}function N5(e){return qe.createElement("svg",Object.assign({width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),qe.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6.5 15.25V15.25C5.5335 15.25 4.75 14.4665 4.75 13.5V6.75C4.75 5.64543 5.64543 4.75 6.75 4.75H13.5C14.4665 4.75 15.25 5.5335 15.25 6.5V6.5"}),qe.createElement("rect",{width:10.5,height:10.5,x:8.75,y:8.75,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,rx:2}))}function k5(e){return qe.createElement("svg",Object.assign({width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),qe.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.75 8.75L19.25 12L15.75 15.25"}),qe.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 12H10.75"}),qe.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.25 4.75H6.75C5.64543 4.75 4.75 5.64543 4.75 6.75V17.25C4.75 18.3546 5.64543 19.25 6.75 19.25H15.25"}))}function M0(e){return qe.createElement("svg",Object.assign({width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),qe.createElement("circle",{cx:12,cy:8,r:3.25,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5}),qe.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6.8475 19.25H17.1525C18.2944 19.25 19.174 18.2681 18.6408 17.2584C17.8563 15.7731 16.068 14 12 14C7.93201 14 6.14367 15.7731 5.35924 17.2584C4.82597 18.2681 5.70558 19.25 6.8475 19.25Z"}))}var gf={},Ta={},j5={get exports(){return Ta},set exports(e){Ta=e}};(function(e,t){(function(r,n){e.exports=n()})(we,function(){var r=function(A){return n(A)&&!i(A)};function n(b){return!!b&&typeof b=="object"}function i(b){var A=Object.prototype.toString.call(b);return A==="[object RegExp]"||A==="[object Date]"||o(b)}var s=typeof Symbol=="function"&&Symbol.for,a=s?Symbol.for("react.element"):60103;function o(b){return b.$$typeof===a}function u(b){return Array.isArray(b)?[]:{}}function f(b,A){return A.clone!==!1&&A.isMergeableObject(b)?v(u(b),b,A):b}function l(b,A,D){return b.concat(A).map(function(k){return f(k,D)})}function h(b,A){if(!A.customMerge)return v;var D=A.customMerge(b);return typeof D=="function"?D:v}function c(b){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(b).filter(function(A){return b.propertyIsEnumerable(A)}):[]}function d(b){return Object.keys(b).concat(c(b))}function p(b,A,D){var k={};return D.isMergeableObject(b)&&d(b).forEach(function(L){k[L]=f(b[L],D)}),d(A).forEach(function(L){!D.isMergeableObject(A[L])||!b[L]?k[L]=f(A[L],D):k[L]=h(L,D)(b[L],A[L],D)}),k}function v(b,A,D){D=D||{},D.arrayMerge=D.arrayMerge||l,D.isMergeableObject=D.isMergeableObject||r;var k=Array.isArray(A),L=Array.isArray(b),_=k===L;return _?k?D.arrayMerge(b,A,D):p(b,A,D):f(A,D)}v.all=function(A,D){if(!Array.isArray(A))throw new Error("first argument should be an array");return A.reduce(function(k,L){return v(k,L,D)},{})};var y=v;return y})})(j5);var Pa={};Pa.__esModule=!0,Pa.default=void 0;var B0=L5(oe);function L5(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}function V5(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function H5(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U5(e,t){var r,n;return n=r=function(i){V5(s,i);function s(){return i.apply(this,arguments)||this}var a=s.prototype;return a.render=function(){return B0.createElement(t.Provider,{value:this.props.theme},this.props.children)},s}(B0.Component),H5(r,"defaultProps",{theme:e}),n}var q5=U5;Pa.default=q5;var Fa={},Ia={},K5={get exports(){return Ia},set exports(e){Ia=e}},Ye={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function z5(){if(N0)return Ye;N0=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,l=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,c=e?Symbol.for("react.suspense_list"):60120,d=e?Symbol.for("react.memo"):60115,p=e?Symbol.for("react.lazy"):60116,v=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,A=e?Symbol.for("react.scope"):60119;function D(L){if(typeof L=="object"&&L!==null){var _=L.$$typeof;switch(_){case t:switch(L=L.type,L){case u:case f:case n:case s:case i:case h:return L;default:switch(L=L&&L.$$typeof,L){case o:case l:case p:case d:case a:return L;default:return _}}case r:return _}}}function k(L){return D(L)===f}return Ye.AsyncMode=u,Ye.ConcurrentMode=f,Ye.ContextConsumer=o,Ye.ContextProvider=a,Ye.Element=t,Ye.ForwardRef=l,Ye.Fragment=n,Ye.Lazy=p,Ye.Memo=d,Ye.Portal=r,Ye.Profiler=s,Ye.StrictMode=i,Ye.Suspense=h,Ye.isAsyncMode=function(L){return k(L)||D(L)===u},Ye.isConcurrentMode=k,Ye.isContextConsumer=function(L){return D(L)===o},Ye.isContextProvider=function(L){return D(L)===a},Ye.isElement=function(L){return typeof L=="object"&&L!==null&&L.$$typeof===t},Ye.isForwardRef=function(L){return D(L)===l},Ye.isFragment=function(L){return D(L)===n},Ye.isLazy=function(L){return D(L)===p},Ye.isMemo=function(L){return D(L)===d},Ye.isPortal=function(L){return D(L)===r},Ye.isProfiler=function(L){return D(L)===s},Ye.isStrictMode=function(L){return D(L)===i},Ye.isSuspense=function(L){return D(L)===h},Ye.isValidElementType=function(L){return typeof L=="string"||typeof L=="function"||L===n||L===f||L===s||L===i||L===h||L===c||typeof L=="object"&&L!==null&&(L.$$typeof===p||L.$$typeof===d||L.$$typeof===a||L.$$typeof===o||L.$$typeof===l||L.$$typeof===y||L.$$typeof===b||L.$$typeof===A||L.$$typeof===v)},Ye.typeOf=D,Ye}var Xe={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function $5(){return k0||(k0=1,process.env.NODE_ENV!=="production"&&function(){var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,l=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,c=e?Symbol.for("react.suspense_list"):60120,d=e?Symbol.for("react.memo"):60115,p=e?Symbol.for("react.lazy"):60116,v=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,A=e?Symbol.for("react.scope"):60119;function D(U){return typeof U=="string"||typeof U=="function"||U===n||U===f||U===s||U===i||U===h||U===c||typeof U=="object"&&U!==null&&(U.$$typeof===p||U.$$typeof===d||U.$$typeof===a||U.$$typeof===o||U.$$typeof===l||U.$$typeof===y||U.$$typeof===b||U.$$typeof===A||U.$$typeof===v)}function k(U){if(typeof U=="object"&&U!==null){var Q=U.$$typeof;switch(Q){case t:var ee=U.type;switch(ee){case u:case f:case n:case s:case i:case h:return ee;default:var te=ee&&ee.$$typeof;switch(te){case o:case l:case p:case d:case a:return te;default:return Q}}case r:return Q}}}var L=u,_=f,F=o,R=a,P=t,M=l,C=n,m=p,E=d,T=r,O=s,N=i,H=h,Z=!1;function K(U){return Z||(Z=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),x(U)||k(U)===u}function x(U){return k(U)===f}function V(U){return k(U)===o}function z(U){return k(U)===a}function G(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function $(U){return k(U)===l}function ae(U){return k(U)===n}function he(U){return k(U)===p}function ue(U){return k(U)===d}function fe(U){return k(U)===r}function ce(U){return k(U)===s}function j(U){return k(U)===i}function W(U){return k(U)===h}Xe.AsyncMode=L,Xe.ConcurrentMode=_,Xe.ContextConsumer=F,Xe.ContextProvider=R,Xe.Element=P,Xe.ForwardRef=M,Xe.Fragment=C,Xe.Lazy=m,Xe.Memo=E,Xe.Portal=T,Xe.Profiler=O,Xe.StrictMode=N,Xe.Suspense=H,Xe.isAsyncMode=K,Xe.isConcurrentMode=x,Xe.isContextConsumer=V,Xe.isContextProvider=z,Xe.isElement=G,Xe.isForwardRef=$,Xe.isFragment=ae,Xe.isLazy=he,Xe.isMemo=ue,Xe.isPortal=fe,Xe.isProfiler=ce,Xe.isStrictMode=j,Xe.isSuspense=W,Xe.isValidElementType=D,Xe.typeOf=k}()),Xe}var j0;function mf(){return j0||(j0=1,function(e){process.env.NODE_ENV==="production"?e.exports=z5():e.exports=$5()}(K5)),Ia}var yf=mf(),W5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},G5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},J5={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},L0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bf={};bf[yf.ForwardRef]=J5,bf[yf.Memo]=L0;function V0(e){return yf.isMemo(e)?L0:bf[e.$$typeof]||W5}var Y5=Object.defineProperty,X5=Object.getOwnPropertyNames,H0=Object.getOwnPropertySymbols,Z5=Object.getOwnPropertyDescriptor,Q5=Object.getPrototypeOf,U0=Object.prototype;function q0(e,t,r){if(typeof t!="string"){if(U0){var n=Q5(t);n&&n!==U0&&q0(e,n,r)}var i=X5(t);H0&&(i=i.concat(H0(t)));for(var s=V0(e),a=V0(t),o=0;o<i.length;++o){var u=i[o];if(!G5[u]&&!(r&&r[u])&&!(a&&a[u])&&!(s&&s[u])){var f=Z5(t,u);try{Y5(e,u,f)}catch{}}}}return e}var e6=q0;Fa.__esModule=!0,Fa.default=void 0;var cs=n6(oe),t6=K0(Ta),r6=K0(e6);function K0(e){return e&&e.__esModule?e:{default:e}}function n6(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}function Ca(){return Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ca.apply(this,arguments)}function i6(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function z0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s6(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function $0(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a6=function(t,r){return function(i){var s=function(o){s6(u,o);function u(){for(var l,h=arguments.length,c=new Array(h),d=0;d<h;d++)c[d]=arguments[d];return l=o.call.apply(o,[this].concat(c))||this,$0(z0(l),"_previous",void 0),$0(z0(l),"_merge",function(p,v){var y=l._previous;if(y&&y.a===p&&y.b===v)return y.result;var b=p&&v&&p!==v?(0,t6.default)(p,v):p||v;return l._previous={a:p,b:v,result:b},b}),l}var f=u.prototype;return f.render=function(){var h=this,c=this.props,d=c._reactThemeProviderForwardedRef,p=i6(c,["_reactThemeProviderForwardedRef"]);return cs.createElement(r.Consumer,null,function(v){return cs.createElement(i,Ca({},p,{theme:h._merge(v,p.theme),ref:d}))})},u}(cs.Component),a=cs.forwardRef(function(o,u){return cs.createElement(s,Ca({},o,{_reactThemeProviderForwardedRef:u}))});return a.displayName="withTheme("+(i.displayName||i.name)+")",(0,r6.default)(a,i),a}},o6=a6;Fa.default=o6,gf.__esModule=!0,gf.default=h6;var wf=l6(oe),u6=xf(Ta),f6=xf(Pa),c6=xf(Fa);function xf(e){return e&&e.__esModule?e:{default:e}}function l6(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}function h6(e){var t=wf.createContext(e),r=(0,f6.default)(e,t),n=(0,c6.default)(r,t),i=function(a){var o=wf.useContext(t),u=wf.useMemo(function(){return o&&a?(0,u6.default)(o,a):o||a},[o,a]);return u};return{ThemeContext:t,ThemeProvider:r,withTheme:n,useTheme:i}}var d6=v6(gf),p6=d6.default;function v6(e){return e&&e.__esModule?e:{default:e}}const W0={primaryText:"0, 0, 0",background:"255, 255, 255",secondaryText:"146, 146, 147",light:"242, 242, 247"},g6={primaryText:"240, 240, 240",background:"26, 27, 31",secondaryText:"161, 161, 161",light:"44, 45, 49"},G0=p6({displayTheme:"light",theme:"0, 0, 0",themeConfig:{displayTheme:"light",accent:{r:0,g:0,b:0},titleHighlight:{r:0,g:122,b:255},radius:"default"},...W0}),{ThemeProvider:m6,useTheme:M_}=G0,It=G0.withTheme||(e=>e);function J0(){const{state:e,dispatch:t}=qt(),r=Wr();return oe.useEffect(()=>{(async()=>r&&t({type:"UPDATE_PERMISSIONS",payload:await r.getPermissions()}))()},[t]),e.givenPermissions}function y6(){const{state:e,dispatch:t}=qt(),r=Wr();oe.useEffect(()=>{async function n(){if(!r)return s(),t({type:"UPDATE_PERMISSIONS",payload:[]});try{const o=await r.getPermissions();t({type:"UPDATE_PERMISSIONS",payload:o}),o.length===0&&s()}catch{s(),t({type:"UPDATE_PERMISSIONS",payload:[]})}}async function i(o){o.data.type==="connect_result"&&await n()}function s(){!e.activeAddress&&!e.activeStrategy||(t({type:"DISCONNECT"}),localStorage.removeItem(is))}n(),addEventListener("arweaveWalletLoaded",n),addEventListener("focus",n),addEventListener("message",i);let a;return r&&(a=r.addAddressEvent(n)),()=>{removeEventListener("arweaveWalletLoaded",n),removeEventListener("focus",n),removeEventListener("message",i),r&&a&&r.removeAddressEvent(a)}},[r,t])}function Sf(){const[e,t]=oe.useState(!1),r=Wr(),n=J0(),{state:i}=qt(),{permissions:s,ensurePermissions:a}=i.config;return oe.useEffect(()=>{if(!r)return t(!1);t(a?ih(s,n):n.length>0)},[r,n,s,a]),e}function b6(){const e=Wr(),{dispatch:t}=qt(),r=Sf();async function n(){if(!e||!r)throw new Error("[Arweave Wallet Kit] Not yet connected");try{await e.disconnect(),localStorage.removeItem(is),t({type:"DISCONNECT"})}catch(i){throw new Error(`[Arweave Wallet Kit] Could not disconnect
`+((i==null?void 0:i.message)||i))}}return n}function w6(){const{dispatch:e}=qt(),t=Sf();return()=>new Promise((n,i)=>{if(t)return i("[Arweave Wallet Kit] Already connected");e({type:"OPEN_MODAL",payload:"connect"});async function s(a){a.data.type==="connect_result"&&(removeEventListener("message",s),a.data.res?n():i("[Arweave Wallet Kit] User cancelled the connection"))}addEventListener("message",s)})}function Oa(){const e=Sf(),t=w6(),r=b6();return{connected:e,connect:t,disconnect:r}}function Y0(){const{state:e,dispatch:t}=qt();return oe.useEffect(()=>{e.activeStrategy||e.activeModal!=="profile"||t({type:"CLOSE_MODAL"})},[e,t]),{setOpen(r){if(!e.activeStrategy)throw new Error("[Arweave Wallet Kit] App not connected");t(r?{type:"OPEN_MODAL",payload:"profile"}:{type:"CLOSE_MODAL"})},open:e.activeModal==="profile"}}var Ra={},Ef={},Af={},x6={get exports(){return Af},set exports(e){Af=e}};(function(e){(function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,a="[BigNumber Error] ",o=a+"Number primitive has more than 15 significant digits: ",u=1e14,f=14,l=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],c=1e7,d=1e9;function p(_){var F,R,P,M=$.prototype={constructor:$,toString:null,valueOf:null},C=new $(1),m=20,E=4,T=-7,O=21,N=-1e7,H=1e7,Z=!1,K=1,x=0,V={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},z="0123456789abcdefghijklmnopqrstuvwxyz",G=!0;function $(j,W){var U,Q,ee,te,B,w,S,I,q=this;if(!(q instanceof $))return new $(j,W);if(W==null){if(j&&j._isBigNumber===!0){q.s=j.s,!j.c||j.e>H?q.c=q.e=null:j.e<N?q.c=[q.e=0]:(q.e=j.e,q.c=j.c.slice());return}if((w=typeof j=="number")&&j*0==0){if(q.s=1/j<0?(j=-j,-1):1,j===~~j){for(te=0,B=j;B>=10;B/=10,te++);te>H?q.c=q.e=null:(q.e=te,q.c=[j]);return}I=String(j)}else{if(!n.test(I=String(j)))return P(q,I,w);q.s=I.charCodeAt(0)==45?(I=I.slice(1),-1):1}(te=I.indexOf("."))>-1&&(I=I.replace(".","")),(B=I.search(/e/i))>0?(te<0&&(te=B),te+=+I.slice(B+1),I=I.substring(0,B)):te<0&&(te=I.length)}else{if(A(W,2,z.length,"Base"),W==10&&G)return q=new $(j),fe(q,m+q.e+1,E);if(I=String(j),w=typeof j=="number"){if(j*0!=0)return P(q,I,w,W);if(q.s=1/j<0?(I=I.slice(1),-1):1,$.DEBUG&&I.replace(/^0\.0*|\./,"").length>15)throw Error(o+j)}else q.s=I.charCodeAt(0)===45?(I=I.slice(1),-1):1;for(U=z.slice(0,W),te=B=0,S=I.length;B<S;B++)if(U.indexOf(Q=I.charAt(B))<0){if(Q=="."){if(B>te){te=S;continue}}else if(!ee&&(I==I.toUpperCase()&&(I=I.toLowerCase())||I==I.toLowerCase()&&(I=I.toUpperCase()))){ee=!0,B=-1,te=0;continue}return P(q,String(j),w,W)}w=!1,I=R(I,W,10,q.s),(te=I.indexOf("."))>-1?I=I.replace(".",""):te=I.length}for(B=0;I.charCodeAt(B)===48;B++);for(S=I.length;I.charCodeAt(--S)===48;);if(I=I.slice(B,++S)){if(S-=B,w&&$.DEBUG&&S>15&&(j>l||j!==s(j)))throw Error(o+q.s*j);if((te=te-B-1)>H)q.c=q.e=null;else if(te<N)q.c=[q.e=0];else{if(q.e=te,q.c=[],B=(te+1)%f,te<0&&(B+=f),B<S){for(B&&q.c.push(+I.slice(0,B)),S-=f;B<S;)q.c.push(+I.slice(B,B+=f));B=f-(I=I.slice(B)).length}else B-=S;for(;B--;I+="0");q.c.push(+I)}}else q.c=[q.e=0]}$.clone=p,$.ROUND_UP=0,$.ROUND_DOWN=1,$.ROUND_CEIL=2,$.ROUND_FLOOR=3,$.ROUND_HALF_UP=4,$.ROUND_HALF_DOWN=5,$.ROUND_HALF_EVEN=6,$.ROUND_HALF_CEIL=7,$.ROUND_HALF_FLOOR=8,$.EUCLID=9,$.config=$.set=function(j){var W,U;if(j!=null)if(typeof j=="object"){if(j.hasOwnProperty(W="DECIMAL_PLACES")&&(U=j[W],A(U,0,d,W),m=U),j.hasOwnProperty(W="ROUNDING_MODE")&&(U=j[W],A(U,0,8,W),E=U),j.hasOwnProperty(W="EXPONENTIAL_AT")&&(U=j[W],U&&U.pop?(A(U[0],-d,0,W),A(U[1],0,d,W),T=U[0],O=U[1]):(A(U,-d,d,W),T=-(O=U<0?-U:U))),j.hasOwnProperty(W="RANGE"))if(U=j[W],U&&U.pop)A(U[0],-d,-1,W),A(U[1],1,d,W),N=U[0],H=U[1];else if(A(U,-d,d,W),U)N=-(H=U<0?-U:U);else throw Error(a+W+" cannot be zero: "+U);if(j.hasOwnProperty(W="CRYPTO"))if(U=j[W],U===!!U)if(U)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Z=U;else throw Z=!U,Error(a+"crypto unavailable");else Z=U;else throw Error(a+W+" not true or false: "+U);if(j.hasOwnProperty(W="MODULO_MODE")&&(U=j[W],A(U,0,9,W),K=U),j.hasOwnProperty(W="POW_PRECISION")&&(U=j[W],A(U,0,d,W),x=U),j.hasOwnProperty(W="FORMAT"))if(U=j[W],typeof U=="object")V=U;else throw Error(a+W+" not an object: "+U);if(j.hasOwnProperty(W="ALPHABET"))if(U=j[W],typeof U=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(U))G=U.slice(0,10)=="0123456789",z=U;else throw Error(a+W+" invalid: "+U)}else throw Error(a+"Object expected: "+j);return{DECIMAL_PLACES:m,ROUNDING_MODE:E,EXPONENTIAL_AT:[T,O],RANGE:[N,H],CRYPTO:Z,MODULO_MODE:K,POW_PRECISION:x,FORMAT:V,ALPHABET:z}},$.isBigNumber=function(j){if(!j||j._isBigNumber!==!0)return!1;if(!$.DEBUG)return!0;var W,U,Q=j.c,ee=j.e,te=j.s;e:if({}.toString.call(Q)=="[object Array]"){if((te===1||te===-1)&&ee>=-d&&ee<=d&&ee===s(ee)){if(Q[0]===0){if(ee===0&&Q.length===1)return!0;break e}if(W=(ee+1)%f,W<1&&(W+=f),String(Q[0]).length==W){for(W=0;W<Q.length;W++)if(U=Q[W],U<0||U>=u||U!==s(U))break e;if(U!==0)return!0}}}else if(Q===null&&ee===null&&(te===null||te===1||te===-1))return!0;throw Error(a+"Invalid BigNumber: "+j)},$.maximum=$.max=function(){return he(arguments,M.lt)},$.minimum=$.min=function(){return he(arguments,M.gt)},$.random=function(){var j=9007199254740992,W=Math.random()*j&2097151?function(){return s(Math.random()*j)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(U){var Q,ee,te,B,w,S=0,I=[],q=new $(C);if(U==null?U=m:A(U,0,d),B=i(U/f),Z)if(crypto.getRandomValues){for(Q=crypto.getRandomValues(new Uint32Array(B*=2));S<B;)w=Q[S]*131072+(Q[S+1]>>>11),w>=9e15?(ee=crypto.getRandomValues(new Uint32Array(2)),Q[S]=ee[0],Q[S+1]=ee[1]):(I.push(w%1e14),S+=2);S=B/2}else if(crypto.randomBytes){for(Q=crypto.randomBytes(B*=7);S<B;)w=(Q[S]&31)*281474976710656+Q[S+1]*1099511627776+Q[S+2]*4294967296+Q[S+3]*16777216+(Q[S+4]<<16)+(Q[S+5]<<8)+Q[S+6],w>=9e15?crypto.randomBytes(7).copy(Q,S):(I.push(w%1e14),S+=7);S=B/7}else throw Z=!1,Error(a+"crypto unavailable");if(!Z)for(;S<B;)w=W(),w<9e15&&(I[S++]=w%1e14);for(B=I[--S],U%=f,B&&U&&(w=h[f-U],I[S]=s(B/w)*w);I[S]===0;I.pop(),S--);if(S<0)I=[te=0];else{for(te=-1;I[0]===0;I.splice(0,1),te-=f);for(S=1,w=I[0];w>=10;w/=10,S++);S<f&&(te-=f-S)}return q.e=te,q.c=I,q}}(),$.sum=function(){for(var j=1,W=arguments,U=new $(W[0]);j<W.length;)U=U.plus(W[j++]);return U},R=function(){var j="0123456789";function W(U,Q,ee,te){for(var B,w=[0],S,I=0,q=U.length;I<q;){for(S=w.length;S--;w[S]*=Q);for(w[0]+=te.indexOf(U.charAt(I++)),B=0;B<w.length;B++)w[B]>ee-1&&(w[B+1]==null&&(w[B+1]=0),w[B+1]+=w[B]/ee|0,w[B]%=ee)}return w.reverse()}return function(U,Q,ee,te,B){var w,S,I,q,Y,se,me,ge,X=U.indexOf("."),ne=m,ie=E;for(X>=0&&(q=x,x=0,U=U.replace(".",""),ge=new $(Q),se=ge.pow(U.length-X),x=q,ge.c=W(L(y(se.c),se.e,"0"),10,ee,j),ge.e=ge.c.length),me=W(U,Q,ee,B?(w=z,j):(w=j,z)),I=q=me.length;me[--q]==0;me.pop());if(!me[0])return w.charAt(0);if(X<0?--I:(se.c=me,se.e=I,se.s=te,se=F(se,ge,ne,ie,ee),me=se.c,Y=se.r,I=se.e),S=I+ne+1,X=me[S],q=ee/2,Y=Y||S<0||me[S+1]!=null,Y=ie<4?(X!=null||Y)&&(ie==0||ie==(se.s<0?3:2)):X>q||X==q&&(ie==4||Y||ie==6&&me[S-1]&1||ie==(se.s<0?8:7)),S<1||!me[0])U=Y?L(w.charAt(1),-ne,w.charAt(0)):w.charAt(0);else{if(me.length=S,Y)for(--ee;++me[--S]>ee;)me[S]=0,S||(++I,me=[1].concat(me));for(q=me.length;!me[--q];);for(X=0,U="";X<=q;U+=w.charAt(me[X++]));U=L(U,I,w.charAt(0))}return U}}(),F=function(){function j(Q,ee,te){var B,w,S,I,q=0,Y=Q.length,se=ee%c,me=ee/c|0;for(Q=Q.slice();Y--;)S=Q[Y]%c,I=Q[Y]/c|0,B=me*S+I*se,w=se*S+B%c*c+q,q=(w/te|0)+(B/c|0)+me*I,Q[Y]=w%te;return q&&(Q=[q].concat(Q)),Q}function W(Q,ee,te,B){var w,S;if(te!=B)S=te>B?1:-1;else for(w=S=0;w<te;w++)if(Q[w]!=ee[w]){S=Q[w]>ee[w]?1:-1;break}return S}function U(Q,ee,te,B){for(var w=0;te--;)Q[te]-=w,w=Q[te]<ee[te]?1:0,Q[te]=w*B+Q[te]-ee[te];for(;!Q[0]&&Q.length>1;Q.splice(0,1));}return function(Q,ee,te,B,w){var S,I,q,Y,se,me,ge,X,ne,ie,le,xe,Re,Ee,Be,be,Te,Ce=Q.s==ee.s?1:-1,Ne=Q.c,De=ee.c;if(!Ne||!Ne[0]||!De||!De[0])return new $(!Q.s||!ee.s||(Ne?De&&Ne[0]==De[0]:!De)?NaN:Ne&&Ne[0]==0||!De?Ce*0:Ce/0);for(X=new $(Ce),ne=X.c=[],I=Q.e-ee.e,Ce=te+I+1,w||(w=u,I=v(Q.e/f)-v(ee.e/f),Ce=Ce/f|0),q=0;De[q]==(Ne[q]||0);q++);if(De[q]>(Ne[q]||0)&&I--,Ce<0)ne.push(1),Y=!0;else{for(Ee=Ne.length,be=De.length,q=0,Ce+=2,se=s(w/(De[0]+1)),se>1&&(De=j(De,se,w),Ne=j(Ne,se,w),be=De.length,Ee=Ne.length),Re=be,ie=Ne.slice(0,be),le=ie.length;le<be;ie[le++]=0);Te=De.slice(),Te=[0].concat(Te),Be=De[0],De[1]>=w/2&&Be++;do{if(se=0,S=W(De,ie,be,le),S<0){if(xe=ie[0],be!=le&&(xe=xe*w+(ie[1]||0)),se=s(xe/Be),se>1)for(se>=w&&(se=w-1),me=j(De,se,w),ge=me.length,le=ie.length;W(me,ie,ge,le)==1;)se--,U(me,be<ge?Te:De,ge,w),ge=me.length,S=1;else se==0&&(S=se=1),me=De.slice(),ge=me.length;if(ge<le&&(me=[0].concat(me)),U(ie,me,le,w),le=ie.length,S==-1)for(;W(De,ie,be,le)<1;)se++,U(ie,be<le?Te:De,le,w),le=ie.length}else S===0&&(se++,ie=[0]);ne[q++]=se,ie[0]?ie[le++]=Ne[Re]||0:(ie=[Ne[Re]],le=1)}while((Re++<Ee||ie[0]!=null)&&Ce--);Y=ie[0]!=null,ne[0]||ne.splice(0,1)}if(w==u){for(q=1,Ce=ne[0];Ce>=10;Ce/=10,q++);fe(X,te+(X.e=q+I*f-1)+1,B,Y)}else X.e=I,X.r=+Y;return X}}();function ae(j,W,U,Q){var ee,te,B,w,S;if(U==null?U=E:A(U,0,8),!j.c)return j.toString();if(ee=j.c[0],B=j.e,W==null)S=y(j.c),S=Q==1||Q==2&&(B<=T||B>=O)?k(S,B):L(S,B,"0");else if(j=fe(new $(j),W,U),te=j.e,S=y(j.c),w=S.length,Q==1||Q==2&&(W<=te||te<=T)){for(;w<W;S+="0",w++);S=k(S,te)}else if(W-=B,S=L(S,te,"0"),te+1>w){if(--W>0)for(S+=".";W--;S+="0");}else if(W+=te-w,W>0)for(te+1==w&&(S+=".");W--;S+="0");return j.s<0&&ee?"-"+S:S}function he(j,W){for(var U,Q=1,ee=new $(j[0]);Q<j.length;Q++)if(U=new $(j[Q]),U.s)W.call(ee,U)&&(ee=U);else{ee=U;break}return ee}function ue(j,W,U){for(var Q=1,ee=W.length;!W[--ee];W.pop());for(ee=W[0];ee>=10;ee/=10,Q++);return(U=Q+U*f-1)>H?j.c=j.e=null:U<N?j.c=[j.e=0]:(j.e=U,j.c=W),j}P=function(){var j=/^(-?)0([xbo])(?=\w[\w.]*$)/i,W=/^([^.]+)\.$/,U=/^\.([^.]+)$/,Q=/^-?(Infinity|NaN)$/,ee=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(te,B,w,S){var I,q=w?B:B.replace(ee,"");if(Q.test(q))te.s=isNaN(q)?null:q<0?-1:1;else{if(!w&&(q=q.replace(j,function(Y,se,me){return I=(me=me.toLowerCase())=="x"?16:me=="b"?2:8,!S||S==I?se:Y}),S&&(I=S,q=q.replace(W,"$1").replace(U,"0.$1")),B!=q))return new $(q,I);if($.DEBUG)throw Error(a+"Not a"+(S?" base "+S:"")+" number: "+B);te.s=null}te.c=te.e=null}}();function fe(j,W,U,Q){var ee,te,B,w,S,I,q,Y=j.c,se=h;if(Y){e:{for(ee=1,w=Y[0];w>=10;w/=10,ee++);if(te=W-ee,te<0)te+=f,B=W,S=Y[I=0],q=S/se[ee-B-1]%10|0;else if(I=i((te+1)/f),I>=Y.length)if(Q){for(;Y.length<=I;Y.push(0));S=q=0,ee=1,te%=f,B=te-f+1}else break e;else{for(S=w=Y[I],ee=1;w>=10;w/=10,ee++);te%=f,B=te-f+ee,q=B<0?0:S/se[ee-B-1]%10|0}if(Q=Q||W<0||Y[I+1]!=null||(B<0?S:S%se[ee-B-1]),Q=U<4?(q||Q)&&(U==0||U==(j.s<0?3:2)):q>5||q==5&&(U==4||Q||U==6&&(te>0?B>0?S/se[ee-B]:0:Y[I-1])%10&1||U==(j.s<0?8:7)),W<1||!Y[0])return Y.length=0,Q?(W-=j.e+1,Y[0]=se[(f-W%f)%f],j.e=-W||0):Y[0]=j.e=0,j;if(te==0?(Y.length=I,w=1,I--):(Y.length=I+1,w=se[f-te],Y[I]=B>0?s(S/se[ee-B]%se[B])*w:0),Q)for(;;)if(I==0){for(te=1,B=Y[0];B>=10;B/=10,te++);for(B=Y[0]+=w,w=1;B>=10;B/=10,w++);te!=w&&(j.e++,Y[0]==u&&(Y[0]=1));break}else{if(Y[I]+=w,Y[I]!=u)break;Y[I--]=0,w=1}for(te=Y.length;Y[--te]===0;Y.pop());}j.e>H?j.c=j.e=null:j.e<N&&(j.c=[j.e=0])}return j}function ce(j){var W,U=j.e;return U===null?j.toString():(W=y(j.c),W=U<=T||U>=O?k(W,U):L(W,U,"0"),j.s<0?"-"+W:W)}return M.absoluteValue=M.abs=function(){var j=new $(this);return j.s<0&&(j.s=1),j},M.comparedTo=function(j,W){return b(this,new $(j,W))},M.decimalPlaces=M.dp=function(j,W){var U,Q,ee,te=this;if(j!=null)return A(j,0,d),W==null?W=E:A(W,0,8),fe(new $(te),j+te.e+1,W);if(!(U=te.c))return null;if(Q=((ee=U.length-1)-v(this.e/f))*f,ee=U[ee])for(;ee%10==0;ee/=10,Q--);return Q<0&&(Q=0),Q},M.dividedBy=M.div=function(j,W){return F(this,new $(j,W),m,E)},M.dividedToIntegerBy=M.idiv=function(j,W){return F(this,new $(j,W),0,1)},M.exponentiatedBy=M.pow=function(j,W){var U,Q,ee,te,B,w,S,I,q,Y=this;if(j=new $(j),j.c&&!j.isInteger())throw Error(a+"Exponent not an integer: "+ce(j));if(W!=null&&(W=new $(W)),w=j.e>14,!Y.c||!Y.c[0]||Y.c[0]==1&&!Y.e&&Y.c.length==1||!j.c||!j.c[0])return q=new $(Math.pow(+ce(Y),w?j.s*(2-D(j)):+ce(j))),W?q.mod(W):q;if(S=j.s<0,W){if(W.c?!W.c[0]:!W.s)return new $(NaN);Q=!S&&Y.isInteger()&&W.isInteger(),Q&&(Y=Y.mod(W))}else{if(j.e>9&&(Y.e>0||Y.e<-1||(Y.e==0?Y.c[0]>1||w&&Y.c[1]>=24e7:Y.c[0]<8e13||w&&Y.c[0]<=9999975e7)))return te=Y.s<0&&D(j)?-0:0,Y.e>-1&&(te=1/te),new $(S?1/te:te);x&&(te=i(x/f+2))}for(w?(U=new $(.5),S&&(j.s=1),I=D(j)):(ee=Math.abs(+ce(j)),I=ee%2),q=new $(C);;){if(I){if(q=q.times(Y),!q.c)break;te?q.c.length>te&&(q.c.length=te):Q&&(q=q.mod(W))}if(ee){if(ee=s(ee/2),ee===0)break;I=ee%2}else if(j=j.times(U),fe(j,j.e+1,1),j.e>14)I=D(j);else{if(ee=+ce(j),ee===0)break;I=ee%2}Y=Y.times(Y),te?Y.c&&Y.c.length>te&&(Y.c.length=te):Q&&(Y=Y.mod(W))}return Q?q:(S&&(q=C.div(q)),W?q.mod(W):te?fe(q,x,E,B):q)},M.integerValue=function(j){var W=new $(this);return j==null?j=E:A(j,0,8),fe(W,W.e+1,j)},M.isEqualTo=M.eq=function(j,W){return b(this,new $(j,W))===0},M.isFinite=function(){return!!this.c},M.isGreaterThan=M.gt=function(j,W){return b(this,new $(j,W))>0},M.isGreaterThanOrEqualTo=M.gte=function(j,W){return(W=b(this,new $(j,W)))===1||W===0},M.isInteger=function(){return!!this.c&&v(this.e/f)>this.c.length-2},M.isLessThan=M.lt=function(j,W){return b(this,new $(j,W))<0},M.isLessThanOrEqualTo=M.lte=function(j,W){return(W=b(this,new $(j,W)))===-1||W===0},M.isNaN=function(){return!this.s},M.isNegative=function(){return this.s<0},M.isPositive=function(){return this.s>0},M.isZero=function(){return!!this.c&&this.c[0]==0},M.minus=function(j,W){var U,Q,ee,te,B=this,w=B.s;if(j=new $(j,W),W=j.s,!w||!W)return new $(NaN);if(w!=W)return j.s=-W,B.plus(j);var S=B.e/f,I=j.e/f,q=B.c,Y=j.c;if(!S||!I){if(!q||!Y)return q?(j.s=-W,j):new $(Y?B:NaN);if(!q[0]||!Y[0])return Y[0]?(j.s=-W,j):new $(q[0]?B:E==3?-0:0)}if(S=v(S),I=v(I),q=q.slice(),w=S-I){for((te=w<0)?(w=-w,ee=q):(I=S,ee=Y),ee.reverse(),W=w;W--;ee.push(0));ee.reverse()}else for(Q=(te=(w=q.length)<(W=Y.length))?w:W,w=W=0;W<Q;W++)if(q[W]!=Y[W]){te=q[W]<Y[W];break}if(te&&(ee=q,q=Y,Y=ee,j.s=-j.s),W=(Q=Y.length)-(U=q.length),W>0)for(;W--;q[U++]=0);for(W=u-1;Q>w;){if(q[--Q]<Y[Q]){for(U=Q;U&&!q[--U];q[U]=W);--q[U],q[Q]+=u}q[Q]-=Y[Q]}for(;q[0]==0;q.splice(0,1),--I);return q[0]?ue(j,q,I):(j.s=E==3?-1:1,j.c=[j.e=0],j)},M.modulo=M.mod=function(j,W){var U,Q,ee=this;return j=new $(j,W),!ee.c||!j.s||j.c&&!j.c[0]?new $(NaN):!j.c||ee.c&&!ee.c[0]?new $(ee):(K==9?(Q=j.s,j.s=1,U=F(ee,j,0,3),j.s=Q,U.s*=Q):U=F(ee,j,0,K),j=ee.minus(U.times(j)),!j.c[0]&&K==1&&(j.s=ee.s),j)},M.multipliedBy=M.times=function(j,W){var U,Q,ee,te,B,w,S,I,q,Y,se,me,ge,X,ne,ie=this,le=ie.c,xe=(j=new $(j,W)).c;if(!le||!xe||!le[0]||!xe[0])return!ie.s||!j.s||le&&!le[0]&&!xe||xe&&!xe[0]&&!le?j.c=j.e=j.s=null:(j.s*=ie.s,!le||!xe?j.c=j.e=null:(j.c=[0],j.e=0)),j;for(Q=v(ie.e/f)+v(j.e/f),j.s*=ie.s,S=le.length,Y=xe.length,S<Y&&(ge=le,le=xe,xe=ge,ee=S,S=Y,Y=ee),ee=S+Y,ge=[];ee--;ge.push(0));for(X=u,ne=c,ee=Y;--ee>=0;){for(U=0,se=xe[ee]%ne,me=xe[ee]/ne|0,B=S,te=ee+B;te>ee;)I=le[--B]%ne,q=le[B]/ne|0,w=me*I+q*se,I=se*I+w%ne*ne+ge[te]+U,U=(I/X|0)+(w/ne|0)+me*q,ge[te--]=I%X;ge[te]=U}return U?++Q:ge.splice(0,1),ue(j,ge,Q)},M.negated=function(){var j=new $(this);return j.s=-j.s||null,j},M.plus=function(j,W){var U,Q=this,ee=Q.s;if(j=new $(j,W),W=j.s,!ee||!W)return new $(NaN);if(ee!=W)return j.s=-W,Q.minus(j);var te=Q.e/f,B=j.e/f,w=Q.c,S=j.c;if(!te||!B){if(!w||!S)return new $(ee/0);if(!w[0]||!S[0])return S[0]?j:new $(w[0]?Q:ee*0)}if(te=v(te),B=v(B),w=w.slice(),ee=te-B){for(ee>0?(B=te,U=S):(ee=-ee,U=w),U.reverse();ee--;U.push(0));U.reverse()}for(ee=w.length,W=S.length,ee-W<0&&(U=S,S=w,w=U,W=ee),ee=0;W;)ee=(w[--W]=w[W]+S[W]+ee)/u|0,w[W]=u===w[W]?0:w[W]%u;return ee&&(w=[ee].concat(w),++B),ue(j,w,B)},M.precision=M.sd=function(j,W){var U,Q,ee,te=this;if(j!=null&&j!==!!j)return A(j,1,d),W==null?W=E:A(W,0,8),fe(new $(te),j,W);if(!(U=te.c))return null;if(ee=U.length-1,Q=ee*f+1,ee=U[ee]){for(;ee%10==0;ee/=10,Q--);for(ee=U[0];ee>=10;ee/=10,Q++);}return j&&te.e+1>Q&&(Q=te.e+1),Q},M.shiftedBy=function(j){return A(j,-l,l),this.times("1e"+j)},M.squareRoot=M.sqrt=function(){var j,W,U,Q,ee,te=this,B=te.c,w=te.s,S=te.e,I=m+4,q=new $("0.5");if(w!==1||!B||!B[0])return new $(!w||w<0&&(!B||B[0])?NaN:B?te:1/0);if(w=Math.sqrt(+ce(te)),w==0||w==1/0?(W=y(B),(W.length+S)%2==0&&(W+="0"),w=Math.sqrt(+W),S=v((S+1)/2)-(S<0||S%2),w==1/0?W="5e"+S:(W=w.toExponential(),W=W.slice(0,W.indexOf("e")+1)+S),U=new $(W)):U=new $(w+""),U.c[0]){for(S=U.e,w=S+I,w<3&&(w=0);;)if(ee=U,U=q.times(ee.plus(F(te,ee,I,1))),y(ee.c).slice(0,w)===(W=y(U.c)).slice(0,w))if(U.e<S&&--w,W=W.slice(w-3,w+1),W=="9999"||!Q&&W=="4999"){if(!Q&&(fe(ee,ee.e+m+2,0),ee.times(ee).eq(te))){U=ee;break}I+=4,w+=4,Q=1}else{(!+W||!+W.slice(1)&&W.charAt(0)=="5")&&(fe(U,U.e+m+2,1),j=!U.times(U).eq(te));break}}return fe(U,U.e+m+1,E,j)},M.toExponential=function(j,W){return j!=null&&(A(j,0,d),j++),ae(this,j,W,1)},M.toFixed=function(j,W){return j!=null&&(A(j,0,d),j=j+this.e+1),ae(this,j,W)},M.toFormat=function(j,W,U){var Q,ee=this;if(U==null)j!=null&&W&&typeof W=="object"?(U=W,W=null):j&&typeof j=="object"?(U=j,j=W=null):U=V;else if(typeof U!="object")throw Error(a+"Argument not an object: "+U);if(Q=ee.toFixed(j,W),ee.c){var te,B=Q.split("."),w=+U.groupSize,S=+U.secondaryGroupSize,I=U.groupSeparator||"",q=B[0],Y=B[1],se=ee.s<0,me=se?q.slice(1):q,ge=me.length;if(S&&(te=w,w=S,S=te,ge-=te),w>0&&ge>0){for(te=ge%w||w,q=me.substr(0,te);te<ge;te+=w)q+=I+me.substr(te,w);S>0&&(q+=I+me.slice(te)),se&&(q="-"+q)}Q=Y?q+(U.decimalSeparator||"")+((S=+U.fractionGroupSize)?Y.replace(new RegExp("\\d{"+S+"}\\B","g"),"$&"+(U.fractionGroupSeparator||"")):Y):q}return(U.prefix||"")+Q+(U.suffix||"")},M.toFraction=function(j){var W,U,Q,ee,te,B,w,S,I,q,Y,se,me=this,ge=me.c;if(j!=null&&(w=new $(j),!w.isInteger()&&(w.c||w.s!==1)||w.lt(C)))throw Error(a+"Argument "+(w.isInteger()?"out of range: ":"not an integer: ")+ce(w));if(!ge)return new $(me);for(W=new $(C),I=U=new $(C),Q=S=new $(C),se=y(ge),te=W.e=se.length-me.e-1,W.c[0]=h[(B=te%f)<0?f+B:B],j=!j||w.comparedTo(W)>0?te>0?W:I:w,B=H,H=1/0,w=new $(se),S.c[0]=0;q=F(w,W,0,1),ee=U.plus(q.times(Q)),ee.comparedTo(j)!=1;)U=Q,Q=ee,I=S.plus(q.times(ee=I)),S=ee,W=w.minus(q.times(ee=W)),w=ee;return ee=F(j.minus(U),Q,0,1),S=S.plus(ee.times(I)),U=U.plus(ee.times(Q)),S.s=I.s=me.s,te=te*2,Y=F(I,Q,te,E).minus(me).abs().comparedTo(F(S,U,te,E).minus(me).abs())<1?[I,Q]:[S,U],H=B,Y},M.toNumber=function(){return+ce(this)},M.toPrecision=function(j,W){return j!=null&&A(j,1,d),ae(this,j,W,2)},M.toString=function(j){var W,U=this,Q=U.s,ee=U.e;return ee===null?Q?(W="Infinity",Q<0&&(W="-"+W)):W="NaN":(j==null?W=ee<=T||ee>=O?k(y(U.c),ee):L(y(U.c),ee,"0"):j===10&&G?(U=fe(new $(U),m+ee+1,E),W=L(y(U.c),U.e,"0")):(A(j,2,z.length,"Base"),W=R(L(y(U.c),ee,"0"),10,j,Q,!0)),Q<0&&U.c[0]&&(W="-"+W)),W},M.valueOf=M.toJSON=function(){return ce(this)},M._isBigNumber=!0,_!=null&&$.set(_),$}function v(_){var F=_|0;return _>0||_===F?F:F-1}function y(_){for(var F,R,P=1,M=_.length,C=_[0]+"";P<M;){for(F=_[P++]+"",R=f-F.length;R--;F="0"+F);C+=F}for(M=C.length;C.charCodeAt(--M)===48;);return C.slice(0,M+1||1)}function b(_,F){var R,P,M=_.c,C=F.c,m=_.s,E=F.s,T=_.e,O=F.e;if(!m||!E)return null;if(R=M&&!M[0],P=C&&!C[0],R||P)return R?P?0:-E:m;if(m!=E)return m;if(R=m<0,P=T==O,!M||!C)return P?0:!M^R?1:-1;if(!P)return T>O^R?1:-1;for(E=(T=M.length)<(O=C.length)?T:O,m=0;m<E;m++)if(M[m]!=C[m])return M[m]>C[m]^R?1:-1;return T==O?0:T>O^R?1:-1}function A(_,F,R,P){if(_<F||_>R||_!==s(_))throw Error(a+(P||"Argument")+(typeof _=="number"?_<F||_>R?" out of range: ":" not an integer: ":" not a primitive number: ")+String(_))}function D(_){var F=_.c.length-1;return v(_.e/f)==F&&_.c[F]%2!=0}function k(_,F){return(_.length>1?_.charAt(0)+"."+_.slice(1):_)+(F<0?"e":"e+")+F}function L(_,F,R){var P,M;if(F<0){for(M=R+".";++F;M+=R);_=M+_}else if(P=_.length,++F>P){for(M=R,F-=P;--F;M+=R);_+=M}else F<P&&(_=_.slice(0,F)+"."+_.slice(F));return _}r=p(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})(we)})(x6),Object.defineProperty(Ef,"__esModule",{value:!0});const S6=Af;class E6{constructor(){this.BigNum=(t,r)=>{let n=S6.BigNumber.clone({DECIMAL_PLACES:r});return new n(t)}}winstonToAr(t,{formatted:r=!1,decimals:n=12,trim:i=!0}={}){let s=this.stringToBigNum(t,n).shiftedBy(-12);return r?s.toFormat(n):s.toFixed(n)}arToWinston(t,{formatted:r=!1}={}){let n=this.stringToBigNum(t).shiftedBy(12);return r?n.toFormat():n.toFixed(0)}compare(t,r){let n=this.stringToBigNum(t),i=this.stringToBigNum(r);return n.comparedTo(i)}isEqual(t,r){return this.compare(t,r)===0}isLessThan(t,r){let n=this.stringToBigNum(t),i=this.stringToBigNum(r);return n.isLessThan(i)}isGreaterThan(t,r){let n=this.stringToBigNum(t),i=this.stringToBigNum(r);return n.isGreaterThan(i)}add(t,r){let n=this.stringToBigNum(t);return this.stringToBigNum(r),n.plus(r).toFixed(0)}sub(t,r){let n=this.stringToBigNum(t);return this.stringToBigNum(r),n.minus(r).toFixed(0)}stringToBigNum(t,r=12){return this.BigNum(t,r)}}Ef.default=E6;var _f={};Object.defineProperty(_f,"__esModule",{value:!0});class A6{constructor(t){this.METHOD_GET="GET",this.METHOD_POST="POST",this.applyConfig(t)}applyConfig(t){this.config=this.mergeDefaults(t)}getConfig(){return this.config}mergeDefaults(t){const r=t.protocol||"http",n=t.port||(r==="https"?443:80);return{host:t.host||"127.0.0.1",protocol:r,port:n,timeout:t.timeout||2e4,logging:t.logging||!1,logger:t.logger||console.log,network:t.network}}async get(t,r){return await this.request(t,{...r,method:this.METHOD_GET})}async post(t,r,n){const i=new Headers((n==null?void 0:n.headers)||{});return i.append("content-type","application/json"),i.append("accept","application/json, text/plain, */*"),await this.request(t,{...n,method:this.METHOD_POST,body:JSON.stringify(r),headers:i})}async request(t,r){const n=new Headers((r==null?void 0:r.headers)||{}),i=`${this.config.protocol}://${this.config.host}:${this.config.port}`;t.startsWith("/")&&(t=t.replace("/","")),this.config.network&&n.append("x-network",this.config.network),this.config.logging&&this.config.logger(`Requesting: ${i}/${t}`);let s=await fetch(`${i}/${t}`,{...r||{},headers:n});this.config.logging&&this.config.logger(`Response:   ${s.url} - ${s.status}`);const a=s.headers.get("content-type"),o=s;if(a!=null&&a.startsWith("application/json"))o.data=await s.clone().json();else try{o.data=await s.clone().text()}catch{o.data=await s.clone().arrayBuffer()}return o}}_f.default=A6;var Tf={},_i={},_6=we&&we.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),T6=we&&we.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),P6=we&&we.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_6(t,e,r);return T6(t,e),t};Object.defineProperty(_i,"__esModule",{value:!0}),_i.jwkTopem=_i.pemTojwk=void 0;const sn=P6(Zr);function F6(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Pf(e){return F6(Buffer.from(e,"hex").toString("base64"))}var X0=sn.define("RSAPublicKey",function(){this.seq().obj(this.key("n").int(),this.key("e").int())}),Z0=sn.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}),I6=sn.define("PublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Z0),this.key("publicKey").bitstr())}),Q0=sn.define("Version",function(){this.int({0:"two-prime",1:"multi"})}),C6=sn.define("OtherPrimeInfos",function(){this.seq().obj(this.key("ri").int(),this.key("di").int(),this.key("ti").int())}),ep=sn.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").use(Q0),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int(),this.key("other").optional().use(C6))}),O6=sn.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").use(Q0),this.key("algorithm").use(Z0),this.key("privateKey").bitstr())});function tp(e,t){return t=t||{},Object.keys(t).forEach(function(r){e[r]=t[r]}),e}function Ff(e){return e.length%2===1?"0"+e:e}function rp(e,t){var r=X0.decode(e,"der"),n=Ff(r.e.toString(16)),i={kty:"RSA",n:xn(r.n),e:Pf(n)};return tp(i,t)}function np(e,t){var r=ep.decode(e,"der"),n=Ff(r.e.toString(16)),i={kty:"RSA",n:xn(r.n),e:Pf(n),d:xn(r.d),p:xn(r.p),q:xn(r.q),dp:xn(r.dp),dq:xn(r.dq),qi:xn(r.qi)};return tp(i,t)}function R6(e,t){var r=I6.decode(e,"der");return rp(r.publicKey.data,t)}function D6(e,t){var r=O6.decode(e,"der");return np(r.privateKey.data,t)}function M6(e){var t=/^-----BEGIN (RSA )?(PUBLIC|PRIVATE) KEY-----$/.exec(e);if(!t)return null;var r=!!t[1],n=t[2]==="PRIVATE";return n?r?np:D6:r?rp:R6}function B6(e){return{n:Sn(e.n),e:Sn(e.e),d:e.d&&Sn(e.d),p:e.p&&Sn(e.p),q:e.q&&Sn(e.q),dp:e.dp&&Sn(e.dp),dq:e.dq&&Sn(e.dq),qi:e.qi&&Sn(e.qi)}}function xn(e){return Pf(Ff(e.toString(16)))}function N6(e){return new sn.bignum(Buffer.from(e,"base64"))}function Sn(e){return/^[0-9]+$/.test(e)?new sn.bignum(e,10):N6(e)}function k6(e,t){var r=e.toString().split(/(\r\n|\r|\n)+/g);r=r.filter(function(i){return i.trim().length!==0});var n=M6(r[0]);return r=r.slice(1,-1).join(""),n(Buffer.from(r.replace(/[^\w\d\+\/=]+/g,""),"base64"),t)}_i.pemTojwk=k6;function j6(e){var t=B6(e),r=!!t.d,n=r?"PRIVATE":"PUBLIC",i="-----BEGIN RSA "+n+` KEY-----
`,s=`
-----END RSA `+n+` KEY-----
`,a=Buffer.alloc(0);r?(t.version="two-prime",a=ep.encode(t,"der")):a=X0.encode(t,"der");var o=a.toString("base64").match(/.{1,64}/g).join(`
`);return i+o+s}_i.jwkTopem=j6;var L6=we&&we.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),V6=we&&we.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),H6=we&&we.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&L6(t,e,r);return V6(t,e),t};Object.defineProperty(Tf,"__esModule",{value:!0});const ip=_i,wr=H6(xu);class U6{constructor(){this.keyLength=4096,this.publicExponent=65537,this.hashAlgorithm="sha256",this.encryptionAlgorithm="aes-256-cbc"}generateJWK(){if(typeof wr.generateKeyPair!="function")throw new Error("Keypair generation not supported in this version of Node, only supported in versions 10+");return new Promise((t,r)=>{wr.generateKeyPair("rsa",{modulusLength:this.keyLength,publicExponent:this.publicExponent,privateKeyEncoding:{type:"pkcs1",format:"pem"},publicKeyEncoding:{type:"pkcs1",format:"pem"}},(n,i,s)=>{n&&r(n),t(this.pemToJWK(s))})})}sign(t,r,{saltLength:n}={}){return new Promise((i,s)=>{i(wr.createSign(this.hashAlgorithm).update(r).sign({key:this.jwkToPem(t),padding:wr.constants.RSA_PKCS1_PSS_PADDING,saltLength:n}))})}verify(t,r,n){return new Promise((i,s)=>{const a={kty:"RSA",e:"AQAB",n:t},o=this.jwkToPem(a);i(wr.createVerify(this.hashAlgorithm).update(r).verify({key:o,padding:wr.constants.RSA_PKCS1_PSS_PADDING},n))})}hash(t,r="SHA-256"){return new Promise((n,i)=>{n(wr.createHash(this.parseHashAlgorithm(r)).update(t).digest())})}async encrypt(t,r,n){const i=wr.pbkdf2Sync(r,n=n||"salt",1e5,32,this.hashAlgorithm),s=wr.randomBytes(16),a=wr.createCipheriv(this.encryptionAlgorithm,i,s);return Buffer.concat([s,a.update(t),a.final()])}async decrypt(t,r,n){try{const i=wr.pbkdf2Sync(r,n=n||"salt",1e5,32,this.hashAlgorithm),s=t.slice(0,16),a=t.slice(16),o=wr.createDecipheriv(this.encryptionAlgorithm,i,s);return Buffer.concat([o.update(a),o.final()])}catch{throw new Error("Failed to decrypt")}}jwkToPem(t){return(0,ip.jwkTopem)(t)}pemToJWK(t){return(0,ip.pemTojwk)(t)}parseHashAlgorithm(t){switch(t){case"SHA-256":return"sha256";case"SHA-384":return"sha384";default:throw new Error(`Algorithm not supported: ${t}`)}}}Tf.default=U6;var If={};Object.defineProperty(If,"__esModule",{value:!0});class q6{constructor(t){this.api=t}getInfo(){return this.api.get("info").then(t=>t.data)}getPeers(){return this.api.get("peers").then(t=>t.data)}}If.default=q6;var Da={},En={};Object.defineProperty(En,"__esModule",{value:!0}),En.getError=void 0;class K6 extends Error{constructor(t,r={}){r.message?super(r.message):super(),this.type=t,this.response=r.response}getType(){return this.type}}En.default=K6;function z6(e){let t=e.data;if(typeof e.data=="string")try{t=JSON.parse(e.data)}catch{}if(e.data instanceof ArrayBuffer||e.data instanceof Uint8Array)try{t=JSON.parse(t.toString())}catch{}return t?t.error||t:e.statusText||"unknown"}En.getError=z6;var Ti={},Qe={},$6=we&&we.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),W6=we&&we.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),G6=we&&we.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$6(t,e,r);return W6(t,e),t};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.b64UrlDecode=Qe.b64UrlEncode=Qe.bufferTob64Url=Qe.bufferTob64=Qe.b64UrlToBuffer=Qe.stringToB64Url=Qe.stringToBuffer=Qe.bufferToString=Qe.b64UrlToString=Qe.concatBuffers=void 0;const sp=G6(Wi);function J6(e){let t=0;for(let i=0;i<e.length;i++)t+=e[i].byteLength;let r=new Uint8Array(t),n=0;r.set(new Uint8Array(e[0]),n),n+=e[0].byteLength;for(let i=1;i<e.length;i++)r.set(new Uint8Array(e[i]),n),n+=e[i].byteLength;return r}Qe.concatBuffers=J6;function Y6(e){let t=up(e);return ap(t)}Qe.b64UrlToString=Y6;function ap(e){if(typeof TextDecoder>"u"){const t=Ho().TextDecoder;return new t("utf-8",{fatal:!0}).decode(e)}return new TextDecoder("utf-8",{fatal:!0}).decode(e)}Qe.bufferToString=ap;function op(e){if(typeof TextEncoder>"u"){const t=Ho().TextEncoder;return new t().encode(e)}return new TextEncoder().encode(e)}Qe.stringToBuffer=op;function X6(e){return cp(op(e))}Qe.stringToB64Url=X6;function up(e){return new Uint8Array(sp.toByteArray(hp(e)))}Qe.b64UrlToBuffer=up;function fp(e){return sp.fromByteArray(new Uint8Array(e))}Qe.bufferTob64=fp;function cp(e){return lp(fp(e))}Qe.bufferTob64Url=cp;function lp(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}Qe.b64UrlEncode=lp;function hp(e){e=e.replace(/\-/g,"+").replace(/\_/g,"/");let t;return e.length%4==0?t=0:t=4-e.length%4,e.concat("=".repeat(t))}Qe.b64UrlDecode=hp;var Ma={},dp;function Z6(){if(dp)return Ma;dp=1;var e=we&&we.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ma,"__esModule",{value:!0});const t=e(Bf());async function r(i){if(Array.isArray(i)){const o=t.default.utils.concatBuffers([t.default.utils.stringToBuffer("list"),t.default.utils.stringToBuffer(i.length.toString())]);return await n(i,await t.default.crypto.hash(o,"SHA-384"))}const s=t.default.utils.concatBuffers([t.default.utils.stringToBuffer("blob"),t.default.utils.stringToBuffer(i.byteLength.toString())]),a=t.default.utils.concatBuffers([await t.default.crypto.hash(s,"SHA-384"),await t.default.crypto.hash(i,"SHA-384")]);return await t.default.crypto.hash(a,"SHA-384")}Ma.default=r;async function n(i,s){if(i.length<1)return s;const a=t.default.utils.concatBuffers([s,await r(i[0])]),o=await t.default.crypto.hash(a,"SHA-384");return await n(i.slice(1),o)}return Ma}var Cf={},pp;function vp(){return pp||(pp=1,function(e){var t=we&&we.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.validatePath=e.arrayCompare=e.bufferToInt=e.intToBuffer=e.arrayFlatten=e.generateProofs=e.buildLayers=e.generateTransactionChunks=e.generateTree=e.computeRootHash=e.generateLeaves=e.chunkData=e.MIN_CHUNK_SIZE=e.MAX_CHUNK_SIZE=void 0;const r=t(Bf()),n=Qe;e.MAX_CHUNK_SIZE=256*1024,e.MIN_CHUNK_SIZE=32*1024;const i=32,s=32;async function a(_){let F=[],R=_,P=0;for(;R.byteLength>=e.MAX_CHUNK_SIZE;){let M=e.MAX_CHUNK_SIZE,C=R.byteLength-e.MAX_CHUNK_SIZE;C>0&&C<e.MIN_CHUNK_SIZE&&(M=Math.ceil(R.byteLength/2));const m=R.slice(0,M),E=await r.default.crypto.hash(m);P+=m.byteLength,F.push({dataHash:E,minByteRange:P-m.byteLength,maxByteRange:P}),R=R.slice(M)}return F.push({dataHash:await r.default.crypto.hash(R),minByteRange:P,maxByteRange:P+R.byteLength}),F}e.chunkData=a;async function o(_){return Promise.all(_.map(async({dataHash:F,minByteRange:R,maxByteRange:P})=>({type:"leaf",id:await y(await Promise.all([y(F),y(b(P))])),dataHash:F,minByteRange:R,maxByteRange:P})))}e.generateLeaves=o;async function u(_){return(await f(_)).id}e.computeRootHash=u;async function f(_){return await h(await o(await a(_)))}e.generateTree=f;async function l(_){const F=await a(_),R=await o(F),P=await h(R),M=await c(P),C=F.slice(-1)[0];return C.maxByteRange-C.minByteRange===0&&(F.splice(F.length-1,1),M.splice(M.length-1,1)),{data_root:P.id,chunks:F,proofs:M}}e.generateTransactionChunks=l;async function h(_,F=0){if(_.length<2)return _[0];const R=[];for(let P=0;P<_.length;P+=2)R.push(await v(_[P],_[P+1]));return h(R,F+1)}e.buildLayers=h;function c(_){const F=d(_);return Array.isArray(F)?p(F):[F]}e.generateProofs=c;function d(_,F=new Uint8Array,R=0){if(_.type=="leaf")return{offset:_.maxByteRange-1,proof:(0,n.concatBuffers)([F,_.dataHash,b(_.maxByteRange)])};if(_.type=="branch"){const P=(0,n.concatBuffers)([F,_.leftChild.id,_.rightChild.id,b(_.byteRange)]);return[d(_.leftChild,P,R+1),d(_.rightChild,P,R+1)]}throw new Error("Unexpected node type")}function p(_){const F=[];return _.forEach(R=>{Array.isArray(R)?F.push(...p(R)):F.push(R)}),F}e.arrayFlatten=p;async function v(_,F){return F?{type:"branch",id:await y([await y(_.id),await y(F.id),await y(b(_.maxByteRange))]),byteRange:_.maxByteRange,maxByteRange:F.maxByteRange,leftChild:_,rightChild:F}:_}async function y(_){return Array.isArray(_)&&(_=r.default.utils.concatBuffers(_)),new Uint8Array(await r.default.crypto.hash(_))}function b(_){const F=new Uint8Array(i);for(var R=F.length-1;R>=0;R--){var P=_%256;F[R]=P,_=(_-P)/256}return F}e.intToBuffer=b;function A(_){let F=0;for(var R=0;R<_.length;R++)F*=256,F+=_[R];return F}e.bufferToInt=A;const D=(_,F)=>_.every((R,P)=>F[P]===R);e.arrayCompare=D;async function k(_,F,R,P,M){if(P<=0)return!1;if(F>=P)return k(_,0,P-1,P,M);if(F<0)return k(_,0,0,P,M);if(M.length==s+i){const H=M.slice(0,s),Z=M.slice(H.length,H.length+i),K=await y([await y(H),await y(Z)]);return(0,e.arrayCompare)(_,K)?{offset:P-1,leftBound:R,rightBound:P,chunkSize:P-R}:!1}const C=M.slice(0,s),m=M.slice(C.length,C.length+s),E=M.slice(C.length+m.length,C.length+m.length+i),T=A(E),O=M.slice(C.length+m.length+E.length),N=await y([await y(C),await y(m),await y(E)]);return(0,e.arrayCompare)(_,N)?F<T?await k(C,F,R,Math.min(P,T),O):await k(m,F,Math.max(R,T),P,O):!1}e.validatePath=k;async function L(_,F=""){if(_.byteLength<1)return F;const R=_.slice(0,s),P=_.slice(R.length,R.length+s),M=_.slice(R.length+P.length,R.length+P.length+i),C=A(M),m=_.slice(R.length+P.length+M.length),E=await y([await y(R),await y(P),await y(M)]),T=`${F}
${JSON.stringify(Buffer.from(R))},${JSON.stringify(Buffer.from(P))},${C} => ${JSON.stringify(E)}`;return L(m,T)}e.debug=L}(Cf)),Cf}var gp;function Of(){if(gp)return Ti;gp=1;var e=we&&we.__createBinding||(Object.create?function(l,h,c,d){d===void 0&&(d=c);var p=Object.getOwnPropertyDescriptor(h,c);(!p||("get"in p?!h.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return h[c]}}),Object.defineProperty(l,d,p)}:function(l,h,c,d){d===void 0&&(d=c),l[d]=h[c]}),t=we&&we.__setModuleDefault||(Object.create?function(l,h){Object.defineProperty(l,"default",{enumerable:!0,value:h})}:function(l,h){l.default=h}),r=we&&we.__importStar||function(l){if(l&&l.__esModule)return l;var h={};if(l!=null)for(var c in l)c!=="default"&&Object.prototype.hasOwnProperty.call(l,c)&&e(h,l,c);return t(h,l),h},n=we&&we.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.Tag=void 0;const i=r(Qe),s=n(Z6()),a=vp();class o{get(h,c){if(!Object.getOwnPropertyNames(this).includes(h))throw new Error(`Field "${h}" is not a property of the Arweave Transaction class.`);return this[h]instanceof Uint8Array?c&&c.decode&&c.string?i.bufferToString(this[h]):c&&c.decode&&!c.string?this[h]:i.bufferTob64Url(this[h]):c&&c.decode==!0?c&&c.string?i.b64UrlToString(this[h]):i.b64UrlToBuffer(this[h]):this[h]}}class u extends o{constructor(h,c,d=!1){super(),this.name=h,this.value=c}}Ti.Tag=u;class f extends o{constructor(h={}){super(),this.format=2,this.id="",this.last_tx="",this.owner="",this.tags=[],this.target="",this.quantity="0",this.data_size="0",this.data=new Uint8Array,this.data_root="",this.reward="0",this.signature="",Object.assign(this,h),typeof this.data=="string"&&(this.data=i.b64UrlToBuffer(this.data)),h.tags&&(this.tags=h.tags.map(c=>new u(c.name,c.value)))}addTag(h,c){this.tags.push(new u(i.stringToB64Url(h),i.stringToB64Url(c)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:i.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(h){this.owner=h}setSignature({id:h,owner:c,reward:d,tags:p,signature:v}){this.id=h,this.owner=c,d&&(this.reward=d),p&&(this.tags=p),this.signature=v}async prepareChunks(h){!this.chunks&&h.byteLength>0&&(this.chunks=await(0,a.generateTransactionChunks)(h),this.data_root=i.bufferTob64Url(this.chunks.data_root)),!this.chunks&&h.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(h,c){if(!this.chunks)throw new Error("Chunks have not been prepared");const d=this.chunks.proofs[h],p=this.chunks.chunks[h];return{data_root:this.data_root,data_size:this.data_size,data_path:i.bufferTob64Url(d.proof),offset:d.offset.toString(),chunk:i.bufferTob64Url(c.slice(p.minByteRange,p.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let h=this.tags.reduce((d,p)=>i.concatBuffers([d,p.get("name",{decode:!0,string:!1}),p.get("value",{decode:!0,string:!1})]),new Uint8Array);return i.concatBuffers([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),i.stringToBuffer(this.quantity),i.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),h]);case 2:this.data_root||await this.prepareChunks(this.data);const c=this.tags.map(d=>[d.get("name",{decode:!0,string:!1}),d.get("value",{decode:!0,string:!1})]);return await(0,s.default)([i.stringToBuffer(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),i.stringToBuffer(this.quantity),i.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),c,i.stringToBuffer(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}}return Ti.default=f,Ti}var ls={},mp;function Q6(){if(mp)return ls;mp=1;var e=we&&we.__createBinding||(Object.create?function(c,d,p,v){v===void 0&&(v=p);var y=Object.getOwnPropertyDescriptor(d,p);(!y||("get"in y?!d.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(c,v,y)}:function(c,d,p,v){v===void 0&&(v=p),c[v]=d[p]}),t=we&&we.__setModuleDefault||(Object.create?function(c,d){Object.defineProperty(c,"default",{enumerable:!0,value:d})}:function(c,d){c.default=d}),r=we&&we.__importStar||function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var p in c)p!=="default"&&Object.prototype.hasOwnProperty.call(c,p)&&e(d,c,p);return t(d,c),d},n=we&&we.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(ls,"__esModule",{value:!0}),ls.TransactionUploader=void 0;const i=n(Of()),s=r(Qe),a=En,o=vp(),u=1,f=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],l=1e3*40;class h{get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}constructor(d,p){if(this.api=d,this.chunkIndex=0,this.txPosted=!1,this.lastRequestTimeEnd=0,this.totalErrors=0,this.lastResponseStatus=0,this.lastResponseError="",!p.id)throw new Error("Transaction is not signed");if(!p.chunks)throw new Error("Transaction chunks not prepared");this.data=p.data,this.transaction=new i.default(Object.assign({},p,{data:new Uint8Array(0)}))}async uploadChunk(d){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let p=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+l-Date.now(),l);if(p>0&&(p=p-p*Math.random()*.3,await new Promise(A=>setTimeout(A,p))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}d&&(this.chunkIndex=d);const v=this.transaction.getChunk(d||this.chunkIndex,this.data);if(!await(0,o.validatePath)(this.transaction.chunks.data_root,parseInt(v.offset),0,parseInt(v.data_size),s.b64UrlToBuffer(v.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const b=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(A=>(console.error(A.message),{status:-1,data:{error:A.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=b.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=(0,a.getError)(b),f.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(d,p,v){if(!p||typeof p.chunkIndex!="number"||typeof p.transaction!="object")throw new Error("Serialized object does not match expected format.");var y=new i.default(p.transaction);y.chunks||await y.prepareChunks(v);const b=new h(d,y);if(b.chunkIndex=p.chunkIndex,b.lastRequestTimeEnd=p.lastRequestTimeEnd,b.lastResponseError=p.lastResponseError,b.lastResponseStatus=p.lastResponseStatus,b.txPosted=p.txPosted,b.data=v,b.transaction.data_root!==p.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return b}static async fromTransactionId(d,p){const v=await d.get(`tx/${p}`);if(v.status!==200)throw new Error(`Tx ${p} not found: ${v.status}`);const y=v.data;return y.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:y}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=u){this.transaction.data=this.data;const v=await this.api.post("tx",this.transaction).catch(y=>(console.error(y),{status:-1,data:{error:y.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=v.status,this.transaction.data=new Uint8Array(0),v.status>=200&&v.status<300){this.txPosted=!0,this.chunkIndex=u;return}throw this.lastResponseError=(0,a.getError)(v),new Error(`Unable to upload transaction: ${v.status}, ${this.lastResponseError}`)}const p=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=p.status,!(p.status>=200&&p.status<300))throw this.lastResponseError=(0,a.getError)(p),new Error(`Unable to upload transaction: ${p.status}, ${this.lastResponseError}`);this.txPosted=!0}}return ls.TransactionUploader=h,ls}var yp;function ex(){if(yp)return Da;yp=1;var e=we&&we.__createBinding||(Object.create?function(f,l,h,c){c===void 0&&(c=h);var d=Object.getOwnPropertyDescriptor(l,h);(!d||("get"in d?!l.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return l[h]}}),Object.defineProperty(f,c,d)}:function(f,l,h,c){c===void 0&&(c=h),f[c]=l[h]}),t=we&&we.__setModuleDefault||(Object.create?function(f,l){Object.defineProperty(f,"default",{enumerable:!0,value:l})}:function(f,l){f.default=l}),r=we&&we.__importStar||function(f){if(f&&f.__esModule)return f;var l={};if(f!=null)for(var h in f)h!=="default"&&Object.prototype.hasOwnProperty.call(f,h)&&e(l,f,h);return t(l,f),l},n=we&&we.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Da,"__esModule",{value:!0});const i=n(En),s=n(Of()),a=r(Qe),o=Q6();class u{constructor(l,h,c){this.api=l,this.crypto=h,this.chunks=c}getTransactionAnchor(){return this.api.get("tx_anchor").then(l=>l.data)}getPrice(l,h){let c=h?`price/${l}/${h}`:`price/${l}`;return this.api.get(c).then(d=>d.data)}async get(l){const h=await this.api.get(`tx/${l}`);if(h.status==200){const c=parseInt(h.data.data_size);if(h.data.format>=2&&c>0&&c<=1024*1024*12){const d=await this.getData(l);return new s.default({...h.data,data:d})}return new s.default({...h.data,format:h.data.format||1})}throw h.status==404?new i.default("TX_NOT_FOUND"):h.status==410?new i.default("TX_FAILED"):new i.default("TX_INVALID")}fromRaw(l){return new s.default(l)}async search(l,h){return this.api.post("arql",{op:"equals",expr1:l,expr2:h}).then(c=>c.data?c.data:[])}getStatus(l){return this.api.get(`tx/${l}/status`).then(h=>h.status==200?{status:200,confirmed:h.data}:{status:h.status,confirmed:null})}async getData(l,h){let c;try{c=await this.chunks.downloadChunkedData(l)}catch(d){console.error(`Error while trying to download chunked data for ${l}`),console.error(d)}if(!c){console.warn(`Falling back to gateway cache for ${l}`);try{c=(await this.api.get(`/${l}`)).data}catch(d){console.error(`Error while trying to download contiguous data from gateway cache for ${l}`),console.error(d)}}if(!c)throw new Error(`${l} was not found!`);return h&&h.decode&&!h.string?c:h&&h.decode&&h.string?a.bufferToString(c):a.bufferTob64Url(c)}async sign(l,h,c){if(!h&&typeof arweaveWallet!="object")throw new Error("A new Arweave transaction must provide the jwk parameter.");if(!h||h==="use_wallet"){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}const d=await arweaveWallet.sign(l,c);l.setSignature({id:d.id,owner:d.owner,reward:d.reward,tags:d.tags,signature:d.signature})}else{l.setOwner(h.n);let d=await l.getSignatureData(),p=await this.crypto.sign(h,d,c),v=await this.crypto.hash(p);l.setSignature({id:a.bufferTob64Url(v),owner:h.n,signature:a.bufferTob64Url(p)})}}async verify(l){const h=await l.getSignatureData(),c=l.get("signature",{decode:!0,string:!1}),d=a.bufferTob64Url(await this.crypto.hash(c));if(l.id!==d)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(l.owner,h,c)}async post(l){if(typeof l=="string"?l=new s.default(JSON.parse(l)):typeof l.readInt32BE=="function"?l=new s.default(JSON.parse(l.toString())):typeof l=="object"&&!(l instanceof s.default)&&(l=new s.default(l)),!(l instanceof s.default))throw new Error("Must be Transaction object");l.chunks||await l.prepareChunks(l.data);const h=await this.getUploader(l,l.data);try{for(;!h.isComplete;)await h.uploadChunk()}catch(c){if(h.lastResponseStatus>0)return{status:h.lastResponseStatus,statusText:h.lastResponseError,data:{error:h.lastResponseError}};throw c}return{status:200,statusText:"OK",data:{}}}async getUploader(l,h){let c;if(h instanceof ArrayBuffer&&(h=new Uint8Array(h)),l instanceof s.default){if(h||(h=l.data),!(h instanceof Uint8Array))throw new Error("Data format is invalid");l.chunks||await l.prepareChunks(h),c=new o.TransactionUploader(this.api,l),(!c.data||c.data.length===0)&&(c.data=h)}else{if(typeof l=="string"&&(l=await o.TransactionUploader.fromTransactionId(this.api,l)),!h||!(h instanceof Uint8Array))throw new Error("Must provide data when resuming upload");c=await o.TransactionUploader.fromSerialized(this.api,l,h)}return c}async*upload(l,h){const c=await this.getUploader(l,h);for(;!c.isComplete;)await c.uploadChunk(),yield c;return c}}return Da.default=u,Da}var Rf={},tx=we&&we.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rx=we&&we.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nx=we&&we.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&tx(t,e,r);return rx(t,e),t};Object.defineProperty(Rf,"__esModule",{value:!0});const bp=nx(Qe);class ix{constructor(t,r){this.api=t,this.crypto=r}getBalance(t){return this.api.get(`wallet/${t}/balance`).then(r=>r.data)}getLastTransactionID(t){return this.api.get(`wallet/${t}/last_tx`).then(r=>r.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(t){return!t||t==="use_wallet"?this.getAddress():this.getAddress(t)}async getAddress(t){if(!t||t==="use_wallet"){try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}else return this.ownerToAddress(t.n)}async ownerToAddress(t){return bp.bufferTob64Url(await this.crypto.hash(bp.b64UrlToBuffer(t)))}}Rf.default=ix;var hs={},sx=we&&we.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ax=we&&we.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ox=we&&we.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&sx(t,e,r);return ax(t,e),t};Object.defineProperty(hs,"__esModule",{value:!0}),hs.SiloResource=void 0;const wp=ox(Qe);class ux{constructor(t,r,n){this.api=t,this.crypto=r,this.transactions=n}async get(t){if(!t)throw new Error("No Silo URI specified");const r=await this.parseUri(t),n=await this.transactions.search("Silo-Name",r.getAccessKey());if(n.length==0)throw new Error(`No data could be found for the Silo URI: ${t}`);const i=await this.transactions.get(n[0]);if(!i)throw new Error(`No data could be found for the Silo URI: ${t}`);const s=i.get("data",{decode:!0,string:!1});return this.crypto.decrypt(s,r.getEncryptionKey())}async readTransactionData(t,r){if(!r)throw new Error("No Silo URI specified");const n=await this.parseUri(r),i=t.get("data",{decode:!0,string:!1});return this.crypto.decrypt(i,n.getEncryptionKey())}async parseUri(t){const r=t.match(/^([a-z0-9-_]+)\.([0-9]+)/i);if(!r)throw new Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");const n=r[1],i=Math.pow(2,parseInt(r[2])),s=await this.hash(wp.stringToBuffer(n),i),a=wp.bufferTob64(s.slice(0,15)),o=await this.hash(s.slice(16,31),1);return new xp(t,a,o)}async hash(t,r){let n=await this.crypto.hash(t);for(let i=0;i<r-1;i++)n=await this.crypto.hash(n);return n}}hs.default=ux;class xp{constructor(t,r,n){this.uri=t,this.accessKey=r,this.encryptionKey=n}getUri(){return this.uri}getAccessKey(){return this.accessKey}getEncryptionKey(){return this.encryptionKey}}hs.SiloResource=xp;var Df={},fx=we&&we.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cx=we&&we.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lx=we&&we.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&fx(t,e,r);return cx(t,e),t};Object.defineProperty(Df,"__esModule",{value:!0});const Sp=En,hx=lx(Qe);class dx{constructor(t){this.api=t}async getTransactionOffset(t){const r=await this.api.get(`tx/${t}/offset`);if(r.status===200)return r.data;throw new Error(`Unable to get transaction offset: ${(0,Sp.getError)(r)}`)}async getChunk(t){const r=await this.api.get(`chunk/${t}`);if(r.status===200)return r.data;throw new Error(`Unable to get chunk: ${(0,Sp.getError)(r)}`)}async getChunkData(t){const r=await this.getChunk(t);return hx.b64UrlToBuffer(r.chunk)}firstChunkOffset(t){return parseInt(t.offset)-parseInt(t.size)+1}async downloadChunkedData(t){const r=await this.getTransactionOffset(t),n=parseInt(r.size),s=parseInt(r.offset)-n+1,a=new Uint8Array(n);let o=0;for(;o<n;){this.api.config.logging&&console.log(`[chunk] ${o}/${n}`);let u;try{u=await this.getChunkData(s+o)}catch{console.error(`[chunk] Failed to fetch chunk at offset ${s+o}`),console.error("[chunk] This could indicate that the chunk wasn't uploaded or hasn't yet seeded properly to a particular gateway/node")}if(u)a.set(u,o),o+=u.length;else throw new Error(`Couldn't complete data download at ${o}/${n}`)}return a}}Df.default=dx;var Mf={},px=we&&we.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mf,"__esModule",{value:!0});const vx=px(En);class Ba{constructor(t,r){this.api=t,this.network=r}async get(t){const r=await this.api.get(`${Ba.ENDPOINT}${t}`);if(r.status===200)return r.data;throw r.status===404?new vx.default("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getCurrent(){const{current:t}=await this.network.getInfo();return await this.get(t)}}Mf.default=Ba,Ba.ENDPOINT="block/hash/";var Ep;function Bf(){if(Ep)return Ra;Ep=1;var e=we&&we.__createBinding||(Object.create?function(y,b,A,D){D===void 0&&(D=A);var k=Object.getOwnPropertyDescriptor(b,A);(!k||("get"in k?!b.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return b[A]}}),Object.defineProperty(y,D,k)}:function(y,b,A,D){D===void 0&&(D=A),y[D]=b[A]}),t=we&&we.__setModuleDefault||(Object.create?function(y,b){Object.defineProperty(y,"default",{enumerable:!0,value:b})}:function(y,b){y.default=b}),r=we&&we.__importStar||function(y){if(y&&y.__esModule)return y;var b={};if(y!=null)for(var A in y)A!=="default"&&Object.prototype.hasOwnProperty.call(y,A)&&e(b,y,A);return t(b,y),b},n=we&&we.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(Ra,"__esModule",{value:!0});const i=n(Ef),s=n(_f),a=n(Tf),o=n(If),u=n(ex()),f=n(Rf),l=n(Of()),h=r(Qe),c=n(hs),d=n(Df),p=n(Mf);class v{constructor(b){this.api=new s.default(b),this.wallets=new f.default(this.api,v.crypto),this.chunks=new d.default(this.api),this.transactions=new u.default(this.api,v.crypto,this.chunks),this.silo=new c.default(this.api,this.crypto,this.transactions),this.network=new o.default(this.api),this.blocks=new p.default(this.api,this.network),this.ar=new i.default}get crypto(){return v.crypto}get utils(){return v.utils}getConfig(){return{api:this.api.getConfig(),crypto:null}}async createTransaction(b,A){const D={};if(Object.assign(D,b),!b.data&&!(b.target&&b.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(b.owner==null&&A&&A!=="use_wallet"&&(D.owner=A.n),b.last_tx==null&&(D.last_tx=await this.transactions.getTransactionAnchor()),typeof b.data=="string"&&(b.data=h.stringToBuffer(b.data)),b.data instanceof ArrayBuffer&&(b.data=new Uint8Array(b.data)),b.data&&!(b.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(b.reward==null){const L=b.data?b.data.byteLength:0;D.reward=await this.transactions.getPrice(L,D.target)}D.data_root="",D.data_size=b.data?b.data.byteLength.toString():"0",D.data=b.data||new Uint8Array(0);const k=new l.default(D);return await k.getSignatureData(),k}async createSiloTransaction(b,A,D){const k={};if(Object.assign(k,b),!b.data)throw new Error("Silo transactions must have a 'data' value");if(!D)throw new Error("No Silo URI specified.");if(b.target||b.quantity)throw new Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");if(b.owner==null){if(!A||!A.n)throw new Error("A new Arweave transaction must either have an 'owner' attribute, or you must provide the jwk parameter.");k.owner=A.n}b.last_tx==null&&(k.last_tx=await this.transactions.getTransactionAnchor());const L=await this.silo.parseUri(D);if(typeof b.data=="string"){const F=await this.crypto.encrypt(h.stringToBuffer(b.data),L.getEncryptionKey());k.reward=await this.transactions.getPrice(F.byteLength),k.data=h.bufferTob64Url(F)}if(b.data instanceof Uint8Array){const F=await this.crypto.encrypt(b.data,L.getEncryptionKey());k.reward=await this.transactions.getPrice(F.byteLength),k.data=h.bufferTob64Url(F)}const _=new l.default(k);return _.addTag("Silo-Name",L.getAccessKey()),_.addTag("Silo-Version","0.1.0"),_}arql(b){return this.api.post("/arql",b).then(A=>A.data||[])}}return Ra.default=v,v.crypto=new a.default,v.utils=h,Ra}var gx=Bf();const mx=wg(gx);function Ap(){const[e,t]=oe.useState(0),{state:r}=qt();return oe.useEffect(()=>{(async()=>{var s;if(!r.activeAddress)return;const n=new mx(((s=r==null?void 0:r.config)==null?void 0:s.gatewayConfig)||{host:"arweave.net",port:443,protocol:"https"}),i=n.ar.winstonToAr(await n.wallets.getBalance(r.activeAddress));t(Number(i))})()},[r==null?void 0:r.activeAddress]),e}function yx(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var bx=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Nf=yx(function(e){return bx.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),wx=function(){const t=Array.prototype.slice.call(arguments).filter(Boolean),r={},n=[];t.forEach(s=>{(s?s.split(" "):[]).forEach(o=>{if(o.startsWith("atm_")){const[,u]=o.split("_");r[u]=o}else n.push(o)})});const i=[];for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&i.push(r[s]);return i.push(...n),i.join(" ")},_p=wx,xx=e=>e.toUpperCase()===e,Sx=e=>t=>e.indexOf(t)===-1,Tp=(e,t)=>{const r={};return Object.keys(e).filter(Sx(t)).forEach(n=>{r[n]=e[n]}),r};function Ex(e,t,r){const n=Tp(t,r);if(!e){const i=typeof Nf=="function"?{default:Nf}:Nf;Object.keys(n).forEach(s=>{i.default(s)||delete n[s]})}return n}var Ax=(e,t)=>{if(process.env.NODE_ENV!=="production"){if(typeof e=="string"||typeof e=="number"&&isFinite(e))return;const r=typeof e=="object"?JSON.stringify(e):String(e);console.warn(`An interpolation evaluated to '${r}' in the component '${t}', which is probably a mistake. You should explicitly cast or transform the value to a string.`)}},_x=0;function Pp(e){var t;let r=`mocked-styled-${_x++}`;return(t=e==null?void 0:e.__linaria)!=null&&t.className&&(r+=` ${e.__linaria.className}`),n=>{if(process.env.NODE_ENV!=="production"&&process.env.NODE_ENV!=="test"&&Array.isArray(n))throw new Error('Using the "styled" tag in runtime is not supported. Make sure you have set up the Babel plugin correctly. See https://github.com/callstack/linaria#setup');const i=(a,o)=>{const{as:u=e,class:f=r}=a,l=n.propsAsIs===void 0?!(typeof u=="string"&&u.indexOf("-")===-1&&!xx(u[0])):n.propsAsIs,h=Ex(l,a,["as","class"]);h.ref=o,h.className=n.atomic?_p(n.class,h.className||f):_p(h.className||f,n.class);const{vars:c}=n;if(c){const d={};for(const y in c){const b=c[y],A=b[0],D=b[1]||"",k=typeof A=="function"?A(a):A;Ax(k,n.name),d[`--${y}`]=`${k}${D}`}const p=h.style||{},v=Object.keys(p);v.length>0&&v.forEach(y=>{d[y]=p[y]}),h.style=d}return e.__linaria&&e!==u?(h.as=u,oe.createElement(e,h)):oe.createElement(u,h)},s=oe.forwardRef?oe.forwardRef(i):a=>{const o=Tp(a,["innerRef"]);return i(o,a.innerRef)};return s.displayName=n.name,s.__linaria={className:n.class||r,extends:e},s}}var Ve=process.env.NODE_ENV!=="production"?new Proxy(Pp,{get(e,t){return e(t)}}):Pp;function kf(){var r;const{state:e}=qt();return oe.useMemo(()=>{var i;const n=(i=e==null?void 0:e.config)==null?void 0:i.gatewayConfig;return n?`${n.protocol}://${n.host}:${n.port}`:"https://arweave.net"},[(r=e==null?void 0:e.config)==null?void 0:r.gatewayConfig])}function Fp(){const[e,t]=oe.useState(),r=ss(),n=kf();return oe.useEffect(()=>{(async()=>{if(!r)return t(void 0);const s=await(await fetch(`https://ans-stats.decent.land/profile/${r}`)).json();if(!(s!=null&&s.currentLabel))return t(void 0);t({...s,currentLabel:s.currentLabel+".ar",avatar:s.avatar?`${n}/${s.avatar}`:void 0})})()},[r,n]),e}const B_="",Tx=()=>e=>e.theme.theme,Px=()=>e=>({default:30,minimal:6,none:0})[e.theme.themeConfig.radius]+"px",Fx=()=>e=>e.theme.displayTheme==="light"?`0px 0px 2px rgba(${e.theme.displayTheme==="light"?"0, 0, 0":"255, 255, 255"}, .15), 0px 4px 7px rgba(${e.theme.displayTheme==="light"?"0, 0, 0":"255, 255, 255"}, .1)`:"none",An=It(Ve("button")({name:"Button",class:"b1cb9caz",propsAsIs:!1,vars:{"b1cb9caz-0":[Tx()],"b1cb9caz-1":[Px()],"b1cb9caz-2":[Fx()]}})),N_="";function Ix({accent:e,showBalance:t=!0,showProfilePicture:r=!0,onClick:n,useAns:i=!0,profileModal:s=!0,...a}){const{connected:o,connect:u,disconnect:f}=Oa(),l=ss(),h=Ap(),c=Fp(),d=Y0();return Pe(Dx,{accent:e,onClick:async p=>{if(o?s?d.setOpen(!0):await f():await u(),n)return n(p)},...a,children:o&&Je(fs,{children:[t&&Pe(jx,{children:h.toLocaleString(void 0,{maximumFractionDigits:2})+" AR"}),Je(kx,{showBalance:t,children:[r&&Pe(fs,{children:(c==null?void 0:c.avatar)&&i&&Pe(Hx,{src:c==null?void 0:c.avatar,draggable:!1})||Pe(Kx,{children:Pe(Ux,{})})}),i&&(c==null?void 0:c.currentLabel)||sh(l||"",5),Pe(Lx,{})]})]})||Pe(Mx,{children:"Connect Wallet"})})}const Cx=()=>An,Ox=()=>e=>({default:18,minimal:10,none:0})[e.theme.themeConfig.radius]+"px",Rx=()=>e=>e.accent||`rgb(${e.theme.theme})`,Dx=It(Ve(Cx())({name:"Wrapper",class:"w14emrir",propsAsIs:!0,vars:{"w14emrir-0":[Ox()],"w14emrir-1":[Rx()]}})),Mx=Ve("span")({name:"ConnectText",class:"czh4f0e",propsAsIs:!1}),Bx=()=>e=>e.showBalance?e.theme.background:"transparent",Nx=()=>e=>({default:18,minimal:10,none:0})[e.theme.themeConfig.radius]-3+"px",kx=It(Ve("div")({name:"ProfileSection",class:"pwkn5es",propsAsIs:!1,vars:{"pwkn5es-0":[Bx()],"pwkn5es-1":[Nx()]}})),jx=Ve("span")({name:"Balance",class:"bdt02oh",propsAsIs:!1}),Lx=Ve((()=>D5)())({name:"ExpandIcon",class:"e3hlv71",propsAsIs:!0}),Vx=()=>e=>({default:"100%",minimal:"5px",none:"0px"})[e.theme.themeConfig.radius],Hx=It(Ve("img")({name:"Avatar",class:"a1jsmwxp",propsAsIs:!1,vars:{"a1jsmwxp-0":[Vx()]}})),Ux=Ve((()=>M0)())({name:"AvatarIcon",class:"as6ir6f",propsAsIs:!0}),qx=()=>e=>({default:"100%",minimal:"5px",none:"0px"})[e.theme.themeConfig.radius],Kx=It(Ve("span")({name:"AvatarPlaceholder",class:"av7js2i",propsAsIs:!1,vars:{"av7js2i-0":[qx()]}})),zx="1.0.1-beta.0";function $x(e=720){const[t,r]=oe.useState(!1),n=oe.useMemo(()=>typeof window>"u"?null:window.matchMedia(`(max-width: ${e}px)`),[e]);return oe.useEffect(()=>{if(!n)return;const i=s=>r(s.matches);return n.addEventListener("change",i),r(n.matches),()=>n.removeEventListener("change",i)},[n]),t}const jf=oe.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Na=oe.createContext({});function Wx(){return oe.useContext(Na).visualElement}const ds=oe.createContext(null),ka=typeof document<"u",ja=ka?oe.useLayoutEffect:oe.useEffect,Ip=oe.createContext({strict:!1});function Gx(e,t,r,n){const i=Wx(),s=oe.useContext(Ip),a=oe.useContext(ds),o=oe.useContext(jf).reducedMotion,u=oe.useRef();n=n||s.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceId:a?a.id:void 0,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const f=u.current;return ja(()=>{f&&f.render()}),ja(()=>{f&&f.animationState&&f.animationState.animateChanges()}),f}function Pi(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Jx(e,t,r){return oe.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Pi(r)&&(r.current=n))},[t])}function ps(e){return typeof e=="string"||Array.isArray(e)}function La(e){return typeof e=="object"&&typeof e.start=="function"}const Yx=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function Va(e){return La(e.animate)||Yx.some(t=>ps(e[t]))}function Cp(e){return Boolean(Va(e)||e.variants)}function Xx(e,t){if(Va(e)){const{initial:r,animate:n}=e;return{initial:r===!1||ps(r)?r:void 0,animate:ps(n)?n:void 0}}return e.inherit!==!1?t:{}}function Zx(e){const{initial:t,animate:r}=Xx(e,oe.useContext(Na));return oe.useMemo(()=>({initial:t,animate:r}),[Op(t),Op(r)])}function Op(e){return Array.isArray(e)?e.join(" "):e}const an=e=>({isEnabled:t=>e.some(r=>!!t[r])}),vs={measureLayout:an(["layout","layoutId","drag"]),animation:an(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:an(["exit"]),drag:an(["drag","dragControls"]),focus:an(["whileFocus"]),hover:an(["whileHover","onHoverStart","onHoverEnd"]),tap:an(["whileTap","onTap","onTapStart","onTapCancel"]),pan:an(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:an(["whileInView","onViewportEnter","onViewportLeave"])};function Qx(e){for(const t in e)t==="projectionNodeConstructor"?vs.projectionNodeConstructor=e[t]:vs[t].Component=e[t]}function Ha(e){const t=oe.useRef(null);return t.current===null&&(t.current=e()),t.current}const gs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let e8=1;function t8(){return Ha(()=>{if(gs.hasEverUpdated)return e8++})}const Lf=oe.createContext({});class r8 extends oe.Component{getSnapshotBeforeUpdate(){const{visualElement:t,props:r}=this.props;return t&&t.setProps(r),null}componentDidUpdate(){}render(){return this.props.children}}const Rp=oe.createContext({}),n8=Symbol.for("motionComponentSymbol");function i8({preloadedFeatures:e,createVisualElement:t,projectionNodeConstructor:r,useRender:n,useVisualState:i,Component:s}){e&&Qx(e);function a(u,f){const l={...oe.useContext(jf),...u,layoutId:s8(u)},{isStatic:h}=l;let c=null;const d=Zx(u),p=h?void 0:t8(),v=i(u,h);if(!h&&ka){d.visualElement=Gx(s,v,l,t);const y=oe.useContext(Ip).strict,b=oe.useContext(Rp);d.visualElement&&(c=d.visualElement.loadFeatures(l,y,e,p,r||vs.projectionNodeConstructor,b))}return qe.createElement(r8,{visualElement:d.visualElement,props:l},c,qe.createElement(Na.Provider,{value:d},n(s,u,p,Jx(v,d.visualElement,f),v,h,d.visualElement)))}const o=oe.forwardRef(a);return o[n8]=s,o}function s8({layoutId:e}){const t=oe.useContext(Lf).id;return t&&e!==void 0?t+"-"+e:e}function a8(e){function t(n,i={}){return i8(e(n,i))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,i)=>(r.has(i)||r.set(i,t(i)),r.get(i))})}const o8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vf(e){return typeof e!="string"||e.includes("-")?!1:!!(o8.indexOf(e)>-1||/[A-Z]/.test(e))}const Ua={};function u8(e){Object.assign(Ua,e)}const qa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qn=new Set(qa);function Dp(e,{layout:t,layoutId:r}){return qn.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Ua[e]||e==="opacity")}const xr=e=>!!(e!=null&&e.getVelocity),f8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},c8=(e,t)=>qa.indexOf(e)-qa.indexOf(t);function l8({transform:e,transformKeys:t},{enableHardwareAcceleration:r=!0,allowTransformNone:n=!0},i,s){let a="";t.sort(c8);for(const o of t)a+=`${f8[o]||o}(${e[o]}) `;return r&&!e.z&&(a+="translateZ(0)"),a=a.trim(),s?a=s(e,i?"":a):n&&i&&(a="none"),a}function Mp(e){return e.startsWith("--")}const h8=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Fi=(e,t,r)=>Math.min(Math.max(r,e),t),Kn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ms={...Kn,transform:e=>Fi(0,1,e)},Ka={...Kn,default:1},ys=e=>Math.round(e*1e5)/1e5,bs=/(-)?([\d]*\.?[\d])+/g,Hf=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,d8=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ws(e){return typeof e=="string"}const xs=e=>({test:t=>ws(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_n=xs("deg"),Gr=xs("%"),Oe=xs("px"),p8=xs("vh"),v8=xs("vw"),Bp={...Gr,parse:e=>Gr.parse(e)/100,transform:e=>Gr.transform(e*100)},Np={...Kn,transform:Math.round},kp={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,size:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,rotate:_n,rotateX:_n,rotateY:_n,rotateZ:_n,scale:Ka,scaleX:Ka,scaleY:Ka,scaleZ:Ka,skew:_n,skewX:_n,skewY:_n,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:ms,originX:Bp,originY:Bp,originZ:Oe,zIndex:Np,fillOpacity:ms,strokeOpacity:ms,numOctaves:Np};function Uf(e,t,r,n){const{style:i,vars:s,transform:a,transformKeys:o,transformOrigin:u}=e;o.length=0;let f=!1,l=!1,h=!0;for(const c in t){const d=t[c];if(Mp(c)){s[c]=d;continue}const p=kp[c],v=h8(d,p);if(qn.has(c)){if(f=!0,a[c]=v,o.push(c),!h)continue;d!==(p.default||0)&&(h=!1)}else c.startsWith("origin")?(l=!0,u[c]=v):i[c]=v}if(t.transform||(f||n?i.transform=l8(e,r,h,n):i.transform&&(i.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:p=0}=u;i.transformOrigin=`${c} ${d} ${p}`}}const qf=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function jp(e,t,r){for(const n in t)!xr(t[n])&&!Dp(n,r)&&(e[n]=t[n])}function g8({transformTemplate:e},t,r){return oe.useMemo(()=>{const n=qf();return Uf(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function m8(e,t,r){const n=e.style||{},i={};return jp(i,n,e),Object.assign(i,g8(e,t,r)),e.transformValues?e.transformValues(i):i}function y8(e,t,r){const n={},i=m8(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),n.style=i,n}const b8=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],w8=["whileTap","onTap","onTapStart","onTapCancel"],x8=["onPan","onPanStart","onPanSessionStart","onPanEnd"],S8=["whileInView","onViewportEnter","onViewportLeave","viewport"],E8=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",...S8,...w8,...b8,...x8]);function za(e){return E8.has(e)}let Lp=e=>!za(e);function A8(e){e&&(Lp=t=>t.startsWith("on")?!za(t):e(t))}try{A8(require("@emotion/is-prop-valid").default)}catch{}function _8(e,t,r){const n={};for(const i in e)(Lp(i)||r===!0&&za(i)||!t&&!za(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function Vp(e,t,r){return typeof e=="string"?e:Oe.transform(t+r*e)}function T8(e,t,r){const n=Vp(t,e.x,e.width),i=Vp(r,e.y,e.height);return`${n} ${i}`}const P8={offset:"stroke-dashoffset",array:"stroke-dasharray"},F8={offset:"strokeDashoffset",array:"strokeDasharray"};function I8(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?P8:F8;e[s.offset]=Oe.transform(-n);const a=Oe.transform(t),o=Oe.transform(r);e[s.array]=`${a} ${o}`}function Kf(e,{attrX:t,attrY:r,originX:n,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:o=0,...u},f,l,h){if(Uf(e,u,f,h),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:c,style:d,dimensions:p}=e;c.transform&&(p&&(d.transform=c.transform),delete c.transform),p&&(n!==void 0||i!==void 0||d.transform)&&(d.transformOrigin=T8(p,n!==void 0?n:.5,i!==void 0?i:.5)),t!==void 0&&(c.x=t),r!==void 0&&(c.y=r),s!==void 0&&I8(c,s,a,o,!1)}const Hp=()=>({...qf(),attrs:{}}),zf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function C8(e,t,r,n){const i=oe.useMemo(()=>{const s=Hp();return Kf(s,t,{enableHardwareAcceleration:!1},zf(n),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};jp(s,e.style,e),i.style={...s,...i.style}}return i}function O8(e=!1){return(r,n,i,s,{latestValues:a},o)=>{const f=(Vf(r)?C8:y8)(n,a,o,r),h={..._8(n,typeof r=="string",e),...f,ref:s};return i&&(h["data-projection-id"]=i),oe.createElement(r,h)}}const $f=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Up(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const s in r)e.style.setProperty(s,r[s])}const qp=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Kp(e,t,r,n){Up(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(qp.has(i)?i:$f(i),t.attrs[i])}function Wf(e,t){const{style:r}=e,n={};for(const i in r)(xr(r[i])||t.style&&xr(t.style[i])||Dp(i,e))&&(n[i]=r[i]);return n}function zp(e,t){const r=Wf(e,t);for(const n in e)if(xr(e[n])||xr(t[n])){const i=n==="x"||n==="y"?"attr"+n.toUpperCase():n;r[i]=e[n]}return r}function Gf(e,t,r,n={},i={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,i)),t}const $a=e=>Array.isArray(e),R8=e=>Boolean(e&&typeof e=="object"&&e.mix&&e.toValue),D8=e=>$a(e)?e[e.length-1]||0:e;function Wa(e){const t=xr(e)?e.get():e;return R8(t)?t.toValue():t}function M8({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,i,s){const a={latestValues:B8(n,i,s,e),renderState:t()};return r&&(a.mount=o=>r(n,o,a)),a}const $p=e=>(t,r)=>{const n=oe.useContext(Na),i=oe.useContext(ds),s=()=>M8(e,t,n,i);return r?s():Ha(s)};function B8(e,t,r,n){const i={},s=n(e,{});for(const c in s)i[c]=Wa(s[c]);let{initial:a,animate:o}=e;const u=Va(e),f=Cp(e);t&&f&&!u&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let l=r?r.initial===!1:!1;l=l||a===!1;const h=l?o:a;return h&&typeof h!="boolean"&&!La(h)&&(Array.isArray(h)?h:[h]).forEach(d=>{const p=Gf(e,d);if(!p)return;const{transitionEnd:v,transition:y,...b}=p;for(const A in b){let D=b[A];if(Array.isArray(D)){const k=l?D.length-1:0;D=D[k]}D!==null&&(i[A]=D)}for(const A in v)i[A]=v[A]}),i}const N8={useVisualState:$p({scrapeMotionValuesFromProps:zp,createRenderState:Hp,onMount:(e,t,{renderState:r,latestValues:n})=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}Kf(r,n,{enableHardwareAcceleration:!1},zf(t.tagName),e.transformTemplate),Kp(t,r)}})},k8={useVisualState:$p({scrapeMotionValuesFromProps:Wf,createRenderState:qf})};function j8(e,{forwardMotionProps:t=!1},r,n,i){return{...Vf(e)?N8:k8,preloadedFeatures:r,useRender:O8(t),createVisualElement:n,projectionNodeConstructor:i,Component:e}}var rt;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"})(rt||(rt={}));function Ga(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Jf(e,t,r,n){oe.useEffect(()=>{const i=e.current;if(r&&i)return Ga(i,t,r,n)},[e,t,r,n])}function L8({whileFocus:e,visualElement:t}){const{animationState:r}=t,n=()=>{r&&r.setActive(rt.Focus,!0)},i=()=>{r&&r.setActive(rt.Focus,!1)};Jf(t,"focus",e?n:void 0),Jf(t,"blur",e?i:void 0)}const Wp=e=>e.isPrimary!==!1;function Yf(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Gp=e=>t=>Wp(t)&&e(t,Yf(t));function Ii(e,t,r,n){return Ga(e,t,Gp(r),n)}function Ja(e,t,r,n){return Jf(e,t,r&&Gp(r),n)}function Jp(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const Yp=Jp("dragHorizontal"),Xp=Jp("dragVertical");function Zp(e){let t=!1;if(e==="y")t=Xp();else if(e==="x")t=Yp();else{const r=Yp(),n=Xp();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function Qp(){const e=Zp(!0);return e?(e(),!1):!0}function V8(e){return e.type!=="pen"&&e.type!=="touch"}function e1(e,t,r){return(n,i)=>{!V8(n)||Qp()||(e.animationState&&e.animationState.setActive(rt.Hover,t),r&&r(n,i))}}function H8({onHoverStart:e,onHoverEnd:t,whileHover:r,visualElement:n}){Ja(n,"pointerenter",e||r?e1(n,!0,e):void 0,{passive:!e}),Ja(n,"pointerleave",t||r?e1(n,!1,t):void 0,{passive:!t})}const t1=(e,t)=>t?e===t?!0:t1(e,t.parentElement):!1;function Xf(e){return oe.useEffect(()=>()=>e(),[])}const U8=(e,t)=>r=>t(e(r)),Ya=(...e)=>e.reduce(U8);function q8({onTap:e,onTapStart:t,onTapCancel:r,whileTap:n,visualElement:i}){const s=e||t||r||n,a=oe.useRef(!1),o=oe.useRef(null),u={passive:!(t||e||r||d)};function f(){o.current&&o.current(),o.current=null}function l(){return f(),a.current=!1,i.animationState&&i.animationState.setActive(rt.Tap,!1),!Qp()}function h(p,v){l()&&(t1(i.current,p.target)?e&&e(p,v):r&&r(p,v))}function c(p,v){l()&&r&&r(p,v)}function d(p,v){f(),!a.current&&(a.current=!0,o.current=Ya(Ii(window,"pointerup",h,u),Ii(window,"pointercancel",c,u)),i.animationState&&i.animationState.setActive(rt.Tap,!0),t&&t(p,v))}Ja(i,"pointerdown",s?d:void 0,u),Xf(f)}const r1=new Set;function Xa(e,t,r){e||r1.has(t)||(console.warn(t),r&&console.warn(r),r1.add(t))}const Zf=new WeakMap,Qf=new WeakMap,K8=e=>{const t=Zf.get(e.target);t&&t(e)},z8=e=>{e.forEach(K8)};function $8({root:e,...t}){const r=e||document;Qf.has(r)||Qf.set(r,{});const n=Qf.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(z8,{root:e,...t})),n[i]}function W8(e,t,r){const n=$8(t);return Zf.set(e,r),n.observe(e),()=>{Zf.delete(e),n.unobserve(e)}}function G8({visualElement:e,whileInView:t,onViewportEnter:r,onViewportLeave:n,viewport:i={}}){const s=oe.useRef({hasEnteredView:!1,isInView:!1});let a=Boolean(t||r||n);i.once&&s.current.hasEnteredView&&(a=!1),(typeof IntersectionObserver>"u"?X8:Y8)(a,s.current,e,i)}const J8={some:0,all:1};function Y8(e,t,r,{root:n,margin:i,amount:s="some",once:a}){oe.useEffect(()=>{if(!e||!r.current)return;const o={root:n==null?void 0:n.current,rootMargin:i,threshold:typeof s=="number"?s:J8[s]},u=f=>{const{isIntersecting:l}=f;if(t.isInView===l||(t.isInView=l,a&&!l&&t.hasEnteredView))return;l&&(t.hasEnteredView=!0),r.animationState&&r.animationState.setActive(rt.InView,l);const h=r.getProps(),c=l?h.onViewportEnter:h.onViewportLeave;c&&c(f)};return W8(r.current,o,u)},[e,n,i,s])}function X8(e,t,r,{fallback:n=!0}){oe.useEffect(()=>{!e||!n||(process.env.NODE_ENV!=="production"&&Xa(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{t.hasEnteredView=!0;const{onViewportEnter:i}=r.getProps();i&&i(null),r.animationState&&r.animationState.setActive(rt.InView,!0)}))},[e])}const Tn=e=>t=>(e(t),null),Z8={inView:Tn(G8),tap:Tn(q8),focus:Tn(L8),hover:Tn(H8)};function n1(){const e=oe.useContext(ds);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,i=oe.useId();return oe.useEffect(()=>n(i),[]),!t&&r?[!1,()=>r&&r(i)]:[!0]}function i1(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Q8=e=>/^\-?\d*\.?\d+$/.test(e),eS=e=>/^0[^.\s]+$/.test(e),on={delta:0,timestamp:0},s1=1/60*1e3,tS=typeof performance<"u"?()=>performance.now():()=>Date.now(),a1=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(tS()),s1);function rS(e){let t=[],r=[],n=0,i=!1,s=!1;const a=new WeakSet,o={schedule:(u,f=!1,l=!1)=>{const h=l&&i,c=h?t:r;return f&&a.add(u),c.indexOf(u)===-1&&(c.push(u),h&&i&&(n=t.length)),u},cancel:u=>{const f=r.indexOf(u);f!==-1&&r.splice(f,1),a.delete(u)},process:u=>{if(i){s=!0;return}if(i=!0,[t,r]=[r,t],r.length=0,n=t.length,n)for(let f=0;f<n;f++){const l=t[f];l(u),a.has(l)&&(o.schedule(l),e())}i=!1,s&&(s=!1,o.process(u))}};return o}const nS=40;let ec=!0,Ss=!1,tc=!1;const Es=["read","update","preRender","render","postRender"],Za=Es.reduce((e,t)=>(e[t]=rS(()=>Ss=!0),e),{}),Wt=Es.reduce((e,t)=>{const r=Za[t];return e[t]=(n,i=!1,s=!1)=>(Ss||sS(),r.schedule(n,i,s)),e},{}),Pn=Es.reduce((e,t)=>(e[t]=Za[t].cancel,e),{}),rc=Es.reduce((e,t)=>(e[t]=()=>Za[t].process(on),e),{}),iS=e=>Za[e].process(on),o1=e=>{Ss=!1,on.delta=ec?s1:Math.max(Math.min(e-on.timestamp,nS),1),on.timestamp=e,tc=!0,Es.forEach(iS),tc=!1,Ss&&(ec=!1,a1(o1))},sS=()=>{Ss=!0,ec=!0,tc||a1(o1)};function nc(e,t){e.indexOf(t)===-1&&e.push(t)}function ic(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class sc{constructor(){this.subscriptions=[]}add(t){return nc(this.subscriptions,t),()=>ic(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ac(e,t){return t?e*(1e3/t):0}const aS=e=>!isNaN(parseFloat(e));class oS{constructor(t,r={}){this.version="8.1.9",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:a}=on;this.lastUpdated!==a&&(this.timeDelta=s,this.lastUpdated=a,Wt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Wt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=aS(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new sc);const n=this.events[t].add(r);return t==="change"?()=>{n(),Wt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?ac(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.stopAnimation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.stopAnimation&&(this.stopAnimation(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ci(e,t){return new oS(e,t)}const oc=(e,t)=>r=>Boolean(ws(r)&&d8.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),u1=(e,t,r)=>n=>{if(!ws(n))return n;const[i,s,a,o]=n.match(bs);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},uS=e=>Fi(0,255,e),uc={...Kn,transform:e=>Math.round(uS(e))},zn={test:oc("rgb","red"),parse:u1("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+uc.transform(e)+", "+uc.transform(t)+", "+uc.transform(r)+", "+ys(ms.transform(n))+")"};function fS(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const fc={test:oc("#"),parse:fS,transform:zn.transform},Oi={test:oc("hsl","hue"),parse:u1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Gr.transform(ys(t))+", "+Gr.transform(ys(r))+", "+ys(ms.transform(n))+")"},Gt={test:e=>zn.test(e)||fc.test(e)||Oi.test(e),parse:e=>zn.test(e)?zn.parse(e):Oi.test(e)?Oi.parse(e):fc.parse(e),transform:e=>ws(e)?e:e.hasOwnProperty("red")?zn.transform(e):Oi.transform(e)},f1="${c}",c1="${n}";function cS(e){var t,r;return isNaN(e)&&ws(e)&&(((t=e.match(bs))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Hf))===null||r===void 0?void 0:r.length)||0)>0}function Qa(e){typeof e=="number"&&(e=`${e}`);const t=[];let r=0,n=0;const i=e.match(Hf);i&&(r=i.length,e=e.replace(Hf,f1),t.push(...i.map(Gt.parse)));const s=e.match(bs);return s&&(n=s.length,e=e.replace(bs,c1),t.push(...s.map(Kn.parse))),{values:t,numColors:r,numNumbers:n,tokenised:e}}function l1(e){return Qa(e).values}function h1(e){const{values:t,numColors:r,tokenised:n}=Qa(e),i=t.length;return s=>{let a=n;for(let o=0;o<i;o++)a=a.replace(o<r?f1:c1,o<r?Gt.transform(s[o]):ys(s[o]));return a}}const lS=e=>typeof e=="number"?0:e;function hS(e){const t=l1(e);return h1(e)(t.map(lS))}const Fn={test:cS,parse:l1,createTransformer:h1,getAnimatableNone:hS},dS=new Set(["brightness","contrast","saturate","opacity"]);function pS(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(bs)||[];if(!n)return e;const i=r.replace(n,"");let s=dS.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const vS=/([a-z-]*)\(.*?\)/g,cc={...Fn,getAnimatableNone:e=>{const t=e.match(vS);return t?t.map(pS).join(" "):e}},gS={...kp,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:cc,WebkitFilter:cc},lc=e=>gS[e];function hc(e,t){var r;let n=lc(e);return n!==cc&&(n=Fn),(r=n.getAnimatableNone)===null||r===void 0?void 0:r.call(n,t)}const d1=e=>t=>t.test(e),p1=[Kn,Oe,Gr,_n,v8,p8,{test:e=>e==="auto",parse:e=>e}],As=e=>p1.find(d1(e)),mS=[...p1,Gt,Fn],yS=e=>mS.find(d1(e));function bS(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function wS(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function eo(e,t,r){const n=e.getProps();return Gf(n,t,r!==void 0?r:n.custom,bS(e),wS(e))}function xS(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ci(r))}function SS(e,t){const r=eo(e,t);let{transitionEnd:n={},transition:i={},...s}=r?e.makeTargetAnimatable(r,!1):{};s={...s,...n};for(const a in s){const o=D8(s[a]);xS(e,a,o)}}function ES(e,t,r){var n,i;const s=Object.keys(t).filter(o=>!e.hasValue(o)),a=s.length;if(a)for(let o=0;o<a;o++){const u=s[o],f=t[u];let l=null;Array.isArray(f)&&(l=f[0]),l===null&&(l=(i=(n=r[u])!==null&&n!==void 0?n:e.readValue(u))!==null&&i!==void 0?i:t[u]),l!=null&&(typeof l=="string"&&(Q8(l)||eS(l))?l=parseFloat(l):!yS(l)&&Fn.test(f)&&(l=hc(u,f)),e.addValue(u,Ci(l,{owner:e})),r[u]===void 0&&(r[u]=l),l!==null&&e.setBaseTarget(u,l))}}function AS(e,t){return t?(t[e]||t.default||t).from:void 0}function _S(e,t,r){var n;const i={};for(const s in e){const a=AS(s,t);i[s]=a!==void 0?a:(n=r.getValue(s))===null||n===void 0?void 0:n.get()}return i}function to(e){return Boolean(xr(e)&&e.add)}const TS=(e,t)=>`${e}: ${t}`;function PS(e,t){const{MotionAppearAnimations:r}=window,n=TS(e,qn.has(t)?"transform":t),i=r&&r.get(n);return i?(Wt.render(()=>{try{i.cancel(),r.delete(n)}catch{}}),i.currentTime||0):0}const FS="data-"+$f("framerAppearId");var ro=function(){},Ir=function(){};process.env.NODE_ENV!=="production"&&(ro=function(e,t){!e&&typeof console<"u"&&console.warn(t)},Ir=function(e,t){if(!e)throw new Error(t)});const no=e=>e*1e3,IS={current:!1},dc=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pc=e=>t=>1-e(1-t),vc=e=>e*e,CS=pc(vc),gc=dc(vc),bt=(e,t,r)=>-r*e+r*t+e;function mc(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function OS({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,a=0;if(!t)i=s=a=r;else{const o=r<.5?r*(1+t):r+t-r*t,u=2*r-o;i=mc(u,o,e+1/3),s=mc(u,o,e),a=mc(u,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}const yc=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},RS=[fc,zn,Oi],DS=e=>RS.find(t=>t.test(e));function v1(e){const t=DS(e);Ir(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`);let r=t.parse(e);return t===Oi&&(r=OS(r)),r}const g1=(e,t)=>{const r=v1(e),n=v1(t),i={...r};return s=>(i.red=yc(r.red,n.red,s),i.green=yc(r.green,n.green,s),i.blue=yc(r.blue,n.blue,s),i.alpha=bt(r.alpha,n.alpha,s),zn.transform(i))};function m1(e,t){return typeof e=="number"?r=>bt(e,t,r):Gt.test(e)?g1(e,t):b1(e,t)}const y1=(e,t)=>{const r=[...e],n=r.length,i=e.map((s,a)=>m1(s,t[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}},MS=(e,t)=>{const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=m1(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}},b1=(e,t)=>{const r=Fn.createTransformer(t),n=Qa(e),i=Qa(t);return n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?Ya(y1(n.values,i.values),r):(ro(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),a=>`${a>0?t:e}`)},io=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},w1=(e,t)=>r=>bt(e,t,r);function BS(e){return typeof e=="number"?w1:typeof e=="string"?Gt.test(e)?g1:b1:Array.isArray(e)?y1:typeof e=="object"?MS:w1}function NS(e,t,r){const n=[],i=r||BS(e[0]),s=e.length-1;for(let a=0;a<s;a++){let o=i(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]:t;o=Ya(u,o)}n.push(o)}return n}function x1(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;Ir(s===t.length,"Both input and output ranges must be the same length"),Ir(!n||!Array.isArray(n)||n.length===s-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=NS(t,n,i),o=a.length,u=f=>{let l=0;if(o>1)for(;l<e.length-2&&!(f<e[l+1]);l++);const h=io(e[l],e[l+1],f);return a[l](h)};return r?f=>u(Fi(e[0],e[s-1],f)):u}const bc=e=>e,S1=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,kS=1e-7,jS=12;function LS(e,t,r,n,i){let s,a,o=0;do a=t+(r-t)/2,s=S1(a,n,i)-e,s>0?r=a:t=a;while(Math.abs(s)>kS&&++o<jS);return a}function E1(e,t,r,n){if(e===t&&r===n)return bc;const i=s=>LS(s,0,1,e,r);return s=>s===0||s===1?s:S1(i(s),t,n)}const A1=e=>1-Math.sin(Math.acos(e)),wc=pc(A1),VS=dc(wc),_1=E1(.33,1.53,.69,.99),xc=pc(_1),HS=dc(xc),T1={linear:bc,easeIn:vc,easeInOut:gc,easeOut:CS,circIn:A1,circInOut:VS,circOut:wc,backIn:xc,backInOut:HS,backOut:_1,anticipate:e=>(e*=2)<1?.5*xc(e):.5*(2-Math.pow(2,-10*(e-1)))},P1=e=>{if(Array.isArray(e)){Ir(e.length===4,"Cubic bezier arrays must contain four numerical values.");const[t,r,n,i]=e;return E1(t,r,n,i)}else if(typeof e=="string")return Ir(T1[e]!==void 0,`Invalid easing type '${e}'`),T1[e];return e},US=e=>Array.isArray(e)&&typeof e[0]!="number";function qS(e,t){return e.map(()=>t||gc).splice(0,e.length-1)}function KS(e){const t=e.length;return e.map((r,n)=>n!==0?n/(t-1):0)}function zS(e,t){return e.map(r=>r*t)}function Sc({keyframes:e,ease:t=gc,times:r,duration:n=300}){e=[...e];const i=US(t)?t.map(P1):P1(t),s={done:!1,value:e[0]},a=zS(r&&r.length===e.length?r:KS(e),n);function o(){return x1(a,e,{ease:Array.isArray(i)?i:qS(e,i)})}let u=o();return{next:f=>(s.value=u(f),s.done=f>=n,s),flipTarget:()=>{e.reverse(),u=o()}}}const Ec=.001,$S=.01,F1=10,WS=.05,GS=1;function JS({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let i,s;ro(e<=F1*1e3,"Spring duration must be 10 seconds or less");let a=1-t;a=Fi(WS,GS,a),e=Fi($S,F1,e/1e3),a<1?(i=f=>{const l=f*a,h=l*e,c=l-r,d=Ac(f,a),p=Math.exp(-h);return Ec-c/d*p},s=f=>{const h=f*a*e,c=h*r+r,d=Math.pow(a,2)*Math.pow(f,2)*e,p=Math.exp(-h),v=Ac(Math.pow(f,2),a);return(-i(f)+Ec>0?-1:1)*((c-d)*p)/v}):(i=f=>{const l=Math.exp(-f*e),h=(f-r)*e+1;return-Ec+l*h},s=f=>{const l=Math.exp(-f*e),h=(r-f)*(e*e);return l*h});const o=5/e,u=XS(i,s,o);if(e=e*1e3,isNaN(u))return{stiffness:100,damping:10,duration:e};{const f=Math.pow(u,2)*n;return{stiffness:f,damping:a*2*Math.sqrt(n*f),duration:e}}}const YS=12;function XS(e,t,r){let n=r;for(let i=1;i<YS;i++)n=n-e(n)/t(n);return n}function Ac(e,t){return e*Math.sqrt(1-t*t)}const ZS=["duration","bounce"],QS=["stiffness","damping","mass"];function I1(e,t){return t.some(r=>e[r]!==void 0)}function e9(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!I1(e,QS)&&I1(e,ZS)){const r=JS(e);t={...t,...r,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}const t9=5;function C1({keyframes:e,restSpeed:t=2,restDelta:r=.01,...n}){let i=e[0],s=e[e.length-1];const a={done:!1,value:i},{stiffness:o,damping:u,mass:f,velocity:l,duration:h,isResolvedFromDuration:c}=e9(n);let d=r9,p=l?-(l/1e3):0;const v=u/(2*Math.sqrt(o*f));function y(){const b=s-i,A=Math.sqrt(o/f)/1e3;if(r===void 0&&(r=Math.min(Math.abs(s-i)/100,.4)),v<1){const D=Ac(A,v);d=k=>{const L=Math.exp(-v*A*k);return s-L*((p+v*A*b)/D*Math.sin(D*k)+b*Math.cos(D*k))}}else if(v===1)d=D=>s-Math.exp(-A*D)*(b+(p+A*b)*D);else{const D=A*Math.sqrt(v*v-1);d=k=>{const L=Math.exp(-v*A*k),_=Math.min(D*k,300);return s-L*((p+v*A*b)*Math.sinh(_)+D*b*Math.cosh(_))/D}}}return y(),{next:b=>{const A=d(b);if(c)a.done=b>=h;else{let D=p;if(b!==0)if(v<1){const _=Math.max(0,b-t9);D=ac(A-d(_),b-_)}else D=0;const k=Math.abs(D)<=t,L=Math.abs(s-A)<=r;a.done=k&&L}return a.value=a.done?s:A,a},flipTarget:()=>{p=-p,[i,s]=[s,i],y()}}}C1.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const r9=e=>0;function n9({keyframes:e=[0],velocity:t=0,power:r=.8,timeConstant:n=350,restDelta:i=.5,modifyTarget:s}){const a=e[0],o={done:!1,value:a};let u=r*t;const f=a+u,l=s===void 0?f:s(f);return l!==f&&(u=l-a),{next:h=>{const c=-u*Math.exp(-h/n);return o.done=!(c>i||c<-i),o.value=o.done?l:l+c,o},flipTarget:()=>{}}}const i9={decay:n9,keyframes:Sc,tween:Sc,spring:C1};function O1(e,t,r=0){return e-t-r}function s9(e,t=0,r=0,n=!0){return n?O1(t+-e,t,r):t-(e-t)+r}function a9(e,t,r,n){return n?e>=t+r:e<=-r}const o9=e=>{const t=({delta:r})=>e(r);return{start:()=>Wt.update(t,!0),stop:()=>Pn.update(t)}};function so({duration:e,driver:t=o9,elapsed:r=0,repeat:n=0,repeatType:i="loop",repeatDelay:s=0,keyframes:a,autoplay:o=!0,onPlay:u,onStop:f,onComplete:l,onRepeat:h,onUpdate:c,type:d="keyframes",...p}){var v,y;const b=r;let A,D=0,k=e,L=!1,_=!0,F;const R=i9[a.length>2?"keyframes":d]||Sc,P=a[0],M=a[a.length-1];let C={done:!1,value:P};!((y=(v=R).needsInterpolation)===null||y===void 0)&&y.call(v,P,M)&&(F=x1([0,100],[P,M],{clamp:!1}),a=[0,100]);const m=R({...p,duration:e,keyframes:a});function E(){D++,i==="reverse"?(_=D%2===0,r=s9(r,k,s,_)):(r=O1(r,k,s),i==="mirror"&&m.flipTarget()),L=!1,h&&h()}function T(){A&&A.stop(),l&&l()}function O(H){_||(H=-H),r+=H,L||(C=m.next(Math.max(0,r)),F&&(C.value=F(C.value)),L=_?C.done:r<=0),c&&c(C.value),L&&(D===0&&(k=k!==void 0?k:r),D<n?a9(r,k,s,_)&&E():T())}function N(){u&&u(),A=t(O),A.start()}return o&&N(),{stop:()=>{f&&f(),A&&A.stop()},sample:H=>{r=b;const Z=e&&typeof e=="number"?Math.max(e*.5,50):50;let K=0;for(O(0);K<=H;){const x=H-K;O(Math.min(x,Z)),K+=Z}return C}}}function u9(e){return!e||Array.isArray(e)||typeof e=="string"&&R1[e]}const _s=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,R1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_s([0,.65,.55,1]),circOut:_s([.55,0,1,.45]),backIn:_s([.31,.01,.66,-.59]),backOut:_s([.33,1.53,.69,.99])};function f9(e){if(e)return Array.isArray(e)?_s(e):R1[e]}function c9(e,t,r,{delay:n=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:u}={}){return e.animate({[t]:r,offset:u},{delay:n,duration:i,easing:f9(o),fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const D1={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},_c={},M1={};for(const e in D1)M1[e]=()=>(_c[e]===void 0&&(_c[e]=D1[e]()),_c[e]);function l9(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const h9=new Set(["opacity"]),ao=10;function d9(e,t,{onUpdate:r,onComplete:n,...i}){if(!(M1.waapi()&&h9.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0))return!1;let{keyframes:a,duration:o=300,elapsed:u=0,ease:f}=i;if(i.type==="spring"||!u9(i.ease)){if(i.repeat===1/0)return;const h=so(i);let c={done:!1,value:a[0]};const d=[];let p=0;for(;!c.done&&p<2e4;)c=h.sample(p),d.push(c.value),p+=ao;a=d,o=p-ao,f="linear"}const l=c9(e.owner.current,t,a,{...i,delay:-u,duration:o,ease:f});return l.onfinish=()=>{e.set(l9(a,i)),n&&n()},()=>{const{currentTime:h}=l;if(h){const c=so({...i,autoplay:!1});e.setWithVelocity(c.sample(h-ao).value,c.sample(h).value,ao)}Wt.update(()=>l.cancel())}}function B1(e,t){const r=performance.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(Pn.read(n),e(s-t))};return Wt.read(n,!0),()=>Pn.read(n)}function p9({keyframes:e,elapsed:t,onUpdate:r,onComplete:n}){const i=()=>(r&&r(e[e.length-1]),n&&n(),()=>{});return t?B1(i,-t):i()}function v9({keyframes:e,velocity:t=0,min:r,max:n,power:i=.8,timeConstant:s=750,bounceStiffness:a=500,bounceDamping:o=10,restDelta:u=1,modifyTarget:f,driver:l,onUpdate:h,onComplete:c,onStop:d}){const p=e[0];let v;function y(k){return r!==void 0&&k<r||n!==void 0&&k>n}function b(k){return r===void 0?n:n===void 0||Math.abs(r-k)<Math.abs(n-k)?r:n}function A(k){v==null||v.stop(),v=so({keyframes:[0,1],velocity:0,...k,driver:l,onUpdate:L=>{var _;h==null||h(L),(_=k.onUpdate)===null||_===void 0||_.call(k,L)},onComplete:c,onStop:d})}function D(k){A({type:"spring",stiffness:a,damping:o,restDelta:u,...k})}if(y(p))D({velocity:t,keyframes:[p,b(p)]});else{let k=i*t+p;typeof f<"u"&&(k=f(k));const L=b(k),_=L===r?-1:1;let F,R;const P=M=>{F=R,R=M,t=ac(M-F,on.delta),(_===1&&M>L||_===-1&&M<L)&&D({keyframes:[M,L],velocity:t})};A({type:"decay",keyframes:[p,0],velocity:t,timeConstant:s,power:i,restDelta:u,modifyTarget:f,onUpdate:y(k)?P:void 0})}return{stop:()=>v==null?void 0:v.stop()}}const $n=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),oo=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Tc=()=>({type:"keyframes",ease:"linear",duration:.3}),g9={type:"keyframes",duration:.8},N1={x:$n,y:$n,z:$n,rotate:$n,rotateX:$n,rotateY:$n,rotateZ:$n,scaleX:oo,scaleY:oo,scale:oo,opacity:Tc,backgroundColor:Tc,color:Tc,default:oo},m9=(e,{keyframes:t})=>t.length>2?g9:(N1[e]||N1.default)(t[1]),Pc=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&Fn.test(t)&&!t.startsWith("url("));function y9({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:u,elapsed:f,...l}){return!!Object.keys(l).length}function k1(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function j1(e){return typeof e=="number"?0:hc("",e)}function L1(e,t){return e[t]||e.default||e}function b9(e,t,r,n){const i=Pc(t,r);let s=n.from!==void 0?n.from:e.get();return s==="none"&&i&&typeof r=="string"?s=hc(t,r):k1(s)&&typeof r=="string"?s=j1(r):!Array.isArray(r)&&k1(r)&&typeof s=="string"&&(r=j1(s)),Array.isArray(r)?(r[0]===null&&(r[0]=s),r):[s,r]}const Fc=(e,t,r,n={})=>i=>{const s=L1(n,e)||{},a=s.delay||n.delay||0;let{elapsed:o=0}=n;o=o-no(a);const u=b9(t,e,r,s),f=u[0],l=u[u.length-1],h=Pc(e,f),c=Pc(e,l);ro(h===c,`You are trying to animate ${e} from "${f}" to "${l}". ${f} is not an animatable value - to enable this animation set ${f} to a value animatable to ${l} via the \`style\` property.`);let d={keyframes:u,velocity:t.getVelocity(),...s,elapsed:o,onUpdate:b=>{t.set(b),s.onUpdate&&s.onUpdate(b)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(!h||!c||IS.current||s.type===!1)return p9(d);if(s.type==="inertia"){const b=v9(d);return()=>b.stop()}y9(s)||(d={...d,...m9(e,d)}),d.duration&&(d.duration=no(d.duration)),d.repeatDelay&&(d.repeatDelay=no(d.repeatDelay));const p=t.owner,v=p&&p.current;if(p&&v instanceof HTMLElement&&!(p!=null&&p.getProps().onUpdate)){const b=d9(t,e,d);if(b)return b}const y=so(d);return()=>y.stop()};function w9(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>Ic(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=Ic(e,t,r);else{const i=typeof t=="function"?eo(e,t,r.custom):t;n=V1(e,i,r)}return n.then(()=>e.notify("AnimationComplete",t))}function Ic(e,t,r={}){var n;const i=eo(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const a=i?()=>V1(e,i,r):()=>Promise.resolve(),o=!((n=e.variantChildren)===null||n===void 0)&&n.size?(f=0)=>{const{delayChildren:l=0,staggerChildren:h,staggerDirection:c}=s;return x9(e,t,l+f,h,c,r)}:()=>Promise.resolve(),{when:u}=s;if(u){const[f,l]=u==="beforeChildren"?[a,o]:[o,a];return f().then(l)}else return Promise.all([a(),o(r.delay)])}function V1(e,t,{delay:r=0,transitionOverride:n,type:i}={}){var s;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...u}=e.makeTargetAnimatable(t);const f=e.getValue("willChange");n&&(a=n);const l=[],h=i&&((s=e.animationState)===null||s===void 0?void 0:s.getState()[i]);for(const c in u){const d=e.getValue(c),p=u[c];if(!d||p===void 0||h&&E9(h,c))continue;let v={delay:r,elapsed:0,...a};if(e.shouldReduceMotion&&qn.has(c)&&(v={...v,type:!1,delay:0}),!d.hasAnimated){const b=e.getProps()[FS];b&&(v.elapsed=PS(b,c))}let y=d.start(Fc(c,d,p,v));to(f)&&(f.add(c),y=y.then(()=>f.remove(c))),l.push(y)}return Promise.all(l).then(()=>{o&&SS(e,o)})}function x9(e,t,r=0,n=0,i=1,s){const a=[],o=(e.variantChildren.size-1)*n,u=i===1?(f=0)=>f*n:(f=0)=>o-f*n;return Array.from(e.variantChildren).sort(S9).forEach((f,l)=>{f.notify("AnimationStart",t),a.push(Ic(f,t,{...s,delay:r+u(l)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(a)}function S9(e,t){return e.sortNodePosition(t)}function E9({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}const Cc=[rt.Animate,rt.InView,rt.Focus,rt.Hover,rt.Tap,rt.Drag,rt.Exit],A9=[...Cc].reverse(),_9=Cc.length;function T9(e){return t=>Promise.all(t.map(({animation:r,options:n})=>w9(e,r,n)))}function P9(e){let t=T9(e);const r=I9();let n=!0;const i=(u,f)=>{const l=eo(e,f);if(l){const{transition:h,transitionEnd:c,...d}=l;u={...u,...d,...c}}return u};function s(u){t=u(e)}function a(u,f){const l=e.getProps(),h=e.getVariantContext(!0)||{},c=[],d=new Set;let p={},v=1/0;for(let b=0;b<_9;b++){const A=A9[b],D=r[A],k=l[A]!==void 0?l[A]:h[A],L=ps(k),_=A===f?D.isActive:null;_===!1&&(v=b);let F=k===h[A]&&k!==l[A]&&L;if(F&&n&&e.manuallyAnimateOnMount&&(F=!1),D.protectedKeys={...p},!D.isActive&&_===null||!k&&!D.prevProp||La(k)||typeof k=="boolean")continue;const R=F9(D.prevProp,k);let P=R||A===f&&D.isActive&&!F&&L||b>v&&L;const M=Array.isArray(k)?k:[k];let C=M.reduce(i,{});_===!1&&(C={});const{prevResolvedValues:m={}}=D,E={...m,...C},T=O=>{P=!0,d.delete(O),D.needsAnimating[O]=!0};for(const O in E){const N=C[O],H=m[O];p.hasOwnProperty(O)||(N!==H?$a(N)&&$a(H)?!i1(N,H)||R?T(O):D.protectedKeys[O]=!0:N!==void 0?T(O):d.add(O):N!==void 0&&d.has(O)?T(O):D.protectedKeys[O]=!0)}D.prevProp=k,D.prevResolvedValues=C,D.isActive&&(p={...p,...C}),n&&e.blockInitialAnimation&&(P=!1),P&&!F&&c.push(...M.map(O=>({animation:O,options:{type:A,...u}})))}if(d.size){const b={};d.forEach(A=>{const D=e.getBaseTarget(A);D!==void 0&&(b[A]=D)}),c.push({animation:b})}let y=Boolean(c.length);return n&&l.initial===!1&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(c):Promise.resolve()}function o(u,f,l){var h;if(r[u].isActive===f)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(d=>{var p;return(p=d.animationState)===null||p===void 0?void 0:p.setActive(u,f)}),r[u].isActive=f;const c=a(l,u);for(const d in r)r[d].protectedKeys={};return c}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>r}}function F9(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!i1(t,e):!1}function Wn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function I9(){return{[rt.Animate]:Wn(!0),[rt.InView]:Wn(),[rt.Hover]:Wn(),[rt.Tap]:Wn(),[rt.Drag]:Wn(),[rt.Focus]:Wn(),[rt.Exit]:Wn()}}const C9={animation:Tn(({visualElement:e,animate:t})=>{e.animationState||(e.animationState=P9(e)),La(t)&&oe.useEffect(()=>t.subscribe(e),[t])}),exit:Tn(e=>{const{custom:t,visualElement:r}=e,[n,i]=n1(),s=oe.useContext(ds);oe.useEffect(()=>{r.isPresent=n;const a=r.animationState&&r.animationState.setActive(rt.Exit,!n,{custom:s&&s.custom||t});a&&!n&&a.then(i)},[n])})},H1=(e,t)=>Math.abs(e-t);function O9(e,t){const r=H1(e.x,t.x),n=H1(e.y,t.y);return Math.sqrt(r**2+n**2)}class U1{constructor(t,r,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Rc(this.lastMoveEventInfo,this.history),l=this.startEvent!==null,h=O9(f.offset,{x:0,y:0})>=3;if(!l&&!h)return;const{point:c}=f,{timestamp:d}=on;this.history.push({...c,timestamp:d});const{onStart:p,onMove:v}=this.handlers;l||(p&&p(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,l)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Oc(l,this.transformPagePoint),Wt.update(this.updatePoint,!0)},this.handlePointerUp=(f,l)=>{this.end();const{onEnd:h,onSessionEnd:c}=this.handlers,d=Rc(Oc(l,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,d),c&&c(f,d)},!Wp(t))return;this.handlers=r,this.transformPagePoint=n;const i=Yf(t),s=Oc(i,this.transformPagePoint),{point:a}=s,{timestamp:o}=on;this.history=[{...a,timestamp:o}];const{onSessionStart:u}=r;u&&u(t,Rc(s,this.history)),this.removeListeners=Ya(Ii(window,"pointermove",this.handlePointerMove),Ii(window,"pointerup",this.handlePointerUp),Ii(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Pn.update(this.updatePoint)}}function Oc(e,t){return t?{point:t(e.point)}:e}function q1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Rc({point:e},t){return{point:e,delta:q1(e,K1(t)),offset:q1(e,R9(t)),velocity:D9(t,.1)}}function R9(e){return e[0]}function K1(e){return e[e.length-1]}function D9(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=K1(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>no(t)));)r--;if(!n)return{x:0,y:0};const s=(i.timestamp-n.timestamp)/1e3;if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function ir(e){return e.max-e.min}function Dc(e,t=0,r=.01){return Math.abs(e-t)<=r}function z1(e,t,r,n=.5){e.origin=n,e.originPoint=bt(t.min,t.max,e.origin),e.scale=ir(r)/ir(t),(Dc(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=bt(r.min,r.max,e.origin)-e.originPoint,(Dc(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ts(e,t,r,n){z1(e.x,t.x,r.x,n==null?void 0:n.originX),z1(e.y,t.y,r.y,n==null?void 0:n.originY)}function $1(e,t,r){e.min=r.min+t.min,e.max=e.min+ir(t)}function M9(e,t,r){$1(e.x,t.x,r.x),$1(e.y,t.y,r.y)}function W1(e,t,r){e.min=t.min-r.min,e.max=e.min+ir(t)}function Ps(e,t,r){W1(e.x,t.x,r.x),W1(e.y,t.y,r.y)}function B9(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?bt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?bt(r,e,n.max):Math.min(e,r)),e}function G1(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function N9(e,{top:t,left:r,bottom:n,right:i}){return{x:G1(e.x,r,i),y:G1(e.y,t,n)}}function J1(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function k9(e,t){return{x:J1(e.x,t.x),y:J1(e.y,t.y)}}function j9(e,t){let r=.5;const n=ir(e),i=ir(t);return i>n?r=io(t.min,t.max-n,e.min):n>i&&(r=io(e.min,e.max-i,t.min)),Fi(0,1,r)}function L9(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Mc=.35;function V9(e=Mc){return e===!1?e=0:e===!0&&(e=Mc),{x:Y1(e,"left","right"),y:Y1(e,"top","bottom")}}function Y1(e,t,r){return{min:X1(e,t),max:X1(e,r)}}function X1(e,t){return typeof e=="number"?e:e[t]||0}const Z1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fs=()=>({x:Z1(),y:Z1()}),Q1=()=>({min:0,max:0}),Ct=()=>({x:Q1(),y:Q1()});function Jr(e){return[e("x"),e("y")]}function ev({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function H9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function U9(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Bc(e){return e===void 0||e===1}function Nc({scale:e,scaleX:t,scaleY:r}){return!Bc(e)||!Bc(t)||!Bc(r)}function Gn(e){return Nc(e)||tv(e)||e.z||e.rotate||e.rotateX||e.rotateY}function tv(e){return rv(e.x)||rv(e.y)}function rv(e){return e&&e!=="0%"}function uo(e,t,r){const n=e-r,i=t*n;return r+i}function nv(e,t,r,n,i){return i!==void 0&&(e=uo(e,i,n)),uo(e,r,n)+t}function kc(e,t=0,r=1,n,i){e.min=nv(e.min,t,r,n,i),e.max=nv(e.max,t,r,n,i)}function iv(e,{x:t,y:r}){kc(e.x,t.translate,t.scale,t.originPoint),kc(e.y,r.translate,r.scale,r.originPoint)}function q9(e,t,r,n=!1){var i,s;const a=r.length;if(!a)return;t.x=t.y=1;let o,u;for(let f=0;f<a;f++)o=r[f],u=o.projectionDelta,((s=(i=o.instance)===null||i===void 0?void 0:i.style)===null||s===void 0?void 0:s.display)!=="contents"&&(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ri(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,iv(e,u)),n&&Gn(o.latestValues)&&Ri(e,o.latestValues));t.x=sv(t.x),t.y=sv(t.y)}function sv(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function In(e,t){e.min=e.min+t,e.max=e.max+t}function av(e,t,[r,n,i]){const s=t[i]!==void 0?t[i]:.5,a=bt(e.min,e.max,s);kc(e,t[r],t[n],a,t.scale)}const K9=["x","scaleX","originX"],z9=["y","scaleY","originY"];function Ri(e,t){av(e.x,t,K9),av(e.y,t,z9)}function ov(e,t){return ev(U9(e.getBoundingClientRect(),t))}function $9(e,t,r){const n=ov(e,r),{scroll:i}=t;return i&&(In(n.x,i.offset.x),In(n.y,i.offset.y)),n}const W9=new WeakMap;class G9{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){if(this.visualElement.isPresent===!1)return;const n=o=>{this.stopAnimation(),r&&this.snapToCursor(Yf(o,"page").point)},i=(o,u)=>{var f;const{drag:l,dragPropagation:h,onDragStart:c}=this.getProps();l&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Zp(l),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jr(d=>{var p,v;let y=this.getAxisMotionValue(d).get()||0;if(Gr.test(y)){const b=(v=(p=this.visualElement.projection)===null||p===void 0?void 0:p.layout)===null||v===void 0?void 0:v.layoutBox[d];b&&(y=ir(b)*(parseFloat(y)/100))}this.originPoint[d]=y}),c==null||c(o,u),(f=this.visualElement.animationState)===null||f===void 0||f.setActive(rt.Drag,!0))},s=(o,u)=>{const{dragPropagation:f,dragDirectionLock:l,onDirectionLock:h,onDrag:c}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:d}=u;if(l&&this.currentDirection===null){this.currentDirection=J9(d),this.currentDirection!==null&&(h==null||h(this.currentDirection));return}this.updateAxis("x",u.point,d),this.updateAxis("y",u.point,d),this.visualElement.render(),c==null||c(o,u)},a=(o,u)=>this.stop(o,u);this.panSession=new U1(t,{onSessionStart:n,onStart:i,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s==null||s(t,r)}cancel(){var t,r;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(t=this.panSession)===null||t===void 0||t.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(r=this.visualElement.animationState)===null||r===void 0||r.setActive(rt.Drag,!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!fo(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=B9(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),{layout:n}=this.visualElement.projection||{},i=this.constraints;t&&Pi(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=N9(n.layoutBox,t):this.constraints=!1,this.elastic=V9(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Jr(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=L9(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Pi(t))return!1;const n=t.current;Ir(n!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=$9(n,i.root,this.visualElement.getTransformPagePoint());let a=k9(i.layout.layoutBox,s);if(r){const o=r(H9(a));this.hasMutatedConstraints=!!o,o&&(a=ev(o))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),u=this.constraints||{},f=Jr(l=>{if(!fo(l,r,this.currentDirection))return;let h=(u==null?void 0:u[l])||{};a&&(h={min:0,max:0});const c=i?200:1e6,d=i?40:1e7,p={type:"inertia",velocity:n?t[l]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(l,p)});return Promise.all(f).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(Fc(t,n,0,r))}stopAnimation(){Jr(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){var r;const n="_drag"+t.toUpperCase(),i=this.visualElement.getProps()[n];return i||this.visualElement.getValue(t,((r=this.visualElement.getProps().initial)===null||r===void 0?void 0:r[t])||0)}snapToCursor(t){Jr(r=>{const{drag:n}=this.getProps();if(!fo(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[r];s.set(t[r]-bt(a,o,.5))}})}scalePositionWithinConstraints(){var t;if(!this.visualElement.current)return;const{drag:r,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Pi(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Jr(o=>{const u=this.getAxisMotionValue(o);if(u){const f=u.get();s[o]=j9({min:f,max:f},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",(t=i.root)===null||t===void 0||t.updateScroll(),i.updateLayout(),this.resolveConstraints(),Jr(o=>{if(!fo(o,r,null))return;const u=this.getAxisMotionValue(o),{min:f,max:l}=this.constraints[o];u.set(bt(f,l,s[o]))})}addListeners(){var t;if(!this.visualElement.current)return;W9.set(this.visualElement,this);const r=this.visualElement.current,n=Ii(r,"pointerdown",f=>{const{drag:l,dragListener:h=!0}=this.getProps();l&&h&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Pi(f)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&((t=s.root)===null||t===void 0||t.updateScroll(),s.updateLayout()),i();const o=Ga(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:l})=>{this.isDragging&&l&&(Jr(h=>{const c=this.getAxisMotionValue(h);c&&(this.originPoint[h]+=f[h].translate,c.set(c.get()+f[h].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),u==null||u()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Mc,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function fo(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function J9(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}function Y9(e){const{dragControls:t,visualElement:r}=e,n=Ha(()=>new G9(r));oe.useEffect(()=>t&&t.subscribe(n),[n,t]),oe.useEffect(()=>n.addListeners(),[n])}function X9({onPan:e,onPanStart:t,onPanEnd:r,onPanSessionStart:n,visualElement:i}){const s=e||t||r||n,a=oe.useRef(null),{transformPagePoint:o}=oe.useContext(jf),u={onSessionStart:n,onStart:t,onMove:e,onEnd:(l,h)=>{a.current=null,r&&r(l,h)}};oe.useEffect(()=>{a.current!==null&&a.current.updateHandlers(u)});function f(l){a.current=new U1(l,u,{transformPagePoint:o})}Ja(i,"pointerdown",s&&f),Xf(()=>a.current&&a.current.end())}const Z9={pan:Tn(X9),drag:Tn(Y9)};function jc(e){return typeof e=="string"&&e.startsWith("var(--")}const uv=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Q9(e){const t=uv.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}const eE=4;function Lc(e,t,r=1){Ir(r<=eE,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[n,i]=Q9(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);return s?s.trim():jc(i)?Lc(i,t,r+1):i}function tE(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(i=>{const s=i.get();if(!jc(s))return;const a=Lc(s,n);a&&i.set(a)});for(const i in t){const s=t[i];if(!jc(s))continue;const a=Lc(s,n);a&&(t[i]=a,r&&r[i]===void 0&&(r[i]=s))}return{target:t,transitionEnd:r}}const rE=new Set(["width","height","top","left","right","bottom","x","y"]),fv=e=>rE.has(e),nE=e=>Object.keys(e).some(fv),co=e=>e===Kn||e===Oe;var cv;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(cv||(cv={}));const lv=(e,t)=>parseFloat(e.split(", ")[t]),hv=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return lv(i[1],t);{const s=n.match(/^matrix\((.+)\)$/);return s?lv(s[1],e):0}},iE=new Set(["x","y","z"]),sE=qa.filter(e=>!iE.has(e));function aE(e){const t=[];return sE.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const dv={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:hv(4,13),y:hv(5,14)},oE=(e,t,r)=>{const n=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:a}=s,o={};a==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(f=>{o[f]=dv[f](n,s)}),t.render();const u=t.measureViewportBox();return r.forEach(f=>{const l=t.getValue(f);l&&l.jump(o[f]),e[f]=dv[f](u,s)}),e},uE=(e,t,r={},n={})=>{t={...t},n={...n};const i=Object.keys(t).filter(fv);let s=[],a=!1;const o=[];if(i.forEach(u=>{const f=e.getValue(u);if(!e.hasValue(u))return;let l=r[u],h=As(l);const c=t[u];let d;if($a(c)){const p=c.length,v=c[0]===null?1:0;l=c[v],h=As(l);for(let y=v;y<p;y++)d?Ir(As(c[y])===d,"All keyframes must be of the same type"):(d=As(c[y]),Ir(d===h||co(h)&&co(d),"Keyframes must be of the same dimension as the current value"))}else d=As(c);if(h!==d)if(co(h)&&co(d)){const p=f.get();typeof p=="string"&&f.set(parseFloat(p)),typeof c=="string"?t[u]=parseFloat(c):Array.isArray(c)&&d===Oe&&(t[u]=c.map(parseFloat))}else h!=null&&h.transform&&(d!=null&&d.transform)&&(l===0||c===0)?l===0?f.set(d.transform(l)):t[u]=h.transform(c):(a||(s=aE(e),a=!0),o.push(u),n[u]=n[u]!==void 0?n[u]:t[u],f.jump(c))}),o.length){const u=o.indexOf("height")>=0?window.pageYOffset:null,f=oE(t,e,o);return s.length&&s.forEach(([l,h])=>{e.getValue(l).set(h)}),e.render(),ka&&u!==null&&window.scrollTo({top:u}),{target:f,transitionEnd:n}}else return{target:t,transitionEnd:n}};function fE(e,t,r,n){return nE(t)?uE(e,t,r,n):{target:t,transitionEnd:n}}const cE=(e,t,r,n)=>{const i=tE(e,t,n);return t=i.target,n=i.transitionEnd,fE(e,t,r,n)},Vc={current:null},pv={current:!1};function lE(){if(pv.current=!0,!!ka)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vc.current=e.matches;e.addListener(t),t()}else Vc.current=!1}function hE(e,t,r){const{willChange:n}=t;for(const i in t){const s=t[i],a=r[i];if(xr(s))e.addValue(i,s),to(n)&&n.add(i),process.env.NODE_ENV==="development"&&Xa(s.version==="8.1.9",`Attempting to mix Framer Motion versions ${s.version} with 8.1.9 may not work as expected.`);else if(xr(a))e.addValue(i,Ci(s,{owner:e})),to(n)&&n.remove(i);else if(a!==s)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(s)}else{const o=e.getStaticValue(i);e.addValue(i,Ci(o!==void 0?o:s))}}for(const i in r)t[i]===void 0&&e.removeValue(i);return t}const vv=Object.keys(vs),dE=vv.length,gv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pE{constructor({parent:t,props:r,reducedMotionConfig:n,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Wt.render(this.render,!1,!0);const{latestValues:a,renderState:o}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=r.initial?{...a}:{},this.renderState=o,this.parent=t,this.props=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=s,this.isControllingVariants=Va(r),this.isVariantNode=Cp(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{});for(const l in f){const h=f[l];a[l]!==void 0&&xr(h)&&(h.set(a[l],!1),to(u)&&u.add(l))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){var r;this.current=t,this.projection&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(r=this.parent)===null||r===void 0?void 0:r.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),pv.current||lE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vc.current,process.env.NODE_ENV!=="production"&&Xa(this.shouldReduceMotion!==!0,"You have Reduced Motion enabled on your device. Animations may not appear as expected."),this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var t,r,n;(t=this.projection)===null||t===void 0||t.unmount(),Pn.update(this.notifyUpdate),Pn.render(this.render),this.valueSubscriptions.forEach(i=>i()),(r=this.removeFromVariantTree)===null||r===void 0||r.call(this),(n=this.parent)===null||n===void 0||n.children.delete(this);for(const i in this.events)this.events[i].clear();this.current=null}bindToMotionValue(t,r){const n=qn.has(t),i=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Wt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures(t,r,n,i,s,a){const o=[];process.env.NODE_ENV!=="production"&&n&&r&&Ir(!1,"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.");for(let u=0;u<dE;u++){const f=vv[u],{isEnabled:l,Component:h}=vs[f];l(t)&&h&&o.push(oe.createElement(h,{key:f,...t,visualElement:this}))}if(!this.projection&&s){this.projection=new s(i,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:f,drag:l,dragConstraints:h,layoutScroll:c}=t;this.projection.setOptions({layoutId:u,layout:f,alwaysMeasureLayout:Boolean(l)||h&&Pi(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof f=="string"?f:"both",initialPromotionConfig:a,layoutScroll:c})}return o}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}setProps(t){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender();const r=this.props;this.props=t;for(let n=0;n<gv.length;n++){const i=gv[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=hE(this,this.scrapeMotionValuesFromProps(t,r),this.prevMotionValues)}getProps(){return this.props}getVariant(t){var r;return(r=this.props.variants)===null||r===void 0?void 0:r[t]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var t;return this.isVariantNode?this:(t=this.parent)===null||t===void 0?void 0:t.getClosestVariantNode()}getVariantContext(t=!1){var r,n;if(t)return(r=this.parent)===null||r===void 0?void 0:r.getVariantContext();if(!this.isControllingVariants){const s=((n=this.parent)===null||n===void 0?void 0:n.getVariantContext())||{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const i={};for(let s=0;s<vE;s++){const a=mv[s],o=this.props[a];(ps(o)||o===!1)&&(i[a]=o)}return i}addVariantChild(t){var r;const n=this.getClosestVariantNode();if(n)return(r=n.variantChildren)===null||r===void 0||r.add(t),()=>n.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){var r;this.values.delete(t),(r=this.valueSubscriptions.get(t))===null||r===void 0||r(),this.valueSubscriptions.delete(t),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ci(r,{owner:this}),this.addValue(t,n)),n}readValue(t){return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=Gf(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!xr(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new sc),this.events[t].add(r)}notify(t,...r){var n;(n=this.events[t])===null||n===void 0||n.notify(...r)}}const mv=["initial",...Cc],vE=mv.length;class yv extends pE{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){var n;return(n=t.style)===null||n===void 0?void 0:n[r]}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:i},s){let a=_S(n,t||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),a&&(a=i(a))),s){ES(this,n,a);const o=cE(this,n,a,r);r=o.transitionEnd,n=o.target}return{transition:t,transitionEnd:r,...n}}}function gE(e){return window.getComputedStyle(e)}class mE extends yv{readValueFromInstance(t,r){if(qn.has(r)){const n=lc(r);return n&&n.default||0}else{const n=gE(t),i=(Mp(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return ov(t,r)}build(t,r,n,i){Uf(t,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,r){return Wf(t,r)}renderInstance(t,r,n,i){Up(t,r,n,i)}}class yE extends yv{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){var n;return qn.has(r)?((n=lc(r))===null||n===void 0?void 0:n.default)||0:(r=qp.has(r)?r:$f(r),t.getAttribute(r))}measureInstanceViewportBox(){return Ct()}scrapeMotionValuesFromProps(t,r){return zp(t,r)}build(t,r,n,i){Kf(t,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,r,n,i){Kp(t,r,n,i)}mount(t){this.isSVGTag=zf(t.tagName),super.mount(t)}}const bE=(e,t)=>Vf(e)?new yE(t,{enableHardwareAcceleration:!1}):new mE(t,{enableHardwareAcceleration:!0});function bv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Is={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Oe.test(e))e=parseFloat(e);else return e;const r=bv(e,t.target.x),n=bv(e,t.target.y);return`${r}% ${n}%`}},wv="_$css",wE={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=e.includes("var("),s=[];i&&(e=e.replace(uv,d=>(s.push(d),wv)));const a=Fn.parse(e);if(a.length>5)return n;const o=Fn.createTransformer(e),u=typeof a[0]!="number"?1:0,f=r.x.scale*t.x,l=r.y.scale*t.y;a[0+u]/=f,a[1+u]/=l;const h=bt(f,l,.5);typeof a[2+u]=="number"&&(a[2+u]/=h),typeof a[3+u]=="number"&&(a[3+u]/=h);let c=o(a);if(i){let d=0;c=c.replace(wv,()=>{const p=s[d];return d++,p})}return c}};class xE extends oe.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;u8(EE),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),gs.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,a=n.projection;return a&&(a.isPresent=s,i||t.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||Wt.postRender(()=>{var o;!((o=a.getStack())===null||o===void 0)&&o.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r!=null&&r.group&&r.group.remove(i),n!=null&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t==null||t()}render(){return null}}function SE(e){const[t,r]=n1(),n=oe.useContext(Lf);return oe.createElement(xE,{...e,layoutGroup:n,switchLayoutGroup:oe.useContext(Rp),isPresent:t,safeToRemove:r})}const EE={borderRadius:{...Is,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Is,borderTopRightRadius:Is,borderBottomLeftRadius:Is,borderBottomRightRadius:Is,boxShadow:wE},AE={measureLayout:SE};function _E(e,t,r={}){const n=xr(e)?e:Ci(e);return n.start(Fc("",n,t,r)),{stop:()=>n.stop(),isAnimating:()=>n.isAnimating()}}const xv=["TopLeft","TopRight","BottomLeft","BottomRight"],TE=xv.length,Sv=e=>typeof e=="string"?parseFloat(e):e,Ev=e=>typeof e=="number"||Oe.test(e);function PE(e,t,r,n,i,s){i?(e.opacity=bt(0,r.opacity!==void 0?r.opacity:1,FE(n)),e.opacityExit=bt(t.opacity!==void 0?t.opacity:1,0,IE(n))):s&&(e.opacity=bt(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<TE;a++){const o=`border${xv[a]}Radius`;let u=Av(t,o),f=Av(r,o);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||Ev(u)===Ev(f)?(e[o]=Math.max(bt(Sv(u),Sv(f),n),0),(Gr.test(f)||Gr.test(u))&&(e[o]+="%")):e[o]=f}(t.rotate||r.rotate)&&(e.rotate=bt(t.rotate||0,r.rotate||0,n))}function Av(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const FE=_v(0,.5,wc),IE=_v(.5,.95,bc);function _v(e,t,r){return n=>n<e?0:n>t?1:r(io(e,t,n))}function Tv(e,t){e.min=t.min,e.max=t.max}function Cr(e,t){Tv(e.x,t.x),Tv(e.y,t.y)}function Pv(e,t,r,n,i){return e-=t,e=uo(e,1/r,n),i!==void 0&&(e=uo(e,1/i,n)),e}function CE(e,t=0,r=1,n=.5,i,s=e,a=e){if(Gr.test(t)&&(t=parseFloat(t),t=bt(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=bt(s.min,s.max,n);e===s&&(o-=t),e.min=Pv(e.min,t,r,o,i),e.max=Pv(e.max,t,r,o,i)}function Fv(e,t,[r,n,i],s,a){CE(e,t[r],t[n],t[i],t.scale,s,a)}const OE=["x","scaleX","originX"],RE=["y","scaleY","originY"];function Iv(e,t,r,n){Fv(e.x,t,OE,r==null?void 0:r.x,n==null?void 0:n.x),Fv(e.y,t,RE,r==null?void 0:r.y,n==null?void 0:n.y)}function Cv(e){return e.translate===0&&e.scale===1}function Ov(e){return Cv(e.x)&&Cv(e.y)}function Rv(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Dv(e){return ir(e.x)/ir(e.y)}class DE{constructor(){this.members=[]}add(t){nc(this.members,t),t.scheduleRender()}remove(t){if(ic(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){var n;const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,r&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),!((n=t.root)===null||n===void 0)&&n.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{var r,n,i,s,a;(n=(r=t.options).onExitComplete)===null||n===void 0||n.call(r),(a=(i=t.resumingFrom)===null||i===void 0?void 0:(s=i.options).onExitComplete)===null||a===void 0||a.call(s)})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Mv(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(n=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:u,rotateX:f,rotateY:l}=r;u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),l&&(n+=`rotateY(${l}deg) `)}const a=e.x.scale*t.x,o=e.y.scale*t.y;return(a!==1||o!==1)&&(n+=`scale(${a}, ${o})`),n||"none"}const ME=(e,t)=>e.depth-t.depth;class BE{constructor(){this.children=[],this.isDirty=!1}add(t){nc(this.children,t),this.isDirty=!0}remove(t){ic(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ME),this.isDirty=!1,this.children.forEach(t)}}const Bv=["","X","Y","Z"],Nv=1e3;let NE=0;function kv({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a,o={},u=t==null?void 0:t()){this.id=NE++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(LE),this.nodes.forEach(UE),this.nodes.forEach(qE)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=a,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0,a&&this.root.registerPotentialNode(a,this);for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new BE)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new sc),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const u=this.eventHandlers.get(a);u==null||u.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}registerPotentialNode(a,o){this.potentialNodes.set(a,o)}mount(a,o=!1){var u;if(this.instance)return;this.isSVG=a instanceof SVGElement&&a.tagName!=="svg",this.instance=a;const{layoutId:f,layout:l,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),(u=this.parent)===null||u===void 0||u.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),o&&(l||f)&&(this.isLayoutDirty=!0),e){let c;const d=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,c&&c(),c=B1(d,250),gs.hasAnimatedSinceResize&&(gs.hasAnimatedSinceResize=!1,this.nodes.forEach(Lv))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&h&&(f||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:v})=>{var y,b,A,D,k;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=(b=(y=this.options.transition)!==null&&y!==void 0?y:h.getDefaultTransition())!==null&&b!==void 0?b:GE,{onLayoutAnimationStart:_,onLayoutAnimationComplete:F}=h.getProps(),R=!this.targetLayout||!Rv(this.targetLayout,v)||p,P=!d&&p;if(!((A=this.resumeFrom)===null||A===void 0)&&A.instance||P||d&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(c,P);const M={...L1(L,"layout"),onPlay:_,onComplete:F};h.shouldReduceMotion&&(M.delay=0,M.type=!1),this.startAnimation(M)}else!d&&this.animationProgress===0&&Lv(this),this.isLead()&&((k=(D=this.options).onExitComplete)===null||k===void 0||k.call(D));this.targetLayout=v})}unmount(){var a,o;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(a=this.getStack())===null||a===void 0||a.remove(this),(o=this.parent)===null||o===void 0||o.children.delete(this),this.instance=void 0,Pn.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var a;return this.isAnimationBlocked||((a=this.parent)===null||a===void 0?void 0:a.isTreeAnimationBlocked())||!1}startUpdate(){var a;this.isUpdateBlocked()||(this.isUpdating=!0,(a=this.nodes)===null||a===void 0||a.forEach(KE),this.animationId++)}willUpdate(a=!0){var o,u,f;if(this.root.isUpdateBlocked()){(u=(o=this.options).onExitComplete)===null||u===void 0||u.call(o);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot")}const{layoutId:l,layout:h}=this.options;if(l===void 0&&!h)return;const c=(f=this.options.visualElement)===null||f===void 0?void 0:f.getProps().transformTemplate;this.prevTransformTemplateValue=c==null?void 0:c(this.latestValues,""),this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jv);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(JE),this.potentialNodes.clear()),this.nodes.forEach(HE),this.nodes.forEach(kE),this.nodes.forEach(jE),this.clearAllSnapshots(),rc.update(),rc.preRender(),rc.render())}clearAllSnapshots(){this.nodes.forEach(VE),this.sharedNodes.forEach(zE)}scheduleUpdateProjection(){Wt.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var a;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(a=this.options.visualElement)===null||a===void 0||a.notify("LayoutMeasure",this.layout.layoutBox,o==null?void 0:o.layoutBox)}updateScroll(a="measure"){let o=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){var a;if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!Ov(this.projectionDelta),f=(a=this.options.visualElement)===null||a===void 0?void 0:a.getProps().transformTemplate,l=f==null?void 0:f(this.latestValues,""),h=l!==this.prevTransformTemplateValue;o&&(u||Gn(this.latestValues)||h)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return a&&(u=this.removeTransform(u)),YE(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Ct();const o=a.measureViewportBox(),{scroll:u}=this.root;return u&&(In(o.x,u.offset.x),In(o.y,u.offset.y)),o}removeElementScroll(a){const o=Ct();Cr(o,a);for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:l,options:h}=f;if(f!==this.root&&l&&h.layoutScroll){if(l.isRoot){Cr(o,a);const{scroll:c}=this.root;c&&(In(o.x,-c.offset.x),In(o.y,-c.offset.y))}In(o.x,l.offset.x),In(o.y,l.offset.y)}}return o}applyTransform(a,o=!1){const u=Ct();Cr(u,a);for(let f=0;f<this.path.length;f++){const l=this.path[f];!o&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ri(u,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),Gn(l.latestValues)&&Ri(u,l.latestValues)}return Gn(this.latestValues)&&Ri(u,this.latestValues),u}removeTransform(a){var o;const u=Ct();Cr(u,a);for(let f=0;f<this.path.length;f++){const l=this.path[f];if(!l.instance||!Gn(l.latestValues))continue;Nc(l.latestValues)&&l.updateSnapshot();const h=Ct(),c=l.measurePageBox();Cr(h,c),Iv(u,l.latestValues,(o=l.snapshot)===null||o===void 0?void 0:o.layoutBox,h)}return Gn(this.latestValues)&&Iv(u,this.latestValues),u}setTargetDelta(a){this.targetDelta=a,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var a;const o=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(!this.targetDelta&&!this.relativeTarget){const l=this.getClosestProjectingParent();l&&l.layout?(this.relativeParent=l,this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Ps(this.relativeTargetOrigin,this.layout.layoutBox,l.layout.layoutBox),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&(!((a=this.relativeParent)===null||a===void 0)&&a.target)?M9(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Cr(this.target,this.layout.layoutBox),iv(this.target,this.targetDelta)):Cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const l=this.getClosestProjectingParent();l&&Boolean(l.resumingFrom)===Boolean(this.resumingFrom)&&!l.options.layoutScroll&&l.target?(this.relativeParent=l,this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Ps(this.relativeTargetOrigin,this.target,l.target),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Nc(this.parent.latestValues)||tv(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var a;const{isProjectionDirty:o,isTransformDirty:u}=this;this.isProjectionDirty=this.isTransformDirty=!1;const f=this.getLead(),l=Boolean(this.resumingFrom)||this!==f;let h=!0;if(o&&(h=!1),l&&u&&(h=!1),h)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=Boolean(((a=this.parent)===null||a===void 0?void 0:a.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Cr(this.layoutCorrected,this.layout.layoutBox),q9(this.layoutCorrected,this.treeScale,this.path,l);const{target:p}=f;if(!p)return;this.projectionDelta||(this.projectionDelta=Fs(),this.projectionDeltaWithTransform=Fs());const v=this.treeScale.x,y=this.treeScale.y,b=this.projectionTransform;Ts(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=Mv(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==v||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o,u,f;(u=(o=this.options).scheduleRender)===null||u===void 0||u.call(o),a&&((f=this.getStack())===null||f===void 0||f.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){var u,f;const l=this.snapshot,h=(l==null?void 0:l.latestValues)||{},c={...this.latestValues},d=Fs();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!o;const p=Ct(),v=(l==null?void 0:l.source)!==((u=this.layout)===null||u===void 0?void 0:u.source),y=(((f=this.getStack())===null||f===void 0?void 0:f.members.length)||0)<=1,b=Boolean(v&&!y&&this.options.crossfade===!0&&!this.path.some(WE));this.animationProgress=0,this.mixTargetDelta=A=>{var D;const k=A/1e3;Vv(d.x,a.x,k),Vv(d.y,a.y,k),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((D=this.relativeParent)===null||D===void 0)&&D.layout)&&(Ps(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$E(this.relativeTarget,this.relativeTargetOrigin,p,k)),v&&(this.animationValues=c,PE(c,h,this.latestValues,k,b,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(0)}startAnimation(a){var o,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)===null||o===void 0||o.stop(),this.resumingFrom&&((u=this.resumingFrom.currentAnimation)===null||u===void 0||u.stop()),this.pendingAnimation&&(Pn.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wt.update(()=>{gs.hasAnimatedSinceResize=!0,this.currentAnimation=_E(0,Nv,{...a,onUpdate:f=>{var l;this.mixTargetDelta(f),(l=a.onUpdate)===null||l===void 0||l.call(a,f)},onComplete:()=>{var f;(f=a.onComplete)===null||f===void 0||f.call(a),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var a;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(a=this.getStack())===null||a===void 0||a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var a;this.currentAnimation&&((a=this.mixTargetDelta)===null||a===void 0||a.call(this,Nv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:u,layout:f,latestValues:l}=a;if(!(!o||!u||!f)){if(this!==a&&this.layout&&f&&qv(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||Ct();const h=ir(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+h;const c=ir(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+c}Cr(o,u),Ri(o,l),Ts(this.projectionDeltaWithTransform,this.layoutCorrected,o,l)}}registerSharedNode(a,o){var u,f,l;this.sharedNodes.has(a)||this.sharedNodes.set(a,new DE),this.sharedNodes.get(a).add(o),o.promote({transition:(u=o.options.initialPromotionConfig)===null||u===void 0?void 0:u.transition,preserveFollowOpacity:(l=(f=o.options.initialPromotionConfig)===null||f===void 0?void 0:f.shouldPreserveFollowOpacity)===null||l===void 0?void 0:l.call(f,o)})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:u}=a;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(o=!0),!o)return;const f={};for(let l=0;l<Bv.length;l++){const h="rotate"+Bv[l];u[h]&&(f[h]=u[h],a.setStaticValue(h,0))}a==null||a.render();for(const l in f)a.setStaticValue(l,f[l]);a.scheduleRender()}getProjectionStyles(a={}){var o,u,f;const l={};if(!this.instance||this.isSVG)return l;if(this.isVisible)l.visibility="";else return{visibility:"hidden"};const h=(o=this.options.visualElement)===null||o===void 0?void 0:o.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Wa(a.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none",l;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Wa(a.pointerEvents)||""),this.hasProjected&&!Gn(this.latestValues)&&(y.transform=h?h({},""):"none",this.hasProjected=!1),y}const d=c.animationValues||c.latestValues;this.applyTransformsToTarget(),l.transform=Mv(this.projectionDeltaWithTransform,this.treeScale,d),h&&(l.transform=h(d,l.transform));const{x:p,y:v}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,c.animationValues?l.opacity=c===this?(f=(u=d.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in Ua){if(d[y]===void 0)continue;const{correct:b,applyTo:A}=Ua[y],D=b(d[y],c);if(A){const k=A.length;for(let L=0;L<k;L++)l[A[L]]=D}else l[y]=D}return this.options.layoutId&&(l.pointerEvents=c===this?Wa(a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(jv),this.root.sharedNodes.clear()}}}function kE(e){e.updateLayout()}function jE(e){var t,r,n;const i=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:o}=e.options,u=i.source!==e.layout.source;o==="size"?Jr(d=>{const p=u?i.measuredBox[d]:i.layoutBox[d],v=ir(p);p.min=s[d].min,p.max=p.min+v}):qv(o,i.layoutBox,s)&&Jr(d=>{const p=u?i.measuredBox[d]:i.layoutBox[d],v=ir(s[d]);p.max=p.min+v});const f=Fs();Ts(f,s,i.layoutBox);const l=Fs();u?Ts(l,e.applyTransform(a,!0),i.measuredBox):Ts(l,s,i.layoutBox);const h=!Ov(f);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:v}=d;if(p&&v){const y=Ct();Ps(y,i.layoutBox,p.layoutBox);const b=Ct();Ps(b,s,v.layoutBox),Rv(y,b)||(c=!0)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:i,delta:l,layoutDelta:f,hasLayoutChanged:h,hasRelativeTargetChanged:c})}else e.isLead()&&((n=(r=e.options).onExitComplete)===null||n===void 0||n.call(r));e.options.transition=void 0}function LE(e){e.isProjectionDirty||(e.isProjectionDirty=Boolean(e.parent&&e.parent.isProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=Boolean(e.parent&&e.parent.isTransformDirty))}function VE(e){e.clearSnapshot()}function jv(e){e.clearMeasurements()}function HE(e){const{visualElement:t}=e.options;t!=null&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Lv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function UE(e){e.resolveTargetDelta()}function qE(e){e.calcProjection()}function KE(e){e.resetRotation()}function zE(e){e.removeLeadSnapshot()}function Vv(e,t,r){e.translate=bt(t.translate,0,r),e.scale=bt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Hv(e,t,r,n){e.min=bt(t.min,r.min,n),e.max=bt(t.max,r.max,n)}function $E(e,t,r,n){Hv(e.x,t.x,r.x,n),Hv(e.y,t.y,r.y,n)}function WE(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const GE={duration:.45,ease:[.4,0,.1,1]};function JE(e,t){let r=e.root;for(let s=e.path.length-1;s>=0;s--)if(Boolean(e.path[s].instance)){r=e.path[s];break}const i=(r&&r!==e.root?r.instance:document).querySelector(`[data-projection-id="${t}"]`);i&&e.mount(i,!0)}function Uv(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function YE(e){Uv(e.x),Uv(e.y)}function qv(e,t,r){return e==="position"||e==="preserve-aspect"&&!Dc(Dv(t),Dv(r),.2)}const XE=kv({attachResizeListener:(e,t)=>Ga(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hc={current:void 0},ZE=kv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Hc.current){const e=new XE(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Hc.current=e}return Hc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>Boolean(window.getComputedStyle(e).position==="fixed")}),QE={...C9,...Z8,...Z9,...AE},Kv=a8((e,t)=>j8(e,t,QE,bE,ZE));function zv(){const e=oe.useRef(!1);return ja(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function e7(){const e=zv(),[t,r]=oe.useState(0),n=oe.useCallback(()=>{e.current&&r(t+1)},[t]);return[oe.useCallback(()=>Wt.postRender(n),[n]),t]}class t7 extends qe.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function r7({children:e,isPresent:t}){const r=oe.useId(),n=oe.useRef(null),i=oe.useRef({width:0,height:0,top:0,left:0});return oe.useInsertionEffect(()=>{const{width:s,height:a,top:o,left:u}=i.current;if(t||!n.current||!s||!a)return;n.current.dataset.motionPopId=r;const f=document.createElement("style");return document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),qe.createElement(t7,{isPresent:t,childRef:n,sizeRef:i},qe.cloneElement(e,{ref:n}))}const Uc=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a})=>{const o=Ha(n7),u=oe.useId(),f=oe.useMemo(()=>({id:u,initial:t,isPresent:r,custom:i,onExitComplete:l=>{o.set(l,!0);for(const h of o.values())if(!h)return;n&&n()},register:l=>(o.set(l,!1),()=>o.delete(l))}),s?void 0:[r]);return oe.useMemo(()=>{o.forEach((l,h)=>o.set(h,!1))},[r]),qe.useEffect(()=>{!r&&!o.size&&n&&n()},[r]),a==="popLayout"&&(e=qe.createElement(r7,{isPresent:r},e)),qe.createElement(ds.Provider,{value:f},e)};function n7(){return new Map}const Di=e=>e.key||"";function i7(e,t){e.forEach(r=>{const n=Di(r);t.set(n,r)})}function s7(e){const t=[];return oe.Children.forEach(e,r=>{oe.isValidElement(r)&&t.push(r)}),t}const a7=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:a="sync"})=>{i&&(a="wait",process.env.NODE_ENV!=="production"&&Xa(!1,"Replace exitBeforeEnter with mode='wait'"));let[o]=e7();const u=oe.useContext(Lf).forceRender;u&&(o=u);const f=zv(),l=s7(e);let h=l;const c=new Set,d=oe.useRef(h),p=oe.useRef(new Map).current,v=oe.useRef(!0);if(ja(()=>{v.current=!1,i7(l,p),d.current=h}),Xf(()=>{v.current=!0,p.clear(),c.clear()}),v.current)return qe.createElement(qe.Fragment,null,h.map(D=>qe.createElement(Uc,{key:Di(D),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:s,mode:a},D)));h=[...h];const y=d.current.map(Di),b=l.map(Di),A=y.length;for(let D=0;D<A;D++){const k=y[D];b.indexOf(k)===-1&&c.add(k)}return a==="wait"&&c.size&&(h=[]),c.forEach(D=>{if(b.indexOf(D)!==-1)return;const k=p.get(D);if(!k)return;const L=y.indexOf(D),_=()=>{p.delete(D),c.delete(D);const F=d.current.findIndex(R=>R.key===D);if(d.current.splice(F,1),!c.size){if(d.current=l,f.current===!1)return;o(),n&&n()}};h.splice(L,0,qe.createElement(Uc,{key:Di(k),isPresent:!1,onExitComplete:_,custom:t,presenceAffectsLayout:s,mode:a},k))}),h=h.map(D=>{const k=D.key;return c.has(k)?D:qe.createElement(Uc,{key:Di(D),isPresent:!0,presenceAffectsLayout:s,mode:a},D)}),process.env.NODE_ENV!=="production"&&a==="wait"&&h.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),qe.createElement(qe.Fragment,null,c.size?h:h.map(D=>oe.cloneElement(D)))},U_="";function qc({open:e,onClose:t,children:r,className:n,variants:i,noWatermark:s=!1}){const a=$x();return Je(a7,{children:[e&&Pe(u7,{variants:o7,initial:"hidden",animate:"shown",exit:"hidden",transition:{ease:"easeInOut",duration:.23},onClick:t,children:!s&&Je(p7,{children:["Arweave Wallet Kit v",zx]})},"bg"),e&&Pe(d7,{className:n,variants:i||f7(a),initial:"hidden",animate:"shown",exit:"hidden",children:r},"modal")]})}const o7={shown:{opacity:1},hidden:{opacity:0}},u7=Ve((()=>Kv.div)())({name:"BackgroundLayer",class:"bbvkbel",propsAsIs:!0}),f7=(e=!1)=>({shown:{opacity:1,translateX:"-50%",translateY:e?"0":"-50%",transition:{type:"spring",duration:.4,delayChildren:.2,staggerChildren:.05}},hidden:{opacity:.4,translateX:"-50%",translateY:"200%",transition:{type:"spring",duration:.4}}}),c7=()=>Kv.div,l7=()=>e=>e.theme.background,h7=()=>e=>({default:30,minimal:12,none:0})[e.theme.themeConfig.radius]+"px",d7=It(Ve(c7())({name:"Wrapper",class:"w1767o4q",propsAsIs:!0,vars:{"w1767o4q-0":[l7()],"w1767o4q-1":[h7()]}})),p7=Ve("p")({name:"KitName",class:"kzdiz37",propsAsIs:!1});function Kc(e=!1){const[t,r]=oe.useState(e);return{setOpen:r,open:t,bindings:{open:t,onClose:()=>r(!1)}}}const K_="";function v7(){const e=Kc(),{state:t,dispatch:r}=qt(),[n,i]=oe.useState();oe.useEffect(()=>{(async()=>{const u=await _5((t==null?void 0:t.config.permissions)||[],!!(t!=null&&t.config.ensurePermissions));u&&u.resumeSession?(i(u),e.setOpen(!0)):r({type:"UPDATE_STRATEGY",payload:!!u&&u.id||!1})})()},[]);function s(){localStorage.removeItem(is),r({type:"DISCONNECT"})}async function a(){let u=!1;if(n!=null&&n.resumeSession){u=n;try{await n.resumeSession()}catch{u=!1}}i(void 0),e.setOpen(!1),r({type:"UPDATE_STRATEGY",payload:!!u&&u.id||!1}),u||s()}function o(){i(void 0),e.setOpen(!1),s()}return Je(b7,{variants:g7,...e.bindings,onClose:o,noWatermark:!0,children:[Je(x7,{children:["Would you like to restore your ",(n==null?void 0:n.name)+" "||"","session?"]}),Je(S7,{children:[Pe(An,{onClick:a,children:"Restore"}),Pe(T7,{onClick:o,children:"Cancel"})]})]})}const g7={shown:{opacity:1,translateY:"-1.5rem",transition:{type:"spring",duration:.4,delayChildren:.2,staggerChildren:.025}},hidden:{opacity:.4,translateY:"200%",transition:{type:"spring",duration:.4}}},m7=()=>qc,y7=()=>e=>({default:15,minimal:8,none:0})[e.theme.themeConfig.radius]+"px",b7=It(Ve(m7())({name:"BottomModal",class:"b7jc8fb",propsAsIs:!0,vars:{"b7jc8fb-0":[y7()]}})),w7=()=>e=>e.theme.primaryText,x7=It(Ve("p")({name:"Text",class:"typmncv",propsAsIs:!1,vars:{"typmncv-0":[w7()]}})),S7=Ve("div")({name:"Buttons",class:"b14qolsb",propsAsIs:!1}),E7=()=>An,A7=()=>e=>e.theme.primaryText,_7=()=>e=>e.theme.theme,T7=It(Ve(E7())({name:"CloseButton",class:"c1jq17m8",propsAsIs:!0,vars:{"c1jq17m8-0":[A7()],"c1jq17m8-1":[_7()]}})),z_="",P7=()=>e=>e.small?".7rem":".9rem",F7=()=>e=>e.theme.secondaryText,Mi=It(Ve("p")({name:"Paragraph",class:"p1jty3xq",propsAsIs:!1,vars:{"p1jty3xq-0":[P7()],"p1jty3xq-1":[F7()]}})),$_="",I7=()=>e=>e.small?"1.05rem":"1.2rem",C7=()=>e=>e.themed?ah(e.theme.themeConfig.titleHighlight):e.theme.primaryText,O7=()=>e=>e.themed?"pointer":"text",Jn=It(Ve("h1")({name:"Title",class:"t1sgzzc0",propsAsIs:!1,vars:{"t1sgzzc0-0":[I7()],"t1sgzzc0-1":[C7()],"t1sgzzc0-2":[O7()]}})),R7=Ve("div")({name:"TitleWithParagraph",class:"tb205ol",propsAsIs:!1}),W_="";function D7({logo:e,name:t,description:r,onClick:n,theme:i}){return Je(M7,{children:[Je(B7,{children:[Pe(Wv,{colorTheme:i,clickable:!0,onClick:n,children:Pe($v,{src:e,draggable:!1})}),Je(V7,{children:[Pe(Jn,{small:!0,children:t}),Pe(Mi,{small:!0,children:r})]})]}),Pe(An,{onClick:n,children:"Go"})]})}const M7=Ve("div")({name:"Wrapper",class:"wzg6vks",propsAsIs:!1}),B7=Ve("div")({name:"AppInfo",class:"a1vzc1qt",propsAsIs:!1}),$v=Ve("img")({name:"Logo",class:"l1rbotc6",propsAsIs:!1}),N7=()=>e=>({default:15,minimal:6,none:0})[e.theme.themeConfig.radius]+"px",k7=()=>e=>e.colorTheme||e.theme.primaryText,j7=()=>e=>e.clickable?"pointer":"default",L7=()=>e=>e.clickable?".95":"1",Wv=It(Ve("div")({name:"AppIcon",class:"acuhj7u",propsAsIs:!1,vars:{"acuhj7u-0":[N7()],"acuhj7u-1":[k7()],"acuhj7u-2":[j7()],"acuhj7u-3":[L7()]}})),V7=Ve("div")({name:"AppNameAndDescription",class:"a143ijem",propsAsIs:!1}),G_="";function H7({children:e}){return Pe(q7,{children:e})}const U7=()=>e=>e.theme.light,q7=It(Ve("div")({name:"Wrapper",class:"wv1c1ab",propsAsIs:!1,vars:{"wv1c1ab-0":[U7()]}})),J_="",K7=e=>Je(z7,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",...e,children:[Pe("circle",{cx:"24",cy:"24",fill:"none",r:"20",strokeDasharray:"80",strokeLinecap:"round",stroke:"currentColor",strokeWidth:"4"}),Pe("circle",{cx:"24",cy:"24",fill:"none",opacity:"0.3",r:"20",strokeLinecap:"round",stroke:"currentColor",strokeWidth:"4"})]}),z7=Ve("svg")({name:"SvgWrapper",class:"s9sva",propsAsIs:!1}),Y_="";function Gv({children:e,onClose:t}){return Je($7,{children:[e,Pe(J7,{onClick:t,children:Pe(B5,{})})]})}const $7=Ve("div")({name:"HeadWrapper",class:"h1mmuqym",propsAsIs:!1}),W7=()=>e=>e.theme.light,G7=()=>e=>e.theme.secondaryText,J7=It(Ve("div")({name:"CloseButton",class:"c86k5gq",propsAsIs:!1,vars:{"c86k5gq-0":[W7()],"c86k5gq-1":[G7()]}})),X_="";function Y7(){const e=Kc(),{state:t,dispatch:r}=qt();oe.useEffect(()=>{e.setOpen((t==null?void 0:t.activeModal)==="connect")},[t==null?void 0:t.activeModal]),oe.useEffect(()=>{e.open||(s(void 0),r({type:"CLOSE_MODAL"}))},[e.open]);const{connected:n}=Oa();oe.useEffect(()=>{!n||(t==null?void 0:t.activeModal)!=="connect"||r({type:"CLOSE_MODAL"})},[n,t]);const[i,s]=oe.useState(),a=oe.useMemo(()=>i?Ai(i):void 0,[i,ns]),[o,u]=oe.useState(!1),[f,l]=oe.useState(!1),[h,c]=oe.useState(!1),[d,p]=oe.useState(!1);async function v(_){const F=ns.find(P=>P.id===_);if(!F)return;l(!0),s(_);let R=!1;try{R=await F.isAvailable()}catch{R=!1}c(R),l(!1),R&&await y(F)}async function y(_){p(!1),u(!0);try{await _.connect(t.config.permissions,t.config.appInfo,t.config.gatewayConfig),postMessage({type:"connect_result",res:!0}),r({type:"CLOSE_MODAL"}),pf(_.id),r({type:"UPDATE_STRATEGY",payload:_.id})}catch{D(),p(!0),r({type:"UPDATE_STRATEGY",payload:!1})}u(!1)}function b(){postMessage({type:"connect_result",res:!1}),r({type:"CLOSE_MODAL"})}const A=kf();function D(){try{document.querySelectorAll(".arconnect_connect_overlay_extension_temporary").forEach(_=>_.remove())}catch{}}const[k,L]=oe.useState(!1);return oe.useEffect(()=>{(async()=>{const _=navigator.brave&&await navigator.brave.isBrave();L(_)})()},[]),Je(qc,{...e.bindings,onClose:b,children:[Pe(Gv,{onClose:b,children:Je(Jn,{themed:!!i,onClick:()=>{i&&s(void 0)},children:[i&&Pe(aA,{}),a?a.name:"Connect wallet"]})}),!i&&Pe(X7,{children:ns.map((_,F)=>Pe(D7,{name:_.name,description:_.description,logo:`${A}/${_.logo}`,theme:_.theme,onClick:()=>v(_.id)},F))})||Pe(Z7,{children:Je(Q7,{children:[Pe(Wv,{colorTheme:a==null?void 0:a.theme,children:Pe($v,{src:`${A}/${a==null?void 0:a.logo}`,draggable:!1})}),h&&Je(fs,{children:[Je(Jn,{small:!0,children:["Connecting to ",(a==null?void 0:a.name)||"","..."]}),Pe(Mi,{children:"Confirm connection request in the wallet popup window"}),(a==null?void 0:a.id)==="othent"&&k&&Je(rA,{children:["You might need to ",Pe("b",{children:"disable Brave shields"})," for this to work properly."]}),d&&a&&Pe(An,{onClick:()=>y(a),children:"Retry"})]})||!f&&Je(fs,{children:[Je(Jn,{small:!0,children:[(a==null?void 0:a.name)||""," is not available."]}),Pe(Mi,{children:"If you don't have it yet, you can try to download it"}),(a==null?void 0:a.url)&&Pe(An,{onClick:()=>{window.open(a.url)},children:"Download"})]}),(o||f)&&Pe(sA,{})]})}),Je(H7,{children:[Je(R7,{children:[Pe(Jn,{small:!0,children:"Don't have a wallet?"}),Pe(Mi,{small:!0,children:"Click to learn more about the permaweb & wallets."})]}),Pe(An,{onClick:()=>window.open("https://arwiki.wiki/#/en/wallets"),children:"Get"})]})]})}const X7=Ve("div")({name:"Apps",class:"a1osnke6",propsAsIs:!1}),Z7=Ve("div")({name:"Connecting",class:"c15u83h7",propsAsIs:!1}),Q7=Ve("div")({name:"WalletData",class:"w5r445t",propsAsIs:!1}),eA=()=>Mi,tA=()=>e=>({default:14,minimal:8,none:0})[e.theme.themeConfig.radius]+"px",rA=It(Ve(eA())({name:"BraveParagraph",class:"bukrfi8",propsAsIs:!0,vars:{"bukrfi8-0":[tA()]}})),nA=()=>K7,iA=()=>e=>e.theme.primaryText,sA=It(Ve(nA())({name:"ConnectLoading",class:"c13sms3",propsAsIs:!0,vars:{"c13sms3-0":[iA()]}})),aA=Ve((()=>M5)())({name:"BackButton",class:"b1r2gdr0",propsAsIs:!0}),Q_="";function oA(){const e=Kc(),{state:t,dispatch:r}=qt();oe.useEffect(()=>{e.setOpen((t==null?void 0:t.activeModal)==="profile")},[t==null?void 0:t.activeModal]),oe.useEffect(()=>{e.open||r({type:"CLOSE_MODAL"})},[e.open,r]);function n(){r({type:"CLOSE_MODAL"})}const i=Ap(),s=Fp(),a=kf(),{disconnect:o}=Oa(),u=Wr();return Je(qc,{...e.bindings,onClose:n,children:[Pe(Gv,{onClose:n,children:Pe(Jn,{children:"Profile"})}),Je(fA,{children:[Je(dA,{profilePicture:s==null?void 0:s.avatar,children:[!(s!=null&&s.avatar)&&Pe(mA,{}),Pe(gA,{strategyTheme:u==null?void 0:u.theme,children:Pe("img",{src:u!=null&&u.logo?`${a}/${u.logo}`:"",alt:(u==null?void 0:u.name)||"active strategy logo",draggable:!1})})]}),Je(Jn,{children:[(s==null?void 0:s.currentLabel)||sh((t==null?void 0:t.activeAddress)||"",8),Pe(N5,{onClick:()=>navigator.clipboard.writeText(t.activeAddress||"")})]}),Je(Mi,{children:[i.toLocaleString(void 0,{maximumFractionDigits:4})," AR"]}),Je(An,{onClick:o,children:[Pe(k5,{}),"Disconnect"]})]})]})}const uA=()=>e=>({default:18,minimal:10,none:0})[e.theme.themeConfig.radius]+"px",fA=It(Ve("div")({name:"ProfileData",class:"p1hjgol5",propsAsIs:!1,vars:{"p1hjgol5-0":[uA()]}})),cA=()=>e=>({default:"100%",minimal:"8px",none:"none"})[e.theme.themeConfig.radius],lA=()=>e=>e.theme.theme,hA=()=>e=>e.profilePicture?`background-image: url(${e.profilePicture});`:"",dA=It(Ve("div")({name:"ProfilePicture",class:"publs4f",propsAsIs:!1,vars:{"publs4f-0":[cA()],"publs4f-1":[lA()],"publs4f-2":[hA()]}})),pA=()=>e=>e.strategyTheme||e.theme.theme,vA=()=>e=>e.theme.background,gA=It(Ve("div")({name:"ActiveStrategy",class:"alzinag",propsAsIs:!1,vars:{"alzinag-0":[pA()],"alzinag-1":[vA()]}})),mA=Ve((()=>M0)())({name:"ProfileIcon",class:"p1qewrlg",propsAsIs:!0});function yA(e=vf,t){switch(t.type){case"OPEN_MODAL":return{...e,activeModal:t.payload};case"CLOSE_MODAL":return{...e,activeModal:!1};case"DISCONNECT":return{...e,activeStrategy:!1,activeAddress:void 0,givenPermissions:[]};case"UPDATE_STRATEGY":return{...e,activeStrategy:t.payload};case"UPDATE_CONFIG":return{...e,config:t.payload};case"UPDATE_ADDRESS":return{...e,activeAddress:t.payload};case"UPDATE_PERMISSIONS":return{...e,givenPermissions:t.payload}}return e}var nt={},Jv={get exports(){return nt},set exports(e){nt=e}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Yv=Object.getOwnPropertySymbols,bA=Object.prototype.hasOwnProperty,wA=Object.prototype.propertyIsEnumerable;function xA(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function SA(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Xv=SA()?Object.assign:function(e,t){for(var r,n=xA(e),i,s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var a in r)bA.call(r,a)&&(n[a]=r[a]);if(Yv){i=Yv(r);for(var o=0;o<i.length;o++)wA.call(r,i[o])&&(n[i[o]]=r[i[o]])}}return n},zc,Zv;function $c(){if(Zv)return zc;Zv=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zc=e,zc}var Wc,Qv;function eg(){return Qv||(Qv=1,Wc=Function.call.bind(Object.prototype.hasOwnProperty)),Wc}var Gc,tg;function EA(){if(tg)return Gc;tg=1;var e=function(){};if(process.env.NODE_ENV!=="production"){var t=$c(),r={},n=eg();e=function(s){var a="Warning: "+s;typeof console<"u"&&console.error(a);try{throw new Error(a)}catch{}}}function i(s,a,o,u,f){if(process.env.NODE_ENV!=="production"){for(var l in s)if(n(s,l)){var h;try{if(typeof s[l]!="function"){var c=Error((u||"React class")+": "+o+" type `"+l+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof s[l]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw c.name="Invariant Violation",c}h=s[l](a,l,u,o,null,t)}catch(p){h=p}if(h&&!(h instanceof Error)&&e((u||"React class")+": type specification of "+o+" `"+l+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof h+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),h instanceof Error&&!(h.message in r)){r[h.message]=!0;var d=f?f():"";e("Failed "+o+" type: "+h.message+(d??""))}}}}return i.resetWarningCache=function(){process.env.NODE_ENV!=="production"&&(r={})},Gc=i,Gc}var Jc,rg;function AA(){if(rg)return Jc;rg=1;var e=mf(),t=Xv,r=$c(),n=eg(),i=EA(),s=function(){};process.env.NODE_ENV!=="production"&&(s=function(o){var u="Warning: "+o;typeof console<"u"&&console.error(u);try{throw new Error(u)}catch{}});function a(){return null}return Jc=function(o,u){var f=typeof Symbol=="function"&&Symbol.iterator,l="@@iterator";function h(x){var V=x&&(f&&x[f]||x[l]);if(typeof V=="function")return V}var c="<<anonymous>>",d={array:b("array"),bigint:b("bigint"),bool:b("boolean"),func:b("function"),number:b("number"),object:b("object"),string:b("string"),symbol:b("symbol"),any:A(),arrayOf:D,element:k(),elementType:L(),instanceOf:_,node:M(),objectOf:R,oneOf:F,oneOfType:P,shape:m,exact:E};function p(x,V){return x===V?x!==0||1/x===1/V:x!==x&&V!==V}function v(x,V){this.message=x,this.data=V&&typeof V=="object"?V:{},this.stack=""}v.prototype=Error.prototype;function y(x){if(process.env.NODE_ENV!=="production")var V={},z=0;function G(ae,he,ue,fe,ce,j,W){if(fe=fe||c,j=j||ue,W!==r){if(u){var U=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw U.name="Invariant Violation",U}else if(process.env.NODE_ENV!=="production"&&typeof console<"u"){var Q=fe+":"+ue;!V[Q]&&z<3&&(s("You are manually calling a React.PropTypes validation function for the `"+j+"` prop on `"+fe+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),V[Q]=!0,z++)}}return he[ue]==null?ae?he[ue]===null?new v("The "+ce+" `"+j+"` is marked as required "+("in `"+fe+"`, but its value is `null`.")):new v("The "+ce+" `"+j+"` is marked as required in "+("`"+fe+"`, but its value is `undefined`.")):null:x(he,ue,fe,ce,j)}var $=G.bind(null,!1);return $.isRequired=G.bind(null,!0),$}function b(x){function V(z,G,$,ae,he,ue){var fe=z[G],ce=N(fe);if(ce!==x){var j=H(fe);return new v("Invalid "+ae+" `"+he+"` of type "+("`"+j+"` supplied to `"+$+"`, expected ")+("`"+x+"`."),{expectedType:x})}return null}return y(V)}function A(){return y(a)}function D(x){function V(z,G,$,ae,he){if(typeof x!="function")return new v("Property `"+he+"` of component `"+$+"` has invalid PropType notation inside arrayOf.");var ue=z[G];if(!Array.isArray(ue)){var fe=N(ue);return new v("Invalid "+ae+" `"+he+"` of type "+("`"+fe+"` supplied to `"+$+"`, expected an array."))}for(var ce=0;ce<ue.length;ce++){var j=x(ue,ce,$,ae,he+"["+ce+"]",r);if(j instanceof Error)return j}return null}return y(V)}function k(){function x(V,z,G,$,ae){var he=V[z];if(!o(he)){var ue=N(he);return new v("Invalid "+$+" `"+ae+"` of type "+("`"+ue+"` supplied to `"+G+"`, expected a single ReactElement."))}return null}return y(x)}function L(){function x(V,z,G,$,ae){var he=V[z];if(!e.isValidElementType(he)){var ue=N(he);return new v("Invalid "+$+" `"+ae+"` of type "+("`"+ue+"` supplied to `"+G+"`, expected a single ReactElement type."))}return null}return y(x)}function _(x){function V(z,G,$,ae,he){if(!(z[G]instanceof x)){var ue=x.name||c,fe=K(z[G]);return new v("Invalid "+ae+" `"+he+"` of type "+("`"+fe+"` supplied to `"+$+"`, expected ")+("instance of `"+ue+"`."))}return null}return y(V)}function F(x){if(!Array.isArray(x))return process.env.NODE_ENV!=="production"&&(arguments.length>1?s("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):s("Invalid argument supplied to oneOf, expected an array.")),a;function V(z,G,$,ae,he){for(var ue=z[G],fe=0;fe<x.length;fe++)if(p(ue,x[fe]))return null;var ce=JSON.stringify(x,function(W,U){var Q=H(U);return Q==="symbol"?String(U):U});return new v("Invalid "+ae+" `"+he+"` of value `"+String(ue)+"` "+("supplied to `"+$+"`, expected one of "+ce+"."))}return y(V)}function R(x){function V(z,G,$,ae,he){if(typeof x!="function")return new v("Property `"+he+"` of component `"+$+"` has invalid PropType notation inside objectOf.");var ue=z[G],fe=N(ue);if(fe!=="object")return new v("Invalid "+ae+" `"+he+"` of type "+("`"+fe+"` supplied to `"+$+"`, expected an object."));for(var ce in ue)if(n(ue,ce)){var j=x(ue,ce,$,ae,he+"."+ce,r);if(j instanceof Error)return j}return null}return y(V)}function P(x){if(!Array.isArray(x))return process.env.NODE_ENV!=="production"&&s("Invalid argument supplied to oneOfType, expected an instance of array."),a;for(var V=0;V<x.length;V++){var z=x[V];if(typeof z!="function")return s("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+Z(z)+" at index "+V+"."),a}function G($,ae,he,ue,fe){for(var ce=[],j=0;j<x.length;j++){var W=x[j],U=W($,ae,he,ue,fe,r);if(U==null)return null;U.data&&n(U.data,"expectedType")&&ce.push(U.data.expectedType)}var Q=ce.length>0?", expected one of type ["+ce.join(", ")+"]":"";return new v("Invalid "+ue+" `"+fe+"` supplied to "+("`"+he+"`"+Q+"."))}return y(G)}function M(){function x(V,z,G,$,ae){return T(V[z])?null:new v("Invalid "+$+" `"+ae+"` supplied to "+("`"+G+"`, expected a ReactNode."))}return y(x)}function C(x,V,z,G,$){return new v((x||"React class")+": "+V+" type `"+z+"."+G+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+$+"`.")}function m(x){function V(z,G,$,ae,he){var ue=z[G],fe=N(ue);if(fe!=="object")return new v("Invalid "+ae+" `"+he+"` of type `"+fe+"` "+("supplied to `"+$+"`, expected `object`."));for(var ce in x){var j=x[ce];if(typeof j!="function")return C($,ae,he,ce,H(j));var W=j(ue,ce,$,ae,he+"."+ce,r);if(W)return W}return null}return y(V)}function E(x){function V(z,G,$,ae,he){var ue=z[G],fe=N(ue);if(fe!=="object")return new v("Invalid "+ae+" `"+he+"` of type `"+fe+"` "+("supplied to `"+$+"`, expected `object`."));var ce=t({},z[G],x);for(var j in ce){var W=x[j];if(n(x,j)&&typeof W!="function")return C($,ae,he,j,H(W));if(!W)return new v("Invalid "+ae+" `"+he+"` key `"+j+"` supplied to `"+$+"`.\nBad object: "+JSON.stringify(z[G],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(x),null,"  "));var U=W(ue,j,$,ae,he+"."+j,r);if(U)return U}return null}return y(V)}function T(x){switch(typeof x){case"number":case"string":case"undefined":return!0;case"boolean":return!x;case"object":if(Array.isArray(x))return x.every(T);if(x===null||o(x))return!0;var V=h(x);if(V){var z=V.call(x),G;if(V!==x.entries){for(;!(G=z.next()).done;)if(!T(G.value))return!1}else for(;!(G=z.next()).done;){var $=G.value;if($&&!T($[1]))return!1}}else return!1;return!0;default:return!1}}function O(x,V){return x==="symbol"?!0:V?V["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&V instanceof Symbol:!1}function N(x){var V=typeof x;return Array.isArray(x)?"array":x instanceof RegExp?"object":O(V,x)?"symbol":V}function H(x){if(typeof x>"u"||x===null)return""+x;var V=N(x);if(V==="object"){if(x instanceof Date)return"date";if(x instanceof RegExp)return"regexp"}return V}function Z(x){var V=H(x);switch(V){case"array":case"object":return"an "+V;case"boolean":case"date":case"regexp":return"a "+V;default:return V}}function K(x){return!x.constructor||!x.constructor.name?c:x.constructor.name}return d.checkPropTypes=i,d.resetWarningCache=i.resetWarningCache,d.PropTypes=d,d},Jc}var Yc,ng;function _A(){if(ng)return Yc;ng=1;var e=$c();function t(){}function r(){}return r.resetWarningCache=t,Yc=function(){function n(a,o,u,f,l,h){if(h!==e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},Yc}if(process.env.NODE_ENV!=="production"){var TA=mf(),PA=!0;Jv.exports=AA()(TA.isElement,PA)}else Jv.exports=_A()();function FA(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var ig=oe,IA=FA(ig);function sg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var OA=!!(typeof window<"u"&&window.document&&window.document.createElement);function RA(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var a=[],o;function u(){o=e(a.map(function(l){return l.props})),f.canUseDOM?t(o):r&&(o=r(o))}var f=function(l){CA(h,l);function h(){return l.apply(this,arguments)||this}h.peek=function(){return o},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var p=o;return o=void 0,a=[],p};var c=h.prototype;return c.UNSAFE_componentWillMount=function(){a.push(this),u()},c.componentDidUpdate=function(){u()},c.componentWillUnmount=function(){var p=a.indexOf(this);a.splice(p,1),u()},c.render=function(){return IA.createElement(s,this.props)},h}(ig.PureComponent);return sg(f,"displayName","SideEffect("+n(s)+")"),sg(f,"canUseDOM",OA),f}}var DA=RA,MA=typeof Element<"u",BA=typeof Map=="function",NA=typeof Set=="function",kA=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function lo(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!lo(e[n],t[n]))return!1;return!0}var s;if(BA&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(n=s.next()).done;)if(!t.has(n.value[0]))return!1;for(s=e.entries();!(n=s.next()).done;)if(!lo(n.value[1],t.get(n.value[0])))return!1;return!0}if(NA&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(n=s.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(kA&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;if(MA&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&e.$$typeof)&&!lo(e[i[n]],t[i[n]]))return!1;return!0}return e!==e&&t!==t}var jA=function(t,r){try{return lo(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}},Yn={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},ke={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},ag=Object.keys(ke).map(function(e){return ke[e]}),at={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},ho={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Cs={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},LA=Object.keys(ho).reduce(function(e,t){return e[ho[t]]=t,e},{}),VA=[ke.NOSCRIPT,ke.SCRIPT,ke.STYLE],Or="data-react-helmet",HA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UA=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},qA=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KA=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},og=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},zA=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Xc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},$A=function(t){var r=Bi(t,ke.TITLE),n=Bi(t,Cs.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var i=Bi(t,Cs.DEFAULT_TITLE);return r||i||void 0},WA=function(t){return Bi(t,Cs.ON_CHANGE_CLIENT_STATE)||function(){}},Zc=function(t,r){return r.filter(function(n){return typeof n[t]<"u"}).map(function(n){return n[t]}).reduce(function(n,i){return Zt({},n,i)},{})},GA=function(t,r){return r.filter(function(n){return typeof n[ke.BASE]<"u"}).map(function(n){return n[ke.BASE]}).reverse().reduce(function(n,i){if(!n.length)for(var s=Object.keys(i),a=0;a<s.length;a++){var o=s[a],u=o.toLowerCase();if(t.indexOf(u)!==-1&&i[u])return n.concat(i)}return n},[])},Os=function(t,r,n){var i={};return n.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&el("Helmet: "+t+' should be of type "Array". Instead found type "'+HA(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,a){var o={};a.filter(function(c){for(var d=void 0,p=Object.keys(c),v=0;v<p.length;v++){var y=p[v],b=y.toLowerCase();r.indexOf(b)!==-1&&!(d===at.REL&&c[d].toLowerCase()==="canonical")&&!(b===at.REL&&c[b].toLowerCase()==="stylesheet")&&(d=b),r.indexOf(y)!==-1&&(y===at.INNER_HTML||y===at.CSS_TEXT||y===at.ITEM_PROP)&&(d=y)}if(!d||!c[d])return!1;var A=c[d].toLowerCase();return i[d]||(i[d]={}),o[d]||(o[d]={}),i[d][A]?!1:(o[d][A]=!0,!0)}).reverse().forEach(function(c){return s.push(c)});for(var u=Object.keys(o),f=0;f<u.length;f++){var l=u[f],h=Xv({},i[l],o[l]);i[l]=h}return s},[]).reverse()},Bi=function(t,r){for(var n=t.length-1;n>=0;n--){var i=t[n];if(i.hasOwnProperty(r))return i[r]}return null},JA=function(t){return{baseTag:GA([at.HREF,at.TARGET],t),bodyAttributes:Zc(Yn.BODY,t),defer:Bi(t,Cs.DEFER),encode:Bi(t,Cs.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Zc(Yn.HTML,t),linkTags:Os(ke.LINK,[at.REL,at.HREF],t),metaTags:Os(ke.META,[at.NAME,at.CHARSET,at.HTTPEQUIV,at.PROPERTY,at.ITEM_PROP],t),noscriptTags:Os(ke.NOSCRIPT,[at.INNER_HTML],t),onChangeClientState:WA(t),scriptTags:Os(ke.SCRIPT,[at.SRC,at.INNER_HTML],t),styleTags:Os(ke.STYLE,[at.CSS_TEXT],t),title:$A(t),titleAttributes:Zc(Yn.TITLE,t)}},Qc=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){Qc(t)},0)}}(),ug=function(t){return clearTimeout(t)},YA=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Qc:global.requestAnimationFrame||Qc,XA=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||ug:global.cancelAnimationFrame||ug,el=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Rs=null,ZA=function(t){Rs&&XA(Rs),t.defer?Rs=YA(function(){fg(t,function(){Rs=null})}):(fg(t),Rs=null)},fg=function(t,r){var n=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,a=t.linkTags,o=t.metaTags,u=t.noscriptTags,f=t.onChangeClientState,l=t.scriptTags,h=t.styleTags,c=t.title,d=t.titleAttributes;tl(ke.BODY,i),tl(ke.HTML,s),QA(c,d);var p={baseTag:Ni(ke.BASE,n),linkTags:Ni(ke.LINK,a),metaTags:Ni(ke.META,o),noscriptTags:Ni(ke.NOSCRIPT,u),scriptTags:Ni(ke.SCRIPT,l),styleTags:Ni(ke.STYLE,h)},v={},y={};Object.keys(p).forEach(function(b){var A=p[b],D=A.newTags,k=A.oldTags;D.length&&(v[b]=D),k.length&&(y[b]=p[b].oldTags)}),r&&r(),f(t,v,y)},cg=function(t){return Array.isArray(t)?t.join(""):t},QA=function(t,r){typeof t<"u"&&document.title!==t&&(document.title=cg(t)),tl(ke.TITLE,r)},tl=function(t,r){var n=document.getElementsByTagName(t)[0];if(n){for(var i=n.getAttribute(Or),s=i?i.split(","):[],a=[].concat(s),o=Object.keys(r),u=0;u<o.length;u++){var f=o[u],l=r[f]||"";n.getAttribute(f)!==l&&n.setAttribute(f,l),s.indexOf(f)===-1&&s.push(f);var h=a.indexOf(f);h!==-1&&a.splice(h,1)}for(var c=a.length-1;c>=0;c--)n.removeAttribute(a[c]);s.length===a.length?n.removeAttribute(Or):n.getAttribute(Or)!==o.join(",")&&n.setAttribute(Or,o.join(","))}},Ni=function(t,r){var n=document.head||document.querySelector(ke.HEAD),i=n.querySelectorAll(t+"["+Or+"]"),s=Array.prototype.slice.call(i),a=[],o=void 0;return r&&r.length&&r.forEach(function(u){var f=document.createElement(t);for(var l in u)if(u.hasOwnProperty(l))if(l===at.INNER_HTML)f.innerHTML=u.innerHTML;else if(l===at.CSS_TEXT)f.styleSheet?f.styleSheet.cssText=u.cssText:f.appendChild(document.createTextNode(u.cssText));else{var h=typeof u[l]>"u"?"":u[l];f.setAttribute(l,h)}f.setAttribute(Or,"true"),s.some(function(c,d){return o=d,f.isEqualNode(c)})?s.splice(o,1):a.push(f)}),s.forEach(function(u){return u.parentNode.removeChild(u)}),a.forEach(function(u){return n.appendChild(u)}),{oldTags:s,newTags:a}},lg=function(t){return Object.keys(t).reduce(function(r,n){var i=typeof t[n]<"u"?n+'="'+t[n]+'"':""+n;return r?r+" "+i:i},"")},e_=function(t,r,n,i){var s=lg(n),a=cg(r);return s?"<"+t+" "+Or+'="true" '+s+">"+Xc(a,i)+"</"+t+">":"<"+t+" "+Or+'="true">'+Xc(a,i)+"</"+t+">"},t_=function(t,r,n){return r.reduce(function(i,s){var a=Object.keys(s).filter(function(f){return!(f===at.INNER_HTML||f===at.CSS_TEXT)}).reduce(function(f,l){var h=typeof s[l]>"u"?l:l+'="'+Xc(s[l],n)+'"';return f?f+" "+h:h},""),o=s.innerHTML||s.cssText||"",u=VA.indexOf(t)===-1;return i+"<"+t+" "+Or+'="true" '+a+(u?"/>":">"+o+"</"+t+">")},"")},hg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,i){return n[ho[i]||i]=t[i],n},r)},r_=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,i){return n[LA[i]||i]=t[i],n},r)},n_=function(t,r,n){var i,s=(i={key:r},i[Or]=!0,i),a=hg(n,s);return[oe.createElement(ke.TITLE,a,r)]},i_=function(t,r){return r.map(function(n,i){var s,a=(s={key:i},s[Or]=!0,s);return Object.keys(n).forEach(function(o){var u=ho[o]||o;if(u===at.INNER_HTML||u===at.CSS_TEXT){var f=n.innerHTML||n.cssText;a.dangerouslySetInnerHTML={__html:f}}else a[u]=n[o]}),oe.createElement(t,a)})},un=function(t,r,n){switch(t){case ke.TITLE:return{toComponent:function(){return n_(t,r.title,r.titleAttributes)},toString:function(){return e_(t,r.title,r.titleAttributes,n)}};case Yn.BODY:case Yn.HTML:return{toComponent:function(){return hg(r)},toString:function(){return lg(r)}};default:return{toComponent:function(){return i_(t,r)},toString:function(){return t_(t,r,n)}}}},dg=function(t){var r=t.baseTag,n=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,a=t.linkTags,o=t.metaTags,u=t.noscriptTags,f=t.scriptTags,l=t.styleTags,h=t.title,c=h===void 0?"":h,d=t.titleAttributes;return{base:un(ke.BASE,r,i),bodyAttributes:un(Yn.BODY,n,i),htmlAttributes:un(Yn.HTML,s,i),link:un(ke.LINK,a,i),meta:un(ke.META,o,i),noscript:un(ke.NOSCRIPT,u,i),script:un(ke.SCRIPT,f,i),style:un(ke.STYLE,l,i),title:un(ke.TITLE,{title:c,titleAttributes:d},i)}},s_=function(t){var r,n;return n=r=function(i){KA(s,i);function s(){return UA(this,s),zA(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(o){return!jA(this.props,o)},s.prototype.mapNestedChildrenToProps=function(o,u){if(!u)return null;switch(o.type){case ke.SCRIPT:case ke.NOSCRIPT:return{innerHTML:u};case ke.STYLE:return{cssText:u}}throw new Error("<"+o.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(o){var u,f=o.child,l=o.arrayTypeChildren,h=o.newChildProps,c=o.nestedChildren;return Zt({},l,(u={},u[f.type]=[].concat(l[f.type]||[],[Zt({},h,this.mapNestedChildrenToProps(f,c))]),u))},s.prototype.mapObjectTypeChildren=function(o){var u,f,l=o.child,h=o.newProps,c=o.newChildProps,d=o.nestedChildren;switch(l.type){case ke.TITLE:return Zt({},h,(u={},u[l.type]=d,u.titleAttributes=Zt({},c),u));case ke.BODY:return Zt({},h,{bodyAttributes:Zt({},c)});case ke.HTML:return Zt({},h,{htmlAttributes:Zt({},c)})}return Zt({},h,(f={},f[l.type]=Zt({},c),f))},s.prototype.mapArrayTypeChildrenToProps=function(o,u){var f=Zt({},u);return Object.keys(o).forEach(function(l){var h;f=Zt({},f,(h={},h[l]=o[l],h))}),f},s.prototype.warnOnInvalidChildren=function(o,u){if(process.env.NODE_ENV!=="production"){if(!ag.some(function(f){return o.type===f}))return typeof o.type=="function"?el("You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information."):el("Only elements types "+ag.join(", ")+" are allowed. Helmet does not support rendering <"+o.type+"> elements. Refer to our API for more information.");if(u&&typeof u!="string"&&(!Array.isArray(u)||u.some(function(f){return typeof f!="string"})))throw new Error("Helmet expects a string as a child of <"+o.type+">. Did you forget to wrap your children in braces? ( <"+o.type+">{``}</"+o.type+"> ) Refer to our API for more information.")}return!0},s.prototype.mapChildrenToProps=function(o,u){var f=this,l={};return oe.Children.forEach(o,function(h){if(!(!h||!h.props)){var c=h.props,d=c.children,p=og(c,["children"]),v=r_(p);switch(f.warnOnInvalidChildren(h,d),h.type){case ke.LINK:case ke.META:case ke.NOSCRIPT:case ke.SCRIPT:case ke.STYLE:l=f.flattenArrayTypeChildren({child:h,arrayTypeChildren:l,newChildProps:v,nestedChildren:d});break;default:u=f.mapObjectTypeChildren({child:h,newProps:u,newChildProps:v,nestedChildren:d});break}}}),u=this.mapArrayTypeChildrenToProps(l,u),u},s.prototype.render=function(){var o=this.props,u=o.children,f=og(o,["children"]),l=Zt({},f);return u&&(l=this.mapChildrenToProps(u,l)),oe.createElement(t,l)},qA(s,null,[{key:"canUseDOM",set:function(o){t.canUseDOM=o}}]),s}(oe.Component),r.propTypes={base:nt.object,bodyAttributes:nt.object,children:nt.oneOfType([nt.arrayOf(nt.node),nt.node]),defaultTitle:nt.string,defer:nt.bool,encodeSpecialCharacters:nt.bool,htmlAttributes:nt.object,link:nt.arrayOf(nt.object),meta:nt.arrayOf(nt.object),noscript:nt.arrayOf(nt.object),onChangeClientState:nt.func,script:nt.arrayOf(nt.object),style:nt.arrayOf(nt.object),title:nt.string,titleAttributes:nt.object,titleTemplate:nt.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var i=t.rewind();return i||(i=dg({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},n},a_=function(){return null},o_=DA(JA,ZA,dg)(a_),rl=s_(o_);rl.renderStatic=rl.rewind;function u_({children:e,theme:t=pg,config:r=c_}){const[n,i]=oe.useReducer(yA,{...vf,config:r});oe.useEffect(()=>{i({type:"UPDATE_CONFIG",payload:r})},[r]);const s=oe.useMemo(()=>({...pg,...t}),[t]);return Pe(I0.Provider,{value:{state:n,dispatch:i},children:Pe(m6,{theme:{...s.displayTheme==="light"?W0:g6,displayTheme:s.displayTheme||"light",theme:ah(s.accent),themeConfig:s},children:Je(f_,{children:[Je(rl,{children:[Pe("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),Pe("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:""}),Pe("link",{href:"https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap",rel:"stylesheet"})]}),e,Pe(Y7,{}),Pe(oA,{}),Pe(v7,{})]})})})}const f_=({children:e})=>(y6(),P5(),Pe(fs,{children:e})),pg={displayTheme:"light",accent:{r:0,g:0,b:0},titleHighlight:{r:0,g:122,b:255},radius:"default"},c_={permissions:["ACCESS_ADDRESS","ACCESS_ALL_ADDRESSES"],ensurePermissions:!1};Le.ArweaveWalletKit=u_,Le.ConnectButton=Ix,Le.useActiveAddress=ss,Le.useAddresses=O0,Le.useApi=T5,Le.useConnection=Oa,Le.usePermissions=J0,Le.useProfileModal=Y0,Le.usePublicKey=F5,Le.useStrategy=C0,Le.useWalletNames=I5,Object.defineProperty(Le,Symbol.toStringTag,{value:"Module"})});
